<html>
<head><meta charset="utf-8"><title>✔ Limit superior · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html">✔ Limit superior</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="262942090"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262942090" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262942090">(Nov 28 2021 at 18:39)</a>:</h4>
<p>Is there a definition for the limit superior operator in one of the sessions distributed with Isabelle? At least for <code>lim sup X ≤ x</code>, I could write something like <code>max X (λ_. x) ⇢ x</code>, but maybe there’s also a dedicated function <code>lim_sup</code> or so.</p>



<a name="262944458"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262944458" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262944458">(Nov 28 2021 at 19:35)</a>:</h4>
<p>Yes! There is <code>Limsup :: 'a filter ⇒ ('a ⇒ 'b) ⇒ 'b</code> in <code>HOL-Library.Liminf_Limsup</code>, although it may be better to just import <code>HOL-Analysis.Analysis</code> (and set the session to <code>HOL-Analysis</code> by running JEdit with <code>-l HOL-Analysis</code>) since there may be more useful topological results that are in <code>HOL-Analysis</code> but not in <code>HOL-Library.Liminf_Limsup</code>.</p>



<a name="262946190"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946190" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946190">(Nov 28 2021 at 20:18)</a>:</h4>
<p>Thanks a lot for the pointers.</p>
<p>Is <code>HOL-Analysis</code> pre-built, so that I can derive a session from <code>HOL-Analysis</code> instead of <code>HOL</code>, thus saving build time?</p>



<a name="262946223"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946223" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946223">(Nov 28 2021 at 20:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946190">said</a>:</p>
<blockquote>
<p>Thanks a lot for the pointers.</p>
<p>Is <code>HOL-Analysis</code> pre-built, so that I can derive a session from <code>HOL-Analysis</code> instead of <code>HOL</code>, thus saving build time?</p>
</blockquote>
<p>Yes.</p>



<a name="262946294"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946294" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946294">(Nov 28 2021 at 20:20)</a>:</h4>
<p>The first time you use the <code>HOL-Analysis</code> session, e.g. by running <code>isabelle jedit -l HOL-Analysis</code>, Isabelle will build a heap image and save it for future use.</p>



<a name="262946697"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946697" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946697">(Nov 28 2021 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946223">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946190">said</a>:</p>
<blockquote>
<p>Thanks a lot for the pointers.</p>
<p>Is <code>HOL-Analysis</code> pre-built, so that I can derive a session from <code>HOL-Analysis</code> instead of <code>HOL</code>, thus saving build time?</p>
</blockquote>
<p>Yes.</p>
</blockquote>
<p>Well, no, according to Manuel’s statement and the experience I meanwhile gathered myself. <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>



<a name="262946773"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946773" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946773">(Nov 28 2021 at 20:32)</a>:</h4>
<p>I mean it will be prebuilt much in the same way as the HOL image is. You need to still build it once.</p>



<a name="262946780"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946780" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946780">(Nov 28 2021 at 20:32)</a>:</h4>
<p>No, <code>HOL</code> is already built. It wasn’t in older releases, but in Isabelle2021 it is.</p>



<a name="262946791"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946791" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946791">(Nov 28 2021 at 20:33)</a>:</h4>
<p>Interesting, that isn't the case on NixOS.</p>



<a name="262946797"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946797" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946797">(Nov 28 2021 at 20:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946294">said</a>:</p>
<blockquote>
<p>The first time you use the <code>HOL-Analysis</code> session, e.g. by running <code>isabelle jedit -l HOL-Analysis</code>, Isabelle will build a heap image and save it for future use.</p>
</blockquote>
<p>It’s just doing that for me. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> However, this means I won’t be able to readily use <code>HOL-Analysis</code> in automated builds on GitHub. Well, perhaps I need only few or even no bits from it in my (small) development.</p>



<a name="262946886"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946886" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946886">(Nov 28 2021 at 20:35)</a>:</h4>
<p>If you use docker, you could create an image that builds HOL-Analysis first, or cache the relevant directory where the images are located.</p>



<a name="262946955"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946955" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946955">(Nov 28 2021 at 20:37)</a>:</h4>
<p>Yes, I would use GitHub’s caching mechanism, which I’m actually already using, as I’m using the TeX Live Docker image and download and unpack Isabelle into it (the Isabelle Docker image doesn’t contain TeX). However, I would have to separately trigger the building of the <code>HOL-Analyis</code> heap image.</p>



<a name="262946960"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262946960" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262946960">(Nov 28 2021 at 20:37)</a>:</h4>
<p>On a related note, do I have to import <code>Main</code> when importing <code>HOL-Analysis.Analysis</code>, or is it perhaps guaranteed that <code>HOL-Analysis</code> imports Main itself such that my development gets access to it as well?</p>



<a name="262947279"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947279" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947279">(Nov 28 2021 at 20:45)</a>:</h4>
<p>And is it normal that, when building the <code>HOL-Analysis</code> session, Isabelle processes the various theories in relatively quick succession but then spends ages on <code>HOL-Analysis.Analysis</code>, consuming lots of CPU power?</p>



<a name="262947324"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947324" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947324">(Nov 28 2021 at 20:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947279">said</a>:</p>
<blockquote>
<p>And is it normal that, when building the <code>HOL-Analysis</code> session, Isabelle processes the various theories in relatively quick succession but then spends ages on <code>HOL-Analysis.Analysis</code>, consuming lots of CPU power?</p>
</blockquote>
<p>That is normal.</p>



<a name="262947325"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947325" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947325">(Nov 28 2021 at 20:46)</a>:</h4>
<p>Okay, this build has finished now, but it took almost half an hour.</p>



<a name="262947327"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947327" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947327">(Nov 28 2021 at 20:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946960">said</a>:</p>
<blockquote>
<p>On a related note, do I have to import <code>Main</code> when importing <code>HOL-Analysis.Analysis</code>, or is it perhaps guaranteed that <code>HOL-Analysis</code> imports Main itself such that my development gets access to it as well?</p>
</blockquote>
<p>I think so.</p>



<a name="262947344"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947344" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947344">(Nov 28 2021 at 20:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947325">said</a>:</p>
<blockquote>
<p>Okay, this build has finished now, but it took almost half an hour.</p>
</blockquote>
<p>If I recall correctly HOL-Analysis benefits quite a bit from more memory. How much do you have?</p>



<a name="262947352"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947352" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947352">(Nov 28 2021 at 20:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947327">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946960">said</a>:</p>
<blockquote>
<p>On a related note, do I have to import <code>Main</code> when importing <code>HOL-Analysis.Analysis</code>, or is it perhaps guaranteed that <code>HOL-Analysis</code> imports Main itself such that my development gets access to it as well?</p>
</blockquote>
<p>I think so.</p>
</blockquote>
<p>Which one, the first (I have to import <code>Main</code>) or the second (it is guaranteed to be provided).</p>



<a name="262947401"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947401" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947401">(Nov 28 2021 at 20:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947344">said</a>:</p>
<blockquote>
<p>If I recall correctly HOL-Analysis benefits quite a bit from more memory. How much do you have?</p>
</blockquote>
<p>8 GB. But why does it spend about 80 % of its time on the last theory? Or didn’t it spend it on the last theory, but on some postprocessing, which, despite being the longest part, isn’t mentioned in the output?</p>



<a name="262947404"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947404" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947404">(Nov 28 2021 at 20:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947352">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947327">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262946960">said</a>:</p>
<blockquote>
<p>On a related note, do I have to import <code>Main</code> when importing <code>HOL-Analysis.Analysis</code>, or is it perhaps guaranteed that <code>HOL-Analysis</code> imports Main itself such that my development gets access to it as well?</p>
</blockquote>
<p>I think so.</p>
</blockquote>
<p>Which one, the first (I have to import <code>Main</code>) or the second (it is guaranteed to be provided).</p>
</blockquote>
<p>Sorry. HOL-Analysis should import Main already.</p>



<a name="262947454"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947454" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947454">(Nov 28 2021 at 20:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947401">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/202961-General/topic/Limit.20superior/near/262947344">said</a>:</p>
<blockquote>
<p>If I recall correctly HOL-Analysis benefits quite a bit from more memory. How much do you have?</p>
</blockquote>
<p>8 GB. But why does it spend about 80 % of its time on the last theory? Or didn’t it spend it on the last theory, but on some postprocessing, which, despite being the longest part, isn’t mentioned in the output?</p>
</blockquote>
<p>It launches into processing a lot of files and therefore proofs. And then does them all in parallel. This is why you get quickly to all files but it takes a while to finish them.</p>



<a name="262947529"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947529" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947529">(Nov 28 2021 at 20:52)</a>:</h4>
<p>Proofs are using futures so you assume that you will get a proof at some point but you can process the rest of the proof (and file) already.</p>



<a name="262947679"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262947679" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262947679">(Nov 28 2021 at 20:57)</a>:</h4>
<p><code>HOL-Analysis</code> is a bit of a beast. On my machine, it takes something like 3.5 minutes, but I have a pretty beefy 24-core machine with 64 GB of RAM. Not sure whether CPU or memory is more of a bottleneck, but I think it definitely benefits from more cores. You might get away with just using <code>HOL-Library.Liminf_Limsup</code> though depending on what you need.</p>



<a name="262948110"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/%E2%9C%94%20Limit%20superior/near/262948110" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/.E2.9C.94.20Limit.20superior.html#262948110">(Nov 28 2021 at 21:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>