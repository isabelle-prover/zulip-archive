<html>
<head><meta charset="utf-8"><title>Asking for help · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html">Asking for help</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="513759183"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/513759183" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#513759183">(Apr 23 2025 at 02:10)</a>:</h4>
<p>I've been working on Isabelle since July 2024, trying to prove the Bruck Ryser Chowla theorem as a challenge and a learning exercise. I'm on the last lemma (or maybe second to last), which happens to be the most challenging. I'm wondering if anybody would be willing to take a look at it and give me some suggestions. Thank you in advance.</p>



<a name="516740607"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/516740607" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yutaka Nagashima <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#516740607">(May 07 2025 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="736162">@Craig Alan Feinstein</span> <br>
If you haven’t heard from others, it might be a good idea to add a link to your repository so they can see if they’re able to help. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="520898262"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/520898262" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#520898262">(May 28 2025 at 13:52)</a>:</h4>
<p>Where do people usually put their repositories? I don’t have my stuff online.</p>



<a name="521120973"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/521120973" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yutaka Nagashima <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#521120973">(May 29 2025 at 15:44)</a>:</h4>
<p>I guess:</p>
<ul>
<li><a href="https://github.com">https://github.com</a> or/and</li>
<li><a href="https://gitee.com">https://gitee.com</a> (especially for people in China)</li>
</ul>



<a name="521124116"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/521124116" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#521124116">(May 29 2025 at 16:02)</a>:</h4>
<p><a href="https://foss.heptapod.net/public">heptapod</a> where the AFP lives deserves to be mentioned too.</p>



<a name="521124261"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/521124261" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#521124261">(May 29 2025 at 16:02)</a>:</h4>
<p>There are many others (bitbucket, gitlab, ...), but github (and partially gitlab because it can be hosted) are winning</p>



<a name="521557299"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/521557299" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yutaka Nagashima <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#521557299">(Jun 01 2025 at 14:01)</a>:</h4>
<p><span class="user-mention" data-user-id="736162">@Craig Alan Feinstein</span> <br>
Unsolicited advice: you should think carefully about which license to use before open-sourcing. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="521591582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/521591582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#521591582">(Jun 01 2025 at 19:24)</a>:</h4>
<p>I just created a Github account.</p>



<a name="523010179"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/523010179" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#523010179">(Jun 09 2025 at 00:54)</a>:</h4>
<p>Yutaka, finally I'm starting to build a repository in Github. What license would you recommend? I ultimately want to get my Bruck Ryser Chowla Theorem proof into the Archive of Formal Proofs. I really don't care if I get help and would be happy to include their names for credit if they want it.</p>



<a name="523253905"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/523253905" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Pardillo Laursen <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#523253905">(Jun 10 2025 at 10:07)</a>:</h4>
<p>From the AFP: "All entries in the Archive of Formal Proofs are licensed under a <a href="https://isa-afp.org/LICENSE">BSD-style License</a> or the <a href="https://www.gnu.org/copyleft/lesser.html">GNU LGPL</a>. This means they are free to download, free to use, free to change, and free to redistribute with minimal restrictions."</p>
<p>They're quite similar, I'd say just go with BSD but you should read up a bit on the various software licenses if you're going to make open source contributions.</p>



<a name="523385117"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/523385117" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#523385117">(Jun 10 2025 at 23:12)</a>:</h4>
<p>Christian, unfortunately I did the MIT license before I read your comment. I can't seem to find a way to change it. In any case, for everyone out there, my name on GitHub is cafeinst and the entry is Bruck_Ryser_Chowla.</p>



<a name="524729926"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/524729926" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Pardillo Laursen <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#524729926">(Jun 18 2025 at 15:10)</a>:</h4>
<p>The MIT license is very permissive so it should be fine, but if you do want to change it you can simply replace the contents of your LICENSE file with the text at this link <a href="https://www.isa-afp.org/LICENSE">https://www.isa-afp.org/LICENSE</a></p>



<a name="524757417"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/524757417" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Pardillo Laursen <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#524757417">(Jun 18 2025 at 17:57)</a>:</h4>
<p>Looking at your theory, I have the following pieces of advice to offer:</p>
<ul>
<li>Function "rightside" is simply snd, replacing it might give you some automation benefits.</li>
<li>In lemmas combine_r_lambda_terms, brc_x_identity, brc_x_equation, you assume x ∈ rat mat, but since this needs to be a type assertion rather than an assumption these lemmas end up with an uninterpreted symbol "rat" which makes the lemmas useless. Replace the assumption with fixes x :: "rat mat"</li>
<li>In Isar proofs, if you're proving things using ".", often it's better to skip the proof step, since the lemma is readily available anyway.</li>
<li>It's generally helpful to prove the most general theorem you can, both in terms of types and constants. For example, you prove lambda_all_ones only for your Lambda constant, but it's both simpler and usually better to prove a more general theorem, like:</li>
</ul>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">lambda_all_ones</span><span class="o">:</span>
<span class="w">  </span><span class="kp">fixes</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"'b :: {monoid_mult, zero}"</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">"h &lt; 𝗏"</span><span class="w"> </span><span class="s">"j &lt; 𝗏"</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">"(l ⋅⇩m (J⇩m 𝗏)) $$ (j, h) = l"</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">assms</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
</code></pre></div>



<a name="524969941"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/524969941" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#524969941">(Jun 20 2025 at 02:41)</a>:</h4>
<p>Christian, I tried replacing rightside with snd and it worked fine. For the lemmas combine_r_lambda_terms... when I replaced the assumption with fixes x :: "rat mat",  I got problems in the proofs. The lambda_all_ones that you suggested worked. My lemma brc_v_1_mod_4 is the one that is giving me the real problems. It is supposed to use brc_x_equation but it has problems.</p>



<a name="524998313"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/524998313" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Pardillo Laursen <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#524998313">(Jun 20 2025 at 08:26)</a>:</h4>
<p>It's understandable that the proofs might break when you fix x :: "rat mat", since it looks like previously the type inference was setting the type of x to "int mat" instead, and the proofs might not be compatible. If you ctrl-hover over the rat term in your brc_x_equation lemma, you'll see that the type inference gave it a very strange type - removing the assumption will improve your odds of making it applicable.</p>



<a name="525052507"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525052507" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525052507">(Jun 20 2025 at 14:25)</a>:</h4>
<p>Christian, I’ll try it. I have absolutely nothing to lose since making the brc_x_equation applicable seems to be the source of my problem.</p>



<a name="525066359"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525066359" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525066359">(Jun 20 2025 at 15:50)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">  </span><span class="c">(* We can pick arbitrary h &lt; 𝗏 and j &lt; 𝗏 since they're not used in the conclusion *)</span>
<span class="w">  </span><span class="k">obtain</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="kp">where</span><span class="w"> </span><span class="n">hj</span><span class="o">:</span><span class="w"> </span><span class="s">"h &lt; 𝗏"</span><span class="w"> </span><span class="s">"j &lt; 𝗏"</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">positive_v</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">gr0I</span><span class="w"> </span><span class="n">not_less0</span><span class="o">)</span>
</code></pre></div>
<p>does not hold for <code>v = 0</code></p>



<a name="525066435"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525066435" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525066435">(Jun 20 2025 at 15:51)</a>:</h4>
<p>You have many issues with normalization/casting of expression</p>



<a name="525066541"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525066541" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525066541">(Jun 20 2025 at 15:51)</a>:</h4>
<p>variants of the already existing:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">complex_of_rat_sum</span><span class="o">:</span><span class="w"> </span><span class="s">‹complex_of_rat (∑h ∈A. f h) = (∑h ∈A. complex_of_rat(f h))›</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">of_rat_hom.hom_sum</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">blast</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">rat_of_int_mult</span><span class="o">:</span><span class="w"> </span><span class="s">‹rat_of_int (x * y) = rat_of_int x * rat_of_int y›</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="kn">lemma</span><span class="w"> </span><span class="n">rat_of_int_sum</span><span class="o">:</span><span class="w"> </span><span class="s">‹rat_of_int (∑h ∈A. f h) = (∑h ∈A. rat_of_int (f h))›</span>
<span class="w"> </span><span class="s">‹rat_of_int (∑h=a..b. f h) = (∑h=a..b. rat_of_int (f h))›</span>
<span class="w"> </span><span class="s">‹rat_of_int (∑h=a..&lt;b. f h) = (∑h=a..&lt;b. rat_of_int (f h))›</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">of_int_sum</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">blast</span><span class="o">+</span>
</code></pre></div>



<a name="525088578"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525088578" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525088578">(Jun 20 2025 at 18:45)</a>:</h4>
<p><code>linear_comb_of_y_part_2_i3</code> contains a reference to <code>i</code> in the assumption that is not used in the rest of the statement</p>



<a name="525089321"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525089321" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525089321">(Jun 20 2025 at 18:51)</a>:</h4>
<p>in <code>brc_v_1_mod_4</code> the first steps can be used like this:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">x123</span><span class="o">:</span><span class="s">"x0 = x $$ (m-4,0)"</span><span class="w"> </span><span class="s">"x1 = x $$ (m-3,0)"</span><span class="w"> </span><span class="s">"x2 = x $$ (m-2,0)"</span><span class="w"> </span><span class="s">"x3 = x $$ (m-1,0)"</span>
<span class="w">      </span><span class="k">using</span><span class="w"> </span><span class="n">ineq</span><span class="w"> </span><span class="k">unfolding</span><span class="w"> </span><span class="n">x_def</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">auto</span><span class="w"> </span><span class="n">simp</span><span class="o">:</span><span class="w"> </span><span class="n">index_mat</span><span class="o">)</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"∃e00 e10 e20 e30 :: rat.(∑h ∈ {0..&lt;m}. of_int(N $$ (m-h-1,m-4)) * x $$ (m-h-1,0)) =</span>
<span class="s">          e00 * y0 + e10 * y1 + e20 * y2 + e30 * y3 +</span>
<span class="s">          (∑h ∈ {4..&lt;m}. of_int(N $$ (m-h-1,m-4)) * x $$ (m-h-1,0))"</span>
<span class="w">      </span><span class="k">using</span><span class="w"> </span><span class="n">linear_comb_of_y_part_2_i3</span><span class="o">[</span><span class="n">OF</span><span class="w"> </span><span class="n">lag_eq</span><span class="w"> </span><span class="n">ineq</span><span class="w"> </span><span class="n">x123</span><span class="w"> </span><span class="n">x0_def</span><span class="w"> </span><span class="n">x1_def</span><span class="w"> </span><span class="n">x2_def</span><span class="w"> </span><span class="n">x3_def</span><span class="o">]</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
</code></pre></div>



<a name="525223856"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525223856" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525223856">(Jun 22 2025 at 17:13)</a>:</h4>
<p>Mathias, it looks like you were looking at lemma brc_x_equation_new. I got rid of that, as that had lots of problems.</p>



<a name="525226807"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525226807" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525226807">(Jun 22 2025 at 18:19)</a>:</h4>
<p>The linear_comb_of_y_part_2_i3 was actually not what I had originally intended. I actually wanted to use linear_comb_of_y_part_2 where i can be set to 0, 1, 2, or 3 but I couldn't figure out how to do it. For instance, the line using linear_comb_of_y_part_2[where i=2] ineq lag_eq by auto doesn't work. That is one of many things I had problems with. I'll put my new version up there.</p>



<a name="525227393"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525227393" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525227393">(Jun 22 2025 at 18:32)</a>:</h4>
<p>I just put the new version up.</p>



<a name="525436422"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Asking%20for%20help/near/525436422" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Alan Feinstein <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Asking.20for.20help.html#525436422">(Jun 24 2025 at 03:41)</a>:</h4>
<p>I am having trouble instantiating lemma linear_comb_of_y_part_2 with variable i. Maybe I should do your suggestion before and do a fix i in the lemma statement?</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>