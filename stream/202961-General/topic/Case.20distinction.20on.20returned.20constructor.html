<html>
<head><meta charset="utf-8"><title>Case distinction on returned constructor · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html">Case distinction on returned constructor</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="392086322"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392086322" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392086322">(Sep 20 2023 at 10:23)</a>:</h4>
<p>I have a datatype along the lines of </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">datatype</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="n">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="o">=</span><span class="n">&gt;</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="n">dummy</span>
</code></pre></div>
<p>Is it possible to do a case distinction on whether a Bar value's function returns a Foo or a Bar?</p>



<a name="392091988"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392091988" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392091988">(Sep 20 2023 at 10:56)</a>:</h4>
<p>I fear I don’t fully understand what you mean. For a case distinction you would need a fixed argument for the function under <code>Bar</code>, I’d say. Could you please clarify?</p>



<a name="392101270"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392101270" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392101270">(Sep 20 2023 at 11:56)</a>:</h4>
<p><span class="user-mention" data-user-id="423655">@Wolfgang Jeltsch</span> but that's the point, I do not have an argument there, only the function.</p>



<a name="392130155"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392130155" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392130155">(Sep 20 2023 at 14:29)</a>:</h4>
<p>I agree with <span class="user-mention" data-user-id="423655">@Wolfgang Jeltsch</span> this doesn't seem like a well-formed question:</p>
<p>If I have a <code>Bar f</code>, the function <code>f</code> can return either <code>Foo</code> or another <code>Bar</code> depending on its input</p>



<a name="392136914"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392136914" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392136914">(Sep 20 2023 at 15:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="595809">Gergely Buday</span> <a href="#narrow/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor/near/392101270">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> but that's the point, I do not have an argument there, only the function.</p>
</blockquote>
<p>But what exactly do you want to do?</p>



<a name="392137684"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Case%20distinction%20on%20returned%20constructor/near/392137684" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Case.20distinction.20on.20returned.20constructor.html#392137684">(Sep 20 2023 at 15:07)</a>:</h4>
<p>Case distinction is about having different subproofs of different kinds of values that some variable can take. For example, if your variable is of type <code>nat</code>, you can distinguish between the cases <code>0</code> and <code>Suc _</code>. But what should your cases for <code>'a ⇒ 'a dummy</code> be? There are functions in this type that return only <code>Foo</code> values, others that return only <code>Bar</code> values, yet others that return <code>Foo</code> values for some arguments and <code>Bar</code>values for others according to whatever patterns.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>