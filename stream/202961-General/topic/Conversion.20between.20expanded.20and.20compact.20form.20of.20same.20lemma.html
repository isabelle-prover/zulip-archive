<html>
<head><meta charset="utf-8"><title>Conversion between expanded and compact form of same lemma · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Conversion.20between.20expanded.20and.20compact.20form.20of.20same.20lemma.html">Conversion between expanded and compact form of same lemma</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="434754591"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Conversion%20between%20expanded%20and%20compact%20form%20of%20same%20lemma/near/434754591" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chengsong Tan <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Conversion.20between.20expanded.20and.20compact.20form.20of.20same.20lemma.html#434754591">(Apr 22 2024 at 13:48)</a>:</h4>
<p>Hi all,</p>
<p>I am looking for help in "typing the knots" of a theory file where I need to find a proof for getting from a larger lemma to its more compact version.<br>
I have proven the lemma in which some predicate with a large definition(hundreds of conjuncts) has been expanded and explicitly separated as assumptions, and then I used it to prove its more compact form (which is needed later). The issue is that I cannot seem to turn one lemma into the other.</p>
<p>The giant lemma with a large number of assumptions looks like this:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">giant1</span><span class="o">:</span>
<span class="kp">assumes</span><span class="w"> </span><span class="n">i0</span><span class="o">:</span><span class="w"> </span><span class="s">"fact 0 about T"</span>
<span class="kp">and</span><span class="w"> </span><span class="n">i1....</span>
<span class="w"> </span><span class="ow">....</span>
<span class="kp">and</span><span class="w"> </span><span class="n">i300</span><span class="w"> </span><span class="ow">...</span>
<span class="kp">shows</span><span class="w"> </span><span class="s">"P T' "</span>
<span class="k">proof</span>
<span class="ow">...</span>
<span class="k">qed</span>
</code></pre></div>
<p>The definition of P is the conjunction of most of the assumption facts:<br>
<code>definition P = i2 /\ ... /\ i300</code><br>
The more compact lemma looks like this"</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">smaller1</span><span class="o">:</span><span class="w"> </span><span class="kp">shows</span><span class="w"> </span><span class="s">"[| P T; fact 0; fact 1 |] ==&gt; P T'"</span>
</code></pre></div>
<p>I cannot seem to find a sledgehammer proof from giant1 to smaller1 (timeout, even if more time given the one-liner would be unusable). Is there an exact way to manipulate the proof states so that proof of smaller1 can be derived from giant1?</p>
<p>See line 217, 1758 of the ILExp.thy file for the giant1 and smaller1 lemmas in the concrete problem.</p>
<p><a href="/user_uploads/14278/ravHEcwBbtm4CUeya7v75lzx/ILExp.thy">ILExp.thy</a><br>
<a href="/user_uploads/14278/TAlEnzeDluoBK1zBl9W-0GfY/BasicInvariants.thy">BasicInvariants.thy</a><br>
<a href="/user_uploads/14278/0WM4L1yy_8zmfTESRY2Y3o3W/BuggyRules.thy">BuggyRules.thy</a><br>
<a href="/user_uploads/14278/lzoTMg67bkyYFmyWqX0gyW6q/CoherenceProperties.thy">CoherenceProperties.thy</a><br>
<a href="/user_uploads/14278/toS2pBrbnnBnh0ZCKQmoONpj/Transposed.thy">Transposed.thy</a></p>
<p>Thansk a lot!</p>
<p>Best wishes,<br>
Chengsong</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>