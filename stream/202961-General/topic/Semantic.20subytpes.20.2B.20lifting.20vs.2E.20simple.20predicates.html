<html>
<head><meta charset="utf-8"><title>Semantic subytpes + lifting vs. simple predicates · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Semantic.20subytpes.20.2B.20lifting.20vs.2E.20simple.20predicates.html">Semantic subytpes + lifting vs. simple predicates</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="264163960"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Semantic%20subytpes%20%2B%20lifting%20vs.%20simple%20predicates/near/264163960" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Sextl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Semantic.20subytpes.20.2B.20lifting.20vs.2E.20simple.20predicates.html#264163960">(Dec 08 2021 at 14:40)</a>:</h4>
<p>Hi, I'm currently formalizing the base logic of the Iris separation logic framework in Isabelle and found that some theoretic constructs can be formalized quite well as subtypes (mostly some specialized function types). After reading about how to work with subtypes, quotient types and the lifting/transfer packages as well as experimenting with a few simple logical extensions to the base logic I came to asking myself, whether it would be easier to express the subtype semantics as simple predicates over the raw type.  </p>
<p>My use cases for subtpyes are on the one hand for defining the assertion language and on the other hand for the underlying generic structure (so called <code>camera</code>s).<br>
I found that subtypes and lifting seem to be a rather standard technique for formalizing assertions (e.g. the separation logic of Imperativ HOL uses them). Yet, this approach requires to also lift many lemmas necessary for a good automation. This might be even worse than for Imperative HOL as the Iris assertions contain more custom connectives. The subtype in question can be found <a href="https://github.com/firefighterduck/isariris/blob/main/IrisCore/BaseLogicShallow.thy#L52">here</a> and a "paper formalization" of the assertion language can be found <a href="https://plv.mpi-sws.org/iris/appendix-3.4.pdf">here</a> in section 5.<br>
The other use case might be similar to some mathematical constructions. I defined the <code>camera</code> structure as a type class which requires functions that are of a specific subtype, see <a href="https://github.com/firefighterduck/isariris/blob/main/IrisCore/CoreStructures.thy#L37">here</a>. In this case, the lifting and lowering seems to only decrease the readability without providing better usability.</p>
<p>Do these use cases make sense for semantic subtypes with lifting or would the necessary overhead be too much in the long run? And what are good rules of thumb to decide when to use semantic subtypes?</p>
<p>Thanks a lot in advance.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>