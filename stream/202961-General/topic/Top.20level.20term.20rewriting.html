<html>
<head><meta charset="utf-8"><title>Top level term rewriting · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Top.20level.20term.20rewriting.html">Top level term rewriting</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="275099029"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Top%20level%20term%20rewriting/near/275099029" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Sextl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Top.20level.20term.20rewriting.html#275099029">(Mar 12 2022 at 14:14)</a>:</h4>
<p>Is there any way to rewrite top level term strings, e.g. in a similar way to how attributes can be used to rewrite theorems?<br>
I'd like to have something like:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="s">"(λx. snd x) (''a'',0)"</span><span class="o">[</span><span class="n">simplified</span><span class="o">]</span> <span class="c">(*becomes the term "0"*)</span>
<span class="s">"[1,0,1,0,0,1]"</span><span class="o">[</span><span class="n">drop_zero</span><span class="o">]</span><span class="c">(*becomes the term "[1,1,1]"*)</span>
</code></pre></div>
<p>These steps can be easily done with ML functions, but I don't know how to apply these to top level terms.</p>
<p>Background: I'm currently working on automation techniques based on Eisbach methods. Some of these methods take a user defined term string, which can for example be used as a pattern by a method that applies the frame rule of separation logic to all subterms that match the pattern. For this it would be quite handy (and for some ideas even necessary) to rewrite the term inputs in a specific way. I suspect the best way to do this would be with a custom <code>parse_translation</code>, yet I'd prefer a less "hacky" solution.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>