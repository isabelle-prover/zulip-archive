<html>
<head><meta charset="utf-8"><title>Why can&#x27;t we take the domain of an arbitrary function? · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html">Why can&#x27;t we take the domain of an arbitrary function?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="391555695"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391555695" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Weisberger <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391555695">(Sep 17 2023 at 18:54)</a>:</h4>
<p>For example, let's say I define a function type as:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">type_synonym</span><span class="w"> </span><span class="o">(</span><span class="n n-Type">'e</span><span class="o">,</span><span class="w"> </span><span class="n n-Type">'s</span><span class="o">)</span><span class="w"> </span><span class="n">transition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"'e =&gt; 's =&gt; 's"</span>
</code></pre></div>
<p>and say I wanted to restrict valid transition functions in a lemma:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="kp">fixes</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('e, 's) transition"</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">"dom t ⊆ D"</span>
<span class="w">  </span><span class="ow">...</span>
</code></pre></div>
<p>A <code>dom</code> function only exists on maps (from theory <code>Map</code>). It's very common to make propositions about the domain of functions, so is there some other way to do that, or is it more common to use <code>Maps</code> in that case?</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code>
</code></pre></div>



<a name="391556090"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391556090" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan van Brügge <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391556090">(Sep 17 2023 at 18:58)</a>:</h4>
<p>The function is called <code>range</code> not <code>dom</code> for functions</p>



<a name="391556339"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391556339" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391556339">(Sep 17 2023 at 19:01)</a>:</h4>
<p>If the question is about the domain: Isabelle functions are <em>always</em> total on the input domain. Therefore, it often happens that lemmas have assumptions on the domain of functions (often with invariants).</p>



<a name="391558493"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391558493" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Weisberger <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391558493">(Sep 17 2023 at 19:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="392255">Jan van Brügge</span> <a href="#narrow/stream/202961-General/topic/Why.20can't.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F/near/391556090">said</a>:</p>
<blockquote>
<p>The function is called <code>range</code> not <code>dom</code> for functions</p>
</blockquote>
<p>I don't think that's accurate. The <code>range</code> function returns the range, not the domain of a function.</p>



<a name="391558640"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391558640" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Weisberger <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391558640">(Sep 17 2023 at 19:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/202961-General/topic/Why.20can't.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F/near/391556339">said</a>:</p>
<blockquote>
<p>If the question is about the domain: Isabelle functions are <em>always</em> total on the input domain. Therefore, it often happens that lemmas have assumptions on the domain of functions (often with invariants).</p>
</blockquote>
<p>That's a good point about totality. That's why a <code>Map</code> might be more appropriate in this case - I want to add a restriction to the function domain.</p>



<a name="391666578"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/Why%20can%27t%20we%20take%20the%20domain%20of%20an%20arbitrary%20function%3F/near/391666578" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan van Brügge <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/Why.20can.27t.20we.20take.20the.20domain.20of.20an.20arbitrary.20function.3F.html#391666578">(Sep 18 2023 at 10:19)</a>:</h4>
<p>Sorry, I somehow read <code>codom</code></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>