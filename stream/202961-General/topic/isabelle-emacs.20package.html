<html>
<head><meta charset="utf-8"><title>isabelle-emacs package · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html">isabelle-emacs package</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="312075213"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312075213" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312075213">(Nov 24 2022 at 19:38)</a>:</h4>
<p>Not sure if this is the right place for the question, so if there is a stream for IDE-related questions, please do tell me <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
<p>Is there any tutorial/example of how <a href="https://github.com/m-fleury/isabelle-emacs">isabelle-emacs</a> should be used?</p>
<p>I think I installed it correctly (including dependencies), did "M-x lsp-install-server" at the beginning of the file, but don't know how to use its features.</p>



<a name="312083353"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312083353" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312083353">(Nov 24 2022 at 20:57)</a>:</h4>
<p>Mmm seems pictures in the <a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2022-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/README.org">Readme</a> are broken. But <code>lsp-install-server</code> does not install isabelle (at least I never implemented that).</p>



<a name="312083752"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312083752" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312083752">(Nov 24 2022 at 21:00)</a>:</h4>
<p>Normally, when you start (and that isabelle has started), you should see the buffer being split into 3 (theory panel, state panel, and output panel)</p>



<a name="312084087"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312084087" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312084087">(Nov 24 2022 at 21:03)</a>:</h4>
<p>I will add a new screenshot tomorrow (the old ones: <a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2021-1-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/img/spacemacs_isabelle.png">here</a> and <a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2021-1-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/img/normal_emacs_isabelle.png">there</a> )</p>
<div class="message_inline_image"><a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2021-1-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/img/spacemacs_isabelle.png" title="here"><img src="https://uploads.zulipusercontent.net/0e1354d7272632f319aae568c47c96b42fb8414f/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6d2d666c657572792f69736162656c6c652d656d6163732f49736162656c6c65323032312d312d6d6f72652d7673636f64652f7372632f546f6f6c732f656d6163732d6c73702f73706163656d6163735f6c61796572732f69736162656c6c652f696d672f73706163656d6163735f69736162656c6c652e706e67"></a></div><div class="message_inline_image"><a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2021-1-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/img/normal_emacs_isabelle.png" title="there"><img src="https://uploads.zulipusercontent.net/536acdcc4a2eb71fb78773ad4a1f5dd7b1143ab0/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6d2d666c657572792f69736162656c6c652d656d6163732f49736162656c6c65323032312d312d6d6f72652d7673636f64652f7372632f546f6f6c732f656d6163732d6c73702f73706163656d6163735f6c61796572732f69736162656c6c652f696d672f6e6f726d616c5f656d6163735f69736162656c6c652e706e67"></a></div>



<a name="312084162"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312084162" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312084162">(Nov 24 2022 at 21:03)</a>:</h4>
<p>(but I am probably not the most qualified person to give a tutorial, because I am the main developer of isabelle-emacs)</p>



<a name="312090855"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312090855" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312090855">(Nov 24 2022 at 22:15)</a>:</h4>
<p>Thanks for the response! I did read instructions from the main page, so I took care of steps <a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2022-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/README.org#clone-isabelle-emacs">1</a> and <a href="https://github.com/m-fleury/isabelle-emacs/blob/Isabelle2022-more-vscode/src/Tools/emacs-lsp/spacemacs_layers/isabelle/README.org#adding-the-afp">2</a> - not sure what is missing.</p>



<a name="312117384"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/312117384" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#312117384">(Nov 25 2022 at 05:09)</a>:</h4>
<p>What happens when you run <code>M-x lsp</code>?</p>



<a name="313126925"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313126925" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313126925">(Nov 30 2022 at 18:34)</a>:</h4>
<p>Sorry for the delay. This is the feedback I'm getting:<br>
<a href="/user_uploads/14278/zNQbzRef3ycD9YEVVelGUwqh/lsp-isabelle.png">lsp-isabelle.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/14278/zNQbzRef3ycD9YEVVelGUwqh/lsp-isabelle.png" title="lsp-isabelle.png"><img src="/user_uploads/14278/zNQbzRef3ycD9YEVVelGUwqh/lsp-isabelle.png"></a></div><p>There is a file <code>211.thy</code> in <code>/home/nikola/thys/</code> directory.<br>
In <code>~/.isabelle/Isabelle2022-vsce/etc/settings</code> I've modified <code>AFP</code> line to this:<br>
<code>AFP=/home/nikola/thys/</code></p>
<p>Am I doing something wrong here?</p>



<a name="313127609"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313127609" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313127609">(Nov 30 2022 at 18:37)</a>:</h4>
<p>Do you really have the afp directly in <code>/home/nikola/</code>?</p>



<a name="313127699"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313127699" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313127699">(Nov 30 2022 at 18:38)</a>:</h4>
<p>and not <code>/home/nikola/afp-2022/</code> or something like that?</p>



<a name="313129917"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313129917" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313129917">(Nov 30 2022 at 18:49)</a>:</h4>
<p>This is complete content of the file <a href="/user_uploads/14278/iQAGo-U5ajfxEAQqB98_N5Zk/afp.png">afp.png</a> and <code>thys</code> dir <a href="/user_uploads/14278/3woLQ7Jy4AJAhnwGJMjST5ER/fs.png">fs.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/iQAGo-U5ajfxEAQqB98_N5Zk/afp.png" title="afp.png"><img src="/user_uploads/14278/iQAGo-U5ajfxEAQqB98_N5Zk/afp.png"></a></div><div class="message_inline_image"><a href="/user_uploads/14278/3woLQ7Jy4AJAhnwGJMjST5ER/fs.png" title="fs.png"><img src="/user_uploads/14278/3woLQ7Jy4AJAhnwGJMjST5ER/fs.png"></a></div>



<a name="313131245"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313131245" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313131245">(Nov 30 2022 at 18:55)</a>:</h4>
<p>Okay so you do need the AFP</p>



<a name="313131599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313131599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313131599">(Nov 30 2022 at 18:57)</a>:</h4>
<p>you should set the emacs variable lsp-isabelle-options to <code>(list )</code></p>



<a name="313139932"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313139932" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313139932">(Nov 30 2022 at 19:39)</a>:</h4>
<p>Thank you! We've made it work <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span><br>
The only issue I'm facing now is regarding <code>*lsp-isar-output*</code> which is empty all the time - not sure what's its purpose tbh. I'm attaching <a href="/user_uploads/14278/gaBAqL48HYkKt_sc-R4qkh8k/whole-emacs.png">screenshot</a> to show what it looks like after sladgehammering.<br>
I will try to use this mode on a regular basis and see if it can be permanent replacement for JEdit.</p>
<div class="message_inline_image"><a href="/user_uploads/14278/gaBAqL48HYkKt_sc-R4qkh8k/whole-emacs.png" title="screenshot"><img src="/user_uploads/14278/gaBAqL48HYkKt_sc-R4qkh8k/whole-emacs.png"></a></div>



<a name="313142135"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313142135" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313142135">(Nov 30 2022 at 19:51)</a>:</h4>
<p>That is not expected</p>



<a name="313159219"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313159219" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313159219">(Nov 30 2022 at 21:26)</a>:</h4>
<p>Can you check in the lsp-log buffer what is executed. It should be of the form:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Command</span><span class="w"> </span><span class="s">"path-to-isabelle-release/bin/isabelle vscode_server -o vscode_pide_extensions -o vscode_caret_perspective=10 -m do_notation"</span><span class="w"> </span><span class="kp">is</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path.</span><span class="w"></span>
</code></pre></div>



<a name="313159958"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313159958" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313159958">(Nov 30 2022 at 21:30)</a>:</h4>
<p>but that should not be the source of the problem</p>



<a name="313160092"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313160092" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313160092">(Nov 30 2022 at 21:31)</a>:</h4>
<p>There is one more thing that is weird in your screenshot: no syntax highlighting</p>



<a name="313160250"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313160250" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313160250">(Nov 30 2022 at 21:32)</a>:</h4>
<p>I guess that the <code>thy</code> folder from <code>/home/nikola/thy</code> a soft link?</p>



<a name="313161257"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313161257" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313161257">(Nov 30 2022 at 21:38)</a>:</h4>
<p>but that issue does not explain why sledgehammer output is not in the output buffer <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="313224168"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313224168" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313224168">(Dec 01 2022 at 08:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/202961-General/topic/isabelle-emacs.20package/near/313159219">said</a>:</p>
<blockquote>
<p>Can you check in the lsp-log buffer what is executed. It should be of the form:</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Command</span><span class="w"> </span><span class="s">"path-to-isabelle-release/bin/isabelle vscode_server -o vscode_pide_extensions -o vscode_caret_perspective=10 -m do_notation"</span><span class="w"> </span><span class="kp">is</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path.</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>I do have that line -- only difference is that <code>path-to-isabelle-release</code> is my actual path on the system.</p>



<a name="313224366"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313224366" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313224366">(Dec 01 2022 at 08:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/202961-General/topic/isabelle-emacs.20package/near/313160250">said</a>:</p>
<blockquote>
<p>I guess that the <code>thy</code> folder from <code>/home/nikola/thy</code> a soft link?</p>
</blockquote>
<p>Well, <code>/home/nikola/thys/</code> is a real directory I've made, not a soft link</p>



<a name="313224614"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/isabelle-emacs%20package/near/313224614" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/isabelle-emacs.20package.html#313224614">(Dec 01 2022 at 08:19)</a>:</h4>
<p>Could it be the problem that I cloned git repository (<code>isabelle-emacs</code>) in a  directory that is a soft link?</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>