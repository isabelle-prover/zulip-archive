<html>
<head><meta charset="utf-8"><title>turn subgoal into Isar style statement · General · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/index.html">General</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html">turn subgoal into Isar style statement</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="226845498"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226845498" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max W. Haslbeck <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226845498">(Feb 18 2021 at 17:12)</a>:</h4>
<p>I'm searching for an Isabelle method that turns subgoals into Isar style statements.<br>
For example,</p>
<div class="codehilite"><pre><span></span><code>⋀x y. P x ⟹ Q y ⟹ U x y
</code></pre></div>
<p>gets printed as</p>
<div class="codehilite"><pre><span></span><code>&quot;U x y&quot; if &quot;P x&quot; &quot;Q y&quot; for x y
</code></pre></div>
<p>in the output panel.</p>
<p>I think, someone posted something like that on the mailing list. Anybody remembering that thread?</p>



<a name="226847932"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226847932" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226847932">(Feb 18 2021 at 17:30)</a>:</h4>
<p><a href="https://mailman46.in.tum.de/pipermail/isabelle-dev/2018-September/016496.html">https://mailman46.in.tum.de/pipermail/isabelle-dev/2018-September/016496.html</a><br>
<a href="https://gitlab.mpi-klsb.mpg.de/mfleury/isafol-clone/-/blob/24af98ae003c41fbbb427807c7b2769b593bf0c3/lib/Explorer.thy">https://gitlab.mpi-klsb.mpg.de/mfleury/isafol-clone/-/blob/24af98ae003c41fbbb427807c7b2769b593bf0c3/lib/Explorer.thy</a></p>



<a name="226847960"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226847960" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226847960">(Feb 18 2021 at 17:30)</a>:</h4>
<p>Tagging <span class="user-mention" data-user-id="233198">@Mathias Fleury</span></p>



<a name="226851153"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226851153" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226851153">(Feb 18 2021 at 17:53)</a>:</h4>
<p>Florian Haftmann has one that is built-in</p>



<a name="226851208"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226851208" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226851208">(Feb 18 2021 at 17:53)</a>:</h4>
<p><a href="https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2019-March/016796.html">https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2019-March/016796.html</a></p>



<a name="226851381"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226851381" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226851381">(Feb 18 2021 at 17:55)</a>:</h4>
<p>but the features are not the same. So you probably need to try both <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="226853083"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226853083" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226853083">(Feb 18 2021 at 18:05)</a>:</h4>
<p>I even mention the built-in one in the latest version: <a href="https://bitbucket.org/isafol/isafol/src/master/lib/Explorer.thy">https://bitbucket.org/isafol/isafol/src/master/lib/Explorer.thy</a></p>



<a name="226856900"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/226856900" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#226856900">(Feb 18 2021 at 18:30)</a>:</h4>
<p>Thanks for tagging me <span class="user-mention" data-user-id="232736">@Manuel Eberl</span></p>



<a name="235190160"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235190160" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Wimmer <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235190160">(Apr 19 2021 at 14:31)</a>:</h4>
<p>Late to the party, but I have recently thought about about these "explore" commands again.</p>
<p>Does anyone understand the rational behind the current "official" version of producing "show .... if .... for ..." Isar statements?<br>
Doing "fix ... assume ... show ..." as IIRC Mathias' tactic would do seem more reasonable/standard to me.</p>
<p>Also, I think a much simpler command that produces "subgoal for ... premises prems using prems apply -" (or similar) would also sometimes be useful. This has not been implemented, right?</p>



<a name="235196941"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235196941" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235196941">(Apr 19 2021 at 15:08)</a>:</h4>
<p>I never use <code>{fix … assume … show}</code> anymore these days, almost aways these eigencontexts with <code>if</code>/<code>for</code></p>



<a name="235209348"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235209348" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Wimmer <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235209348">(Apr 19 2021 at 16:25)</a>:</h4>
<p>Yeah, true, so I also do not use these blocks anymore but <code>have ... if ... for</code> (this is what <code>explore</code> gives). But for starting a proof I would always do <code>proof ... fix ... assume ... show ... qed</code> and with Florian's tool (<code>sketch</code> command) I would get <code>proof ... show ... if ... for ...</code>, which I find awkward.</p>



<a name="235211098"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235211098" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235211098">(Apr 19 2021 at 16:37)</a>:</h4>
<p>That might make sense. But I never really understood what these tools are for to begin with when you can just do <code>proof goal_cases</code></p>



<a name="235211450"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235211450" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235211450">(Apr 19 2021 at 16:39)</a>:</h4>
<p>One reason that I can imagine is that <code>goal_cases</code> is less readable</p>



<a name="235211473"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235211473" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235211473">(Apr 19 2021 at 16:39)</a>:</h4>
<p>(without seeing the output panel)</p>



<a name="235211730"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235211730" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235211730">(Apr 19 2021 at 16:41)</a>:</h4>
<p>If it wasn't such a pain to type everything in, then I would certainly prefer the more explicit approach. The <code>explore</code> command could solve that.</p>



<a name="235215377"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235215377" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Wimmer <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235215377">(Apr 19 2021 at 17:07)</a>:</h4>
<p>It is particularly useful if you have, say, 39 proof obligations generated by a vcg. Then your proofs will break horribly with <code>proof goal_cases</code> when the code changes. But with <code>explore</code> you can get the explicit statements of all these goals quickly. I guess the refinement framework is the main reason why Mathias likes this tool <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="235219122"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235219122" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235219122">(Apr 19 2021 at 17:34)</a>:</h4>
<p>One advantage of the <code>show if</code> is that assumptionsare not shared across shows. This is only relevant if you have multiple goals.</p>



<a name="235220147"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235220147" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235220147">(Apr 19 2021 at 17:42)</a>:</h4>
<p>To give an example:</p>
<div class="codehilite"><pre><span></span><code>A ==&gt; B ==&gt; C
A ==&gt; ~B ==&gt; C
</code></pre></div>
<p>The corresponding Isar proof is:</p>
<div class="codehilite"><pre><span></span><code>  assume A
  assume B
  show C
     sorry
next
  assume A
  assume &quot;~B&quot;
  show C
     sorry
</code></pre></div>
<p>With the if version you could get:</p>
<div class="codehilite"><pre><span></span><code>  assume A
  show C if B
     sorry
  show C if  &quot;~B&quot;
     sorry
</code></pre></div>
<p>also making it possible to share consequences of <code>A</code>.</p>



<a name="235220469"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235220469" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235220469">(Apr 19 2021 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="233187">@Simon Wimmer</span> in extreme cases for Refinement goals, I use even <code>context assumes ...</code> instead of <code>show</code>  (e.g., search for <code>context</code> on <a href="https://people.mpi-inf.mpg.de/~mfleury/IsaFoL/current/Weidenbach_Book/IsaSAT/IsaSAT_Lookup_Conflict.html">https://people.mpi-inf.mpg.de/~mfleury/IsaFoL/current/Weidenbach_Book/IsaSAT/IsaSAT_Lookup_Conflict.html</a>)</p>



<a name="235233673"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235233673" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235233673">(Apr 19 2021 at 19:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233187">Simon Wimmer</span> <a href="#narrow/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement/near/235215377">said</a>:</p>
<blockquote>
<p>It is particularly useful if you have, say, 39 proof obligations generated by a vcg. Then your proofs will break horribly with <code>proof goal_cases</code> when the code changes. But with <code>explore</code> you can get the explicit statements of all these goals quickly. I guess the refinement framework is the main reason why Mathias likes this tool <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>
</blockquote>
<p>Okay, I see. That doesn't really occur in my life. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="235368909"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235368909" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Wimmer <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235368909">(Apr 20 2021 at 15:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233187">Simon Wimmer</span> <a href="#narrow/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement/near/235190160">said</a>:</p>
<blockquote>
<p>Also, I think a much simpler command that produces "subgoal for ... premises prems using prems apply -" (or similar) would also sometimes be useful. This has not been implemented, right?</p>
</blockquote>
<p>Just in case anyone is interested, I have hacked this now: <a href="https://github.com/wimmers/explore-subgoal">https://github.com/wimmers/explore-subgoal</a></p>



<a name="235375028"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235375028" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235375028">(Apr 20 2021 at 16:36)</a>:</h4>
<p><span class="user-mention" data-user-id="233187">@Simon Wimmer</span>  is there a specific license for your changes or can I included them in my Explorer file?</p>



<a name="235375390"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235375390" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Wimmer <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235375390">(Apr 20 2021 at 16:39)</a>:</h4>
<p>Please feel free to include them!</p>



<a name="235378564"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235378564" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235378564">(Apr 20 2021 at 17:00)</a>:</h4>
<p>Just a question: why didn't you use a config attribute to switch between cartouche and quotes? I think you could shorten your code with that.</p>



<a name="235380901"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235380901" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235380901">(Apr 20 2021 at 17:17)</a>:</h4>
<p>Hmmm good question.</p>



<a name="235380991"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235380991" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235380991">(Apr 20 2021 at 17:17)</a>:</h4>
<p>Either I did not know about them or I wanted type safety instead of using a string attribute. I don't remember.</p>



<a name="235381099"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202961-General/topic/turn%20subgoal%20into%20Isar%20style%20statement/near/235381099" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/202961-General/topic/turn.20subgoal.20into.20Isar.20style.20statement.html#235381099">(Apr 20 2021 at 17:18)</a>:</h4>
<p>But this is definitely a good point. Thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>