<html>
<head><meta charset="utf-8"><title>Isabelle Remote Procedure Call · New Members &amp; Projects · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/index.html">New Members &amp; Projects</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html">Isabelle Remote Procedure Call</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="569778714"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/569778714" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#569778714">(Jan 23 2026 at 18:16)</a>:</h4>
<p>An Isabelle RPC library is provided, allowing Isabelle/ML code to call procedures written in Python (or other languages in the future) on a (remote) host. Not fully tested, but I'm actively using it in my Isabelle AI projects.<br>
The RPC communication is over TCP and MessagePack, so the implementation of a host on other languages should be straightforward.</p>
<p><a href="https://github.com/xqyww123/Isabelle_RPC">https://github.com/xqyww123/Isabelle_RPC</a></p>



<a name="570027607"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570027607" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570027607">(Jan 26 2026 at 07:58)</a>:</h4>
<p>Is there a specific reason to do this in Isabelle/ML? The standard way would be a Isabelle/Scala implementation (e.g. there is already a JSON RPC implementation for Isabelle/VSCode, see <code>Tools/VSCode/src/channel.scala</code>) that is simply called from Isabelle/ML.</p>



<a name="570533092"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570533092" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570533092">(Jan 28 2026 at 11:35)</a>:</h4>
<p>This is easier to learn (for myself, and no need to learn Scala), through faster protocol (MessagePack vs XML), and involves fewer dependencies (no dependency on Scala, so easier to maintain (for myself))</p>



<a name="570533278"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570533278" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570533278">(Jan 28 2026 at 11:36)</a>:</h4>
<p>Also, no need to recompile the Scala plugin, so easier to redistribute (as a standard Isabelle session)</p>



<a name="570548451"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570548451" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570548451">(Jan 28 2026 at 12:53)</a>:</h4>
<p>Also, it supports multiple languages. The PIDE protocol ASAIK, is heavy and implemented only on Scala. But you know, most of machine learning infrastructures are written in Python. So in the end, an AI infrastructure needs both the bridge between Poly/ML &lt;--&gt; Scala and the bridge between Scala &lt;--&gt; Python through some RPC protocol.</p>
<p>But now, we can directly bridge Poly/ML &lt;--&gt; Python through the standard TCP and MessagePack. Note that MessagePack is supported by 50+ languages (according to <a href="https://msgpack.org/index.html">official site</a>). So we can similarly write the RPC hosts in many other languages <strong>without modifying the Isabelle end</strong>. Indeed, I've written an OCaml client before.</p>
<p>Given the benefits above, the implementation is also slim. You see, it takes only 351 lines of ML code 288 lines of Python. Sure it might not be very mature for now, but the whole tech stack is standard (TCP and MessagePack).</p>



<a name="570549231"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570549231" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570549231">(Jan 28 2026 at 12:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="418224">Qiyuan Xu</span> <a href="#narrow/channel/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call/near/570533092">said</a>:</p>
<blockquote>
<p>This is easier to learn (for myself, and no need to learn Scala), through faster protocol (MessagePack vs XML), and involves fewer dependencies (no dependency on Scala, so easier to maintain (for myself))</p>
</blockquote>
<p>Well, I was asking because it would be much <em>easier</em> to maintain since most of what you'd need is already there, though of course not knowing Isabelle/Scala is a bit of a barrier. Note that there will likely be a Isabelle/Scala tutorial in the next Isabelle workshop at FLOC.</p>
<p>Is performance of these messages actually a bottleneck for your application? It rarely is except when dealing with huge term structures e.g. for proof terms. And this is only for the internal communication between Isabelle/ML and Isabelle/Scala (which uses YXML, which already is a space-efficient representation of XML trees); for communication with the outside, one could easily go to even more efficient formats such as protobuf.</p>



<a name="570549447"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570549447" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570549447">(Jan 28 2026 at 12:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="418224">Qiyuan Xu</span> <a href="#narrow/channel/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call/near/570533278">said</a>:</p>
<blockquote>
<p>Also, no need to recompile the Scala plugin, so easier to redistribute (as a standard Isabelle session)</p>
</blockquote>
<p>This seems to be a misconception, no need to do that at any point (a Isabelle component is a s easy to redistribute as a session). The system takes care of recompilation itself where needed.</p>



<a name="570551070"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570551070" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570551070">(Jan 28 2026 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="418224">Qiyuan Xu</span> <a href="#narrow/channel/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call/near/570548451">said</a>:</p>
<blockquote>
<p>Also, it supports multiple languages. The PIDE protocol ASAIK, is heavy and implemented only on Scala. But you know, most of machine learning infrastructures are written in Python. So in the end, an AI infrastructure needs both the bridge between Poly/ML &lt;--&gt; Scala and the bridge between Scala &lt;--&gt; Python through some RPC protocol.</p>
</blockquote>
<p>I don't quite understand what you are saying here. To clarify:</p>
<ul>
<li>Isabelle/Scala controls the actual prover processes, and deals with any interaction with the physical world: external processes, file system, compression, etc.</li>
<li>The logical machinery is implemented in Isabelle/ML.</li>
</ul>
<p>Those two processes communicate via internal messages (all the time). When talking to external infrastructure -- independent on how you do that, e.g. via MessagePack -- you would normally talk to the Isabelle/Scala process only. Internally, that might talk to the Isabelle/ML process if needed.</p>



<a name="570553447"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/202967-New%20Members%20%26%20Projects/topic/Isabelle%20Remote%20Procedure%20Call/near/570553447" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/202967-New-Members-.26-Projects/topic/Isabelle.20Remote.20Procedure.20Call.html#570553447">(Jan 28 2026 at 13:14)</a>:</h4>
<p>Indeed, any new feature introduces additional maintenance costs compared to existing ones. This argument applies to any new feature. However, people do need a simple and easy-to-learn way to enable communication between Poly/ML and the external environment; they don't want to learn complex software system architectures. I knocked out this framework in one night, in hundreds of lines of code, and it doesn't need to be merged into main. May let users pick whichever one they want.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>