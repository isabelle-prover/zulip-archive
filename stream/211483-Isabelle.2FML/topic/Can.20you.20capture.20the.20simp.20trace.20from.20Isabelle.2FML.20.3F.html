<html>
<head><meta charset="utf-8"><title>Can you capture the simp trace from Isabelle/ML ? · Isabelle/ML · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/index.html">Isabelle/ML</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/topic/Can.20you.20capture.20the.20simp.20trace.20from.20Isabelle.2FML.20.3F.html">Can you capture the simp trace from Isabelle/ML ?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="498824265"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/211483-Isabelle/ML/topic/Can%20you%20capture%20the%20simp%20trace%20from%20Isabelle/ML%20%3F/near/498824265" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Vezzosi <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/topic/Can.20you.20capture.20the.20simp.20trace.20from.20Isabelle.2FML.20.3F.html#498824265">(Feb 10 2025 at 17:46)</a>:</h4>
<p>Hi, I am using <code>Goal.prove_common</code> to prove a goal with auto_tac and I would like to report which lemmas were used during simplifcation, I figured if I enabled <code>simp_trace</code> there might be a way to collect it and I could parse the info from there?</p>



<a name="499127023"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/211483-Isabelle/ML/topic/Can%20you%20capture%20the%20simp%20trace%20from%20Isabelle/ML%20%3F/near/499127023" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yutaka Nagashima <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/topic/Can.20you.20capture.20the.20simp.20trace.20from.20Isabelle.2FML.20.3F.html#499127023">(Feb 12 2025 at 01:17)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="620991">@Andrea Vezzosi</span> ,</p>
<p>I don't really know much about <code>simp_trace</code>.<br>
But the usual step would be something like </p>
<ul>
<li>1: check the ML source code of the command,</li>
<li>2: find the relevant ML functions, and </li>
<li>3: run them. </li>
</ul>
<p>I've done this loads of times over the past 10 years, and it's always been great fun! <br>
<span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="500427767"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/211483-Isabelle/ML/topic/Can%20you%20capture%20the%20simp%20trace%20from%20Isabelle/ML%20%3F/near/500427767" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Vezzosi <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/topic/Can.20you.20capture.20the.20simp.20trace.20from.20Isabelle.2FML.20.3F.html#500427767">(Feb 18 2025 at 15:24)</a>:</h4>
<p>Oh, sure! Btw the solution was to hijack the <code>tracing_fn</code> mutable reference that controls where <code>tracing</code> output goes.<br>
<code>Unsynchronized.setmp Private_Output.tracing_fn &lt;fun writing input to ref&gt; &lt;do the proving, read trace from ref&gt; ()</code></p>



<a name="501163308"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/211483-Isabelle/ML/topic/Can%20you%20capture%20the%20simp%20trace%20from%20Isabelle/ML%20%3F/near/501163308" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yutaka Nagashima <a href="http://isabelle.systems/zulip-archive/stream/211483-Isabelle.2FML/topic/Can.20you.20capture.20the.20simp.20trace.20from.20Isabelle.2FML.20.3F.html#501163308">(Feb 21 2025 at 18:30)</a>:</h4>
<p>Stay safe from concurrency. <span aria-label="bird" class="emoji emoji-1f426" role="img" title="bird">:bird:</span></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>