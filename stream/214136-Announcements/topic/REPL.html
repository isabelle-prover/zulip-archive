<html>
<head><meta charset="utf-8"><title>REPL · Announcements · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/214136-Announcements/index.html">Announcements</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/214136-Announcements/topic/REPL.html">REPL</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="481930630"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/214136-Announcements/topic/REPL/near/481930630" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Qiyuan Xu <a href="http://isabelle.systems/zulip-archive/stream/214136-Announcements/topic/REPL.html#481930630">(Nov 12 2024 at 12:03)</a>:</h4>
<p>Hi, dear users of Isabelle,</p>
<p>It is exciting to announce an unofficial REPL server for Isabelle.</p>
<p>This tool addresses a need in the machine learning community, where people have faced challenges connecting Isabelle with ML systems. Some of my colleagues in machine learning have expressed that this integration difficulty has led them to choose other proof assistants like Lean. This REPL server aims to bridge this gap as a first step. Additionally, I am also planning an abstraction layer to simplify the complexity that exposures to AI agents (join the discussion from <a href="https://github.com/xqyww123/Isa-Proof-Shell">GitHub</a> or <a href="#narrow/channel/202967-New-Members-.26-Projects/topic/A.20proof.20shell.20designed.20for.20machine.20learning">Zulip thread</a>).</p>
<p>Repository URL: <a href="https://github.com/xqyww123/Isa-REPL">https://github.com/xqyww123/Isa-REPL</a></p>
<p><strong>Features</strong></p>
<ul>
<li>Python client</li>
<li>Tracing the proof state and the output panel for step-by-step evaluation.<br>
    - Plugin: collecting data from Isabelle's internal representations by hot plugins written in Isabelle/ML.</li>
<li>Socket based remote communication</li>
<li>Socket based concurrency</li>
<li>State rollback</li>
</ul>
<p>About the implementation, I use the <code>Toplevel.state</code> interface in a dedicated thread separate from Isabelle workers (<code>Task_Queue.task</code>). This disables the concurrency between commands within a single file, allowing the REPL to sequentially evaluate every command and capture its complete output as expected. However, I dunno if it could cause any unforeseen problems. Let me know if it is bad!</p>
<p>The REPL server runs in the batch mode of <code>isabelle build</code>, in a tricky way preventing the build process from terminating and transforming it into a server. While functional, the ideal solution perhaps should be implementing the server as an Isabelle tool integrated into the <code>isabelle</code> command line tool. I welcome expertise and assistance from the community to help develop this integration.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>