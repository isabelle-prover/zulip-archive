<html>
<head><meta charset="utf-8"><title>(subst X; simp) vs (simp) · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.28subst.20X.3B.20simp.29.20vs.20.28simp.29.html">(subst X; simp) vs (simp)</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="363557150"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/%28subst%20X%3B%20simp%29%20vs%20%28simp%29/near/363557150" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hanno Becker <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.28subst.20X.3B.20simp.29.20vs.20.28simp.29.html#363557150">(Jun 04 2023 at 19:15)</a>:</h4>
<p>Hi! I got a conditional rewrite rule <code>X</code> which I can successfully via <code>subst X; simp</code> in the sense that (a) the rewrite conditions can be solved, (b) the original subgoal is solved after the rewrite. However, <code>simp add: X</code> does not work. Also (perhaps unrelated?) <code>subst X, simp</code> did fail, which puzzled me because I thought of the action of <code>subst X; simp</code> as being a superset of <code>subst X, simp</code>: The former applying <code>simp</code> to _all_ subgoals generated by <code>subst X</code>, the latter only to the first. But I must have misunderstood something here...</p>



<a name="363610496"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/%28subst%20X%3B%20simp%29%20vs%20%28simp%29/near/363610496" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hanno Becker <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.28subst.20X.3B.20simp.29.20vs.20.28simp.29.html#363610496">(Jun 05 2023 at 05:24)</a>:</h4>
<p>I think I figured it out...: when there are multiple conditions to the rewrite, _and_ some of them introduce schematics, the order in which you tackle the subgoals matters. Now, <code>subst X; simp</code> tackles them in reverse order, while <code>subst X, simp</code> tries the first emerging subgoal first. In my case, the order of conditions was so that <code>simp</code> would solve later conditions and instantiate the involved schematic, and then <code>simp</code> would be able to handle the first condition as well -- but <code>simp</code> wouldn't be able to handle the first condition directly. A similar reason seems to apply to <code>subst X; simp</code> vs. <code>simp add: X</code>: My suspicion is that the default subgoaler would tackle the rewrite conditions in <code>simp add: X</code> in their order of definition, while <code>subst X; simp</code>, as mentioned, uses the reversed order. Indeed, swapping the two rewrite conditions in question, <code>subst X; simp</code> suddenly starts to fail while <code>simp add: X</code> succeeds.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>