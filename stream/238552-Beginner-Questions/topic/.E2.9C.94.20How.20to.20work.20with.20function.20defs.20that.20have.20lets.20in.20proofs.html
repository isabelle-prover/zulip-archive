<html>
<head><meta charset="utf-8"><title>✔ How to work with function defs that have lets in proofs · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.E2.9C.94.20How.20to.20work.20with.20function.20defs.20that.20have.20lets.20in.20proofs.html">✔ How to work with function defs that have lets in proofs</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="315142431"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/%E2%9C%94%20How%20to%20work%20with%20function%20defs%20that%20have%20lets%20in%20proofs/near/315142431" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> waynee95 <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.E2.9C.94.20How.20to.20work.20with.20function.20defs.20that.20have.20lets.20in.20proofs.html#315142431">(Dec 11 2022 at 00:29)</a>:</h4>
<p>I found out how I can approach this and solve me being stuck.</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="ow">...</span><span class="w"></span>
<span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">have</span><span class="w"> </span><span class="n">0</span><span class="o">:</span><span class="w"> </span><span class="s">"eval_tm0 η0 η1 d (App x1 x2) = (let (val, η1', d') = (eval_tm0 η0 η1 d x2) in</span>
<span class="s">                                (eval_tm1 η0 η1' d' x1 val))"</span><span class="w"></span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span><span class="w"></span>

<span class="ow">...</span><span class="w"></span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">have</span><span class="w"> </span><span class="n">2</span><span class="o">:</span><span class="w"> </span><span class="s">"eval_tm0 η0 η1 d x2 = (val', η1'', d'')</span>
<span class="s">          ⟹ eval_tm1 η0 η1'' d'' x1 val' = (val, η1', d')</span>
<span class="s">          ⟹ (∀x. set (d x) ⊆ set (d' x)) ∧ (∀x f. η1 x f ≤ η1' x f)"</span><span class="w"> </span><span class="kp">for</span><span class="w"> </span><span class="n">val'</span><span class="w"> </span><span class="n">η1''</span><span class="w"> </span><span class="n">d''</span><span class="w"></span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">meson</span><span class="w"> </span><span class="n">App.IH</span><span class="o">(</span><span class="n">1</span><span class="o">)</span><span class="w"> </span><span class="n">dual_order.trans</span><span class="o">)</span><span class="w"></span>
</code></pre></div>
<p>So if a function relies on the result of another function via a let in its body, I use these conditionals to give names to intermediate values.</p>



<a name="315142437"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/%E2%9C%94%20How%20to%20work%20with%20function%20defs%20that%20have%20lets%20in%20proofs/near/315142437" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/.E2.9C.94.20How.20to.20work.20with.20function.20defs.20that.20have.20lets.20in.20proofs.html#315142437">(Dec 11 2022 at 00:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="424814">waynee95</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>