<html>
<head><meta charset="utf-8"><title>About AFP in Isabelle 2020 · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html">About AFP in Isabelle 2020</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="360889215"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/360889215" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#360889215">(May 24 2023 at 20:18)</a>:</h4>
<p>From the link <a href="https://www.isa-afp.org/help/">https://www.isa-afp.org/help/</a>, Isabelle 2021 - till now can use the components to install the afp(isabelle components -u /home/myself/afp/thys), so how to use it in Isabelle 2020? </p>
<p>Anybody can help that?</p>



<a name="361100042"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/361100042" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#361100042">(May 25 2023 at 15:49)</a>:</h4>
<p>In a Linux/Mac environment, you can directly add the AFP path to the file <code>.isabelle/Isabelle2019/ROOTS</code> (here it is for Isabelle2019). For example, the last line of my <code>.isabelle/Isabelle2019/ROOTS</code> is <code>/Users/wenda/Workspace/afp2019/thys</code>.</p>



<a name="361127892"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/361127892" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#361127892">(May 25 2023 at 17:45)</a>:</h4>
<p>Ahh, that works. Thanks a lot.</p>



<a name="361130620"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/361130620" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#361130620">(May 25 2023 at 17:58)</a>:</h4>
<p>BTW, it tell an error "Cannot start: <br>
*** Unknown option "document_logo"<br>
*** The error(s) above occurred in session entry "Sturm_Sequences" (line 3 of "/Users/sword/Downloads/afp-2023-03-16/thys/Sturm_Sequences/ROOT")<br>
"<br>
I see there is no logo in this thy.</p>



<a name="361133150"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/361133150" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#361133150">(May 25 2023 at 18:09)</a>:</h4>
<p>I guess the problem is due to the incompatibility between Isabelle2022 and Isabelle2020. Your downloaded AFP  (afp-2023-03-16) is only guaranteed to be compatible with Isabelle 2022.</p>



<a name="361148694"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/361148694" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#361148694">(May 25 2023 at 19:23)</a>:</h4>
<p>Yes, you are right. It's so strang that no 2020 version on the afp website. I downlowd a 2020-version from the github. It works. Thank you.</p>



<a name="373745882"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373745882" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gokul <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373745882">(Jul 09 2023 at 17:02)</a>:</h4>
<p>Hi,<br>
I am trying something rather simple, but can't see what is missing. Here is the code:</p>
<p>type_synonym atom = "char list"<br>
type_synonym exatom = "(char list)* nat" <br>
type_synonym trace = "atom set list"</p>
<p>fun M2b::"trace ⇒ nat ⇒((char list)*nat) set" where<br>
"M2b [] i = {}" |<br>
"M2b (x#xs) i = {(a,i). a ∈ x} ∪ (M2b xs (Suc i))"</p>
<p>value "(M2b ([{''s1''}]) (0::nat))"</p>
<p>I was expecting value to give me output: {(''s1'',0)}. But instead, I get an error: exception Match raised (line 233 of "generated code"). Please help!</p>



<a name="373747183"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747183" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747183">(Jul 09 2023 at 17:09)</a>:</h4>
<p>Always try <code>value[simp]</code> in those cases. You would find out that the definition does not do what you want:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">"(M2b ([{''s1''}]) (0::nat)) = {''s1''} × UNIV"</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
</code></pre></div>



<a name="373747396"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747396" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747396">(Jul 09 2023 at 17:10)</a>:</h4>
<p>This version:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">fun</span><span class="w"> </span><span class="n">M2b</span><span class="o">::</span><span class="s">"trace ⇒ nat ⇒((char list)*nat) set"</span><span class="w"> </span><span class="kp">where</span>
<span class="s">"M2b [] i = {}"</span><span class="w"> </span><span class="o">|</span>
<span class="s">"M2b (x#xs) i = ({a. a ∈ x} × {i}) ∪ (M2b xs (Suc i))"</span>
</code></pre></div>
<p>seems to be executable…</p>



<a name="373747714"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747714" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gokul <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747714">(Jul 09 2023 at 17:12)</a>:</h4>
<p>Thanks a lot, so any clue why the previous one did not work?</p>



<a name="373747806"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747806" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747806">(Jul 09 2023 at 17:13)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span><span class="w"> </span><span class="s">"(M2b ([{''s1''}]) (0::nat))"</span>
</code></pre></div>



<a name="373747832"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747832" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747832">(Jul 09 2023 at 17:13)</a>:</h4>
<p>this tells you where the execution is stalled</p>



<a name="373747954"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373747954" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373747954">(Jul 09 2023 at 17:14)</a>:</h4>
<p>this is how I realized that the <code>i</code> in <code>{(a,i). a ∈ x} </code> was different from <code>i</code> in the definition</p>



<a name="373748079"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/About%20AFP%20in%20Isabelle%202020/near/373748079" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gokul <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/About.20AFP.20in.20Isabelle.202020.html#373748079">(Jul 09 2023 at 17:15)</a>:</h4>
<p>Oh, okay, I see, thanks a lot!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>