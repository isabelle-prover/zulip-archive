<html>
<head><meta charset="utf-8"><title>Applying cases for nested patterns without subgoal · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20cases.20for.20nested.20patterns.20without.20subgoal.html">Applying cases for nested patterns without subgoal</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="492948239"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20cases%20for%20nested%20patterns%20without%20subgoal/near/492948239" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Vollath <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20cases.20for.20nested.20patterns.20without.20subgoal.html#492948239">(Jan 10 2025 at 13:16)</a>:</h4>
<p>When a function is defined over pattern matching its argument, I often have to apply <em>cases</em> in a proof.<br>
But when the definition additionally does pattern matching over the components, can I just apply <em>cases</em> over both patterns at once?</p>
<p>For example:<br>
<code>fun my_fun where "my_fun (a, MyType x y) = ..."</code><br>
To prove  a property of <code>my_fun c</code> I often do</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w">  </span><span class="n">c</span><span class="o">)</span>
<span class="n">subgoal</span><span class="w"> </span><span class="kp">for</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="n">b</span>
<span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">b</span><span class="o">)</span>
<span class="k">by</span><span class="w"> </span><span class="n">simp</span>
</code></pre></div>
<p>Can I just simplify this into one line?</p>



<a name="492949611"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20cases%20for%20nested%20patterns%20without%20subgoal/near/492949611" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Schäffeler <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20cases.20for.20nested.20patterns.20without.20subgoal.html#492949611">(Jan 10 2025 at 13:23)</a>:</h4>
<p>Like this? <code>by (cases rule: my_fun.cases[of c]) simp</code></p>



<a name="493000548"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20cases%20for%20nested%20patterns%20without%20subgoal/near/493000548" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Vollath <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20cases.20for.20nested.20patterns.20without.20subgoal.html#493000548">(Jan 10 2025 at 18:06)</a>:</h4>
<p>Yes exactly like that, thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>