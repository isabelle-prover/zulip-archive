<html>
<head><meta charset="utf-8"><title>Applying the results obtained by &quot;try&quot; · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html">Applying the results obtained by &quot;try&quot;</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="470956968"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/470956968" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#470956968">(Sep 17 2024 at 11:52)</a>:</h4>
<p>"try" can give solutions sometimes. Like:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">KGproof_APPEND</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof Γ p2 ⟹ (KGproof Γ p1 ⟹ KGproof Γ (p1 @ p2))"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="n">arbitrary</span><span class="o">:</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="n">KGproof.induct</span><span class="o">)</span>
<span class="w">  </span><span class="kt">try0</span>

<span class="k">qed</span>

<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">state</span><span class="o">)</span>
<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">7</span><span class="w"> </span><span class="n">subgoals</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p1.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[])</span>
<span class="w"> </span><span class="n">2.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="o">(</span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">)))</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="n">List.member</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">(</span><span class="n">f1</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">List.member</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">f2</span><span class="o">])</span>
<span class="w"> </span><span class="n">3.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">σ</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="o">(</span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">)))</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">List.member</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">subst</span><span class="w"> </span><span class="n">σ</span><span class="w"> </span><span class="n">f</span><span class="o">])</span>
<span class="w"> </span><span class="n">4.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="o">(</span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">)))</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">List.member</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">BOX</span><span class="w"> </span><span class="n">f</span><span class="o">])</span>
<span class="w"> </span><span class="n">5.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="o">(</span><span class="n">⋀p1.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">))</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">DIAM</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="n">form</span><span class="o">))])</span>
<span class="w"> </span><span class="n">6.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="o">(</span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">)))</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">ptaut</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">f</span><span class="o">])</span>
<span class="w"> </span><span class="n">7.</span><span class="w"> </span><span class="n">⋀G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">p1.</span>
<span class="w">       </span><span class="o">(</span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x.</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="o">)))</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">       </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">KGproof</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">(</span><span class="n">p1</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">@</span><span class="w"> </span><span class="o">[</span><span class="n">f</span><span class="o">])</span>
</code></pre></div>
<p>gives:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Trying</span><span class="w"> </span><span class="s">"simp"</span><span class="o">,</span><span class="w"> </span><span class="s">"auto"</span><span class="o">,</span><span class="w"> </span><span class="s">"blast"</span><span class="o">,</span><span class="w"> </span><span class="s">"metis"</span><span class="o">,</span><span class="w"> </span><span class="s">"argo"</span><span class="o">,</span><span class="w"> </span><span class="s">"linarith"</span><span class="o">,</span><span class="w"> </span><span class="s">"presburger"</span><span class="o">,</span><span class="w"> </span><span class="s">"algebra"</span><span class="o">,</span><span class="w"> </span><span class="s">"fast"</span><span class="o">,</span><span class="w"> </span><span class="s">"fastforce"</span><span class="o">,</span><span class="w"> </span><span class="s">"force"</span><span class="o">,</span><span class="w"> </span><span class="s">"meson"</span><span class="o">,</span><span class="w"> </span><span class="s">"satx"</span><span class="o">,</span><span class="w"> </span><span class="kp">and</span><span class="w"> </span><span class="s">"order"</span><span class="ow">...</span>
<span class="n">Found</span><span class="w"> </span><span class="k">proof</span><span class="o">:</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">simp</span><span class="w"> </span><span class="o">(</span><span class="n">0</span><span class="w"> </span><span class="n">ms</span><span class="o">)</span>
<span class="n">Found</span><span class="w"> </span><span class="k">proof</span><span class="o">:</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">0</span><span class="w"> </span><span class="n">ms</span><span class="o">)</span>
<span class="n">Found</span><span class="w"> </span><span class="k">proof</span><span class="o">:</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">fastforce</span><span class="w"> </span><span class="o">(</span><span class="n">0</span><span class="w"> </span><span class="n">ms</span><span class="o">)</span>
<span class="n">Found</span><span class="w"> </span><span class="k">proof</span><span class="o">:</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">force</span><span class="w"> </span><span class="o">(</span><span class="n">0</span><span class="w"> </span><span class="n">ms</span><span class="o">)</span>
<span class="n">Try</span><span class="w"> </span><span class="n">this</span><span class="o">:</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">simp</span><span class="w"> </span><span class="o">(</span><span class="n">0</span><span class="w"> </span><span class="n">ms</span><span class="o">)</span>
</code></pre></div>
<p>I only find in documentations the descriptions about the function of "try", it will try the tactics on the goal, and I am taught by the tutorial that "apply" attacks all the existing subgoals. May I please ask how to use the result other than:</p>
<p>have "" ... by (something obtained by try)<br>
have "" ... by (something obtained by try, again)</p>
<p>?</p>
<p>And, without some "have" and "show", I cannot write "apply" when 7 subgoals are displayed on the interactive window. Previously I just copy and paste what try gives me to each subgoal, but now they are 7 of them, so it becomes a bit labor-taking. Is the "one-by-one" approach the best we can do? (I will not be supervised too much if the answer is yes... My impression is Isar is forbidding anything that breaks the readability of a proof.)</p>



<a name="470977991"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/470977991" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#470977991">(Sep 17 2024 at 13:22)</a>:</h4>
<p>I wrote the expanded proof of the example.  <strong>But note that this question remains unsolved, even partially</strong>. I will (greatly!) appreciate comments on the shortcuts  I should take. There is many repetition. </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">KGproof_APPEND</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof Γ p2 ⟹ (KGproof Γ p1 ⟹ KGproof Γ (p1 @ p2))"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="n">arbitrary</span><span class="o">:</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="n">KGproof.induct</span><span class="o">)</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">G</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">2</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a2</span><span class="o">:</span><span class="w"> </span><span class="s">"List.member (p1 @ p) (f1 → f2)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">2</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">member_def</span><span class="o">)</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a3</span><span class="o">:</span><span class="w"> </span><span class="s">"List.member (p1 @ p) f1"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">2</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">member_def</span><span class="o">)</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="n">a3</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">2</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">3</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">σ</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a2</span><span class="o">:</span><span class="w"> </span><span class="s">"List.member (p1 @ p) (f)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">3</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">member_def</span><span class="o">)</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">3</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="k">qed</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">4</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">4</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a2</span><span class="o">:</span><span class="w"> </span><span class="s">"List.member (p1 @ p) (f)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">4</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">member_def</span><span class="o">)</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">4</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">5</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">form</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">5</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">5</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">6</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">6</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">6</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">6</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">7</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">7</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>
<span class="k">qed</span>
</code></pre></div>



<a name="471047943"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471047943" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471047943">(Sep 17 2024 at 17:41)</a>:</h4>
<ol>
<li>Linearize your proofs</li>
</ol>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">7</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">7</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
<span class="w">  </span><span class="k">qed</span>

<span class="o">-</span><span class="n">&gt;</span>


<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">7</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">f</span><span class="o">)</span>
<span class="w">   </span><span class="k">have</span><span class="w"> </span><span class="n">a1</span><span class="o">:</span><span class="w"> </span><span class="s">"KGproof G (p1 @ p)"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">   </span><span class="k">with</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">KGproof.intros</span><span class="o">(</span><span class="n">7</span><span class="o">)</span><span class="w"> </span><span class="n">append.assoc</span><span class="o">)</span>
</code></pre></div>
<ol start="2">
<li>Isabelle/jedit suggests a proof structure use. Use that  by clicking on it and inserting it. It is not highlighted in blue and clickable for making Isabelle/jEdit looking nice and colorful. </li>
<li>and <em>then</em> add try0 in the sorry. Using it in non-proof mode accidentally works, but it is not really intended to.</li>
<li>At some point, the system forces you to do things in a certain way like Isar requiring reasonable proofs. At that point you have a choice: use Isabelle as it forces you to do so or fight Isabelle. I suggest the former to get anything done.</li>
</ol>



<a name="471050534"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471050534" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471050534">(Sep 17 2024 at 17:52)</a>:</h4>
<p>Thanks! I will try it now. So may I please confirm: it does not make sense to do <code>proof - </code> and then immediately <code>try0</code>?</p>



<a name="471051371"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051371" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051371">(Sep 17 2024 at 17:56)</a>:</h4>
<p>No. It makes sense to use <code>try0</code>before the proof or in a have / show whatever</p>



<a name="471051403"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051403" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051403">(Sep 17 2024 at 17:56)</a>:</h4>
<p>but you want to be in proof mode</p>



<a name="471051527"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051527" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051527">(Sep 17 2024 at 17:57)</a>:</h4>
<p>I do not intend to fight Isabelle. Sometimes I am irritated by what it gives me. I will make attempts to get used to it. I am irritated when I do not know how to proceed if I cannot change the appearance of the goal. I do believe I will appreciate Isar after some days.</p>



<a name="471051626"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051626" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051626">(Sep 17 2024 at 17:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22/near/471051371">said</a>:</p>
<blockquote>
<p>No. It makes sense to use <code>try0</code>before the proof or in a have / show whatever</p>
</blockquote>
<p>But in this case, if it does give something, can I tell which goal does it apply?</p>



<a name="471051692"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051692" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051692">(Sep 17 2024 at 17:57)</a>:</h4>
<p>For completeness: I am aware that using try0 the way you are doing can help to populate the ... in <code>qed ...</code>, but I do not like that syntax because it is basically apply style</p>



<a name="471051880"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471051880" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471051880">(Sep 17 2024 at 17:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22/near/471051626">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22/near/471051371">said</a>:</p>
<blockquote>
<p>No. It makes sense to use <code>try0</code>before the proof or in a have / show whatever</p>
</blockquote>
<p>But in this case, if it does give something, can I tell which goal does it apply?</p>
</blockquote>
<p>it apples to the first goal</p>



<a name="471052079"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471052079" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471052079">(Sep 17 2024 at 17:59)</a>:</h4>
<p>So it only tries to attack the first goal?</p>



<a name="471052137"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471052137" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471052137">(Sep 17 2024 at 17:59)</a>:</h4>
<p>yes</p>



<a name="471052309"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471052309" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471052309">(Sep 17 2024 at 18:00)</a>:</h4>
<p>I remember from some documentation try0 will try on all the subgoals, but highly possible that I misremembered this.</p>



<a name="471052375"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Applying%20the%20results%20obtained%20by%20%22try%22/near/471052375" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Applying.20the.20results.20obtained.20by.20.22try.22.html#471052375">(Sep 17 2024 at 18:00)</a>:</h4>
<p>I will remember from now. Thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>