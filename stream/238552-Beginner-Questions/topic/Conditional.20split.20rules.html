<html>
<head><meta charset="utf-8"><title>Conditional split rules · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditional.20split.20rules.html">Conditional split rules</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="502726475"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditional%20split%20rules/near/502726475" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditional.20split.20rules.html#502726475">(Mar 01 2025 at 08:55)</a>:</h4>
<p>Hey everyone, does isabelle support conditional split rules? It doesn't seem like it. In the following snippet, the simp fails to apply my split rule. (The example isn't supposed to make sense, I was just trying to see what the required syntax of split rules is)</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">[</span><span class="n">split</span><span class="o">]:</span><span class="w"> </span><span class="s">"wf s ⟹ P (do_move s m) = ((fst m = snd m ⟶ P empty_state) ∧ (fst m ≠ snd m ⟶ P ([0] ⊣ A)))"</span>
<span class="w">  </span><span class="gr">sorry</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">abc</span><span class="o">:</span><span class="w"> </span><span class="s">"wf s ⟹ do_move s (p, q) ≠ empty_state"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="n">simp</span><span class="w"> </span><span class="c">(* Failed to apply proof method⌂: *)</span>
</code></pre></div>
<p>If I remove the "wf s" in xyz, the apply simp instruction applies the split rule just fine. I need the wf because some of the splits only make sense in the context of a well-formed state. Is there a way to make conditional splits work? Or am I missing some insight in that using conditional splits is a dumb idea?</p>



<a name="502727954"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditional%20split%20rules/near/502727954" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditional.20split.20rules.html#502727954">(Mar 01 2025 at 09:17)</a>:</h4>
<p>based on <code>find_theorems "_ ⟹ _" name:split</code> I don't see any with conditions</p>



<a name="502728009"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditional%20split%20rules/near/502728009" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditional.20split.20rules.html#502728009">(Mar 01 2025 at 09:18)</a>:</h4>
<p>so might be a limit of the splitter</p>



<a name="502731254"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditional%20split%20rules/near/502731254" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditional.20split.20rules.html#502731254">(Mar 01 2025 at 10:03)</a>:</h4>
<p>I keep learning new ways to use <code>find_theorems</code>! Thank you for the clarification.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>