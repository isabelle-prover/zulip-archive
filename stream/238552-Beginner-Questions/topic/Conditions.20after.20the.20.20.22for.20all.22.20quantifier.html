<html>
<head><meta charset="utf-8"><title>Conditions after the  &quot;for all&quot; quantifier · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html">Conditions after the  &quot;for all&quot; quantifier</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="372873897"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372873897" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris_Y <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372873897">(Jul 06 2023 at 12:10)</a>:</h4>
<p>Hi everyone, sorry this might be a trivial question, but how would you add conditions to the variable after the "for all" quantifier?</p>
<p>For example, I'd like to write "For all naturals N <em>such that</em> N mod m = m - 1, there exists integers b and r with certain properties" and I'm not sure how to write the <em>such that</em> bit. I tried writing the statement in this way:</p>
<p><code>have "∃r::nat. (r≤m-3) ∧ [N=b1+r] (mod m)" if asm3:"(N::nat) mod m =m-1"</code></p>
<p>and from here I can deduce </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">state</span><span class="o">)</span>
<span class="n">this</span><span class="o">:</span>
<span class="w">  </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∃b</span><span class="w"> </span><span class="n">r.</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">[</span><span class="n">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">r</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">mod</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">m</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b2</span><span class="o">)</span>
</code></pre></div>
<p>However, I'm not sure whether this contains the  <code>∀N::nat.</code> requirement. I'm guessing not, as at the end of my proof Isabelle is unable to combine to following to show the intended goal (either by auto or sledgehammer)</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">this</span><span class="o">:</span>
<span class="w">    </span><span class="n">∀N.</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span>
<span class="w">    </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∃b</span><span class="w"> </span><span class="n">r.</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">[</span><span class="n">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">r</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">mod</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">m</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b2</span><span class="o">)</span>
<span class="w">    </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∃b</span><span class="w"> </span><span class="n">r.</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">[</span><span class="n">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">r</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">mod</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">m</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b2</span><span class="o">)</span>
<span class="w">    </span><span class="n">N</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∃b</span><span class="w"> </span><span class="n">r.</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">[</span><span class="n">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">r</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">mod</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">m</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b2</span><span class="o">)</span>

<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">∀N.</span><span class="w"> </span><span class="n">∃b</span><span class="w"> </span><span class="n">r.</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">≤</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">[</span><span class="n">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">r</span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="n">mod</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">m</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="n">∨</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b2</span><span class="o">)</span>
</code></pre></div>
<p>Any help or advice would be greatly appreciated! Thank you!</p>



<a name="372876913"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372876913" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372876913">(Jul 06 2023 at 12:21)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">   </span><span class="k">have</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="kp">if</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="kp">for</span><span class="w"> </span><span class="n">N</span>
</code></pre></div>



<a name="372877010"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372877010" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372877010">(Jul 06 2023 at 12:21)</a>:</h4>
<p>very useful version of have</p>



<a name="372885746"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372885746" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372885746">(Jul 06 2023 at 12:51)</a>:</h4>
<p>Yes. Makarius calls these "eigencontexts". They've been available for a few years and I use them a lot.</p>



<a name="372886397"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372886397" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372886397">(Jul 06 2023 at 12:52)</a>:</h4>
<p>of course you can also write <code>∀N. P N ⟶ Q N</code> or, using the meta for-all quantifier, <code>⋀N. P n ⟹ Q X</code>.</p>



<a name="372901301"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Conditions%20after%20the%20%20%22for%20all%22%20quantifier/near/372901301" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris_Y <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Conditions.20after.20the.20.20.22for.20all.22.20quantifier.html#372901301">(Jul 06 2023 at 13:38)</a>:</h4>
<p>That works! No words could describe my happiness. Thank you!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>