<html>
<head><meta charset="utf-8"><title>Convertion about pairs (components specified/unspecified) · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html">Convertion about pairs (components specified/unspecified)</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="476490842"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476490842" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476490842">(Oct 12 2024 at 04:19)</a>:</h4>
<p>I would like to, from this version of the theorem:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="s">"cwff ((Op,ρ),Φ) (cBOX m fl) ⟷</span>
<span class="s">  (m ∈ Op ∧ ρ m = length fl ∧</span>
<span class="s">   (∀f. f ∈ list.set fl ⟶ cwff ((Op,ρ),Φ) f))"</span>
</code></pre></div>
<p>obtain the following version where the components are not specified.</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="s">"cwff (τ,Φ) (cBOX m fl) ⟷</span>
<span class="s">  (m ∈ (fst τ) ∧ (snd τ) m = length fl ∧</span>
<span class="s">   (∀f. f ∈ list.set fl ⟶ cwff (τ,Φ) f))"</span>
</code></pre></div>
<p>sledgehammer gives the following:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Sledgehammering...</span>
<span class="n">cvc4</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">verit</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">cvc4</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">cvc4</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">vampire</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">vampire</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">proof</span><span class="ow">...</span>
<span class="n">cvc4</span><span class="o">:</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="n">this</span><span class="o">:</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">smt</span><span class="w"> </span><span class="o">(</span><span class="n">verit</span><span class="o">)</span><span class="w"> </span><span class="n">prod.collapse</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">&gt;</span><span class="w"> </span><span class="n">1.0</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">timed</span><span class="w"> </span><span class="n">out</span><span class="o">)</span>
<span class="n">cvc4</span><span class="o">:</span><span class="w"> </span><span class="n">Duplicate</span><span class="w"> </span><span class="k">proof</span>
<span class="n">cvc4</span><span class="o">:</span><span class="w"> </span><span class="n">Duplicate</span><span class="w"> </span><span class="k">proof</span>
<span class="n">vampire</span><span class="o">:</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="n">this</span><span class="o">:</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">surjective_pairing</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">&gt;</span><span class="w"> </span><span class="n">1.0</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">timed</span><span class="w"> </span><span class="n">out</span><span class="o">)</span>

<span class="n">Isar</span><span class="w"> </span><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">8.2</span><span class="w"> </span><span class="n">s</span><span class="o">):</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="k">obtain</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('a, 'b) cform list ⇒ 'b set ⇒ ('a ⇒ nat) ⇒ 'a set ⇒ ('a, 'b) cform"</span><span class="w"> </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"∀X1 X2 X3 X4. (∃X5. ¬ cwff ((X4, X3), X2) X5 ∧ X5 ∈ list.set X1) ⟶ ¬ cwff ((X4, X3), X2) (cc X1 X2 X3 X4) ∧ cc X1 X2 X3 X4 ∈ list.set X1"</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">moura</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">obtain</span><span class="w"> </span><span class="n">cca</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('a, 'b) cform list ⇒ 'b set ⇒ ('a ⇒ nat) ⇒ 'a set ⇒ ('a, 'b) cform"</span><span class="w"> </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"∀a cs B f A. (cwff ((A, f), B) (cBOX a cs) ∨ a ∉ A ∨ ¬ cwff ((A, f), B) (cca cs B f A) ∧ cca cs B f A ∈ list.set cs ∨ length cs ≠ f a) ∧ (a ∈ A ∧ (∀c. cwff ((A, f), B) c ∨ c ∉ list.set cs) ∧ length cs = f a ∨ ¬ cwff ((A, f), B) (cBOX a cs))"</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="o">(</span><span class="n">full_types</span><span class="o">)</span><span class="w"> </span><span class="n">cwff_cBOX0</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">smt</span><span class="w"> </span><span class="o">(</span><span class="n">z3</span><span class="o">)</span><span class="w"> </span><span class="n">surjective_pairing</span><span class="o">)</span>
<span class="k">qed</span>
<span class="n">verit</span><span class="o">:</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="n">this</span><span class="o">:</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">smt</span><span class="w"> </span><span class="o">(</span><span class="n">verit</span><span class="o">)</span><span class="w"> </span><span class="n">prod.exhaust_sel</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">&gt;</span><span class="w"> </span><span class="n">1.0</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">timed</span><span class="w"> </span><span class="n">out</span><span class="o">)</span>
<span class="n">vampire</span><span class="o">:</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="n">this</span><span class="o">:</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">cBOX_def</span><span class="w"> </span><span class="n">prod.exhaust_sel</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">&gt;</span><span class="w"> </span><span class="n">1.0</span><span class="w"> </span><span class="n">s</span><span class="o">,</span><span class="w"> </span><span class="n">timed</span><span class="w"> </span><span class="n">out</span><span class="o">)</span>

<span class="n">Isar</span><span class="w"> </span><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">6.4</span><span class="w"> </span><span class="n">s</span><span class="o">):</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="k">obtain</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('a ⇒ nat) ⇒ 'a set ⇒ 'b set ⇒ ('a, 'b) cform list ⇒ ('a, 'b) cform"</span><span class="w"> </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"∀X0 X2 X3 X4. (∃X5. X5 ∈ list.set X4 ∧ ¬ cwff ((X2, X0), X3) X5) ⟶ cc X0 X2 X3 X4 ∈ list.set X4 ∧ ¬ cwff ((X2, X0), X3) (cc X0 X2 X3 X4)"</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">moura</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">obtain</span><span class="w"> </span><span class="n">cca</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('a ⇒ nat) ⇒ 'a set ⇒ 'b set ⇒ ('a, 'b) cform list ⇒ ('a, 'b) cform"</span><span class="w"> </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"∀f a A B cs. (cwff ((A, f), B) (cBOX a cs) ∨ a ∉ A ∨ length cs ≠ f a ∨ cca f A B cs ∈ list.set cs ∧ ¬ cwff ((A, f), B) (cca f A B cs)) ∧ (a ∈ A ∧ length cs = f a ∧ (∀c. c ∉ list.set cs ∨ cwff ((A, f), B) c) ∨ ¬ cwff ((A, f), B) (cBOX a cs))"</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="o">(</span><span class="n">full_types</span><span class="o">)</span><span class="w"> </span><span class="n">cwff_cBOX0</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">smt</span><span class="w"> </span><span class="o">(</span><span class="n">z3</span><span class="o">)</span><span class="w"> </span><span class="n">prod.exhaust_sel</span><span class="o">)</span>
<span class="k">qed</span>
<span class="n">Done</span>
</code></pre></div>



<a name="476490902"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476490902" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476490902">(Oct 12 2024 at 04:20)</a>:</h4>
<p>The above may suggests that it is not the correct way to do it. Why it is so hard for sledgehammer? How can I easily transfer from one version to another?</p>



<a name="476496873"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476496873" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476496873">(Oct 12 2024 at 05:59)</a>:</h4>
<p>Given that this just works, it is hard to say why verit fails</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="s">"⋀Op ρ Φ m fl. cwff ((Op,ρ),Φ) (cBOX m fl) ⟷</span>
<span class="s">       (m ∈ Op ∧ ρ m = length fl ∧</span>
<span class="s">       (∀f. f ∈ list.set fl ⟶ cwff ((Op,ρ),Φ) f))"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"cwff (τ,Φ) (cBOX m fl) ⟷</span>
<span class="s">    (m ∈ (fst τ) ∧ (snd τ) m = length fl ∧</span>
<span class="s">     (∀f. f ∈ list.set fl ⟶ cwff (τ,Φ) f))"</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">assms</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">prod.collapse</span><span class="o">)</span>
</code></pre></div>
<p>But proving one from the other by instantiating the variable + auto should be sufficient.</p>



<a name="476497508"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497508" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497508">(Oct 12 2024 at 06:07)</a>:</h4>
<p>Thanks! Just for convenience during the interactive proof, if I write:</p>
<p>lemma cwff_cBOX : <br>
  "cwff (τ,Φ) (cBOX m fl) ⟷ <br>
  (m ∈ (fst τ) ∧ (snd τ) m = length fl ∧ <br>
   (∀f. f ∈ list.set fl ⟶ cwff (τ,Φ) f))"<br>
  using cwff_cBOX0 <br>
proof (cases τ)<br>
  case (Pair a b)<br>
  then show ?thesis sorry<br>
qed</p>
<p>Then the output panel displays: </p>
<p><a href="/user_uploads/14278/KMsEFpkdC9rfsHET5aZsTi16/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/KMsEFpkdC9rfsHET5aZsTi16/image.png" title="image.png"><img data-original-dimensions="2624x1476" src="/user_uploads/thumbnail/14278/KMsEFpkdC9rfsHET5aZsTi16/image.png/840x560.webp"></a></div>



<a name="476497534"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497534" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497534">(Oct 12 2024 at 06:07)</a>:</h4>
<p>I would be more comfortable if it directly replace all the occurrences of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span></span></span></span> by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>, is there any method that gives that?</p>



<a name="476497606"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497606" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497606">(Oct 12 2024 at 06:08)</a>:</h4>
<p><code>unfolding Pair(2)</code> or <code>apply (unfold Pair(2))</code></p>



<a name="476497642"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497642" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497642">(Oct 12 2024 at 06:09)</a>:</h4>
<p>The lowlevel variant being <code>hypsubst</code></p>



<a name="476497807"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497807" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497807">(Oct 12 2024 at 06:12)</a>:</h4>
<p>Where is Pair(2)?<br>
I tried</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">find_theorems</span><span class="w"> </span><span class="n">name</span><span class="o">:</span><span class="n">Pair</span>
<span class="kt">thm</span><span class="w"> </span><span class="n">Pair</span><span class="o">(</span><span class="n">2</span><span class="o">)</span>
</code></pre></div>
<p>find theorems gives:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">found</span><span class="w"> </span><span class="n">14</span><span class="w"> </span><span class="kn">theorem</span><span class="o">(</span><span class="n">s</span><span class="o">):</span>
<span class="w">  </span><span class="n">Product_Type.case_prod_Pair</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">λ</span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">)</span><span class="ow">.</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">))</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span>
<span class="w">  </span><span class="n">Product_Type.scomp_Pair</span><span class="o">:</span><span class="w"> </span><span class="n">scomp</span><span class="w"> </span><span class="o">?</span><span class="n">x</span><span class="w"> </span><span class="n">Pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">x</span>
<span class="w">  </span><span class="n">Product_Type.Pair_scomp</span><span class="o">:</span><span class="w"> </span><span class="n">scomp</span><span class="w"> </span><span class="o">(</span><span class="n">Pair</span><span class="w"> </span><span class="o">?</span><span class="n">x</span><span class="o">)</span><span class="w"> </span><span class="o">?</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">f</span><span class="w"> </span><span class="o">?</span><span class="n">x</span>
<span class="w">  </span><span class="n">Product_Type.Pair_def</span><span class="o">:</span>
<span class="w">    </span><span class="o">(?</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="o">?</span><span class="n">b</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Abs_prod</span><span class="w"> </span><span class="o">(</span><span class="n">Pair_Rep</span><span class="w"> </span><span class="o">?</span><span class="n">a</span><span class="w"> </span><span class="o">?</span><span class="n">b</span><span class="o">)</span>
<span class="w">  </span><span class="n">Basic_BNF_LFPs.Pair_def_alt</span><span class="o">:</span>
<span class="w">    </span><span class="n">Pair</span><span class="w"> </span><span class="n">≡</span>
<span class="w">    </span><span class="n">λa</span><span class="w"> </span><span class="n">b.</span><span class="w"> </span><span class="n">Basic_BNF_LFPs.xtor</span>
<span class="w">           </span><span class="o">(</span><span class="n">BNF_Composition.id_bnf</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">))</span>
<span class="w">  </span><span class="n">BNF_Fixpoint_Base.Pair_transfer</span><span class="o">:</span>
<span class="w">    </span><span class="n">rel_fun</span><span class="w"> </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="o">(</span><span class="n">rel_fun</span><span class="w"> </span><span class="o">?</span><span class="n">B</span><span class="w"> </span><span class="o">(</span><span class="n">rel_prod</span><span class="w"> </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="o">?</span><span class="n">B</span><span class="o">))</span><span class="w"> </span><span class="n">Pair</span><span class="w"> </span><span class="n">Pair</span>
<span class="w">  </span><span class="n">BNF_Fixpoint_Base.case_prod_Pair_iden</span><span class="o">:</span>
<span class="w">    </span><span class="o">(</span><span class="k">case</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">)</span><span class="w"> </span><span class="n">⇒</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">))</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">p</span>
<span class="w">  </span><span class="n">Product_Type.Pair_Rep_def</span><span class="o">:</span>
<span class="w">    </span><span class="n">Pair_Rep</span><span class="w"> </span><span class="o">?</span><span class="n">a</span><span class="w"> </span><span class="o">?</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="n">λx</span><span class="w"> </span><span class="n">y.</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">a</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">b</span><span class="o">)</span>
<span class="w">  </span><span class="n">Product_Type.Pair_vimage_Sigma</span><span class="o">:</span>
<span class="w">    </span><span class="n">Pair</span><span class="w"> </span><span class="o">?</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="sx">` Sigma ?A ?f =</span>
<span class="sx">    (if ?x ∈ ?A then ?f ?x else {})</span>
<span class="sx">  Filter.filtermap_Pair:</span>
<span class="sx">    filtermap (λx. (?f x, ?g x)) ?F</span>
<span class="sx">    ≤ filtermap ?f ?F ×⇩F filtermap ?g ?F</span>
<span class="sx">  BNF_Greatest_Fixpoint.subst_Pair:</span>
<span class="sx">    ?P ?x ?y ⟹ ?a = (?x, ?y) ⟹ ?P (fst ?a) (snd ?a)</span>
<span class="sx">  BNF_Least_Fixpoint.ssubst_Pair_rhs:</span>
<span class="sx">    (?r, ?s) ∈ ?R ⟹ ?s' = ?s ⟹ (?r, ?s') ∈ ?R</span>
<span class="sx">  Product_Type.Pair_inject:</span>
<span class="sx">    (?a, ?b) = (?a', ?b') ⟹</span>
<span class="sx">    (?a = ?a' ⟹ ?b = ?b' ⟹ ?R) ⟹ ?R</span>
<span class="sx">  Filter.filterlim_Pair:</span>
<span class="sx">    filterlim ?f ?G ?F ⟹</span>
<span class="sx">    filterlim ?g ?H ?F ⟹</span>
<span class="sx">    LIM x ?F. (?f x, ?g x) :&gt; ?G ×⇩F ?H</span>
</code></pre></div>



<a name="476497832"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497832" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497832">(Oct 12 2024 at 06:13)</a>:</h4>
<p>try after the case</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">Pair</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="o">)</span>
</code></pre></div>



<a name="476497896"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497896" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497896">(Oct 12 2024 at 06:14)</a>:</h4>
<p><a href="/user_uploads/14278/pLQZmxhUrDUWQ0UtdQZ7dLoF/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/pLQZmxhUrDUWQ0UtdQZ7dLoF/image.png" title="image.png"><img data-original-dimensions="2624x1476" src="/user_uploads/thumbnail/14278/pLQZmxhUrDUWQ0UtdQZ7dLoF/image.png/840x560.webp"></a></div>



<a name="476497926"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476497926" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476497926">(Oct 12 2024 at 06:15)</a>:</h4>
<p>Both of them gives the same error message: Bad fact selection "Pair(2)" (length 1)⌂ .</p>



<a name="476498001"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498001" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498001">(Oct 12 2024 at 06:16)</a>:</h4>
<p>Ahh you do not have <code>cwff_BOX0</code> in the context (what was the point of the <code>using assms</code> then?)</p>



<a name="476498010"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498010" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498010">(Oct 12 2024 at 06:17)</a>:</h4>
<p>then it is <code>Pair(1)</code> (or <code>Pair</code>)</p>



<a name="476498201"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498201" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498201">(Oct 12 2024 at 06:20)</a>:</h4>
<p>Yes, Pair(1) or Pair works, gives what I want.</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">1.</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">    </span><span class="n">cwff</span><span class="w"> </span><span class="o">((</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">),</span><span class="w"> </span><span class="n">Φ</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">cBOX</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">fl</span><span class="o">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="o">(</span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">fst</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span>
<span class="w">     </span><span class="n">snd</span><span class="w"> </span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">)</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span>
<span class="w">     </span><span class="o">(</span><span class="n">∀f.</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">list.set</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">cwff</span><span class="w"> </span><span class="o">((</span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="o">),</span><span class="w"> </span><span class="n">Φ</span><span class="o">)</span><span class="w"> </span><span class="n">f</span><span class="o">))</span>
</code></pre></div>
<p>But sorry, I do not understand why it is relevant to "using cwff_BOX0"? It is just the theorem with two components unfolded, and I would like to see it in the interactive window.</p>



<a name="476498235"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498235" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498235">(Oct 12 2024 at 06:21)</a>:</h4>
<p>It looks like:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">  </span><span class="n">cwff</span><span class="w"> </span><span class="o">((?</span><span class="n">Op</span><span class="o">,</span><span class="w"> </span><span class="o">?</span><span class="n">ρ</span><span class="o">),</span><span class="w"> </span><span class="o">?</span><span class="n">Φ</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">cBOX</span><span class="w"> </span><span class="o">?</span><span class="n">m</span><span class="w"> </span><span class="o">?</span><span class="n">fl</span><span class="o">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="o">(?</span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">Op</span><span class="w"> </span><span class="n">∧</span>
<span class="w">     </span><span class="o">?</span><span class="n">ρ</span><span class="w"> </span><span class="o">?</span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">?</span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span>
<span class="w">     </span><span class="o">(</span><span class="n">∀f.</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">list.set</span><span class="w"> </span><span class="o">?</span><span class="n">fl</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">cwff</span><span class="w"> </span><span class="o">((?</span><span class="n">Op</span><span class="o">,</span><span class="w"> </span><span class="o">?</span><span class="n">ρ</span><span class="o">),</span><span class="w"> </span><span class="o">?</span><span class="n">Φ</span><span class="o">)</span><span class="w"> </span><span class="n">f</span><span class="o">))</span>
</code></pre></div>



<a name="476498292"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498292" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498292">(Oct 12 2024 at 06:22)</a>:</h4>
<p>If I do</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">cwff_cBOX0</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">unfold</span><span class="w"> </span><span class="n">Pair</span><span class="o">(</span><span class="n">2</span><span class="o">))</span>
</code></pre></div>
<p>It will still complain "Bad fact selection "Pair(2)" (length 1)⌂".</p>



<a name="476498489"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498489" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498489">(Oct 12 2024 at 06:26)</a>:</h4>
<p>Okay, Isabelle is pushing you to do the right thing here: the <code> using cwff_cBOX0</code> has no effect at all. So you should remove it.</p>



<a name="476498516"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498516" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498516">(Oct 12 2024 at 06:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29/near/476498292">said</a>:</p>
<blockquote>
<p>If I do</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">cwff_cBOX0</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">unfold</span><span class="w"> </span><span class="n">Pair</span><span class="o">(</span><span class="n">2</span><span class="o">))</span>
</code></pre></div>
<p>It will still complain "Bad fact selection "Pair(2)" (length 1)⌂".</p>
</blockquote>
<p>The error message is saying that you should use <code>Pair(1)</code>...</p>



<a name="476498550"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498550" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498550">(Oct 12 2024 at 06:27)</a>:</h4>
<p>You can also use <code>induction</code> instead of <code>cases</code> to split</p>



<a name="476498618"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498618" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498618">(Oct 12 2024 at 06:29)</a>:</h4>
<p>I have just found that Pair(1) is not a theorem but local, I see. It is just \tau = (a,b).</p>



<a name="476498645"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Convertion%20about%20pairs%20%28components%20specified/unspecified%29/near/476498645" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29.html#476498645">(Oct 12 2024 at 06:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Convertion.20about.20pairs.20.28components.20specified.2Funspecified.29/near/476498550">said</a>:</p>
<blockquote>
<p>You can also use <code>induction</code> instead of <code>cases</code> to split</p>
</blockquote>
<p>Thanks and that does work, I see.</p>
<p>proof (induction τ)<br>
  case (Pair a b)<br>
  then show ?case sorry<br>
qed</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>