<html>
<head><meta charset="utf-8"><title>Generated code slower than &quot;value&quot; command · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html">Generated code slower than &quot;value&quot; command</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="455033434"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Generated%20code%20slower%20than%20%22value%22%20command/near/455033434" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sage Binder <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html#455033434">(Jul 30 2024 at 05:41)</a>:</h4>
<p>Hi all,</p>
<p>I've written an Isabelle algorithm and exported it to Scala. It seems that the Scala code runs much slower than when using the "value" command within Isabelle, even when I compile the Scala with -opt:inline:**.</p>
<p>I thought the "value" command uses Scala behind the scenes, so I expected the performance of the generated code to match the performance of "value". What can I do to get the performance of my generated code, whether in Scala or another language, to match the "value" command's performance?</p>
<p>Thanks</p>



<a name="455074831"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Generated%20code%20slower%20than%20%22value%22%20command/near/455074831" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html#455074831">(Jul 30 2024 at 09:09)</a>:</h4>
<p>eval is using Standard ML (more precisely the PolyML compiler)</p>



<a name="455076170"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Generated%20code%20slower%20than%20%22value%22%20command/near/455076170" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html#455076170">(Jul 30 2024 at 09:14)</a>:</h4>
<p>Without knowing exactly what you did it is hard to know where the problem comes from. But: </p>
<ul>
<li>Scala and java do not immediately JIT compile the code there are using. </li>
<li>for better code performance you want the native integers instead of the default Peano representation</li>
<li>(rather unlikely but depends on your code) when using native 32-bit uint, scala suffers from the encoding as there are no unsigned in java</li>
</ul>



<a name="455471263"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Generated%20code%20slower%20than%20%22value%22%20command/near/455471263" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html#455471263">(Jul 31 2024 at 19:52)</a>:</h4>
<p>Wasn't there also an issue about curried functions being slow in scala or has that been resolved?</p>



<a name="455591081"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Generated%20code%20slower%20than%20%22value%22%20command/near/455591081" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Generated.20code.20slower.20than.20.22value.22.20command.html#455591081">(Aug 01 2024 at 08:41)</a>:</h4>
<p>I am not aware of an issue, but I though that the generated code was uncurried in scala by default?</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>