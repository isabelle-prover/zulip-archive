<html>
<head><meta charset="utf-8"><title>Import Executable_Set · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html">Import Executable_Set</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="218266190"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218266190" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218266190">(Nov 30 2020 at 09:50)</a>:</h4>
<p>Hi everybody,</p>
<p>I wrote a function to convert a set to a list</p>
<div class="codehilite"><pre><span></span><code>fun convert_set_to_list :: &quot;&#39;a set ⇒ &#39;a list&quot; where
  &quot;convert_set_to_list {} =  []&quot; |
  &quot;convert_set_to_list (insert x A) = [x] @ convert_set_to_list A&quot;
</code></pre></div>
<p>the output showed: </p>
<div class="codehilite"><pre><span></span><code>Non-constructor pattern not allowed in sequential mode.
convert_set_to_list {} = []
</code></pre></div>
<p>I found a solution that I should import <code>Executable_Set</code> to use <code>{}</code> directly in this forum: <a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2008-January/msg00035.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2008-January/msg00035.html</a><br>
However, when I type <code>imports Main "~~/src/HOL/Library/Executable_Set"</code>, Isabelle said that <code>Bad theory import "Draft.Executable_Set"</code><br>
This library isn't supported anymore?</p>



<a name="218266449"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218266449" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218266449">(Nov 30 2020 at 09:53)</a>:</h4>
<ul>
<li>the function does not make sense (sets are not ordered: which element do you take first)</li>
<li><code>"HOL-Library.Executable_Set"</code> for the import</li>
</ul>



<a name="218267063"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218267063" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218267063">(Nov 30 2020 at 10:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218266449">said</a>:</p>
<blockquote>
<ul>
<li>The function does not make sense (sets are not ordered: which element do you take first)</li>
</ul>
</blockquote>
<p>So, there is no way to convert a general set to a list, right? I know <code>sorted_list_of_set</code>but it just applies for primary types like <code>nat</code>, <code>int</code>.</p>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218266449">said</a>:</p>
<blockquote>
<ul>
<li><code>"HOL-Library.Executable_Set"</code> for the import</li>
</ul>
</blockquote>
<p>It also doesn't work <code>Bad theory import "HOL-Library.Executable_Set"</code></p>



<a name="218277821"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218277821" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218277821">(Nov 30 2020 at 11:59)</a>:</h4>
<p>To convert a set to a list in an <em>executable</em> way you need a way to make the conversion <em>deterministic</em>. <code>sorted_list_of_set</code> does it by using the natural order relation.</p>



<a name="218278105"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218278105" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218278105">(Nov 30 2020 at 12:03)</a>:</h4>
<p>For executable set: the theory does not exist anymore in <code>HOL/Library</code>. I don't know what changed, but most likely you don't need that import anyway.</p>



<a name="218282928"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218282928" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218282928">(Nov 30 2020 at 13:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218277821">said</a>:</p>
<blockquote>
<p>To convert a set to a list in an <em>executable</em> way you need a way to make the conversion <em>deterministic</em>. <code>sorted_list_of_set</code> does it by using the natural order relation.</p>
</blockquote>
<p>I'm not clear about <code>making the conversion *deterministic*</code> much. Can you give me some hints, please?</p>



<a name="218288352"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218288352" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218288352">(Nov 30 2020 at 13:53)</a>:</h4>
<p>take the set {2,3,4} and the lists: </p>
<div class="codehilite"><pre><span></span><code>[2,3,4]
[4,2,3]
[2,2,3,3,4]
</code></pre></div>
<p>all these lists  (and many others) respect the conditions <code>set xs = {2,3,4}</code>. Which one do you pick?</p>



<a name="218288713"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218288713" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218288713">(Nov 30 2020 at 13:56)</a>:</h4>
<p>What you tried to write is <code>SPEC(%xs. set xs = {2,3,4})</code>. Now you also expect to see a lists such that you do computations on it. Therefore, you want to restrict <code>(%xs. set xs = {2,3,4})</code> to return a <em>single</em> result.</p>



<a name="218293106"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218293106" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218293106">(Nov 30 2020 at 14:30)</a>:</h4>
<p>Thank you for your suggestion. I tried </p>
<div class="codehilite"><pre><span></span><code>definition Ptype :: &quot;nat set&quot;
  where &quot;Ptype = {0, 1}&quot;

definition Ptype1 :: &quot;nat set&quot;
  where &quot;Ptype1 = {2, 3}&quot;

value &quot;(Ptype × Ptype1)&quot;
value &quot;sorted_list_of_set (SPEC (%xs. set xs = Ptype × Ptype1))&quot;
value &quot;hd (sorted_list_of_set (SPEC (%xs. set xs = Ptype × Ptype1)))&quot;
</code></pre></div>
<p>I expect that the last line should return <code>(0,2)</code> - a concrete value, but it returns</p>
<div class="codehilite"><pre><span></span><code>&quot;hd (sorted_list_of_set
      (SPEC
        (λu. (∀u∈set u. (0, 2) = u ∨ (0, 3) = u ∨ (1, 2) = u ∨ (1, 3) = u) ∧
              (0, 2) ∈ set u ∧ (0, 3) ∈ set u ∧ (1, 2) ∈ set u ∧ (1, 3) ∈ set u)))&quot;
  :: &quot;&#39;a&quot;
</code></pre></div>
<p>this is an abstract return.</p>



<a name="218321377"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218321377" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218321377">(Nov 30 2020 at 17:54)</a>:</h4>
<p>SPEC is not executable. I don't understand what you are even trying here....</p>



<a name="218321545"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218321545" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218321545">(Nov 30 2020 at 17:56)</a>:</h4>
<p>above I meant that <code>SPEC(%xs. set xs = {2,3,4})</code> is what you seem to be trying to do in an executable way. You cannot use it directly.</p>



<a name="218323113"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218323113" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218323113">(Nov 30 2020 at 18:08)</a>:</h4>
<p>I'm trying to convert a set to a list. For example, we have <code>A = {{1,2}, {3,4}}</code> after converting, it will be the list <code>B = [{1,2}, {3,4}]</code>. Thus, when I call <code>hd B</code> the result is <code>{1, 2}</code>. <code>sorted_list_of_set</code> only works for primary types like <code>nat</code> or <code>int</code> but doesn't work for structed types like <code>set set</code>, <code>list set</code> or <code>(nat * nat)</code>.</p>



<a name="218333587"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218333587" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218333587">(Nov 30 2020 at 19:27)</a>:</h4>
<p>I believe that you can instantiate lists with an (lin)order to make sorted_list_of_set work on "nat list list" (something like lenlex?), but I don't see how to make anything work for "set set"</p>



<a name="218334150"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218334150" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218334150">(Nov 30 2020 at 19:32)</a>:</h4>
<p>Yes, <code>nat list list</code> is no problem. That's why I want to know is whether any library to convert a general set to a list? But it seems doesn't exist.</p>



<a name="218334211"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218334211" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218334211">(Nov 30 2020 at 19:33)</a>:</h4>
<p>sorry I meant "nat list set", not "nat list list"</p>



<a name="218334331"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218334331" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218334331">(Nov 30 2020 at 19:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353155">Trinh Le Khanh</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218334150">said</a>:</p>
<blockquote>
<p>Yes, <code>nat list list</code> is no problem. That's why I want to know is whether any library to convert a general set to a list? But it seems doesn't exist.</p>
</blockquote>
<p>No, because it cannot work in HOL.</p>



<a name="218334491"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218334491" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218334491">(Nov 30 2020 at 19:35)</a>:</h4>
<p>I have a question: why don't you use lists directly? The automation for them is quite good and you can use <code>set</code> to convert them to a set.</p>



<a name="218334643"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218334643" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218334643">(Nov 30 2020 at 19:36)</a>:</h4>
<p>Lists also have induction rules that are more convenient to work with compared to finite sets.</p>



<a name="218335543"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218335543" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218335543">(Nov 30 2020 at 19:43)</a>:</h4>
<p>Ah, it depends on my problem. Suppose we have some <em>Type</em> (e.g. Windows, Mac OS) and each of them have a set of concrete <em>Instances</em> (e.g. {w98, xp, w7}, {Catalina, Big Sur}). <br>
Firstly, I defined them as lists and it works. Then, I run to a general case, in which we define <em>Type</em> and <em>Instances</em> in an abstract view. For example:</p>
<div class="codehilite"><pre><span></span><code>lemma  test_smt:
  assumes &quot;finite Types&quot;
</code></pre></div>
<p>I mean, Types and Instances are finite sets (we don't care about concrete values). We seem cannot define a <code>finite list</code> like this.</p>



<a name="218335770"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218335770" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218335770">(Nov 30 2020 at 19:45)</a>:</h4>
<p>Lists are always finite</p>



<a name="218336202"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218336202" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218336202">(Nov 30 2020 at 19:49)</a>:</h4>
<p>wow, I thought we have to define <code>finite</code> to determine it. Thank you very much.</p>



<a name="218362393"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218362393" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218362393">(Nov 30 2020 at 23:44)</a>:</h4>
<p>I wrote this lemma but it unprovable, can you check it a little bit?</p>
<div class="codehilite"><pre><span></span><code>fun pair_mapping :: &quot;&#39;a list ⇒ &#39;b list list ⇒ (&#39;a * &#39;b) list&quot; where
&quot;pair_mapping [] [] = []&quot; |
&quot;pair_mapping (x # xs) [] = []&quot; |
&quot;pair_mapping [] (y # ys)  = []&quot; |
&quot;pair_mapping (x # xs) (y # ys) = pair_ns x y @ pair_mapping xs ys&quot;

fun set_ins_of_type :: &quot;&#39;a ⇒ &#39;a list ⇒ &#39;a list list ⇒ &#39;a set&quot; where
&quot;set_ins_of_type k PT PI = (if k ∈ (set PT) then set (lookup k (pair_mapping PT PI)) else {})&quot;
(*---------more complex------------*)
lemma test_complex:
  assumes &quot;(Pt :: &#39;a list) ≠ []&quot;
  assumes &quot;(PIns :: &#39;a list list) ≠ []&quot;
  assumes &quot;length Pt = length PIns&quot;
  assumes &quot;∀x ∈ set PIns. x ≠ []&quot;
  shows &quot;(∀k ∈ set Pt.∀h∈ (set_ins_of_type k Pt PIns). P k h ⟶ (∀h1∈ (set_ins_of_type k Pt PIns)-{h}. ¬P k h1)) ⟹
  (∀k ∈ set Pt.∃h∈ (set_ins_of_type k Pt PIns).∀h1∈ (set_ins_of_type k Pt PIns)-{h}. ¬P k h1)&quot;
  using [[simp_trace]] assms
  sledgehammer (*all the provers timed out*)
</code></pre></div>
<p>Then, I back to a concrete example but this lemma is also unprovable.</p>
<div class="codehilite"><pre><span></span><code>(*---------test types------------*)
definition Pt0 :: &quot;nat list&quot;
  where &quot;Pt0 = [0, 1]&quot;

definition Pi0 :: &quot;nat list list&quot;
  where &quot;Pi0 = [[2,3], [4,5]]&quot;

lemma &quot;∀k ∈ set Pt0.∀h∈ (set_ins_of_type k Pt0 Pi0). P k h ⟶ (∀h1∈ (set_ins_of_type k Pt0 Pi0)-{h}. ¬P k h1)
⟹ ∀k ∈ set Pt0.∃h∈ (set_ins_of_type k Pt0 Pi0).∀h1∈ (set_ins_of_type k Pt0 Pi0)-{h}. ¬P k h1&quot;
  unfolding Pt0_def Pi0_def
  using [[simp_trace]]
  sledgehammer
</code></pre></div>
<p>Then I used <code>value</code> to compute the LHS and RHS of the lemma separately and make a new lemma for them. It worked</p>
<div class="codehilite"><pre><span></span><code>value &quot;∀k ∈ set Pt0.∀h∈ (set_ins_of_type k Pt0 Pi0). P k h ⟶ (∀h1∈ (set_ins_of_type k Pt0 Pi0)-{h}. ¬P k h1)&quot;
value &quot;∀k ∈ set Pt0.∃h∈ (set_ins_of_type k Pt0 Pi0).∀h1∈ (set_ins_of_type k Pt0 Pi0)-{h}. ¬P k h1&quot;

lemma concrete: &quot;(((P 0 2 ⟶ ¬ P 0 3) ∧ (P 0 3 ⟶ ¬ P 0 2)) ∧ (P 1 4 ⟶ ¬ P 1 5) ∧ (P 1 5 ⟶ ¬ P 1 4)) ⟹ ((¬ P 0 3 ∨ ¬ P 0 2) ∧ (¬ P 1 5 ∨ ¬ P 1 4))&quot;
  by blast
</code></pre></div>
<p>I don't know why the lemma using variables doesn't work but the concrete once does. (I also made a large number of each element in the list <code>Pi0</code>and the concrete once worked.)</p>



<a name="218406197"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218406197" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218406197">(Dec 01 2020 at 10:59)</a>:</h4>
<ul>
<li>supply [[simp_trace]]` before sledgehammer makes no sense</li>
<li>sledgehammer is not magic: you still have to prove things by hand (and in your case you still have the loop in the simplifier, which you should probably investigate...)</li>
</ul>



<a name="218406250"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218406250" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218406250">(Dec 01 2020 at 10:59)</a>:</h4>
<p>(I have nothing to say on the question)</p>



<a name="218409672"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218409672" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218409672">(Dec 01 2020 at 11:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218406250">said</a>:</p>
<blockquote>
<p>(I have nothing to say on the question)</p>
</blockquote>
<p>I'm sorry if the question looks stupid but actually, I have no direction to understand why it was. Could you give me some hints to find the answer?</p>



<a name="218411391"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218411391" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218411391">(Dec 01 2020 at 11:55)</a>:</h4>
<p>Let me answer with another question: why would any tactic be able to solve your goal?</p>



<a name="218411553"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218411553" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218411553">(Dec 01 2020 at 11:57)</a>:</h4>
<p>Even if lectures make it look like everything can be solved by a magic combination of <code>induction</code> and <code>auto</code>, this is not the case in general. It is impossible to translate a proof in Isabelle that you don't really understand. Even if you find the proof trivial and Isabelle fails, you have to decompose into even simpler steps. And if those steps are still too complicated, you have to do even smaller steps.</p>



<a name="218411813"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218411813" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218411813">(Dec 01 2020 at 11:59)</a>:</h4>
<p>Usually the simpler steps hint as lemmas you have to prove. Maybe those steps will allow to have a proof like <code>by (auto ...)</code>. Maybe not.</p>



<a name="218412500"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218412500" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218412500">(Dec 01 2020 at 12:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218411391">said</a>:</p>
<blockquote>
<p>Let me answer with another question: why would any tactic be able to solve your goal?</p>
</blockquote>
<p>because it's small enough to be proved by provers, right?<br>
As I understand, I should split the lemma into small cases and prove them manually, right? looks like this:</p>
<div class="codehilite"><pre><span></span><code>proof (induct xs arbitrary: ys zs)
  case Nil then show ?case by simp
next
  case (Cons x xs ys zs) then show ?case by (cases ys, simp_all)
    (cases zs, simp_all)
qed
</code></pre></div>



<a name="218412971"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218412971" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218412971">(Dec 01 2020 at 12:10)</a>:</h4>
<p>I would not have started by an induction, but I also spent less than 2s of thinking about it.</p>



<a name="218428826"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218428826" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wassell <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218428826">(Dec 01 2020 at 14:31)</a>:</h4>
<p>I could be wrong but it would seem that you are trying to prove a specific case of this:</p>
<div class="codehilite"><pre><span></span><code>lemma
  assumes &quot;S ∉ {}&quot; and &quot;∀X ∈ S. X ≠ {}&quot;
  assumes &quot;∀X ∈ S. ∀x ∈ X. P x ⟶ (∀y ∈ X - { x }. ¬ P y)&quot;
  shows &quot;∀X ∈ S. ∃x ∈ X. ∀y ∈ X - { x }. ¬ P y&quot;
</code></pre></div>
<p>which is easily provable.</p>



<a name="218448597"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218448597" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218448597">(Dec 01 2020 at 16:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312950">Mark Wassell</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218428826">said</a>:</p>
<blockquote>
<p>I could be wrong but it would seem that you are trying to prove a specific case of this:</p>
<div class="codehilite"><pre><span></span><code>lemma
  assumes &quot;S ∉ {}&quot; and &quot;∀X ∈ S. X ≠ {}&quot;
  assumes &quot;∀X ∈ S. ∀x ∈ X. P x ⟶ (∀y ∈ X - { x }. ¬ P y)&quot;
  shows &quot;∀X ∈ S. ∃x ∈ X. ∀y ∈ X - { x }. ¬ P y&quot;
</code></pre></div>
<p>which is easily provable.</p>
</blockquote>
<p>Thank you for concerning my problem. <br>
If the predicate has a single parameter like <code>P x, Q y</code>, I can prove it easily as follows:</p>
<div class="codehilite"><pre><span></span><code>lemma test_simplest:
  assumes &quot;finite Pt&quot; and &quot;Pt ≠ {}&quot;
  shows &quot;(∀x ∈ Pt. P x ⟶ (∀x1 ∈ Pt - {x}. ¬P x1)) ⟹ (∃x∈Pt.∀x1∈Pt-{x}. ¬P x1)&quot;
  using [[simp_trace]] assms
  sledgehammer
  by blast
</code></pre></div>
<p>My case is a little bit more complex with two or more parameters like <code>P x y</code> or <code>Q x y z</code> and the value of the latter one is depended on the value of the previous (e.g. <code>z</code> depends on <code>y</code>, and <code>y</code> depends on <code>x</code>)</p>



<a name="218452952"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218452952" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wassell <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218452952">(Dec 01 2020 at 17:14)</a>:</h4>
<p>Mathematically you are working with a set of indexed sets: your list Pt is providing the index and PIns the elements of the indexed set. Here is a more complicated lemma that is closer to what you need.  Here the predicate takes two parameters</p>
<div class="codehilite"><pre><span></span><code>lemma test_simplest3:
  fixes S:: &quot;(&#39;a * (&#39;b set)) set&quot;
  assumes &quot;S ∉ {}&quot; and &quot;∀X ∈ S. snd X ≠ {}&quot;
  assumes &quot;∀X ∈ S. ∀x ∈ snd X. P (fst X) x ⟶ (∀y ∈ (snd X - { x }). ¬ P (fst X) y)&quot;
  shows &quot;∀X ∈ S. ∃x ∈ snd X. ∀y ∈ snd X - { x }. ¬ P (fst X) y&quot;
  using assms
  by (metis Diff_iff equals0I)
</code></pre></div>



<a name="218471162"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Import%20Executable_Set/near/218471162" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trinh Le Khanh <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Import.20Executable_Set.html#218471162">(Dec 01 2020 at 19:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312950">Mark Wassell</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Import.20Executable_Set/near/218452952">said</a>:</p>
<blockquote>
<p>Mathematically you are working with a set of indexed sets: your list Pt is providing the index and PIns the elements of the indexed set. Here is a more complicated lemma that is closer to what you need.  Here the predicate takes two parameters</p>
<p><div class="codehilite"><pre><span></span><code>lemma test_simplest3:
  fixes S:: &quot;(&#39;a * (&#39;b set)) set&quot;
  assumes &quot;S ∉ {}&quot; and &quot;∀X ∈ S. snd X ≠ {}&quot;
  assumes &quot;∀X ∈ S. ∀x ∈ snd X. P (fst X) x ⟶ (∀y ∈ (snd X - { x }). ¬ P (fst X) y)&quot;
  shows &quot;∀X ∈ S. ∃x ∈ snd X. ∀y ∈ snd X - { x }. ¬ P (fst X) y&quot;
  using assms
  by (metis Diff_iff equals0I)
</code></pre></div><br>
</p>
</blockquote>
<p>That's amazing. I realize that I'm solving my problem in a complex way by defining separately <code>'a</code> and <code>'b set</code> and calculating everything on them. Thank you so much.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>