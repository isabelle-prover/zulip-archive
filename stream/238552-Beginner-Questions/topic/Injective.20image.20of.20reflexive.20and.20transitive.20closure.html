<html>
<head><meta charset="utf-8"><title>Injective image of reflexive and transitive closure · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html">Injective image of reflexive and transitive closure</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="498613565"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613565" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613565">(Feb 09 2025 at 16:31)</a>:</h4>
<p>I want to consider embedding a relation to another type, and I defined:<br>
definition inc_rel where <br>
"inc_rel i R ≡ {p. (∃ r1 r2. (r1,r2) ∈ R ∧ p = (i r1, i r2))}"</p>
<p>inc_rel is supposed to embed R via an injection i.</p>



<a name="498613579"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613579" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613579">(Feb 09 2025 at 16:31)</a>:</h4>
<p>I want as an effect:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">theorem</span><span class="w"> </span><span class="n">rtrancl_inj</span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">"inj_on i (Domain R ∪ Range R)"</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">" inc_rel i (R⇧*) = (inc_rel i R)⇧*"</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">assms</span>
</code></pre></div>



<a name="498613646"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613646" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613646">(Feb 09 2025 at 16:32)</a>:</h4>
<p>However, nitpick tells me that is wrong.</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Nitpicking</span><span class="w"> </span><span class="n">goal</span><span class="o">:</span>
<span class="w">  </span><span class="n">inj_on</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">(</span><span class="n">Domain</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="n">∪</span><span class="w"> </span><span class="n">Range</span><span class="w"> </span><span class="n">R</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">  </span><span class="n">inc_rel</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">(</span><span class="n">R⇧*</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="n">inc_rel</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">R</span><span class="o">)</span><span class="n">⇧*</span>
<span class="n">Nitpick</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">quasi</span><span class="w"> </span><span class="n">genuine</span><span class="w"> </span><span class="n">counterexample</span>
<span class="kp">for</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n n-Type">'b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="kp">and</span><span class="w"> </span><span class="n">card</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">2</span><span class="o">:</span>
<span class="w">  </span><span class="n">Free</span><span class="w"> </span><span class="n">variables</span><span class="o">:</span>
<span class="w">    </span><span class="n">R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">{}</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="n">λx.</span><span class="w"> </span><span class="o">_)(</span><span class="n">a⇩1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">b⇩1</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">b⇩2</span><span class="o">)</span>
<span class="n">Try</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s">"user_axioms"</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">"true"</span><span class="w"> </span><span class="n">to</span>
<span class="n">confirm</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">counterexample</span><span class="w"> </span><span class="kp">is</span><span class="w"> </span><span class="n">genuine</span>
</code></pre></div>



<a name="498613737"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613737" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613737">(Feb 09 2025 at 16:33)</a>:</h4>
<p>But it then seems that it does not conceive my definition of inc_rel correctly. I expect the both <code>(inc_rel I R)^*</code> and <code>inc_rel i R^*</code> are empty, given that R is empty.</p>



<a name="498613741"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613741" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613741">(Feb 09 2025 at 16:33)</a>:</h4>
<p>What is wrong here?</p>



<a name="498613954"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498613954" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498613954">(Feb 09 2025 at 16:36)</a>:</h4>
<p>Nitpick is telling you that it is not sure if the counter example is correct: <code>found a quasi genuine counterexample</code></p>



<a name="498614022"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614022" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614022">(Feb 09 2025 at 16:37)</a>:</h4>
<p>Quickchecks claims to have found a counterexample:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Testing</span><span class="w"> </span><span class="n">conjecture</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">Quickcheck</span><span class="o">-</span><span class="n">exhaustive...</span>
<span class="n">Quickcheck</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">counterexample</span><span class="o">:</span>
<span class="w">  </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="n">λx.</span><span class="w"> </span><span class="n">undefined</span><span class="o">)(</span><span class="n">a⇩1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">a⇩1</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">a⇩1</span><span class="o">)</span>
<span class="w">  </span><span class="n">R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">{}</span>
<span class="n">Evaluated</span><span class="w"> </span><span class="n">terms</span><span class="o">:</span>
<span class="w">  </span><span class="n">inc_rel</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">(</span><span class="n">R⇧*</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">{</span><span class="o">(</span><span class="n">a⇩1</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩1</span><span class="o">),</span><span class="w"> </span><span class="o">(</span><span class="n">a⇩1</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩1</span><span class="o">)</span><span class="ow">}</span>
<span class="w">  </span><span class="o">(</span><span class="n">inc_rel</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">R</span><span class="o">)</span><span class="n">⇧*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">{</span><span class="o">(</span><span class="n">a⇩1</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩1</span><span class="o">),</span><span class="w"> </span><span class="o">(</span><span class="n">a⇩2</span><span class="o">,</span><span class="w"> </span><span class="n">a⇩2</span><span class="o">)</span><span class="ow">}</span>
</code></pre></div>



<a name="498614033"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614033" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614033">(Feb 09 2025 at 16:37)</a>:</h4>
<p>but it looks wrong too</p>



<a name="498614101"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614101" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614101">(Feb 09 2025 at 16:38)</a>:</h4>
<p>Again I think both relations should be empty.</p>



<a name="498614122"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614122" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614122">(Feb 09 2025 at 16:38)</a>:</h4>
<p>I see, that is helpful to know that counter-example finders can be wrong...</p>



<a name="498614145"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614145" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614145">(Feb 09 2025 at 16:39)</a>:</h4>
<p>BTW are you aware of anything that considers the image of relations under functions?</p>



<a name="498614177"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614177" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614177">(Feb 09 2025 at 16:39)</a>:</h4>
<p>Ahhhhh</p>



<a name="498614234"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614234" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614234">(Feb 09 2025 at 16:40)</a>:</h4>
<p>you do not want the reflexive transitive closure</p>



<a name="498614244"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614244" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614244">(Feb 09 2025 at 16:40)</a>:</h4>
<p>only the transitive closure, right?</p>



<a name="498614250"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614250" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614250">(Feb 09 2025 at 16:40)</a>:</h4>
<p>I just find it annoying to prove the image of a tree relation is a tree...</p>



<a name="498614265"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614265" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614265">(Feb 09 2025 at 16:40)</a>:</h4>
<p>I want both, actually.</p>



<a name="498614342"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614342" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614342">(Feb 09 2025 at 16:41)</a>:</h4>
<p>So actually, the counter example is not wrong, your theorem does not mean what you think it means</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">‹rtrancl {} = (λx. (x,x)) ` UNIV›</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
</code></pre></div>



<a name="498614531"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614531" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614531">(Feb 09 2025 at 16:44)</a>:</h4>
<p>I wonder why it is defined like this... Let me check the definition.</p>



<a name="498614537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614537">(Feb 09 2025 at 16:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure/near/498614145">said</a>:</p>
<blockquote>
<p>BTW are you aware of anything that considers the image of relations under functions?</p>
</blockquote>
<p>you mean about <code>f `` R</code>?</p>



<a name="498614553"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614553" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614553">(Feb 09 2025 at 16:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure/near/498614531">said</a>:</p>
<blockquote>
<p>I wonder why it is defined like this... Let me check the definition.</p>
</blockquote>
<p><em>reflexive</em> transitive closure</p>



<a name="498614564"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614564" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614564">(Feb 09 2025 at 16:44)</a>:</h4>
<p>it must be _reflexive_</p>



<a name="498614610"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614610" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614610">(Feb 09 2025 at 16:45)</a>:</h4>
<p>Not only making the ones that is already in the relation reflexive, I see.</p>



<a name="498614646"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614646" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614646">(Feb 09 2025 at 16:45)</a>:</h4>
<p>that why there is also the  transitive closure (<code>^+</code> in Isabelle)</p>



<a name="498614740"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614740" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614740">(Feb 09 2025 at 16:46)</a>:</h4>
<p>So is there anything consider the image of transitive closure?</p>



<a name="498614800"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614800" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614800">(Feb 09 2025 at 16:47)</a>:</h4>
<p>Fair enough if nothing exists yet...</p>



<a name="498614900"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614900" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614900">(Feb 09 2025 at 16:48)</a>:</h4>
<p>Thankfully I just convinced that my usage of it in my theorems is not wrong. I was panic for a moment.</p>



<a name="498614923"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614923" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614923">(Feb 09 2025 at 16:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure/near/498614740">said</a>:</p>
<blockquote>
<p>So is there anything consider the image of transitive closure?</p>
</blockquote>
<p><code>term ‹Image ((rtrancl A) :: ('a × 'a) set)›</code>?</p>



<a name="498614947"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614947" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614947">(Feb 09 2025 at 16:49)</a>:</h4>
<p>or are you talking about something else?</p>



<a name="498614956"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498614956" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498614956">(Feb 09 2025 at 16:49)</a>:</h4>
<p>I mean the image under a function.</p>



<a name="498615073"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498615073" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498615073">(Feb 09 2025 at 16:50)</a>:</h4>
<p>Here I actually only care about injective functions.</p>



<a name="498615131"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498615131" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498615131">(Feb 09 2025 at 16:51)</a>:</h4>
<p>Can you write it down formally? I do not know what that is.</p>



<a name="498615206"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498615206" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498615206">(Feb 09 2025 at 16:52)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">definition</span><span class="w"> </span><span class="n">im_rel</span><span class="w"> </span><span class="kp">where</span>
<span class="s">"im_rel i R ≡ {p. (∃ r1 r2. (r1,r2) ∈ R ∧ p = (i r1, i r2))}"</span>
</code></pre></div>



<a name="498615579"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498615579" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498615579">(Feb 09 2025 at 16:56)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">term</span><span class="w"> </span><span class="s">‹(range (λx. (f x,f x))) O R›</span>
</code></pre></div>
<p>I know the <code> (λx. (f x,f x))</code> has a name, but it is escaping me right now</p>



<a name="498615726"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Injective%20image%20of%20reflexive%20and%20transitive%20closure/near/498615726" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Injective.20image.20of.20reflexive.20and.20transitive.20closure.html#498615726">(Feb 09 2025 at 16:58)</a>:</h4>
<p>Thanks! That is helpful to know. I will bug people around.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>