<html>
<head><meta charset="utf-8"><title>Inspecting context · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html">Inspecting context</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="207248816"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207248816" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207248816">(Aug 18 2020 at 11:37)</a>:</h4>
<p>I tried to inspect the context with</p>
<p>theorem "A ⟹ A"<br>
proof -<br>
ML ‹ val foo = @{context} ›</p>
<p>but the system pointed to the problem that</p>
<p>"Bad context for command "ML"⌂ -- using reset state "</p>
<p>What is wrong here with my ML code?</p>



<a name="207248956"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207248956" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207248956">(Aug 18 2020 at 11:39)</a>:</h4>
<p>The ML command works at the same level as 'lemma'.</p>



<a name="207249037"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249037" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249037">(Aug 18 2020 at 11:40)</a>:</h4>
<p>So ML does not work inside proofs, but I don't know how to call ML inside proofs...</p>



<a name="207249061"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249061" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249061">(Aug 18 2020 at 11:40)</a>:</h4>
<p>I see, thanks.</p>



<a name="207249082"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249082" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249082">(Aug 18 2020 at 11:41)</a>:</h4>
<p><code>ML_prf</code></p>



<a name="207249189"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249189" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249189">(Aug 18 2020 at 11:42)</a>:</h4>
<p>Indeed, <span class="user-mention" data-user-id="232736">@Manuel Eberl</span> . Next question: Proof.context seems to be an abstract data type. Is there a function that shows its contents? I did not find one in the Isabelle Cookbook.</p>



<a name="207249250"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249250" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249250">(Aug 18 2020 at 11:43)</a>:</h4>
<p>ML_val works, but Manuel was faster</p>



<a name="207249305"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249305" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249305">(Aug 18 2020 at 11:44)</a>:</h4>
<p><code>ML_val</code>should be stateless though.</p>



<a name="207249483"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249483" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249483">(Aug 18 2020 at 11:46)</a>:</h4>
<p>Looks like a proof context is basically just a theory plus some extra generic data</p>



<a name="207249492"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249492" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249492">(Aug 18 2020 at 11:47)</a>:</h4>
<p>don't think you can access that extra data directly</p>



<a name="207249503"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249503" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249503">(Aug 18 2020 at 11:47)</a>:</h4>
<p>I am not convinced looking inside a context is a good idea. ASFAIK contexts are a nightmare that no-one really understands.</p>



<a name="207249615"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249615" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249615">(Aug 18 2020 at 11:48)</a>:</h4>
<p>I see, <span class="user-mention" data-user-id="233198">@Mathias Fleury</span></p>



<a name="207249845"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249845" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249845">(Aug 18 2020 at 11:51)</a>:</h4>
<p>Basically, whenever I try manipulating contexts, I try to either (i) find an example somewhere in the ML files or (ii) find a email from Makarius where (he rants that whoever asks is doing it wrong and) gives the "correct" way to do it</p>



<a name="207249904"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207249904" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207249904">(Aug 18 2020 at 11:52)</a>:</h4>
<p>But maybe Manuel knows a better way...</p>



<a name="207250198"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250198" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250198">(Aug 18 2020 at 11:56)</a>:</h4>
<p>What do you mean by "manipulating contexts"?</p>



<a name="207250235"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250235" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250235">(Aug 18 2020 at 11:57)</a>:</h4>
<p>But yeah I haven't really understood how to work with contexts myself. There are still many things about them that I have no idea how to do because I never needed to do them, fortunately.</p>



<a name="207250282"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250282" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250282">(Aug 18 2020 at 11:58)</a>:</h4>
<p>Context manipulation I did:</p>
<ul>
<li>At some point I tried to localise some simprocs</li>
<li>Declaring assumptions, variables (currently extending Isabelle smt tactic to supports veriT)</li>
</ul>



<a name="207250385"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250385" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250385">(Aug 18 2020 at 11:59)</a>:</h4>
<p>My, probably failed idea was to understand better basic Isar primitives by looking at the Isar Virtual Machine state transitions. From your contribution it seems that this is not a doable way. I digged into the Isar codebase but it is hard to understand what is going on.</p>



<a name="207250504"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250504" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250504">(Aug 18 2020 at 12:00)</a>:</h4>
<p>That is way beyond what I ever tried to understand. I cannot really help you for that.</p>



<a name="207250608"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250608" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250608">(Aug 18 2020 at 12:02)</a>:</h4>
<p>I mean you can do <code>print_context</code> in Isar and that will at least show you the fixed variables and assumptions, I think…</p>



<a name="207250637"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Inspecting%20context/near/207250637" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Inspecting.20context.html#207250637">(Aug 18 2020 at 12:02)</a>:</h4>
<p>Jasmin once told me that Isar is basically mapping everything to the corresponding tactic (<code>subgoal_tac</code>) and hiding it nicely via keywords</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>