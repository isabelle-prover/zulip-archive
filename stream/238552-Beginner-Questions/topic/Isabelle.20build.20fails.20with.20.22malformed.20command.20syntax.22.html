<html>
<head><meta charset="utf-8"><title>Isabelle build fails with &quot;malformed command syntax&quot; · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html">Isabelle build fails with &quot;malformed command syntax&quot;</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="437490010"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437490010" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chengsong Tan <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437490010">(May 07 2024 at 16:34)</a>:</h4>
<p>Hi,</p>
<p>I was trying to build an Isabelle session.<br>
I have changed into the directory where all my theory files I need to work with reside in.<br>
I have my theory file, called <code>NewSARspSFwdM.thy</code> and the ROOT file:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">session</span><span class="w"> </span><span class="s">"My_Session"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HOL</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="n">theories</span>
<span class="w">    </span><span class="n">NewSARspSFwdM</span>
</code></pre></div>
<p><code>NewSARspSFwdM</code> is the top-level file, and imports the other files, so I did not include other theories that are being imported.<br>
The error was like this:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">isabelle</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="ow">.</span>
<span class="n">Running</span><span class="w"> </span><span class="n">My_Session</span><span class="w"> </span><span class="ow">...</span>
<span class="n">My_Session</span><span class="w"> </span><span class="n">FAILED</span><span class="w"> </span><span class="o">(</span><span class="n">see</span><span class="w"> </span><span class="k">also</span><span class="w"> </span><span class="s">"isabelle build_log -H Error My_Session"</span><span class="o">)</span>
<span class="n">***</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="k">theory</span><span class="w"> </span><span class="s">"My_Session.CoherenceProperties"</span><span class="w"> </span><span class="o">(</span><span class="n">unresolved</span><span class="w"> </span><span class="s">"My_Session.Transposed"</span><span class="o">)</span>
<span class="n">***</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="k">theory</span><span class="w"> </span><span class="s">"My_Session.BuggyRules"</span><span class="w"> </span><span class="o">(</span><span class="n">unresolved</span><span class="w"> </span><span class="s">"My_Session.CoherenceProperties"</span><span class="o">)</span>
<span class="n">***</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="k">theory</span><span class="w"> </span><span class="s">"My_Session.BasicInvariants"</span><span class="w"> </span><span class="o">(</span><span class="n">unresolved</span><span class="w"> </span><span class="s">"My_Session.BuggyRules"</span><span class="o">)</span>
<span class="n">***</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="k">theory</span><span class="w"> </span><span class="s">"My_Session.NewSARspSFwdM"</span><span class="w"> </span><span class="o">(</span><span class="n">unresolved</span><span class="w"> </span><span class="s">"My_Session.BasicInvariants"</span><span class="o">)</span>
<span class="n">***</span><span class="w"> </span><span class="n">Malformed</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="k">syntax</span>
<span class="n">***</span><span class="w"> </span><span class="n">At</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="s">"&lt;malformed&gt;"</span><span class="w"> </span><span class="o">(</span><span class="n">line</span><span class="w"> </span><span class="n">1</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="s">"~/Dropbox/cxl2/cxl-formalisation/Transposed.thy"</span><span class="o">)</span>
<span class="n">Unfinished</span><span class="w"> </span><span class="n">session</span><span class="o">(</span><span class="n">s</span><span class="o">):</span><span class="w"> </span><span class="n">My_Session</span>
<span class="n">0</span><span class="o">:</span><span class="n">00</span><span class="o">:</span><span class="n">05</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="n">time</span>
</code></pre></div>
<p>But when checking with jedit, the <code>Transposed.thy</code> file gives no problems. What could be the issue?</p>
<p><a href="/user_uploads/14278/tPw8r5zw9mgjqC699wXC7suN/NewSARspSFwdM.thy">NewSARspSFwdM.thy</a><br>
<a href="/user_uploads/14278/8cBdsjh0_iOzHv-CTeb6kV-m/BasicInvariants.thy">BasicInvariants.thy</a><br>
<a href="/user_uploads/14278/zKVDuEgzZ6CHT8AdROj9MBAH/BuggyRules.thy">BuggyRules.thy</a><br>
<a href="/user_uploads/14278/znbGYCYXhUQsLyMVcw3o62Y9/CoherenceProperties.thy">CoherenceProperties.thy</a><br>
<a href="/user_uploads/14278/45rbwaWUyJLVj-AcCUlcW2f_/Transposed.thy">Transposed.thy</a><br>
<a href="/user_uploads/14278/apRcrnNA-hpj8ZbFcPmYkYcs/ROOT">ROOT</a></p>



<a name="437491142"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437491142" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437491142">(May 07 2024 at 16:42)</a>:</h4>
<p>Besides the fact that the file has no end, '‹' is not a character you can use. In Isabelle/jedit, File &gt; Reload as &gt; UTF8-Isabelle.</p>



<a name="437492058"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492058" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chengsong Tan <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492058">(May 07 2024 at 16:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22/near/437491142">said</a>:</p>
<blockquote>
<p>Besides the fact that the file has no end, '‹' is not a character you can use. In Isabelle/jedit, File &gt; Reload as &gt; UTF8-Isabelle.</p>
</blockquote>
<p>I must have copy-pasted from somewhere this symbol.....what a stupid mistake</p>



<a name="437492097"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492097" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chengsong Tan <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492097">(May 07 2024 at 16:48)</a>:</h4>
<p>Do ROOT files have to end with an <code>end</code>? Otherwise I can't find any other files listed without the <code>end</code> keyword.</p>



<a name="437492215"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492215" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492215">(May 07 2024 at 16:49)</a>:</h4>
<p>No the theory file has no end</p>



<a name="437492266"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492266" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492266">(May 07 2024 at 16:49)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">theory</span><span class="w"> </span><span class="n">Transposed</span><span class="w"> </span><span class="kp">imports</span><span class="w"> </span><span class="n">Main</span>
<span class="k">begin</span>
<span class="n">―‹</span>
<span class="ow">...</span>
<span class="n">›</span>
</code></pre></div>



<a name="437492295"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492295" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492295">(May 07 2024 at 16:49)</a>:</h4>
<p>ah sorry my bad</p>



<a name="437492404"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492404" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492404">(May 07 2024 at 16:50)</a>:</h4>
<p>the line breaks where exactly where my terminal ended, so it did not realize that the file was longer than that</p>



<a name="437492527"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492527" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492527">(May 07 2024 at 16:51)</a>:</h4>
<p>BTW you have also ∄, ⇒ as invalid characters</p>



<a name="437492619"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isabelle%20build%20fails%20with%20%22malformed%20command%20syntax%22/near/437492619" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isabelle.20build.20fails.20with.20.22malformed.20command.20syntax.22.html#437492619">(May 07 2024 at 16:51)</a>:</h4>
<p>⦈, Σ, ...</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>