<html>
<head><meta charset="utf-8"><title>Isar proof by 3 disjunctive cases · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html">Isar proof by 3 disjunctive cases</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="355059769"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355059769" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355059769">(May 02 2023 at 07:49)</a>:</h4>
<p>Hey everyone, I have an isar question. Is a structure as follows possible?</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">have</span><span class="w"> </span><span class="s">"P \/ Q \/ R"</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span>
<span class="k">proof</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"P"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"Q"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"R"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">qed</span>
</code></pre></div>
<p>When I tried it it only allowed two disjunctive cases, so after proving P I had to split Q \/ R apart again using <code>assume Q \/ R then show ?case proof ...</code>. Works fine but I'd like to avoid the extra nesting.</p>



<a name="355065997"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355065997" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355065997">(May 02 2023 at 08:12)</a>:</h4>
<p>I did not google hard enough, the answer is yes, this is possible. Discussed here: <a href="https://stackoverflow.com/questions/15901570/proof-rule-disje-for-nested-disjunction">https://stackoverflow.com/questions/15901570/proof-rule-disje-for-nested-disjunction</a></p>



<a name="355084157"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355084157" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yosuke Ito <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355084157">(May 02 2023 at 09:17)</a>:</h4>
<p>I agree to using <code>consider</code> command.</p>



<a name="355122279"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355122279" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355122279">(May 02 2023 at 11:41)</a>:</h4>
<p>Besides syntax preference, what factors are there to choose "consider" over the other options in the SO post?</p>



<a name="355135317"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355135317" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yosuke Ito <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355135317">(May 02 2023 at 12:30)</a>:</h4>
<p>Maybe it's just my preference, but <code>consider</code> is especially used for case analysis, so the proof by exhaustion would be easy to read.</p>



<a name="355562149"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355562149" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355562149">(May 03 2023 at 17:19)</a>:</h4>
<p>Well, with just disjunctions, it is trivial to relate the three parts of the proof to the subformulas; so you might want to not use <code>consider</code> here.</p>
<p>I haven’t checked the StackOverflow thread, but I just want to remark that the problem with the original example is that the automatically invoked <code>standard</code> method, which should perform <code>rule disjE</code> here, is only applied once. Something like <code>proof standard+</code> or <code>proof (elim disjE)</code> might do the trick.</p>



<a name="355624627"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355624627" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yosuke Ito <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355624627">(May 03 2023 at 23:30)</a>:</h4>
<p>Thanks, Wolfgang. Let me confirm your opinion.<br>
When you use <code>consider</code>, you are to prove that the cases exhaust all the patterns. In this case however, the hypothesis is already written in disjunction, so <code>consider</code> requires the extra task to prove the completness. That makes the proof less efficient.<br>
Is that what you are saying?</p>



<a name="355658409"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/355658409" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#355658409">(May 04 2023 at 05:03)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">have</span><span class="w"> </span><span class="s">"P ∨ Q ∨ R"</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">then</span><span class="w"> </span><span class="k">have</span><span class="w"> </span><span class="n">G</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">elim</span><span class="w"> </span><span class="n">disjE</span><span class="o">)</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"P"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"Q"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"R"</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">qed</span>
</code></pre></div>



<a name="356071833"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/356071833" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#356071833">(May 05 2023 at 14:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="428627">Yosuke Ito</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases/near/355624627">said</a>:</p>
<blockquote>
<p>Thanks, Wolfgang. Let me confirm your opinion.<br>
When you use <code>consider</code>, you are to prove that the cases exhaust all the patterns. In this case however, the hypothesis is already written in disjunction, so <code>consider</code> requires the extra task to prove the completness. That makes the proof less efficient.<br>
Is that what you are saying?</p>
</blockquote>
<p>Yes, that’s basically what I wanted to say, although I might not use the term “efficiency”. I always strive to write Isar proofs that are close to ordinary pen-and-paper proofs. It’s all about being intelligible for the reader. When making a non-trivial case distinction, you want to state what your cases actually are, but when distinguishing three cases already explicitly stated via a disjunction it would produce unnecessary boilerplate to essentially restate these three cases.</p>



<a name="356072238"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/356072238" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#356072238">(May 05 2023 at 14:12)</a>:</h4>
<p>Looking at the example code <span class="user-mention" data-user-id="233198">@Mathias Fleury</span> posted, I realize that with this style you even do restate the cases as assumptions; so there is really no need to be even more explicit and restate them via <code>consider</code> here.</p>



<a name="356172203"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/356172203" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yosuke Ito <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#356172203">(May 05 2023 at 22:02)</a>:</h4>
<p><span class="user-mention" data-user-id="423655">@Wolfgang Jeltsch</span> I definitely agree with you. I appreciate your detail explanation.<br>
<span class="user-mention" data-user-id="613529">@Bob Rubbens</span> Please follow Wolfgang's advice. Sorry for confusing you, but I learned a lot from your question.</p>



<a name="356247521"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Isar%20proof%20by%203%20disjunctive%20cases/near/356247521" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Rubbens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Isar.20proof.20by.203.20disjunctive.20cases.html#356247521">(May 06 2023 at 09:13)</a>:</h4>
<p>No problem, I also learned a lot :)</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>