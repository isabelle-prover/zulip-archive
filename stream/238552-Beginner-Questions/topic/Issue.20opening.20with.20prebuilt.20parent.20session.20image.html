<html>
<head><meta charset="utf-8"><title>Issue opening with prebuilt parent session image · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html">Issue opening with prebuilt parent session image</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="420249790"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420249790" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420249790">(Feb 07 2024 at 13:18)</a>:</h4>
<p>When I was trying to open an AFP entry (Automated Stateful Protocol Verification) by: </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">isa23</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="ow">.</span><span class="n">/afp</span><span class="o">-</span><span class="n">2023/thys/Automated_Stateful_Protocol_Verification</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="n">HOL</span><span class="o">-</span><span class="n">Eisbach</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="n">Stateful_Protocol_Composition_and_Typing</span><span class="w"> </span><span class="ow">.</span><span class="n">/afp</span><span class="o">-</span><span class="n">2023/thys/Automated_Stateful_Protocol_Verification/Eisbach_Protocol_Verification.thy</span>
</code></pre></div>
<p>Although I have already built the heap image for both HOL-Eisbach and Stateful_Protocol_Composition_and_Typing, both of them appear in </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">~/.isabelle/Isabelle2023/heaps/polyml</span><span class="o">-</span><span class="n">5.9_x86_64_32</span><span class="o">-</span><span class="n">linux/</span>
</code></pre></div>
<p>There was still a message saying "Bad parent session "Stateful_Protocol_Composition_and_Typing" for "Automated_Stateful_Protocol_Verification" ".<br>
I am wondering why is it the case, and what is the correct way to open a session with a prebuilt parent session image like this? I am using Ubuntu 22.04 if that helps.</p>



<a name="420250588"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420250588" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420250588">(Feb 07 2024 at 13:22)</a>:</h4>
<ol>
<li>You can only have one base logic - specifying <code>-l</code> twice just overwrites the first again</li>
<li>You need to add the sessions to your namespace. using <code> -A:</code> does that for all AFP sessions.</li>
</ol>



<a name="420251968"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420251968" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420251968">(Feb 07 2024 at 13:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="348400">Fabian Huch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420250588">said</a>:</p>
<blockquote>
<ol>
<li>You can only have one base logic - specifying <code>-l</code> twice just overwrites the first again</li>
<li>You need to add the sessions to your namespace. using <code> -A:</code> does that for all AFP sessions.</li>
</ol>
</blockquote>
<p>In the above command, I was specifying -l for Stateful_Protocol_Composition_and_Typing after the HOL-Eisbach, so according to overwriting rule, shouldn't the message be for HOL-Eisbach instead?<br>
Also when I try remove one of them (remove the <code>-l HOL-Eisbach</code>) and use <code>-A:</code><br>
, the problem is still there.</p>



<a name="420256191"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420256191" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420256191">(Feb 07 2024 at 13:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="348400">Fabian Huch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420250588">said</a>:</p>
<blockquote>
<ol>
<li>You can only have one base logic - specifying <code>-l</code> twice just overwrites the first again</li>
<li>You need to add the sessions to your namespace. using <code> -A:</code> does that for all AFP sessions.</li>
</ol>
</blockquote>
<p>Oh I was missing something, I used <code>isabelle jedit</code>, not <code>isabelle build</code></p>



<a name="420256446"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420256446" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420256446">(Feb 07 2024 at 13:52)</a>:</h4>
<p><code>Stateful_Protocol_Composition_and_Typing</code> is in the AFP, but not in any path you have added with <code>-d</code></p>



<a name="420256603"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420256603" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420256603">(Feb 07 2024 at 13:53)</a>:</h4>
<p>Please install the AFP with the instruction from <a href="https://www.isa-afp.org/help/">https://www.isa-afp.org/help/</a> then there is no -d problem anymore</p>



<a name="420256774"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420256774" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420256774">(Feb 07 2024 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420256446">said</a>:</p>
<blockquote>
<p><code>Stateful_Protocol_Composition_and_Typing</code> is in the AFP, but not in any path you have added with <code>-d</code></p>
</blockquote>
<p>I have the heap image for <code>Stateful_Protocol_Composition_and_Typing</code> in my <code>~/.isabelle/Isabelle2023/heaps/polyml-5.9_x86_64_32-linux/</code>, would that make any difference?</p>



<a name="420258072"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420258072" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420258072">(Feb 07 2024 at 14:00)</a>:</h4>
<p>No.</p>



<a name="420261414"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420261414" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420261414">(Feb 07 2024 at 14:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="348400">Fabian Huch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420250588">said</a>:</p>
<blockquote>
<ol>
<li>You can only have one base logic - specifying <code>-l</code> twice just overwrites the first again<br>
<del>2. You need to add the sessions to your namespace. using <code> -A:</code> does that for all AFP sessions.</del> Since this appears to be <code>isabelle jedit</code>, you simply need to install the AFP as stated on the help page. </li>
</ol>
</blockquote>



<a name="420272037"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420272037" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420272037">(Feb 07 2024 at 15:02)</a>:</h4>
<p>I got it to run, thank you both. By the way, what should be the right process to build the image for parent sessions, and then open jedit, with the already built image so that I don't have to load all parent sessions' theory files again every time I open the theory?</p>



<a name="420272748"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420272748" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420272748">(Feb 07 2024 at 15:05)</a>:</h4>
<p>Isabelle/jEdit caches the built image…</p>



<a name="420274107"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420274107" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420274107">(Feb 07 2024 at 15:11)</a>:</h4>
<p>You simply need to start jEdit with the right base logic (<code>-l</code>). However, you can only have a single base logic, so you need to decide on one and re-load all needed theory files from the other. In your case, using <code>Stateful_Protocol_Composition_and_Typing</code> as a base logic should be fast (<code>HOL-Eisbach</code> is tiny so loading those theory files in should not take long).</p>



<a name="420274311"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420274311" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420274311">(Feb 07 2024 at 15:12)</a>:</h4>
<p>If you depend on multiple larger sessions then I would create a single parent session that depends on all of them and build a heap image for that parent session.</p>



<a name="420357843"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420357843" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minh D <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420357843">(Feb 07 2024 at 23:01)</a>:</h4>
<p>Thanks, that teaches me a lot on how to use Isabelle</p>



<a name="420409298"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420409298" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420409298">(Feb 08 2024 at 08:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="348400">Fabian Huch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420274311">said</a>:</p>
<blockquote>
<p>If you depend on multiple larger sessions then I would create a single parent session that depends on all of them and build a heap image for that parent session.</p>
</blockquote>
<p>That is not necessary anymore I think. You have a root file for your current project and put the sessions to import as "sessions" in the ROOT file, then they are already included.</p>



<a name="420409657"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420409657" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420409657">(Feb 08 2024 at 08:39)</a>:</h4>
<p>may I know how you produce a heap with this approach? do you just <code>-l</code> the ROOT for your current project?</p>



<a name="420410702"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420410702" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420410702">(Feb 08 2024 at 08:46)</a>:</h4>
<p>I just -l ROOT it</p>



<a name="420412333"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420412333" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420412333">(Feb 08 2024 at 08:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420409298">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="348400">Fabian Huch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image/near/420274311">said</a>:</p>
<blockquote>
<p>If you depend on multiple larger sessions then I would create a single parent session that depends on all of them and build a heap image for that parent session.</p>
</blockquote>
<p>That is not necessary anymore I think. You have a root file for your current project and put the sessions to import as "sessions" in the ROOT file, then they are already included.</p>
</blockquote>
<p>What do you mean with 'included'? If I have two large sessions A and B and want to work on C that needs both, which heap image can I build so I don't have to re-load any theories from A and B while working on C?</p>



<a name="420449978"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420449978" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420449978">(Feb 08 2024 at 12:49)</a>:</h4>
<p>Isabelle/jEdit -l MyProject will compile all required imports, but I do not know how it works internally</p>



<a name="420456526"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420456526" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420456526">(Feb 08 2024 at 13:25)</a>:</h4>
<p>If you build the logic image for the whole project (here <code>-l C</code>) then that image contains everything, but then you can't edit C. Or am I missing something?</p>



<a name="420456815"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420456815" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420456815">(Feb 08 2024 at 13:26)</a>:</h4>
<p>Maybe we were talking past each other here.</p>



<a name="420468913"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420468913" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420468913">(Feb 08 2024 at 14:25)</a>:</h4>
<p>Ahh no you are right: I meant <code>Isabelle/jEdit -R MyProject </code></p>



<a name="420472975"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Issue%20opening%20with%20prebuilt%20parent%20session%20image/near/420472975" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Issue.20opening.20with.20prebuilt.20parent.20session.20image.html#420472975">(Feb 08 2024 at 14:45)</a>:</h4>
<p>Ah yes that actually works, great - I didn't know it did this automatically!</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>