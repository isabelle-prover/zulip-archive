<html>
<head><meta charset="utf-8"><title>Outer syntax error: proposition expected · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Outer.20syntax.20error.3A.20proposition.20expected.html">Outer syntax error: proposition expected</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="469599172"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Outer%20syntax%20error%3A%20proposition%20expected/near/469599172" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Outer.20syntax.20error.3A.20proposition.20expected.html#469599172">(Sep 12 2024 at 08:35)</a>:</h4>
<p>I am trying to define substitution of variables (into formulas) by recursion on constructors. And encounter the following syntax error:<br>
<a href="/user_uploads/14278/ShfQNnOAR0y9vmHVXpMLtI5r/image.png">image.png</a><br>
What is wrong here?</p>
<div class="message_inline_image"><a href="/user_uploads/14278/ShfQNnOAR0y9vmHVXpMLtI5r/image.png" title="image.png"><img data-original-dimensions="1898x724" src="/user_uploads/thumbnail/14278/ShfQNnOAR0y9vmHVXpMLtI5r/image.png/840x560.webp"></a></div>



<a name="469599374"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Outer%20syntax%20error%3A%20proposition%20expected/near/469599374" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Outer.20syntax.20error.3A.20proposition.20expected.html#469599374">(Sep 12 2024 at 08:35)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">datatype</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VAR</span><span class="w"> </span><span class="s">"num"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">FALSE</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">DISJ</span><span class="w"> </span><span class="s">"form"</span><span class="w"> </span><span class="s">"form"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="s">"form"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">DIAM</span><span class="w"> </span><span class="s">"form"</span>

<span class="k">fun</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"(num ⇒ form) ⇒ form ⇒ form"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"subst s FALSE = FALSE"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"subst s (VAR p) = s p"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"subst s (DISJ f1 f2) = DISJ (subst s f1) (subst s f2)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"subst s (NOT f) = NOT (subst s f)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"subst s (DIAM f) = DIAM (subst s f)"</span>
</code></pre></div>



<a name="469600506"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Outer%20syntax%20error%3A%20proposition%20expected/near/469600506" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Outer.20syntax.20error.3A.20proposition.20expected.html#469600506">(Sep 12 2024 at 08:38)</a>:</h4>
<p>no | before the first pattern</p>



<a name="469601088"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Outer%20syntax%20error%3A%20proposition%20expected/near/469601088" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Outer.20syntax.20error.3A.20proposition.20expected.html#469601088">(Sep 12 2024 at 08:40)</a>:</h4>
<p>Oh thanks, my stupid.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>