<html>
<head><meta charset="utf-8"><title>Question about fun extends to linorder · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html">Question about fun extends to linorder</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="380442670"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380442670" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380442670">(Jul 31 2023 at 17:58)</a>:</h4>
<p>By looking for the order.thy, I find the instance <code>instance "fun" :: (type, order) order proof
qed (auto simp add: le_fun_def intro: order.antisym)</code>. There is a straight idea whether fun could extend to linorder too.</p>
<p>Any help would be appreciated.</p>



<a name="380465047"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380465047" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380465047">(Jul 31 2023 at 19:16)</a>:</h4>
<p>if could give idea to solve below lemma proving would be better</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">datatype</span><span class="w"> </span><span class="n n-Type">'a</span><span class="w"> </span><span class="n">rexp</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">is_Zero</span><span class="o">:</span><span class="w"> </span><span class="n">Zero</span><span class="w"> </span><span class="o">|</span>
<span class="w">  </span><span class="n">is_One</span><span class="o">:</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="o">|</span>
<span class="w">  </span><span class="n">Sym</span><span class="w"> </span><span class="s">"'a Predicate.pred"</span><span class="o">|</span>
<span class="w">  </span><span class="n">Plus</span><span class="w"> </span><span class="s">"('a rexp)"</span><span class="w"> </span><span class="s">"('a rexp)"</span><span class="w"> </span><span class="o">|</span>
<span class="w">  </span><span class="n">Times</span><span class="w"> </span><span class="s">"('a rexp)"</span><span class="w"> </span><span class="s">"('a rexp)"</span><span class="w"> </span><span class="o">|</span>
<span class="w">  </span><span class="n">Star</span><span class="w"> </span><span class="s">"('a rexp)"</span>


<span class="k">instantiation</span><span class="w"> </span><span class="n">rexp</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">(</span><span class="n">order</span><span class="o">)</span><span class="w"> </span><span class="s">"{order}"</span>
<span class="k">begin</span>

<span class="k">fun</span><span class="w"> </span><span class="n">le_rexp</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"('a::order) rexp ⇒ ('a::order) rexp ⇒ bool"</span>
<span class="kp">where</span>
<span class="w">  </span><span class="s">"le_rexp Zero _ = True"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp _ Zero = False"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp One _ = True"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp _ One = False"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Sym a) (Sym b) = (Predicate.eval a ≤ Predicate.eval b)"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Sym _) _ = True"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp _ (Sym _) = False"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Star r) (Star s) = le_rexp r s"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Star _) _ = True"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp _ (Star _) = False"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Plus r r') (Plus s s') =</span>
<span class="s">    (if r = s then le_rexp r' s' else le_rexp r s)"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Plus _ _) _ = True"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp _ (Plus _ _) = False"</span>
<span class="o">|</span><span class="w"> </span><span class="s">"le_rexp (Times r r') (Times s s') =</span>
<span class="s">    (if r = s then le_rexp r' s' else le_rexp r s)"</span>

<span class="kt">term</span><span class="w"> </span><span class="s">"Predicate.eval a"</span>

<span class="k">definition</span><span class="w"> </span><span class="n">less_eq_rexp</span><span class="w"> </span><span class="kp">where</span><span class="w"> </span><span class="s">"r ≤ s ≡ le_rexp r s"</span>
<span class="k">definition</span><span class="w"> </span><span class="n">less_rexp</span><span class="w"> </span><span class="kp">where</span><span class="w"> </span><span class="s">"r &lt; s ≡ le_rexp r s ∧ r ≠ s"</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">le_rexp_Zero</span><span class="o">:</span><span class="w"> </span><span class="s">"le_rexp r Zero ⟹ r = Zero"</span>
<span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">r</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">le_rexp_refl</span><span class="o">:</span><span class="w"> </span><span class="s">"le_rexp r r"</span>
<span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">r</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">le_rexp_antisym</span><span class="o">:</span><span class="w"> </span><span class="s">"⟦le_rexp r s; le_rexp s r⟧ ⟹ r = s"</span>
<span class="w">  </span><span class="kp">apply</span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp.induct</span><span class="o">)</span>
<span class="w">                      </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">le_rexp_Zero</span><span class="w"> </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span><span class="o">[</span><span class="n">1</span><span class="o">]</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">pred.expand</span><span class="o">)</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">le_rexp_trans</span><span class="o">:</span><span class="w"> </span><span class="s">"⟦le_rexp r s; le_rexp s t⟧ ⟹ le_rexp r t"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">arbitrary</span><span class="o">:</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp.induct</span><span class="o">)</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Sym v) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp One t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Plus s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp One t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Times s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp One t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Star s) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp One t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Sym v) (Sym u)"</span><span class="w"> </span><span class="s">"le_rexp (Sym u) t"</span>
<span class="w">  </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Sym v) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Plus s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Sym v) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Times s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Sym v) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Star s) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Sym v) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">t</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="n">IH</span><span class="o">:</span><span class="w"> </span><span class="s">"⋀t. le_rexp r s ⟹ le_rexp s t ⟹ le_rexp r t"</span>
<span class="w">    </span><span class="kp">and</span><span class="w"> </span><span class="s">"le_rexp (Star r) (Star s)"</span><span class="w"> </span><span class="s">"le_rexp (Star s) t"</span>
<span class="w">  </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Star r) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Plus s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Star r) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Times s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Star r) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"⋀t. r1 = s1 ⟹ le_rexp r2 s2 ⟹ le_rexp s2 t ⟹ le_rexp r2 t"</span>
<span class="w">         </span><span class="s">"⋀t. r1 ≠ s1 ⟹ le_rexp r1 s1 ⟹ le_rexp s1 t ⟹ le_rexp r1 t"</span>
<span class="w">         </span><span class="s">"le_rexp (Plus r1 r2) (Plus s1 s2)"</span><span class="w"> </span><span class="s">"le_rexp (Plus s1 s2) t"</span>
<span class="w">  </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Plus r1 r2) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">auto</span><span class="w"> </span><span class="n">split</span><span class="o">:</span><span class="w"> </span><span class="n">if_split_asm</span><span class="w"> </span><span class="n">intro</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp_antisym</span><span class="o">)</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">assume</span><span class="w"> </span><span class="s">"le_rexp (Times s1 s2) t"</span><span class="w"> </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Plus r1 r2) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="n">auto</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">fix</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="n">t</span>
<span class="w">  </span><span class="k">assume</span><span class="w"> </span><span class="s">"⋀t. r1 = s1 ⟹ le_rexp r2 s2 ⟹ le_rexp s2 t ⟹ le_rexp r2 t"</span>
<span class="w">         </span><span class="s">"⋀t. r1 ≠ s1 ⟹ le_rexp r1 s1 ⟹ le_rexp s1 t ⟹ le_rexp r1 t"</span>
<span class="w">         </span><span class="s">"le_rexp (Times r1 r2) (Times s1 s2)"</span><span class="w"> </span><span class="s">"le_rexp (Times s1 s2) t"</span>
<span class="w">  </span><span class="k">thus</span><span class="w"> </span><span class="s">"le_rexp (Times r1 r2) t"</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">cases</span><span class="w"> </span><span class="n">t</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">auto</span><span class="w"> </span><span class="n">split</span><span class="o">:</span><span class="w"> </span><span class="n">if_split_asm</span><span class="w"> </span><span class="n">intro</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp_antisym</span><span class="o">)</span>
<span class="k">qed</span><span class="w"> </span><span class="n">auto</span>

<span class="kn">instance</span><span class="w"> </span><span class="k">proof</span>
<span class="k">qed</span><span class="w"> </span><span class="o">(</span><span class="n">auto</span><span class="w"> </span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">less_eq_rexp_def</span><span class="w"> </span><span class="n">less_rexp_def</span>
<span class="w">       </span><span class="n">intro</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp_refl</span><span class="w"> </span><span class="n">le_rexp_antisym</span><span class="w"> </span><span class="n">le_rexp_trans</span><span class="o">)</span>

<span class="k">end</span>

<span class="k">instantiation</span><span class="w"> </span><span class="n">rexp</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">(</span><span class="n">linorder</span><span class="o">)</span><span class="w"> </span><span class="s">"{linorder}"</span>
<span class="k">begin</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">le_rexp_total</span><span class="o">:</span><span class="w"> </span><span class="s">"le_rexp (r :: 'a :: linorder rexp) s ∨ le_rexp s r"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">le_rexp.induct</span><span class="o">)</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="gr">sorry</span>

<span class="kn">instance</span><span class="w"> </span><span class="k">proof</span>
<span class="k">qed</span><span class="w"> </span><span class="o">(</span><span class="n">unfold</span><span class="w"> </span><span class="n">less_eq_rexp_def</span><span class="w"> </span><span class="n">less_rexp_def</span><span class="o">,</span><span class="w"> </span><span class="n">rule</span><span class="w"> </span><span class="n">le_rexp_total</span><span class="o">)</span>

<span class="k">end</span>
</code></pre></div>
<p>How to prove the rexp is an instantiation of linorder.</p>



<a name="380471980"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380471980" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380471980">(Jul 31 2023 at 19:35)</a>:</h4>
<p>Can you explain to the intuition why you would always have <code>a &lt;= b \/ b &lt; a</code> (in order to have <code>Sym a  &lt;= Sym b</code>)?</p>



<a name="380472179"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380472179" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380472179">(Jul 31 2023 at 19:36)</a>:</h4>
<p>because that seems far from obvious to me</p>



<a name="380473028"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380473028" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380473028">(Jul 31 2023 at 19:38)</a>:</h4>
<p>My intuition is that if you take <code>a = (%x. even x)</code> and <code>b = (%x. prime x)</code>, you are going to have a hard timing finding whether a or b is larger…</p>



<a name="380473140"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380473140" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380473140">(Jul 31 2023 at 19:39)</a>:</h4>
<p>but maybe I am missing something in your definition</p>



<a name="380476024"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380476024" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380476024">(Jul 31 2023 at 19:49)</a>:</h4>
<p>I am trying to prove the predicate existing relationship of the linorder.</p>



<a name="380476315"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380476315" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380476315">(Jul 31 2023 at 19:50)</a>:</h4>
<p>In such a case, I think a might be equal to b, according to the <code>predicate.eval</code></p>



<a name="380476872"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380476872" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380476872">(Jul 31 2023 at 19:52)</a>:</h4>
<p>I am not very clear about the relation between the order and linorder. Because like (&lt;) in nat is an order, a &lt; b then a &lt; b or b &lt; a will be always established.</p>



<a name="380478247"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380478247" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380478247">(Jul 31 2023 at 19:57)</a>:</h4>
<p>you have a linorder on <code>'a</code>, that does not say  anything on having an order on a function</p>



<a name="380479378"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380479378" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380479378">(Jul 31 2023 at 20:01)</a>:</h4>
<p>so the question should be recalled back to prove the linorder relation of predicate, whether I could understand in this way</p>



<a name="380479617"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380479617" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380479617">(Jul 31 2023 at 20:02)</a>:</h4>
<p>No, the question is: what do you want to prove</p>



<a name="380479675"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380479675" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380479675">(Jul 31 2023 at 20:02)</a>:</h4>
<p>and what you want to model</p>



<a name="380479688"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380479688" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380479688">(Jul 31 2023 at 20:02)</a>:</h4>
<p>and how</p>



<a name="380480480"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380480480" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380480480">(Jul 31 2023 at 20:05)</a>:</h4>
<p>in general, total orders on base elements does not mean anything on a function on those elements</p>



<a name="380480538"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380480538" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380480538">(Jul 31 2023 at 20:05)</a>:</h4>
<p>even with lattices, you only get a partial order</p>



<a name="380481121"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380481121" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380481121">(Jul 31 2023 at 20:07)</a>:</h4>
<p>okay, I want to implement a symbolic automaton, in which transition is the predicate, thus I include the predicate in the rexp(Sym). And I built on the basic of regular set in afp. When the type of  character is nat, it belongs to the linear order. Currently, My theory could not handle such case, that's why I want to prove its linorder.</p>



<a name="380481334"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380481334" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380481334">(Jul 31 2023 at 20:08)</a>:</h4>
<p>the original library is built on atom 'a, then linear order holds on</p>



<a name="380481525"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380481525" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380481525">(Jul 31 2023 at 20:09)</a>:</h4>
<p>I see the predicate is a complete-lattices, but not linorder.</p>



<a name="380482722"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380482722" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380482722">(Jul 31 2023 at 20:14)</a>:</h4>
<p>Wait let's go a step back before going onto the Isabelle part: what does it mean for an automata to have a total order?</p>



<a name="380482984"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380482984" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380482984">(Jul 31 2023 at 20:16)</a>:</h4>
<p>or do you want to express the subset relationship on the recognized languages?</p>



<a name="380483004"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380483004" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380483004">(Jul 31 2023 at 20:16)</a>:</h4>
<p>I use the method of derivative on regular expression</p>



<a name="380483435"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380483435" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380483435">(Jul 31 2023 at 20:18)</a>:</h4>
<p>and it must be built on normal forms, and need some arbitrary total order on regular expressions</p>



<a name="380483755"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380483755" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380483755">(Jul 31 2023 at 20:20)</a>:</h4>
<p>The relation \le can be some arbitrary total order on regular expressions. Our concrete definition (omitted) works as follows. Expressions with different constructors at the root are compared according to some arbitrary fixed total order of the constructors. Expressions with the same constructor at the root are compared according to the lexicographic order of the arguments. Atoms are assumed to be totally ordered. More precisely,  \le is restricted to regular expressions over natural numbers. cite <code>Proof Pearl: Regular Expression Equivalence and Relation Algebra</code></p>



<a name="380485233"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380485233" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380485233">(Jul 31 2023 at 20:27)</a>:</h4>
<p>if you just need a total order, I think that you could ignore most of the Sym problem… something like <code>Sym a &lt; Sym b</code> iff <code>a 0 &lt; b 0</code></p>



<a name="380485421"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380485421" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380485421">(Jul 31 2023 at 20:28)</a>:</h4>
<p>but I am not sure at the moment.</p>



<a name="380485458"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380485458" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380485458">(Jul 31 2023 at 20:28)</a>:</h4>
<p>what you do not want is working on the function as a function to build an order</p>



<a name="380486420"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Question%20about%20fun%20extends%20to%20linorder/near/380486420" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongjian Jiang <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Question.20about.20fun.20extends.20to.20linorder.html#380486420">(Jul 31 2023 at 20:33)</a>:</h4>
<p>Sorry, not understand the final sentence, not very familiar with the function on order.</p>
<p>Why I need a total order or linear order lies on I could verify the bool value, but not for the nat value. So I guess the problem lies on the rexp doesn't support linear.  If available, I could email you the project and see where is the problem on.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>