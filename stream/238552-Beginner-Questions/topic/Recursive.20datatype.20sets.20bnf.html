<html>
<head><meta charset="utf-8"><title>Recursive datatype sets bnf · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Recursive.20datatype.20sets.20bnf.html">Recursive datatype sets bnf</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="254055128"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Recursive%20datatype%20sets%20bnf/near/254055128" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bernhard Stöckl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Recursive.20datatype.20sets.20bnf.html#254055128">(Sep 20 2021 at 14:07)</a>:</h4>
<p>I'm trying to use a recursive datatype that uses sets like this:<br>
<code>datatype 'a test = Test 'a "('a test) set"</code><br>
But this results in the error </p>
<div class="codehilite"><pre><span></span><code>Unsupported recursive occurrence of type &quot;&#39;a test&quot; via type constructor &quot;Set.set&quot; in type expression &quot;&#39;a test set&quot;
Use the &quot;bnf&quot; command to register &quot;Set.set&quot; as a bounded natural functor to allow nested (co)recursion through it
</code></pre></div>
<p>If I use "list" or "fset" instead of "set" it works. But is there a way to do this with normal sets or should I just use fsets instead?</p>



<a name="254075304"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Recursive%20datatype%20sets%20bnf/near/254075304" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmitriy Traytel <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Recursive.20datatype.20sets.20bnf.html#254075304">(Sep 20 2021 at 16:11)</a>:</h4>
<p>If this was allowed, <code>Test x :: 'a test set =&gt; 'a test</code> would be a total, injective function from the the powerset of a set to the set. You could prove False from that easily.</p>
<p>The BNF abstraction is what separates types that may nest recursive occurrences from those which may not. The types of lists and finite sets are BNFs, but "'a set" isn't.</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>