<html>
<head><meta charset="utf-8"><title>Referring to a type class · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html">Referring to a type class</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="205892932"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205892932" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205892932">(Aug 04 2020 at 10:52)</a>:</h4>
<p>Here I got the answer that I did not specify correctly that my function myle belongs to the type class at the beginning:</p>
<p><a href="https://stackoverflow.com/questions/62891358/proving-a-type-classed-theorem-in-isabelle">https://stackoverflow.com/questions/62891358/proving-a-type-classed-theorem-in-isabelle</a></p>
<p>How can I specify that a function of type `'a =&gt; 'a =&gt; bool" conforms the type class specification, other than referring to the function name in the type class definition?</p>



<a name="205895566"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205895566" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205895566">(Aug 04 2020 at 11:30)</a>:</h4>
<p>As Peter wrote in the SO Post, the function mle as you wrote it down refers to any function that takes two 'b of class order and returns a bool. What you want is to prove the theorem "x ≼ x". Note that the operator ≼ is locally fixed so outside of the context you can instantiate it with any other concrete operator (e.g. myle) that fulfils the axioms of the order typeclass.</p>



<a name="205895749"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205895749" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205895749">(Aug 04 2020 at 11:32)</a>:</h4>
<p>This can be done with the command <code>interpretation</code>.</p>



<a name="205896350"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205896350" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205896350">(Aug 04 2020 at 11:41)</a>:</h4>
<p>Or <code>instantiation</code> if you want to instantiate the class for a whole type.</p>



<a name="205896465"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205896465" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205896465">(Aug 04 2020 at 11:43)</a>:</h4>
<p>I want to prove this theorem: for any myle function that conforms my type class, and for any x,  x &lt;= x. Can I state this in Isabelle?</p>



<a name="205896625"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205896625" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205896625">(Aug 04 2020 at 11:45)</a>:</h4>
<p>That is exactly "x ≼ x". When you leave the context after <code>end</code> the theorem is automatically generalised.</p>



<a name="205896715"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205896715" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205896715">(Aug 04 2020 at 11:46)</a>:</h4>
<p>You can see this if you type <code>thm order.refl</code> after <code>end</code>.</p>



<a name="205896898"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205896898" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205896898">(Aug 04 2020 at 11:49)</a>:</h4>
<p>For a detailed introduction to type classes and locales read the documentation: <a href="https://isabelle.in.tum.de/documentation.html">https://isabelle.in.tum.de/documentation.html</a></p>



<a name="205897084"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205897084" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205897084">(Aug 04 2020 at 11:51)</a>:</h4>
<p>What you also can do is write "(x::'a::order) ≼ x" after <code>end</code>.</p>



<a name="205897324"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205897324" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205897324">(Aug 04 2020 at 11:55)</a>:</h4>
<p>I'm getting to it.</p>
<p>Now,</p>
<p>lemma (in order) "lesseq x x"<br>
proof -<br>
  show ?thesis by (rule local.refl)<br>
qed</p>
<p>works smoothly, while</p>
<p>theorem "order myle ⟹ myle x x"<br>
proof -<br>
  show ?thesis by (rule order.refl)<br>
qed</p>
<p>says</p>
<p>show myle x x <br>
Successful attempt to solve goal by exported rule:<br>
  myle x x <br>
proof (state)<br>
this:<br>
  myle x x</p>
<p>goal:<br>
No subgoals! <br>
Failed to finish proof⌂:<br>
goal (1 subgoal):</p>
<ol>
<li>ProofsAndFormalizations.class.order (λa b. b)</li>
</ol>
<p>Again something similar as at my first attempt.</p>
<p>What is wrong here?</p>



<a name="205897586"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205897586" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205897586">(Aug 04 2020 at 11:59)</a>:</h4>
<p>The second one works if you use locale instead of class.</p>



<a name="205897595"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205897595" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205897595">(Aug 04 2020 at 11:59)</a>:</h4>
<p>But the first one is the canonical way to do it.</p>



<a name="205897702"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205897702" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205897702">(Aug 04 2020 at 12:00)</a>:</h4>
<p>And works in both cases.</p>



<a name="205899365"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205899365" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205899365">(Aug 04 2020 at 12:20)</a>:</h4>
<p>I'm afraid it does not work for me, not even with locale:</p>
<p>theory Locale</p>
<p>imports Main </p>
<p>begin</p>
<p>locale order =<br>
  fixes lesseq :: " 'a ⇒ 'a ⇒ bool" (infix "≼" 50)<br>
  assumes refl:    "x ≼ x"<br>
      and trans:   "x ≼ y ⟹ y ≼ z ⟹ x ≼ z"<br>
      and antisym: "x ≼ y ⟹ y ≼ x ⟹ x = y"</p>
<p>theorem ‹order (myle :: 'a ⇒ 'a ⇒ bool) ⟹ myle x x›<br>
proof -<br>
  show ?thesis by (rule order.refl)<br>
qed</p>
<p>end</p>
<p>Failed to finish proof⌂:<br>
goal (1 subgoal):</p>
<ol>
<li>order (λa b. b)</li>
</ol>
<p>How does the K* combinator pop up here?</p>



<a name="205900006"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Referring%20to%20a%20type%20class/near/205900006" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gergely Buday <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Referring.20to.20a.20type.20class.html#205900006">(Aug 04 2020 at 12:28)</a>:</h4>
<p>theorem assumes "order myle"<br>
          shows "myle x x"<br>
proof -<br>
  from assms show ?thesis by (rule order.refl)<br>
qed</p>
<p>did the trick.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>