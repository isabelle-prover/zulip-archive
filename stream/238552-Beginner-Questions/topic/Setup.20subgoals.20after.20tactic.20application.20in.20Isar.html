<html>
<head><meta charset="utf-8"><title>Setup subgoals after tactic application in Isar · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html">Setup subgoals after tactic application in Isar</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="470504620"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470504620" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470504620">(Sep 16 2024 at 08:28)</a>:</h4>
<p>(I suspect it would be not possible since I was taught recently that Isar is designed exactly for making the proof readable, whereas tactic application will generate something which are only visible in the interactive window. So if it is possible, you can tell me directly).</p>
<p>I find that it is not possible to write a "have" after the tactic application. Like this:<br>
<a href="/user_uploads/14278/IRr_NKqyRA5obOI7RY3BJIEa/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/IRr_NKqyRA5obOI7RY3BJIEa/image.png" title="image.png"><img data-original-dimensions="1840x1148" src="/user_uploads/thumbnail/14278/IRr_NKqyRA5obOI7RY3BJIEa/image.png/840x560.webp"></a></div>



<a name="470505308"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470505308" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470505308">(Sep 16 2024 at 08:30)</a>:</h4>
<p>Without even knowing the definitions it would be clear what I am trying to do: The goal is <code>phi in P</code>, and the assumptions says <code>A x -&gt; phi in x</code>, so I want to reduce the goal into A P.</p>



<a name="470505634"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470505634" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470505634">(Sep 16 2024 at 08:31)</a>:</h4>
<p>For HOL4 users this is <code>first_x_assum irule</code> (or <code>first_assum irule</code> if you want to keep your assumptions).</p>



<a name="470506117"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470506117" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470506117">(Sep 16 2024 at 08:33)</a>:</h4>
<p>Such a thing does not obviously exist. So I naively tried to state the <code>A P</code>, and MP with it with <code>A P -&gt; phi in P</code>.</p>



<a name="470506371"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470506371" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470506371">(Sep 16 2024 at 08:33)</a>:</h4>
<p>Which seems not allowed. How can I carry out such a step here?</p>



<a name="470509629"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470509629" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470509629">(Sep 16 2024 at 08:44)</a>:</h4>
<p>instead of <code>show ?thesis using 7</code> use <code>show ?thesis apply (rule 7)</code>?</p>



<a name="470509914"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470509914" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470509914">(Sep 16 2024 at 08:45)</a>:</h4>
<p><a href="/user_uploads/14278/giMhBI_fjZ_y8c1cDVn5MsFo/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/giMhBI_fjZ_y8c1cDVn5MsFo/image.png" title="image.png"><img data-original-dimensions="1840x1148" src="/user_uploads/thumbnail/14278/giMhBI_fjZ_y8c1cDVn5MsFo/image.png/840x560.webp"></a></div>



<a name="470510105"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510105" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510105">(Sep 16 2024 at 08:45)</a>:</h4>
<p>It is not accepted. What would rule 7 be expected to be? It is not an implication itself.</p>



<a name="470510172"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510172" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510172">(Sep 16 2024 at 08:46)</a>:</h4>
<p>ah wait I didn't read <code>7</code> carefully... you need to massage it into an implication</p>



<a name="470510301"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510301" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510301">(Sep 16 2024 at 08:46)</a>:</h4>
<p>Any canonical way to do this?</p>



<a name="470510364"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510364" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510364">(Sep 16 2024 at 08:46)</a>:</h4>
<p>try <code>7[unfolded NMLG_def,rule_format]</code>?</p>



<a name="470510571"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510571" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510571">(Sep 16 2024 at 08:47)</a>:</h4>
<p><a href="/user_uploads/14278/U0XjXteYiq_CCswaQCHi3PRf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/U0XjXteYiq_CCswaQCHi3PRf/image.png" title="image.png"><img data-original-dimensions="1840x1264" src="/user_uploads/thumbnail/14278/U0XjXteYiq_CCswaQCHi3PRf/image.png/840x560.webp"></a></div>



<a name="470510786"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510786" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510786">(Sep 16 2024 at 08:48)</a>:</h4>
<p><a href="/user_uploads/14278/-gIhoiJHhntRJUxW6lW-8N12/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/-gIhoiJHhntRJUxW6lW-8N12/image.png" title="image.png"><img data-original-dimensions="1840x814" src="/user_uploads/thumbnail/14278/-gIhoiJHhntRJUxW6lW-8N12/image.png/840x560.webp"></a></div>



<a name="470510850"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510850" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510850">(Sep 16 2024 at 08:48)</a>:</h4>
<p>add <code>simplified</code>?</p>



<a name="470510863"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510863" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510863">(Sep 16 2024 at 08:48)</a>:</h4>
<p>So it does the unfolding, but maybe failed to transform it into an implication?</p>



<a name="470510981"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470510981" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470510981">(Sep 16 2024 at 08:49)</a>:</h4>
<p>add <code>simplified</code> before <code>rule_format</code> I mean</p>



<a name="470511267"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511267" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511267">(Sep 16 2024 at 08:50)</a>:</h4>
<p><a href="/user_uploads/14278/ca4GEDgqUHe9z34bw0ifm-Li/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/ca4GEDgqUHe9z34bw0ifm-Li/image.png" title="image.png"><img data-original-dimensions="1840x814" src="/user_uploads/thumbnail/14278/ca4GEDgqUHe9z34bw0ifm-Li/image.png/840x560.webp"></a></div>



<a name="470511349"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511349" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511349">(Sep 16 2024 at 08:50)</a>:</h4>
<p>That works. And I see why it should be before rule_format.</p>



<a name="470511469"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511469" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511469">(Sep 16 2024 at 08:50)</a>:</h4>
<p>great, I'm not sure whether this would be the recommended way of doing things though...</p>



<a name="470511501"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511501" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511501">(Sep 16 2024 at 08:50)</a>:</h4>
<p>If it is after rule_format then it gives me a HOL quantification instead of a schematic variable.</p>



<a name="470511596"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511596" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511596">(Sep 16 2024 at 08:51)</a>:</h4>
<p>So what would be the recommendation?</p>



<a name="470511751"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511751" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511751">(Sep 16 2024 at 08:51)</a>:</h4>
<p>I am advised to get used to Isar's style.</p>



<a name="470511752"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470511752" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470511752">(Sep 16 2024 at 08:51)</a>:</h4>
<p>write the expanded argument in Isar, probably</p>



<a name="470512019"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470512019" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470512019">(Sep 16 2024 at 08:52)</a>:</h4>
<p>Let me try if I can do it in an efficient way.</p>



<a name="470512059"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470512059" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470512059">(Sep 16 2024 at 08:52)</a>:</h4>
<p>i.e., before <code>show ?thesis</code> write <code>have "is_NML P" ... have "G \subset P" ...</code></p>



<a name="470512160"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470512160" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470512160">(Sep 16 2024 at 08:52)</a>:</h4>
<p>then use sledgehammer at your <code>show ?thesis</code> it'll figure that out</p>



<a name="470512381"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470512381" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470512381">(Sep 16 2024 at 08:53)</a>:</h4>
<p>Let me try if sledgehammer can do it.</p>



<a name="470513124"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470513124" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470513124">(Sep 16 2024 at 08:55)</a>:</h4>
<p><a href="/user_uploads/14278/UO6gH0GL9MyLu1nM5etv5S5U/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/UO6gH0GL9MyLu1nM5etv5S5U/image.png" title="image.png"><img data-original-dimensions="1840x992" src="/user_uploads/thumbnail/14278/UO6gH0GL9MyLu1nM5etv5S5U/image.png/840x560.webp"></a></div>



<a name="470513160"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470513160" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470513160">(Sep 16 2024 at 08:55)</a>:</h4>
<p>Wow it does. Thank you!</p>



<a name="470522707"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470522707" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470522707">(Sep 16 2024 at 09:23)</a>:</h4>
<p>So I have trouble proving "is_NML P".<br>
<a href="/user_uploads/14278/zeBMjazskcykZW6f4jraXrEi/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/zeBMjazskcykZW6f4jraXrEi/image.png" title="image.png"><img data-original-dimensions="1840x1714" src="/user_uploads/thumbnail/14278/zeBMjazskcykZW6f4jraXrEi/image.png/840x560.webp"></a></div>



<a name="470523290"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470523290" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470523290">(Sep 16 2024 at 09:25)</a>:</h4>
<p>After unfolding the definitions I expect simp with assumption 1:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span>
</code></pre></div>
<p>to kill the first conjunct of the goal:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">prove</span><span class="o">)</span>
<span class="k">using</span><span class="w"> </span><span class="n">this</span><span class="o">:</span>
<span class="w">    </span><span class="n">ptaut</span><span class="w"> </span><span class="o">?</span><span class="n">form</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">?</span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="n">BOX</span><span class="w"> </span><span class="o">(?</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">?</span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="o">?</span><span class="n">q</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="n">DIAM</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="o">))</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="n">NOT</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="o">))</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">DIAM</span><span class="w"> </span><span class="o">?</span><span class="n">p</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="o">?</span><span class="n">f</span><span class="w"> </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w">    </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">?</span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">?</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">?</span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>

<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">∀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span>
<span class="w">       </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span>
<span class="w">       </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="n">DIAM</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="n">p</span><span class="o">))</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="n">NOT</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="n">p</span><span class="o">))</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">DIAM</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span>
</code></pre></div>



<a name="470523344"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470523344" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470523344">(Sep 16 2024 at 09:25)</a>:</h4>
<p>But it is always purple. Is this behaviour expected?</p>



<a name="470523706"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470523706" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470523706">(Sep 16 2024 at 09:26)</a>:</h4>
<p>Oh I may miss a (). Let me try.</p>



<a name="470523970"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470523970" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470523970">(Sep 16 2024 at 09:27)</a>:</h4>
<p>Does not work. I am still in trouble.</p>



<a name="470657272"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470657272" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470657272">(Sep 16 2024 at 16:03)</a>:</h4>
<p>purple for a long time probably means it is looping... you have to be careful with what you're passing <code>simp</code></p>



<a name="470657822"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470657822" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470657822">(Sep 16 2024 at 16:05)</a>:</h4>
<p>As mentioned in the prog-prove:</p>
<blockquote>
<p>Simplification can run forever, for example if both f x = g x and g x = f x are simplification rules. It is the user’s responsibility not to include simplification rules that can lead to nontermination, either on their own or in combination with other simplification rules. The right-hand side of a simplification rule should  lways be “simpler” than the left-hand side — in some sense. But since termination is undecidable, such a check cannot be automated completely and Isabelle makes little attempt to detect nontermination. When conditional simplification rules are applied, their preconditions are proved first. Hence all preconditions need to be simpler than the left-hand side of the conclusion. </p>
</blockquote>



<a name="470658003"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470658003" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470658003">(Sep 16 2024 at 16:05)</a>:</h4>
<p>Not all your rules fulfill that</p>



<a name="470674869"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470674869" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470674869">(Sep 16 2024 at 16:57)</a>:</h4>
<p>I do not see if there is any chance to have a loop here. I will spend some time try to debug.</p>



<a name="470675764"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470675764" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470675764">(Sep 16 2024 at 17:00)</a>:</h4>
<p>As for simp, I do not expect it to simp equality here. I give it an implication. And I expect the normalization to turn it into <br>
<code>A &lt;=&gt; True</code>.  Here <code>A</code> will be the first conjunct in the goal, namely:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
</code></pre></div>
<p>I added "()" around the above and still does not work.</p>



<a name="470675765"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470675765" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470675765">(Sep 16 2024 at 17:00)</a>:</h4>
<p>last rule of the assumption</p>



<a name="470676076"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676076" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676076">(Sep 16 2024 at 17:00)</a>:</h4>
<p>it is an exploding rule</p>



<a name="470676322"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676322" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676322">(Sep 16 2024 at 17:01)</a>:</h4>
<p>So do you mean, when it see <code>A ==&gt; B</code>, instead of turning it into <code>(A ==&gt; B) &lt;=&gt; True</code>, it trys to prove <code>A</code>, and want to use it as <code>A ==&gt; (B &lt;=&gt; True)</code> instead?</p>



<a name="470676582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676582">(Sep 16 2024 at 17:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470676322">said</a>:</p>
<blockquote>
<p>So do you mean, when it see <code>A ==&gt; B</code>, instead of turning it into <code>(A ==&gt; B) &lt;=&gt; True</code>, it trys to prove <code>A</code>, and want to use it as <code>A ==&gt; (B &lt;=&gt; True)</code> instead?</p>
</blockquote>
<p>Yes</p>



<a name="470676637"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676637" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676637">(Sep 16 2024 at 17:02)</a>:</h4>
<p>…and that seems a lot more natural to me</p>



<a name="470676641"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676641" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676641">(Sep 16 2024 at 17:02)</a>:</h4>
<p>...Oh my.</p>



<a name="470676796"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676796" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676796">(Sep 16 2024 at 17:03)</a>:</h4>
<p>It would be different for A --&gt; B though. which is why you should never have that as simplification rule</p>



<a name="470676818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676818">(Sep 16 2024 at 17:03)</a>:</h4>
<p>Okay, if I write <code>A--&gt;B</code>, instead of <code>A==&gt;B</code> instead?</p>



<a name="470676866"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676866" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676866">(Sep 16 2024 at 17:03)</a>:</h4>
<p>I am just about to ask it.</p>



<a name="470676912"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470676912" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470676912">(Sep 16 2024 at 17:03)</a>:</h4>
<p>I think you predicted my question...</p>



<a name="470677380"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470677380" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470677380">(Sep 16 2024 at 17:04)</a>:</h4>
<p>So I expect if I write <code>A--&gt;B</code> at HOL level, then it will simply turn it into <code>(A--&gt;B) \equiv True</code>.</p>



<a name="470677815"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470677815" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470677815">(Sep 16 2024 at 17:06)</a>:</h4>
<p>Yes, except that most tactic will transform a goal like "A --&gt; B" into "A ==&gt; B". So a simp lemma like "A--&gt;B" is a very useless rule</p>



<a name="470679367"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470679367" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470679367">(Sep 16 2024 at 17:10)</a>:</h4>
<p>That means, the <code>A --&gt;B</code> in <code>A --&gt;B \equiv True</code> would tend to be converted into <code>A ==&gt;B \equiv True</code>before it get applied?</p>



<a name="470679443"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470679443" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470679443">(Sep 16 2024 at 17:10)</a>:</h4>
<p>No, only in the proof you are trying to prove</p>



<a name="470679933"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470679933" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470679933">(Sep 16 2024 at 17:12)</a>:</h4>
<p>I am not sure if I understand you. Do you mean the last assumption is a useless rule here in terms of automatic simplification?</p>



<a name="470680020"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470680020" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470680020">(Sep 16 2024 at 17:12)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w"> </span><span class="n">5</span><span class="o">:</span><span class="s">"(⋀ A B. (A → B) ∈ P ∧ A ∈ P ⟹ B ∈ P)"</span>
</code></pre></div>



<a name="470680081"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470680081" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470680081">(Sep 16 2024 at 17:13)</a>:</h4>
<p>This one is useless as a rule during the proof.</p>



<a name="470680370"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470680370" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470680370">(Sep 16 2024 at 17:14)</a>:</h4>
<p>ah no actually it does rewrite it before declaring it as simp</p>



<a name="470680596"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470680596" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470680596">(Sep 16 2024 at 17:14)</a>:</h4>
<p>I had forgotten that behavior</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">"A ⟶ B"</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">‹A ⟶ B›</span>
<span class="w">  </span><span class="n">supply</span><span class="w"> </span><span class="o">[[</span><span class="n">simp_trace</span><span class="o">]]</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">assms</span><span class="o">)</span>
<span class="c">(*</span>
<span class="c">[0]Adding rewrite rule "local.assms":</span>
<span class="c">A ⟹ B ≡ True</span>
<span class="c">*)</span>
</code></pre></div>



<a name="470680751"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470680751" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470680751">(Sep 16 2024 at 17:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470680020">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w"> </span><span class="n">5</span><span class="o">:</span><span class="s">"(⋀ A B. (A → B) ∈ P ∧ A ∈ P ⟹ B ∈ P)"</span>
</code></pre></div><br>
</p>
</blockquote>
<p>actually the simplifier can decide to guess a good A and try to instantiate it</p>



<a name="470681434"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470681434" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470681434">(Sep 16 2024 at 17:17)</a>:</h4>
<p>The "-&gt;" is not "--&gt;", this is an infix I declared for modal formula implication, I do not think it is making any attempt instantiating this.</p>



<a name="470681818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470681818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470681818">(Sep 16 2024 at 17:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470680596">said</a>:</p>
<blockquote>
<p>I had forgotten that behavior</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">"A ⟶ B"</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">‹A ⟶ B›</span>
<span class="w">  </span><span class="n">supply</span><span class="w"> </span><span class="o">[[</span><span class="n">simp_trace</span><span class="o">]]</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">assms</span><span class="o">)</span>
<span class="c">(*</span>
<span class="c">[0]Adding rewrite rule "local.assms":</span>
<span class="c">A ⟹ B ≡ True</span>
<span class="c">*)</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Is meta implication/equiv left or right assoc?</p>



<a name="470681901"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470681901" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470681901">(Sep 16 2024 at 17:18)</a>:</h4>
<p>the not/box &lt;--&gt; diamond is also looping</p>



<a name="470682015"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470682015" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470682015">(Sep 16 2024 at 17:19)</a>:</h4>
<p>(rules 3 and 7)</p>



<a name="470682400"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470682400" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470682400">(Sep 16 2024 at 17:20)</a>:</h4>
<p>If you control-click on the ==&gt; you will find an <code>infixr</code> on that line. So right associative</p>



<a name="470682835"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470682835" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470682835">(Sep 16 2024 at 17:21)</a>:</h4>
<p>Means it is used as <code>A ==&gt; (B \equiv T)</code> when being applied. Funny.</p>



<a name="470683051"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470683051" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470683051">(Sep 16 2024 at 17:22)</a>:</h4>
<p>I remember I read something relevant in prog-prove telling me to watch out the antecedent of the implication. I was confused.</p>



<a name="470683063"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470683063" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470683063">(Sep 16 2024 at 17:22)</a>:</h4>
<p>For me it makes a lot of sense: you use the condition to simplify the goal, and only have to prove the preconditions</p>



<a name="470683192"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470683192" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470683192">(Sep 16 2024 at 17:22)</a>:</h4>
<p>the other direction would make the solver much much weaker</p>



<a name="470683422"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470683422" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470683422">(Sep 16 2024 at 17:23)</a>:</h4>
<p>So Isabelle's is trying to make sure that every theorem added to simp when calling simp add is actually used? Otherwise the implications will just fail?</p>



<a name="470683831"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470683831" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470683831">(Sep 16 2024 at 17:25)</a>:</h4>
<p>So, for Isabelle, such an implication can be used only if we can prove the antecedent.</p>



<a name="470684091"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684091" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684091">(Sep 16 2024 at 17:25)</a>:</h4>
<p>HOL4 will just ignore a theorem added to simp if it cannot be useful for the goal. The user's responsibility is heavier here...</p>



<a name="470684208"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684208" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684208">(Sep 16 2024 at 17:26)</a>:</h4>
<p>no isabelle also ignores it</p>



<a name="470684372"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684372" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684372">(Sep 16 2024 at 17:26)</a>:</h4>
<p>but it applies rewrites only if there is no new assumptions</p>



<a name="470684479"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684479" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684479">(Sep 16 2024 at 17:27)</a>:</h4>
<p>Otherwise no rule like "finite A ==&gt; ..." would be possible</p>



<a name="470684697"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684697" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684697">(Sep 16 2024 at 17:27)</a>:</h4>
<p>But for an implication, when it is normalized, Isabelle will try to do the back-chain to maximal its attempt to discard at least amount of theorems once possible?</p>



<a name="470684877"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470684877" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470684877">(Sep 16 2024 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470684479">said</a>:</p>
<blockquote>
<p>Otherwise no rule like "finite A ==&gt; ..." would be possible</p>
</blockquote>
<p>I do not understand this example, could you please elaborate a bit on this?</p>



<a name="470685537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470685537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470685537">(Sep 16 2024 at 17:31)</a>:</h4>
<p>I am not sure we are talking about the same thing:<br>
   - rewrite only happens if all the assumptions can be proved. simp will not pick one and create a new goal that you cannot prove (like my <code>finite A ==&gt; ...</code> example: the simplifier will never ask you to prove <code>finite A</code>. Either it can do it or it will not simplify)</p>
<p>- when trying proving an assumption, the simplifier will call itself recursively, potentially looping</p>



<a name="470685994"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470685994" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470685994">(Sep 16 2024 at 17:33)</a>:</h4>
<p>I see. Your first point here explains in which case should an implication theorem fed to simp will be ignored.</p>



<a name="470686861"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470686861" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470686861">(Sep 16 2024 at 17:36)</a>:</h4>
<p>So for my <code>!A B. (A-&gt;B) in P /\ A in P ==&gt; B in P</code>, since there is a forall, when it is trying to prove B in P, it tries to reduce it into (A -&gt;B in P) and A in P, and it tries to prove <code>A-&gt;B in P</code>, and <code>B in P</code>, also using <code>!A B. (A-&gt;B) in P /\ A in P ==&gt; B in P</code>?</p>



<a name="470687015"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687015" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687015">(Sep 16 2024 at 17:36)</a>:</h4>
<p>that is my guess</p>



<a name="470687024"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687024" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687024">(Sep 16 2024 at 17:36)</a>:</h4>
<p>If it is the case it seems not natural, the LHS has more variables!</p>



<a name="470687105"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687105" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687105">(Sep 16 2024 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470681901">said</a>:</p>
<blockquote>
<p>the not/box &lt;--&gt; diamond is also looping</p>
</blockquote>
<p>although that one is also looping</p>



<a name="470687256"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687256" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687256">(Sep 16 2024 at 17:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470687024">said</a>:</p>
<blockquote>
<p>If it is the case it seems not natural, the LHS has more variable!</p>
</blockquote>
<p>simp can try B repeatedly</p>



<a name="470687484"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687484" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687484">(Sep 16 2024 at 17:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470687256">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470687024">said</a>:</p>
<blockquote>
<p>If it is the case it seems not natural, the LHS has more variable!</p>
</blockquote>
<p>simp can try B repeatedly</p>
</blockquote>
<p>In which sense?</p>



<a name="470687797"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470687797" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470687797">(Sep 16 2024 at 17:38)</a>:</h4>
<p>Or I misunderstand your B? B is a modal formula (a schemvar for a modal formula).</p>



<a name="470688052"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470688052" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470688052">(Sep 16 2024 at 17:39)</a>:</h4>
<p>To prove  <code>B in P</code> <br>
you have to prove that <code>(B-&gt;B) in P /\ B in P</code><br>
<code>B-&gt;B</code> is true (I guess at least)<br>
hence it is sufficient to prove <code>B in P</code></p>



<a name="470688561"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470688561" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470688561">(Sep 16 2024 at 17:40)</a>:</h4>
<p>Oh you mean it picks an existing term instead of generating a random free variable.</p>



<a name="470688706"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470688706" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470688706">(Sep 16 2024 at 17:40)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">‹⋀A B. (A⟶B) ∈ P ∧ A ∈ P ⟹ B ∈ P›</span><span class="w"> </span><span class="s">‹⋀A. A ⟶ A ∈ P›</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">‹B ∈ P›</span>
<span class="w">  </span><span class="n">supply</span><span class="w"> </span><span class="o">[[</span><span class="n">simp_trace</span><span class="o">,</span><span class="n">simp_trace_depth_limit</span><span class="o">=</span><span class="n">2</span><span class="o">]]</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">assms</span><span class="o">)</span>
<span class="c">(*</span>
<span class="c">[0]Adding rewrite rule "local.assms_1":</span>
<span class="c">(?A1 ⟶ ?B1) ∈ P ∧ ?A1 ∈ P ⟹ ?B1 ∈ P ≡ True</span>
<span class="c">[0]Adding rewrite rule "local.assms_2":</span>
<span class="c">?A4 ⟹ ?A4 ∈ P ≡ True</span>
<span class="c">[0]Adding rewrite rule "local.assms_1":</span>
<span class="c">(?A1 ⟶ ?B1) ∈ P ∧ ?A1 ∈ P ⟹ ?B1 ∈ P ≡ True</span>
<span class="c">[0]Adding rewrite rule "local.assms_2":</span>
<span class="c">?A4 ⟹ ?A4 ∈ P ≡ True</span>
<span class="c">[1]SIMPLIFIER INVOKED ON THE FOLLOWING TERM:</span>
<span class="c">B ∈ P</span>
<span class="c">[1]Applying instance of rewrite rule "local.assms_1":</span>
<span class="c">(?A1 ⟶ ?B1) ∈ P ∧ ?A1 ∈ P ⟹ ?B1 ∈ P ≡ True</span>
<span class="c">[1]Trying to rewrite:</span>
<span class="c">(?A1 ⟶ B) ∈ P ∧ ?A1 ∈ P ⟹ B ∈ P ≡ True</span>
<span class="c">[2]SIMPLIFIER INVOKED ON THE FOLLOWING TERM:</span>
<span class="c">(?A1 ⟶ B) ∈ P ∧ ?A1 ∈ P</span>
<span class="c">[2]Applying congruence rule:</span>
<span class="c">?A1 ≡ ?P'2 ⟹ (?P'2 ⟹ B ≡ ?Q'2) ⟹ ?A1 ⟶ B ≡ ?P'2 ⟶ ?Q'2</span>
<span class="c">simp_trace_depth_limit exceeded!</span>
<span class="c">simp_trace_depth_limit exceeded!</span>
<span class="c">[2]SUCCEEDED</span>
<span class="c">?A1 ⟶ B ≡ ?A1 ⟶ B</span>
<span class="c">[2]Applying instance of rewrite rule "local.assms_1":</span>
<span class="c">(?A1 ⟶ ?B1) ∈ P ∧ ?A1 ∈ P ⟹ ?B1 ∈ P ≡ True</span>
<span class="c">[2]Trying to rewrite:</span>
<span class="c">(?A3 ⟶ ?A1 ⟶ B) ∈ P ∧ ?A3 ∈ P ⟹ (?A1 ⟶ B) ∈ P ≡ True</span>
<span class="c">*)</span>
</code></pre></div>



<a name="470690748"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470690748" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470690748">(Sep 16 2024 at 17:47)</a>:</h4>
<p>I lost here</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="o">[</span><span class="n">2</span><span class="o">]</span><span class="n">Applying</span><span class="w"> </span><span class="n">congruence</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span>
<span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="o">?</span><span class="n">P'2</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">(?</span><span class="n">P'2</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="o">?</span><span class="n">Q'2</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="o">?</span><span class="n">P'2</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="o">?</span><span class="n">Q'2</span>
</code></pre></div>



<a name="470691222"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470691222" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470691222">(Sep 16 2024 at 17:48)</a>:</h4>
<p>So it is generating unification var P'2 and Q'2. Not obvious to me it is doing the back-chaining on the two conjuncts respectively.</p>



<a name="470691929"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470691929" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470691929">(Sep 16 2024 at 17:50)</a>:</h4>
<p>Seems your example traps sledgehammer.</p>



<a name="470692126"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470692126" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470692126">(Sep 16 2024 at 17:50)</a>:</h4>
<p>No, almost traps it. <br>
<a href="/user_uploads/14278/cp6NvFkZ2_26XEqSlNA50uCq/image.png">image.png</a><br>
It solves that, but takes very long.</p>
<div class="message_inline_image"><a href="/user_uploads/14278/cp6NvFkZ2_26XEqSlNA50uCq/image.png" title="image.png"><img data-original-dimensions="1840x736" src="/user_uploads/thumbnail/14278/cp6NvFkZ2_26XEqSlNA50uCq/image.png/840x560.webp"></a></div>



<a name="470692269"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470692269" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470692269">(Sep 16 2024 at 17:50)</a>:</h4>
<p>Is there any canonical way to solve this goal then...?</p>



<a name="470692772"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470692772" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470692772">(Sep 16 2024 at 17:52)</a>:</h4>
<p>That is not provable as far as I can see</p>



<a name="470692866"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470692866" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470692866">(Sep 16 2024 at 17:52)</a>:</h4>
<p>it is made to make rule application loop</p>



<a name="470693133"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470693133" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470693133">(Sep 16 2024 at 17:53)</a>:</h4>
<p>I do not know what your <code>a_is_b</code> is, but I am very suspicious that it is actually incorrect</p>



<a name="470693501"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470693501" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470693501">(Sep 16 2024 at 17:54)</a>:</h4>
<p>Maybe it is indeed incorrect...<br>
<a href="/user_uploads/14278/aLyd3mtOT6zPngeYoLS1eOOS/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/aLyd3mtOT6zPngeYoLS1eOOS/image.png" title="image.png"><img data-original-dimensions="1840x1624" src="/user_uploads/thumbnail/14278/aLyd3mtOT6zPngeYoLS1eOOS/image.png/840x560.webp"></a></div>



<a name="470693928"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470693928" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470693928">(Sep 16 2024 at 17:55)</a>:</h4>
<p>Well it indicates that cvc4 found a proof that verit could not find</p>



<a name="470694127"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470694127" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470694127">(Sep 16 2024 at 17:55)</a>:</h4>
<p>And yes a_is_b is something nonsense made up for another test:<br>
lemma a_is_b: "3 \&lt;equiv&gt; 5" sorry <br>
completely irrelevant.</p>



<a name="470694227"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470694227" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470694227">(Sep 16 2024 at 17:55)</a>:</h4>
<p>Means sledgehammer is messed up.</p>



<a name="470694690"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470694690" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470694690">(Sep 16 2024 at 17:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470692772">said</a>:</p>
<blockquote>
<p>That is not provable as far as I can see</p>
</blockquote>
<p>I really hope it is not as it implies false:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">H</span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">‹⋀A B. (A⟶B) ∈ P ⟹ A ∈ P ⟹ B ∈ P›</span><span class="w"> </span><span class="s">‹⋀A. A ⟶ A ∈ P›</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">‹B ∈ P›</span>
<span class="w">  </span><span class="gr">sorry</span>
<span class="kn">lemma</span><span class="w"> </span><span class="n">False</span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">H</span><span class="o">[</span><span class="n">of</span><span class="w"> </span><span class="s">‹{True}›</span><span class="w"> </span><span class="n">False</span><span class="o">,</span><span class="w"> </span><span class="n">simplified</span><span class="o">]</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
</code></pre></div>



<a name="470697477"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470697477" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470697477">(Sep 16 2024 at 18:04)</a>:</h4>
<p>Take the set of P to be the set of tautologies. Then if (T --&gt;F in P /\ T in P) it will imply F in P. Indeed P does not contain everything.</p>



<a name="470697640"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470697640" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470697640">(Sep 16 2024 at 18:05)</a>:</h4>
<p>Oh yes I misread it as <code>!!A. A in P</code>.</p>



<a name="470700503"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470700503" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470700503">(Sep 16 2024 at 18:14)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">‹⋀A B. (A⟶B) ∈ P ∧ A ∈ P ⟹ B ∈ P›</span><span class="w"> </span><span class="s">‹⋀A. A ∈ P›</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">‹B ∈ P›</span>
<span class="w">  </span><span class="n">supply</span><span class="w"> </span><span class="o">[[</span><span class="n">simp_trace</span><span class="o">,</span><span class="n">simp_trace_depth_limit</span><span class="o">=</span><span class="n">2</span><span class="o">]]</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">assms</span><span class="o">(</span><span class="n">2</span><span class="o">))</span>

<span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="n">Adding</span><span class="w"> </span><span class="n">rewrite</span><span class="w"> </span><span class="n">rule</span><span class="w"> </span><span class="s">"local.assms_2"</span><span class="o">:</span>
<span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="n">True</span>
<span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="n">Adding</span><span class="w"> </span><span class="n">rewrite</span><span class="w"> </span><span class="n">rule</span><span class="w"> </span><span class="s">"local.assms_2"</span><span class="o">:</span>
<span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="n">True</span>
<span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="n">Adding</span><span class="w"> </span><span class="n">rewrite</span><span class="w"> </span><span class="n">rule</span><span class="w"> </span><span class="s">"local.assms_2"</span><span class="o">:</span>
<span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="n">True</span>
<span class="kn">theorem</span><span class="w"> </span><span class="o">(</span><span class="n">⋀A</span><span class="w"> </span><span class="n">B.</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">B</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">P</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">(</span><span class="n">⋀A.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="o">?</span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">P</span>
<span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="n">SIMPLIFIER</span><span class="w"> </span><span class="n">INVOKED</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">THE</span><span class="w"> </span><span class="n">FOLLOWING</span><span class="w"> </span><span class="n">TERM</span><span class="o">:</span>
<span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="n">Applying</span><span class="w"> </span><span class="kn">instance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">rewrite</span><span class="w"> </span><span class="n">rule</span><span class="w"> </span><span class="s">"local.assms_2"</span><span class="o">:</span>
<span class="o">?</span><span class="n">A1</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="n">True</span>
<span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="n">Rewriting</span><span class="o">:</span>
<span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">≡</span><span class="w"> </span><span class="n">True</span>
</code></pre></div>
<p>As expected, good.</p>
<p>Return to my original aim. The lesson I just learnt is to not only to use the simplified...</p>



<a name="470700611"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470700611" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470700611">(Sep 16 2024 at 18:14)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">definition</span><span class="w"> </span><span class="n">is_NML1_def</span><span class="w"> </span><span class="o">:</span>
<span class="w"> </span><span class="s">"is_NML1 s ≡</span>
<span class="s">  (∀ A B p q f form.</span>
<span class="s">  ptaut form ⟶ form ∈ s ∧</span>
<span class="s">  (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ s ∧</span>
<span class="s">  (A ∈ s ⟶ (subst f A) ∈ s) ∧</span>
<span class="s">  (A ∈ s ⟶ (BOX A) ∈ s)∧</span>
<span class="s">  ((A → B) ∈ s ∧ A ∈ s ⟶ B ∈ s))</span>
<span class="s">  "</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">foo1</span><span class="w"> </span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="n">1</span><span class="o">:</span><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">s</span><span class="o">:</span><span class="s">"(⋀ A f. A ∈ P ⟶ (subst f A) ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">2</span><span class="o">:</span><span class="s">"⋀ p q. (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ P "</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">4</span><span class="o">:</span><span class="s">"(⋀ A. A ∈ P ⟹ BOX A ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">5</span><span class="o">:</span><span class="w"> </span><span class="s">"(⋀A B. (IMP A B) ∈ P ∧ A ∈ P ⟶ B ∈ P)"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"is_NML1 P"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="s">"1"</span><span class="w"> </span><span class="s">"2"</span><span class="w"> </span><span class="s">"4"</span><span class="w"> </span><span class="s">"5"</span><span class="w"> </span><span class="n">is_NML1_def</span><span class="w"> </span><span class="n">s</span><span class="o">)</span>
<span class="k">qed</span>
</code></pre></div>



<a name="470700652"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470700652" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470700652">(Sep 16 2024 at 18:14)</a>:</h4>
<p>metis solves this, as expected. What a peaceful world.</p>



<a name="470816134"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470816134" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470816134">(Sep 17 2024 at 03:10)</a>:</h4>
<p>The above is very slow, is there any thing to do to help metis to do it faster?</p>



<a name="470816260"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470816260" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470816260">(Sep 17 2024 at 03:10)</a>:</h4>
<p>In HOL4 it is possible to add additional theorems to make metis works it out quicker.</p>



<a name="470816495"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470816495" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470816495">(Sep 17 2024 at 03:11)</a>:</h4>
<p>try Sledgehammer, or writing some steps out yourself</p>



<a name="470816863"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470816863" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470816863">(Sep 17 2024 at 03:12)</a>:</h4>
<p>Sledgehammer does not give a quick proof either. For "write out some steps", I do not think there is any possible intermediate step in this particular case.</p>



<a name="470816997"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470816997" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470816997">(Sep 17 2024 at 03:12)</a>:</h4>
<p>The assumptions and the definition looks identical (modulo meta/object language).</p>



<a name="470817020"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817020" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817020">(Sep 17 2024 at 03:13)</a>:</h4>
<p>you can try to feed more theorems into <code>metis</code> like you would in <code>HOL4</code></p>



<a name="470817353"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817353" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817353">(Sep 17 2024 at 03:14)</a>:</h4>
<p>In this case, may I please ask what to fed into metis?</p>



<a name="470817371"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817371" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817371">(Sep 17 2024 at 03:14)</a>:</h4>
<p>you can also split the conjuncts after unfolding <code>is_NML1</code> and doing each one separately</p>



<a name="470817435"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817435" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817435">(Sep 17 2024 at 03:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470816260">said</a>:</p>
<blockquote>
<p>In HOL4 it is possible to add additional theorems to make metis works it out quicker.</p>
</blockquote>
<p>^ I mean whatever you would feed it in HOL4</p>



<a name="470817816"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817816" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817816">(Sep 17 2024 at 03:15)</a>:</h4>
<p>They are basically intermediate theorems about concrete notions, we rarely feed metis proof rules.</p>



<a name="470817917"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470817917" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470817917">(Sep 17 2024 at 03:16)</a>:</h4>
<p>Let me try if I can split the conjuncts.</p>



<a name="470818772"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470818772" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470818772">(Sep 17 2024 at 03:20)</a>:</h4>
<p>Do you mean like this?</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">foo1</span><span class="w"> </span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="n">1</span><span class="o">:</span><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">s</span><span class="o">:</span><span class="s">"(⋀ A f. A ∈ P ⟶ (subst f A) ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">2</span><span class="o">:</span><span class="s">"⋀ p q. (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ P "</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">4</span><span class="o">:</span><span class="s">"(⋀ A. A ∈ P ⟹ BOX A ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">5</span><span class="o">:</span><span class="w"> </span><span class="s">"(⋀A B. (IMP A B) ∈ P ∧ A ∈ P ⟶ B ∈ P)"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"is_NML1 P"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"ptaut form ⟶</span>
<span class="s">       form ∈ P"</span><span class="w"> </span><span class="k">proof</span>
<span class="w">    </span><span class="k">fix</span><span class="w"> </span><span class="s">"A"</span><span class="w"> </span><span class="s">"B"</span><span class="w"> </span><span class="s">"p"</span><span class="w"> </span><span class="s">"q"</span><span class="w"> </span><span class="s">"f"</span><span class="w"> </span><span class="s">"form"</span>
<span class="w"> </span><span class="ow">...</span>
<span class="k">qed</span>
</code></pre></div>



<a name="470818942"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470818942" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470818942">(Sep 17 2024 at 03:21)</a>:</h4>
<p>probably do <code>unfolding is_NML1_def proof standard</code> instead and see what that does</p>



<a name="470819075"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819075" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819075">(Sep 17 2024 at 03:22)</a>:</h4>
<p>I tried:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">foo1</span><span class="w"> </span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="n">1</span><span class="o">:</span><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">s</span><span class="o">:</span><span class="s">"(⋀ A f. A ∈ P ⟶ (subst f A) ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">2</span><span class="o">:</span><span class="s">"⋀ p q. (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ P "</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">4</span><span class="o">:</span><span class="s">"(⋀ A. A ∈ P ⟹ BOX A ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">5</span><span class="o">:</span><span class="w"> </span><span class="s">"(⋀A B. (IMP A B) ∈ P ∧ A ∈ P ⟶ B ∈ P)"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"is_NML1 P"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="n">is_NML1_def</span><span class="o">)</span>
<span class="k">proof</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"ptaut form ⟶</span>
<span class="s">       form ∈ P"</span><span class="w">  </span><span class="gr">sorry</span>
</code></pre></div>
<p>Let me try yours.</p>



<a name="470819170"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819170" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819170">(Sep 17 2024 at 03:23)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">foo1</span><span class="w"> </span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="n">1</span><span class="o">:</span><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">s</span><span class="o">:</span><span class="s">"(⋀ A f. A ∈ P ⟶ (subst f A) ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">2</span><span class="o">:</span><span class="s">"⋀ p q. (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ P "</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">4</span><span class="o">:</span><span class="s">"(⋀ A. A ∈ P ⟹ BOX A ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">5</span><span class="o">:</span><span class="w"> </span><span class="s">"(⋀A B. (IMP A B) ∈ P ∧ A ∈ P ⟶ B ∈ P)"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"is_NML1 P"</span>
<span class="k">unfolding</span><span class="w"> </span><span class="n">is_NML1_def</span><span class="w"> </span><span class="k">proof</span><span class="w"> </span><span class="n">standard</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"ptaut form ⟶</span>
<span class="s">       form ∈ P"</span><span class="w">  </span><span class="gr">sorry</span>


<span class="k">have</span><span class="w"> </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">state</span><span class="o">)</span>
<span class="n">this</span><span class="o">:</span>
<span class="w">  </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>

<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">⋀A.</span><span class="w"> </span><span class="n">∀B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span>
<span class="w">            </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span>
<span class="w">            </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">            </span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">            </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span>
</code></pre></div>



<a name="470819225"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819225" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819225">(Sep 17 2024 at 03:23)</a>:</h4>
<p>same.</p>



<a name="470819383"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819383" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819383">(Sep 17 2024 at 03:24)</a>:</h4>
<p>what about <code>proof safe</code> instead?</p>



<a name="470819458"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819458" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819458">(Sep 17 2024 at 03:24)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">state</span><span class="o">)</span>
<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">5</span><span class="w"> </span><span class="n">subgoals</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">⋀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span><span class="w"> </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w"> </span><span class="n">2.</span><span class="w"> </span><span class="n">⋀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w"> </span><span class="n">3.</span><span class="w"> </span><span class="n">⋀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w"> </span><span class="n">4.</span><span class="w"> </span><span class="n">⋀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
<span class="w"> </span><span class="n">5.</span><span class="w"> </span><span class="n">⋀A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span>
</code></pre></div>



<a name="470819475"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819475" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819475">(Sep 17 2024 at 03:24)</a>:</h4>
<p>That's better!</p>



<a name="470819477"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819477" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819477">(Sep 17 2024 at 03:24)</a>:</h4>
<p>there you go, prove those one-by-one</p>



<a name="470819554"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819554" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819554">(Sep 17 2024 at 03:25)</a>:</h4>
<p>So from here:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">⋀A.</span><span class="w"> </span><span class="n">∀B</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">form.</span>
<span class="w">            </span><span class="n">ptaut</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">⟶</span>
<span class="w">            </span><span class="n">form</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">            </span><span class="n">BOX</span><span class="w"> </span><span class="o">(</span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="o">(</span><span class="n">BOX</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">q</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span>
<span class="w">            </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">subst</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">BOX</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">→</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">P</span><span class="o">)</span>
</code></pre></div>



<a name="470819609"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819609" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819609">(Sep 17 2024 at 03:25)</a>:</h4>
<p>How can I strip all the quantifiers and split the conjunctions?</p>



<a name="470819819"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470819819" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470819819">(Sep 17 2024 at 03:26)</a>:</h4>
<p>(I may have seen it somewhere, I am sorry I forgot. To much things to grab.)</p>



<a name="470820628"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470820628" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470820628">(Sep 17 2024 at 03:30)</a>:</h4>
<p>I suppose maybe some repetition of rule application by hand. But in HOL4, it is rw[]. Stripping away all quantifiers and split conjunctions.</p>



<a name="470821370"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470821370" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470821370">(Sep 17 2024 at 03:32)</a>:</h4>
<p>apply safe, I guess?</p>



<a name="470821724"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470821724" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470821724">(Sep 17 2024 at 03:34)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">foo1</span><span class="w"> </span><span class="o">:</span>
<span class="w">  </span><span class="kp">assumes</span>
<span class="w">    </span><span class="n">1</span><span class="o">:</span><span class="s">"(⋀form. ptaut form ⟹ form ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">s</span><span class="o">:</span><span class="s">"(⋀ A f. A ∈ P ⟶ (subst f A) ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">2</span><span class="o">:</span><span class="s">"⋀ p q. (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ P "</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">4</span><span class="o">:</span><span class="s">"(⋀ A. A ∈ P ⟹ BOX A ∈ P)"</span><span class="w"> </span><span class="kp">and</span>
<span class="w">    </span><span class="n">5</span><span class="o">:</span><span class="w"> </span><span class="s">"(⋀A B. (IMP A B) ∈ P ∧ A ∈ P ⟶ B ∈ P)"</span>
<span class="w">  </span><span class="kp">shows</span>
<span class="w">    </span><span class="s">"is_NML1 P"</span>
<span class="k">unfolding</span><span class="w"> </span><span class="n">is_NML1_def</span><span class="w"> </span><span class="k">proof</span><span class="w"> </span><span class="n">standard</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"ptaut form ⟶</span>
<span class="s">       form ∈ P"</span><span class="w">  </span><span class="gr">sorry</span>
</code></pre></div>
<p>After the proof standard, can I still write "apply safe" in some manner?</p>



<a name="470821813"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470821813" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470821813">(Sep 17 2024 at 03:34)</a>:</h4>
<p>If I put it after proof standard it will be a syntax error.</p>



<a name="470825584"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470825584" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470825584">(Sep 17 2024 at 03:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="234226">Yong Kiam</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470821370">said</a>:</p>
<blockquote>
<p>apply safe, I guess?</p>
</blockquote>
<p>Also I am curious, the "guess" means you do not need it. To me, it seems like very standard operations in the goal, but when I ask around recently, people just tell me "we never use Isar like this". So what do people often try to deal with such a situation, I wonder. <br>
(I understand for mature users who have already forgotten how they grabbed this stuff, it is hard to tell, feel free to not answer it if it is too hard!)</p>



<a name="470862890"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470862890" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470862890">(Sep 17 2024 at 04:30)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">intro</span><span class="w"> </span><span class="n">allI</span><span class="w"> </span><span class="n">impI</span><span class="w"> </span><span class="n">conjI</span><span class="o">)</span>
</code></pre></div>



<a name="470863840"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470863840" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470863840">(Sep 17 2024 at 04:35)</a>:</h4>
<p>So "safe" means "applying all safe rules once possible"?</p>



<a name="470883745"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/470883745" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#470883745">(Sep 17 2024 at 06:40)</a>:</h4>
<p>Isar-ref p92-93: </p>
<p>Also available is clarsimp, a method that interleaves clarify and simp. Also there is safe, which like clarify performs obvious steps but even applies those that split goals.</p>
<p>Leave it here just for a reference later. Do not think I would look at the code.</p>



<a name="472173835"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Setup%20subgoals%20after%20tactic%20application%20in%20Isar/near/472173835" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar.html#472173835">(Sep 23 2024 at 09:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Setup.20subgoals.20after.20tactic.20application.20in.20Isar/near/470688052">said</a>:</p>
<blockquote>
<p>To prove  <code>B in P</code> <br>
you have to prove that <code>(B-&gt;B) in P /\ B in P</code><br>
<code>B-&gt;B</code> is true (I guess at least)<br>
hence it is sufficient to prove <code>B in P</code></p>
</blockquote>
<p>For a reference later. <a href="http://concrete-semantics.org/slides-isabelle.pdf">http://concrete-semantics.org/slides-isabelle.pdf</a> page 67 explains conditional rw and I find it pretty clear.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>