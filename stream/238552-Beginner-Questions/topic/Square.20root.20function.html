<html>
<head><meta charset="utf-8"><title>Square root function · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html">Square root function</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="443580512"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443580512" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443580512">(Jun 09 2024 at 10:11)</a>:</h4>
<p>I am trying to use the square root function in Isabelle. For example, I wrote the following</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">theory</span><span class="w"> </span><span class="n">square_root_example</span>
<span class="kp">imports</span><span class="w"> </span><span class="n">Main</span><span class="w"> </span><span class="n">HOL.Real</span>
<span class="k">begin</span>

<span class="kt">value</span><span class="w"> </span><span class="s">"sqrt (4::real)"</span>

<span class="k">end</span>
</code></pre></div>
<p>However, the output for the line starting with "value" is</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="o">::</span><span class="w"> </span><span class="s">"'a"</span>
</code></pre></div>
<p>indicating that the function represented by "sqrt" is not defined. After searching the web, I found the sqrt function only needed the libraries "HOL.Real" and "Main", which strangely do not work in my case. I am using Isabelle 2023 for MacOS. What should I import in order to use the "sqrt" function?</p>



<a name="443593521"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443593521" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443593521">(Jun 09 2024 at 13:05)</a>:</h4>
<p>HOL-Analysis.Analysis should work but might be too much</p>



<a name="443600200"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443600200" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443600200">(Jun 09 2024 at 14:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="234226">Yong Kiam</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443593521">said</a>:</p>
<blockquote>
<p>HOL-Analysis.Analysis should work but might be too much</p>
</blockquote>
<p>Thank you for your suggestions. Unfortunately, after I imported the files, which took about ten minutes to verify on my computer, I still couldn't use the "sqrt" function. This time, when I entered </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="w"> </span><span class="s">"sqrt (4::real)"</span>
</code></pre></div>
<p>the output was something related to wellsortedness error.  Is there some other ways that I can use this function? Thanks again for your help.</p>



<a name="443600500"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443600500" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443600500">(Jun 09 2024 at 14:37)</a>:</h4>
<p>what do you expect? And what do you expect for sqrt 2?</p>



<a name="443600744"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443600744" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443600744">(Jun 09 2024 at 14:40)</a>:</h4>
<p>Because if you are only interested in perfect squares the solution will be different from let's say an algorithm to compute an approximation</p>



<a name="443600794"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443600794" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443600794">(Jun 09 2024 at 14:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443600500">said</a>:</p>
<blockquote>
<p>what do you expect? And what do you expect for sqrt 2?</p>
</blockquote>
<p>For example, for</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="w"> </span><span class="s">"sqrt (4::real)"</span>
</code></pre></div>
<p>I was expecting something like 2. As for sqrt 2, perhaps something without error messages. I am trying to prove something related to square roots of arbitrary positive real numbers.</p>



<a name="443601087"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443601087" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443601087">(Jun 09 2024 at 14:44)</a>:</h4>
<p>regarding your 10minutes-to-verify problem, I would suggest restarting Isabelle with <code>-l HOL-Analysis</code> to create the appropriate heap so that next time you load it up it'll be fsater</p>



<a name="443601662"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443601662" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443601662">(Jun 09 2024 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="725068">Tingyou PAN</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443600794">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443600500">said</a>:</p>
<blockquote>
<p>what do you expect? And what do you expect for sqrt 2?</p>
</blockquote>
<p>For example, for</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="w"> </span><span class="s">"sqrt (4::real)"</span>
</code></pre></div>
<p>I was expecting something like 2. As for sqrt 2, perhaps something without error messages. I am trying to prove something related to square roots of arbitrary positive real numbers.</p>
</blockquote>
<p>I don't think that this is possible with the code generator.</p>



<a name="443601677"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443601677" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443601677">(Jun 09 2024 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="234226">Yong Kiam</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443601087">said</a>:</p>
<blockquote>
<p>regarding your 10minutes-to-verify problem, I would suggest restarting Isabelle with <code>-l HOL-Analysis</code> to create the appropriate heap so that next time you load it up it'll be fsater</p>
</blockquote>
<p>Thanks, I will definitely try this.</p>



<a name="443601901"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443601901" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443601901">(Jun 09 2024 at 14:56)</a>:</h4>
<p>Is it possible though, if I just want to  use the sqrt function to verify trivial things like "sqrt 2 + sqrt 3 &lt; 4"? I saw some similar simple examples on the Internet, but they all seem to only import "HOL.Real".</p>



<a name="443602241"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443602241" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443602241">(Jun 09 2024 at 15:00)</a>:</h4>
<p>something concrete like this should be doable using the approximation tactics automatically</p>



<a name="443602962"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443602962" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443602962">(Jun 09 2024 at 15:07)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">theory</span><span class="w"> </span><span class="n">Scratch</span>
<span class="w">  </span><span class="kp">imports</span><span class="w"> </span><span class="s">"HOL-Decision_Procs.Approximation"</span>
<span class="k">begin</span>

<span class="k">approximate</span><span class="w"> </span><span class="s">"sqrt 2 + sqrt 3 - 5"</span>
<span class="c">(*</span>
<span class="c">"{- 1853735634 / 10 ^ 9..- 1853735629 / 10 ^ 9}"</span>
<span class="c">  :: "real set"</span>
<span class="c">*)</span>
</code></pre></div>



<a name="443603061"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443603061" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443603061">(Jun 09 2024 at 15:08)</a>:</h4>
<p>I am not sure how to generate a theorem out of it</p>



<a name="443603095"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443603095" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443603095">(Jun 09 2024 at 15:08)</a>:</h4>
<p>but I also spent around 1min scrolling through the Approximation file</p>



<a name="443603129"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443603129" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443603129">(Jun 09 2024 at 15:08)</a>:</h4>
<p>state the inequality then <code>approximation X</code> where <code>X</code> is a precision parameter</p>



<a name="443603606"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443603606" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443603606">(Jun 09 2024 at 15:11)</a>:</h4>
<p>Thank you very much for this example using approximation! I guess I will stick to this method for now.</p>



<a name="443723175"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443723175" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443723175">(Jun 10 2024 at 09:28)</a>:</h4>
<p>For a more exact approach, you can perhaps check Rene Thiemann's <a href="https://www.isa-afp.org/entries/Real_Impl.html">field extensions of the form Q[sqrt(b)]</a>, which enables us to do the following evaluations:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="w"> </span><span class="s">"⌊101.1 * (sqrt 18 + 6 * sqrt 0.5)⌋"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"⌊324 * sqrt 7 + 0.001⌋"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"101.1 * (sqrt 18 + 6 * sqrt 0.5) = 324 * sqrt 7 + 0.001"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"101.1 * (sqrt 18 + 6 * sqrt 0.5) &gt; 324 * sqrt 7 + 0.001"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"show (101.1 * (sqrt 18 + 6 * sqrt 0.5))"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"(sqrt 0.1 ∈ ℚ, sqrt (- 0.09) ∈ ℚ)"</span>
</code></pre></div>
<p>As an overkill, you may even want to check the <a href="https://www.isa-afp.org/entries/Algebraic_Numbers.html">Algebraic Numbers entry</a>, which allows us to do symbolic calculation using algebraic numbers (like in modern computer algebra systems).</p>



<a name="443791104"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Square%20root%20function/near/443791104" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tingyou PAN <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Square.20root.20function.html#443791104">(Jun 10 2024 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Square.20root.20function/near/443723175">said</a>:</p>
<blockquote>
<p>For a more exact approach, you can perhaps check Rene Thiemann's <a href="https://www.isa-afp.org/entries/Real_Impl.html">field extensions of the form Q[sqrt(b)]</a>, which enables us to do the following evaluations:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kt">value</span><span class="w"> </span><span class="s">"⌊101.1 * (sqrt 18 + 6 * sqrt 0.5)⌋"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"⌊324 * sqrt 7 + 0.001⌋"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"101.1 * (sqrt 18 + 6 * sqrt 0.5) = 324 * sqrt 7 + 0.001"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"101.1 * (sqrt 18 + 6 * sqrt 0.5) &gt; 324 * sqrt 7 + 0.001"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"show (101.1 * (sqrt 18 + 6 * sqrt 0.5))"</span>
<span class="kt">value</span><span class="w"> </span><span class="s">"(sqrt 0.1 ∈ ℚ, sqrt (- 0.09) ∈ ℚ)"</span>
</code></pre></div>
<p>As an overkill, you may even want to check the <a href="https://www.isa-afp.org/entries/Algebraic_Numbers.html">Algebraic Numbers entry</a>, which allows us to do symbolic calculation using algebraic numbers (like in modern computer algebra systems).</p>
</blockquote>
<p>Seems really interesting! They might be a bit advanced for me, but I found it really helpful. Thank you very much for these!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>