<html>
<head><meta charset="utf-8"><title>Stating a theorem so &quot;unfolding&quot; automatically split · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html">Stating a theorem so &quot;unfolding&quot; automatically split</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="480658422"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480658422" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480658422">(Nov 05 2024 at 07:47)</a>:</h4>
<p>I have </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="s">"csatis sig M w (cDIAM m fl) =</span>
<span class="s">  (m ∈ mops sig ∧</span>
<span class="s">   marity sig m = length fl ∧</span>
<span class="s">   w ∈ world M ∧</span>
<span class="s">   (∃vl. length vl = length fl ∧ rel M m (w # vl) ∧</span>
<span class="s">   (∀i&lt;length vl. csatis sig M (vl ! i) (fl ! i))))"</span>
</code></pre></div>
<p>If I unfold it, it will give:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">prove</span><span class="o">)</span>
<span class="k">using</span><span class="w"> </span><span class="n">this</span><span class="o">:</span>
<span class="w">    </span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">mops</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">∧</span>
<span class="w">    </span><span class="n">marity</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span>
<span class="w">    </span><span class="n">w</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">∧</span>
<span class="w">    </span><span class="o">(</span><span class="n">∃vl.</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span>
<span class="w">          </span><span class="n">rel</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">(</span><span class="n">w</span><span class="w"> </span><span class="n">#</span><span class="w"> </span><span class="n">vl</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span>
<span class="w">          </span><span class="o">(</span><span class="n">∀i&lt;length</span><span class="w"> </span><span class="n">vl.</span><span class="w"> </span><span class="n">csatis</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">(</span><span class="n">vl</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">i</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">fl</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">i</span><span class="o">)))</span>
</code></pre></div>
<p>Is there any thing I can do to let "unfold" automatically give me, instead of a conjunction, a list of assumptions instead, like:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">this</span><span class="o">:</span>
<span class="w">    </span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">mops</span><span class="w"> </span><span class="n">sig</span>

<span class="w">    </span><span class="n">marity</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span>

<span class="w">    </span><span class="n">w</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">M</span>

<span class="w">    </span><span class="o">(</span><span class="n">∃vl.</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span>
<span class="w">          </span><span class="n">rel</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">(</span><span class="n">w</span><span class="w"> </span><span class="n">#</span><span class="w"> </span><span class="n">vl</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span>
<span class="w">          </span><span class="o">(</span><span class="n">∀i&lt;length</span><span class="w"> </span><span class="n">vl.</span><span class="w"> </span><span class="n">csatis</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">(</span><span class="n">vl</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">i</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">fl</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">i</span><span class="o">)))</span>
</code></pre></div>
<p>?</p>



<a name="480673115"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480673115" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balazs Toth <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480673115">(Nov 05 2024 at 09:13)</a>:</h4>
<p>I don't fully get the question, but I think you are looking for <code>apply(intro conjI)</code></p>



<a name="480676787"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480676787" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480676787">(Nov 05 2024 at 09:34)</a>:</h4>
<p>This is about intro but about elim, sorry for my poor presentation of the question.</p>



<a name="480677362"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480677362" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480677362">(Nov 05 2024 at 09:37)</a>:</h4>
<p>If we have a definition like:<br>
<code>sth a b c \equiv A /\ B</code></p>
<p>and there is an assumption (assumption, not the target) <code>sth a b c</code>. Say, we are proving:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">sth</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="n">&gt;</span><span class="w"> </span><span class="n">D</span>
</code></pre></div>
<p>Then if we unfold sth_def, it  will turn it into</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">A</span><span class="w"> </span><span class="n">/\</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="n">&gt;</span><span class="w"> </span><span class="n">D</span>
</code></pre></div>
<p>But I do not like this, I want the goal to look like</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">assumptions</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">A</span>
<span class="o">-</span><span class="w"> </span><span class="n">B</span>
<span class="n">target</span><span class="o">:</span>
<span class="n">D</span>
</code></pre></div>



<a name="480677591"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480677591" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480677591">(Nov 05 2024 at 09:38)</a>:</h4>
<p>However, it seems not possible without opening another proof-qed block. There is "elim conjE', but it only applies to a separate proof-read block.</p>



<a name="480678010"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480678010" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480678010">(Nov 05 2024 at 09:40)</a>:</h4>
<p>If it is tricky or even impossible then that is also understandable. I think it might be tricks to state definitions with conjunctions such that an "unfold" will not give a conjunction, but give a list of conjuncts that build up to the definition.</p>



<a name="480679329"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480679329" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balazs Toth <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480679329">(Nov 05 2024 at 09:45)</a>:</h4>
<p>I don't understand what <code>elim conjE</code> is not doing but you want</p>



<a name="480681082"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480681082" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480681082">(Nov 05 2024 at 09:54)</a>:</h4>
<p>Just because I do not want to open a proof-qed block. Otherwise it is what I want.</p>



<a name="480681258"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480681258" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480681258">(Nov 05 2024 at 09:55)</a>:</h4>
<p>Since sometimes if I can take the conjuncts out, then I can finish it off by using (some_thm[OF some_conjunct]) with a dot. So a proof-qed block can be bulky in this case.</p>



<a name="480708650"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480708650" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480708650">(Nov 05 2024 at 12:24)</a>:</h4>
<p><code>OF conjI</code></p>



<a name="480708720"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480708720" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480708720">(Nov 05 2024 at 12:24)</a>:</h4>
<p>Full example:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">context</span>
<span class="w">  </span><span class="kp">fixes</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">bool</span>
<span class="k">begin</span>
<span class="k">definition</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="kp">where</span>
<span class="w">  </span><span class="s">‹t ≡ (A ∧ B)›</span>

<span class="kn">lemma</span><span class="w"> </span><span class="n">H</span><span class="o">:</span><span class="w"> </span><span class="s">‹t ⟹ A›</span>
<span class="w">  </span><span class="gr">sorry</span>
<span class="kt">thm</span><span class="w"> </span><span class="n">H</span><span class="o">[</span><span class="n">unfolded</span><span class="w"> </span><span class="n">t_def</span><span class="o">,</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">conjI</span><span class="o">]</span>
</code></pre></div>



<a name="480711387"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480711387" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480711387">(Nov 05 2024 at 12:38)</a>:</h4>
<p>Thanks! My original question is actually asking, if we start the proof using t_def, then is there any method to write the definition of "t" such that </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">H</span><span class="o">:</span><span class="w"> </span><span class="s">"t ⟹ A"</span>
<span class="w">  </span><span class="k">unfolding</span><span class="w"> </span><span class="n">t_def</span>
</code></pre></div>
<p>does not give </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">prove</span><span class="o">)</span>
<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">A</span>
</code></pre></div>
<p>but instead, to give:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">prove</span><span class="o">)</span>
<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">assumptions</span>
<span class="o">-</span><span class="n">A</span>
<span class="o">-</span><span class="w"> </span><span class="n">B</span>

<span class="n">target</span><span class="w">  </span><span class="n">A</span>
</code></pre></div>
<p>Knowing the "conjI" still makes me very happy. It is very useful!</p>



<a name="480711505"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480711505" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480711505">(Nov 05 2024 at 12:39)</a>:</h4>
<p>Maybe some technology can be developed using induction principle of t I guess.</p>



<a name="480711732"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480711732" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480711732">(Nov 05 2024 at 12:40)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">A/\</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">==</span><span class="n">&gt;</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">==</span><span class="n">&gt;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">==</span><span class="n">&gt;</span><span class="w"> </span><span class="n">C</span>
</code></pre></div>
<p>And use conjI to curry the A/\B maybe?</p>



<a name="480712111"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480712111" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480712111">(Nov 05 2024 at 12:42)</a>:</h4>
<p>Seems to me that OF conjI strips only the first conjunct. Any thing to do to repeat the conjI until it cannot go any further?</p>



<a name="480713229"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480713229" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480713229">(Nov 05 2024 at 12:49)</a>:</h4>
<p>I often start proofs with</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">intro</span><span class="w"> </span><span class="n">conjI</span><span class="w"> </span><span class="n">impI</span><span class="w"> </span><span class="n">allI</span><span class="o">)</span>
</code></pre></div>



<a name="480713321"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480713321" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480713321">(Nov 05 2024 at 12:49)</a>:</h4>
<p>And/or this thing:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">method</span><span class="w"> </span><span class="n">normalize_goal</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="o">(</span><span class="n">match</span><span class="w"> </span><span class="n">premises</span><span class="w"> </span><span class="kp">in</span>
<span class="w">    </span><span class="n">J</span><span class="o">[</span><span class="n">thin</span><span class="o">]:</span><span class="w"> </span><span class="ss">\&lt;open&gt;\&lt;exists&gt;</span><span class="s">x. _</span><span class="ss">\&lt;close&gt;</span><span class="w"> </span><span class=" -Symbol">\&lt;Rightarrow&gt;</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">rule exE[OF J]</span><span class="ss">\&lt;close&gt;</span>
<span class="w">  </span><span class=" -Symbol">\&lt;bar&gt;</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">thin</span><span class="o">]:</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">_ </span><span class="ss">\&lt;and&gt;</span><span class="s"> _</span><span class="ss">\&lt;close&gt;</span><span class="w"> </span><span class=" -Symbol">\&lt;Rightarrow&gt;</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">rule conjE[OF J]</span><span class="ss">\&lt;close&gt;</span>
<span class="w">  </span><span class="o">)</span>
<span class="ow">....</span>

<span class="k">proof</span><span class="w"> </span><span class="n">normalize_goal</span><span class="o">+</span>
</code></pre></div>



<a name="480715554"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480715554" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480715554">(Nov 05 2024 at 13:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480713321">said</a>:</p>
<blockquote>
<p>And/or this thing:</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">method</span><span class="w"> </span><span class="n">normalize_goal</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="o">(</span><span class="n">match</span><span class="w"> </span><span class="n">premises</span><span class="w"> </span><span class="kp">in</span>
<span class="w">    </span><span class="n">J</span><span class="o">[</span><span class="n">thin</span><span class="o">]:</span><span class="w"> </span><span class="ss">\&lt;open&gt;\&lt;exists&gt;</span><span class="s">x. _</span><span class="ss">\&lt;close&gt;</span><span class="w"> </span><span class="-Symbol">\&lt;Rightarrow&gt;</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">rule exE[OF J]</span><span class="ss">\&lt;close&gt;</span>
<span class="w">  </span><span class="-Symbol">\&lt;bar&gt;</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">thin</span><span class="o">]:</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">_ </span><span class="ss">\&lt;and&gt;</span><span class="s"> _</span><span class="ss">\&lt;close&gt;</span><span class="w"> </span><span class="-Symbol">\&lt;Rightarrow&gt;</span><span class="w"> </span><span class="ss">\&lt;open&gt;</span><span class="s">rule conjE[OF J]</span><span class="ss">\&lt;close&gt;</span>
<span class="w">  </span><span class="o">)</span>
<span class="ow">....</span>

<span class="k">proof</span><span class="w"> </span><span class="n">normalize_goal</span><span class="o">+</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Isabelle does not accept this code. the <code>method</code> seems not recognised as a keyword.<br>
<a href="/user_uploads/14278/u6WPfJP9vRXvcWRjT2lG6e55/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/u6WPfJP9vRXvcWRjT2lG6e55/image.png" title="image.png"><img data-original-dimensions="1537x167" src="/user_uploads/thumbnail/14278/u6WPfJP9vRXvcWRjT2lG6e55/image.png/840x560.webp"></a></div>



<a name="480715748"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480715748" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480715748">(Nov 05 2024 at 13:01)</a>:</h4>
<p>If opening a proof block then I can just use elim. Nevertheless I have not seen the <code>method</code> thing and now I am curious what it is.</p>



<a name="480715858"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480715858" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480715858">(Nov 05 2024 at 13:01)</a>:</h4>
<p>You need Eisabach for that</p>



<a name="480716070"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480716070" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480716070">(Nov 05 2024 at 13:02)</a>:</h4>
<p><code>HOL-Eisbach.Eisbach_Tools</code> (see <a href="https://isabelle.in.tum.de/website-Isabelle2024/dist/library/HOL/HOL-Eisbach/Example_Metric.html">https://isabelle.in.tum.de/website-Isabelle2024/dist/library/HOL/HOL-Eisbach/Example_Metric.html</a> for an example)</p>



<a name="480716179"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480716179" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480716179">(Nov 05 2024 at 13:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480713229">said</a>:</p>
<blockquote>
<p>I often start proofs with</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">intro</span><span class="w"> </span><span class="n">conjI</span><span class="w"> </span><span class="n">impI</span><span class="w"> </span><span class="n">allI</span><span class="o">)</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Aha I have it, it is in front of my office (Joking, I have heard that this is a thing for tactic writing.    :-) .)</p>



<a name="480716219"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480716219" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480716219">(Nov 05 2024 at 13:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480716070">said</a>:</p>
<blockquote>
<p><code>HOL-Eisbach.Eisbach_Tools</code> (see <a href="https://isabelle.in.tum.de/website-Isabelle2024/dist/library/HOL/HOL-Eisbach/Example_Metric.html">https://isabelle.in.tum.de/website-Isabelle2024/dist/library/HOL/HOL-Eisbach/Example_Metric.html</a> for an example)</p>
</blockquote>
<p>Thanks a lot and I will check it!</p>



<a name="480949139"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480949139" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480949139">(Nov 06 2024 at 15:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480713229">said</a>:</p>
<blockquote>
<p>I often start proofs with</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">intro</span><span class="w"> </span><span class="n">conjI</span><span class="w"> </span><span class="n">impI</span><span class="w"> </span><span class="n">allI</span><span class="o">)</span>
</code></pre></div><br>
</p>
</blockquote>
<p>why not <code>proof (standard)</code>?</p>



<a name="480953622"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480953622" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480953622">(Nov 06 2024 at 16:09)</a>:</h4>
<p>standard can do too much</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">"A⇧*⇧* x y"</span>
<span class="k">proof</span><span class="w"> </span><span class="n">standard</span>
<span class="c">(*</span>
<span class="c">proof (state)</span>
<span class="c">goal (2 subgoals):</span>
<span class="c"> 1. A⇧*⇧* x ?b</span>
<span class="c"> 2. A ?b y</span>
<span class="c">*)</span>
</code></pre></div>



<a name="480953766"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480953766" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480953766">(Nov 06 2024 at 16:10)</a>:</h4>
<p>and too little</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">"∃x. A x ⟹ (∀x. B x ⟶ Q x)"</span>
<span class="k">proof</span><span class="w"> </span><span class="n">standard</span>
<span class="c">(*⋀x. ∃x. A x ⟹ B x ⟶ Q x*)</span>
</code></pre></div>



<a name="480953796"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480953796" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480953796">(Nov 06 2024 at 16:10)</a>:</h4>
<p>so you want standard+ actually</p>



<a name="480953939"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480953939" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480953939">(Nov 06 2024 at 16:11)</a>:</h4>
<p>which is also doing too much:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">"∃x. A x ⟹ (∀x. B x ⟶ rtranclp Q x y)"</span>
<span class="k">proof</span><span class="w"> </span><span class="n">standard</span><span class="o">+</span>
<span class="c">(*</span>
<span class="c">⋀x. ∃x. A x ⟹ B x ⟹ Q x y</span>
<span class="c">*)</span>
</code></pre></div>



<a name="480956778"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480956778" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480956778">(Nov 06 2024 at 16:26)</a>:</h4>
<p>and it is sometimes unintuitive:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">"A⇧*⇧* x y"</span>
<span class="k">proof</span><span class="w"> </span><span class="n">standard</span><span class="o">+</span>
<span class="c">(*</span>
<span class="c">A⇧*⇧* x y</span>
<span class="c">*)</span>
</code></pre></div>
<p>(first example again with a +)</p>



<a name="480967154"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480967154" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480967154">(Nov 06 2024 at 17:22)</a>:</h4>
<p>I have not encountered "standard". I see! The behavior on<code>A^**</code> indeed looks confusing. </p>
<p>I sometimes use <code>safe</code>.</p>



<a name="480967167"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/480967167" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#480967167">(Nov 06 2024 at 17:22)</a>:</h4>
<p>But it does not do the elimination.</p>



<a name="481035675"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/481035675" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yong Kiam <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#481035675">(Nov 07 2024 at 02:59)</a>:</h4>
<p>thanks for the examples!</p>



<a name="481050404"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/481050404" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#481050404">(Nov 07 2024 at 05:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480967154">said</a>:</p>
<blockquote>
<p>I have not encountered "standard". I see! The behavior on<code>A^**</code> indeed looks confusing. </p>
<p>I sometimes use <code>safe</code>.</p>
</blockquote>
<p><code>proof</code> is the same as <code>proof standard</code>. So it is usually not spelled out explicitly unless you really want to apply it several times</p>



<a name="481109051"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Stating%20a%20theorem%20so%20%22unfolding%22%20automatically%20split/near/481109051" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split.html#481109051">(Nov 07 2024 at 12:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/481050404">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Stating.20a.20theorem.20so.20.22unfolding.22.20automatically.20split/near/480967154">said</a>:</p>
<blockquote>
<p>I have not encountered "standard". I see! The behavior on<code>A^**</code> indeed looks confusing. </p>
<p>I sometimes use <code>safe</code>.</p>
</blockquote>
<p><code>proof</code> is the same as <code>proof standard</code>. So it is usually not spelled out explicitly unless you really want to apply it several times</p>
</blockquote>
<p>I see. That is the "proof -" is getting rid of.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>