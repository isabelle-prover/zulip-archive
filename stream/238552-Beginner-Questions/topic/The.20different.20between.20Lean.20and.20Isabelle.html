<html>
<head><meta charset="utf-8"><title>The different between Lean and Isabelle · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html">The different between Lean and Isabelle</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="462333598"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462333598" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chen Dongheng <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462333598">(Aug 14 2024 at 12:20)</a>:</h4>
<p>Hi all,<br>
I am a new guy coming from Lean Prover. I want to know whether the usual way we do proving is to give all the subgoals of a proof in the form </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="w">  </span><span class="k">have</span><span class="w"> </span><span class="s">"..."</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="s">"..."</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="kt">sledgehammer</span>
</code></pre></div>
<p>Compare with Lean, in lean we don't need to give any subgoal of the proof, but just need to use the tactic. After using the tacitc, the remained goals or conditions will change. But when I am using Isabelle, I found that lots of example didn't give the names to these subgoals. It seems that the it has a magic to combine all the conditions and find the proofs.</p>
<p>I want to know what is the correct way to use Isabelle. I am using it to finish the mathematical proofs in MiniF2F (IMO questions)</p>



<a name="462336447"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462336447" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462336447">(Aug 14 2024 at 12:36)</a>:</h4>
<p>Isabelle has both the structured language (Isar) and the unstructured <del>forward</del> backward reasoning (apply-style)</p>



<a name="462336521"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462336521" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462336521">(Aug 14 2024 at 12:37)</a>:</h4>
<p>the structured language is much nicer and much closer to what a human would write and a lot more readable</p>



<a name="462336644"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462336644" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462336644">(Aug 14 2024 at 12:38)</a>:</h4>
<p>Due to the structured language and the better tactics (auto is unmatched), it is less important to name any hypothesis</p>



<a name="462336752"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462336752" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462336752">(Aug 14 2024 at 12:38)</a>:</h4>
<p>because you can  usually just let auto figure it auto</p>



<a name="462337063"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462337063" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Huch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462337063">(Aug 14 2024 at 12:40)</a>:</h4>
<p>And the magic to combine all of the conditions is just unification: Anything you write with <code>show</code> inside a scope will be used to discharge what you have to prove at <code>qed</code></p>



<a name="462360818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462360818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chen Dongheng <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462360818">(Aug 14 2024 at 14:44)</a>:</h4>
<p>Thanks!!!<br>
And I want to know how to use forward reasoning mode in ISAR proof. For example</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">theory</span><span class="w"> </span><span class="n">Scratch</span>
<span class="w">  </span><span class="kp">imports</span><span class="w"> </span><span class="n">Complex_Main</span>
<span class="w">   </span><span class="s">"HOL-Number_Theory.Cong"</span>
<span class="k">begin</span>

<span class="kt">find_theorems</span><span class="w"> </span><span class="n">name</span><span class="o">:</span><span class="s">"mod"</span>

<span class="c">(* lemma 1: Proving that for n &gt;= 2, the last two digits of 5^n are 25. *)</span>
<span class="kn">lemma</span><span class="w"> </span><span class="n">last_two_digits_of_5_power</span><span class="o">:</span>
<span class="w">  </span><span class="kp">fixes</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">nat</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="s">"((5::nat)^(n + 2)) mod (100::nat) = (25::nat)"</span>

<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">n</span><span class="o">)</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">0</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">Suc</span><span class="w"> </span><span class="n">n</span><span class="o">)</span>

<span class="w">    </span><span class="c">(* Calculate 5^(n+1) = 5^n * 5 *)</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">temp</span><span class="o">:</span><span class="s">"(5^((n::nat) + 1)) = (5^n * (5::nat))"</span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="n">auto</span>
<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="s">"(5^(n + 1)) mod (100::nat) = (5^n * 5) mod (100::nat)"</span>
<span class="w">      </span><span class="k">using</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">arith</span>

<span class="w">    </span><span class="k">have</span><span class="w"> </span><span class="n">h2</span><span class="o">:</span><span class="s">"cong (5^(n + 1)) (5^n * 5) 100 "</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="n">cong_refl</span><span class="w"> </span><span class="n">power_add</span><span class="w"> </span><span class="n">power_one_right</span><span class="o">)</span>

<span class="w">  </span><span class="k">have</span><span class="w"> </span><span class="n">h0</span><span class="o">:</span><span class="s">"[(25::nat) = (25*5::nat)] (mod (100::nat))"</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="n">cong_def</span><span class="o">)</span>

<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span>
<span class="w">  </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">metis</span><span class="w"> </span><span class="o">(</span><span class="n">mono_tags</span><span class="o">,</span><span class="w"> </span><span class="n">lifting</span><span class="o">)</span><span class="w"> </span><span class="n">Suc</span><span class="w"> </span><span class="n">add_2_eq_Suc'</span><span class="w"> </span><span class="n">cong_def</span><span class="w"> </span><span class="n">mod_mod_trivial</span><span class="w"> </span><span class="n">mod_mult_left_eq</span><span class="w"> </span><span class="n">power_Suc2</span><span class="o">)</span>
<span class="k">qed</span>


<span class="c">(* Main theorem: We can now use the lemma to show that 5^2005 mod 100 = 25. *)</span>
<span class="kn">theorem</span><span class="w"> </span><span class="n">mathd_numbertheory_198</span><span class="o">:</span>
<span class="w">  </span><span class="s">"(5^2005) mod 100 = (25::nat)"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="c">(* Apply the lemma for n = 2005 *)</span>
<span class="w">  </span><span class="k">have</span><span class="w"> </span><span class="s">"(5^2005) mod 100 = 25"</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">last_two_digits_of_5_power</span><span class="o">[</span><span class="n">of</span><span class="w"> </span><span class="n">2005</span><span class="o">]</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">le_trans</span><span class="o">)</span>
<span class="w">  </span><span class="c">(* Conclude the proof *)</span>
<span class="w">  </span><span class="k">thus</span><span class="w"> </span><span class="o">?</span><span class="n">thesis</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">qed</span>
<span class="kn">lemma</span><span class="w"> </span><span class="n">mwe</span><span class="o">:</span><span class="w"> </span><span class="s">"⟦a = 1+1 ∧ b = 2+1 ∧ c = 3+1 ⟧ ⟹ a = 2 ∧ b = 3 ∧ c = 4"</span>
<span class="w">  </span><span class="kp">apply</span><span class="o">(</span><span class="n">simp</span><span class="o">)</span>
<span class="k">end</span>
</code></pre></div>
<p>I want to know how to change this line into forward reasoning proof</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">have</span><span class="w"> </span><span class="s">"(5^2005) mod 100 = 25"</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">last_two_digits_of_5_power</span><span class="o">[</span><span class="n">of</span><span class="w"> </span><span class="n">2005</span><span class="o">]</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">(</span><span class="n">simp</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="w"> </span><span class="n">le_trans</span><span class="o">)</span>
</code></pre></div>
<p>Thanks!</p>



<a name="462361251"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462361251" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462361251">(Aug 14 2024 at 14:47)</a>:</h4>
<p>I consider simp to be forward and backward reasoning, as it only applies rewriting.</p>



<a name="462361283"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462361283" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462361283">(Aug 14 2024 at 14:47)</a>:</h4>
<p>Why don't like that proof?</p>



<a name="462361394"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462361394" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462361394">(Aug 14 2024 at 14:48)</a>:</h4>
<p>or to say it differently, what you expect in Lean?</p>



<a name="462361634"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462361634" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462361634">(Aug 14 2024 at 14:49)</a>:</h4>
<p>Ah I see there was a typo in my earlier message: isar is forward (you start with the assumption and go to the goal) while apply is backward (you go from the goal back to things that are true)</p>



<a name="462370301"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462370301" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chen Dongheng <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462370301">(Aug 14 2024 at 15:34)</a>:</h4>
<p>Oh, when I try to write apply-style proof, I often met the error </p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Illegal</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="k">proof</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="kp">in</span><span class="w"> </span><span class="s">"state"</span><span class="w"> </span><span class="n">mode</span>
</code></pre></div>
<p>I would like to know how many modes are there in Isabelle, and how to change the mode. I just find a easy example to learn how to switch the mode.</p>



<a name="462370624"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462370624" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462370624">(Aug 14 2024 at 15:35)</a>:</h4>
<p>By default (after lemma / have / show / ...) you are in apply mode</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">mwe</span><span class="o">:</span><span class="w"> </span><span class="s">"⟦a = 1+1 ∧ b = 2+1 ∧ c = 3+1 ⟧ ⟹ a = 2 ∧ b = 3 ∧ c = 4"</span>
<span class="w">  </span><span class="kp">apply</span><span class="o">(</span><span class="n">simp</span><span class="o">)</span>
<span class="w">  </span><span class="k">done</span>
</code></pre></div>
<p>and with <code>proof</code> you switch to Isar mode</p>



<a name="462370796"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462370796" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462370796">(Aug 14 2024 at 15:36)</a>:</h4>
<p>I suggest reading a tutorial on Isabelle like the prog-prove, available in the documentation panel of Isabelle/jEdit</p>



<a name="462370882"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/The%20different%20between%20Lean%20and%20Isabelle/near/462370882" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chen Dongheng <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/The.20different.20between.20Lean.20and.20Isabelle.html#462370882">(Aug 14 2024 at 15:37)</a>:</h4>
<p>OK! Thanks. I have read that book, but I didn't get this point.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>