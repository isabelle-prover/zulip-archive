<html>
<head><meta charset="utf-8"><title>Traits -&gt; Isabelle · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Traits.20-.3E.20Isabelle.html">Traits -&gt; Isabelle</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="249023486"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Traits%20-%3E%20Isabelle/near/249023486" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nowak <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Traits.20-.3E.20Isabelle.html#249023486">(Aug 10 2021 at 19:19)</a>:</h4>
<p>I want to model the following Rust code, but in Isabelle:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">Ballot</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">fn</span> <span class="nf">on_options</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Set</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">fn</span> <span class="nf">prefers</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">a</span>: <span class="nc">A</span><span class="p">,</span><span class="w"> </span><span class="n">b</span>: <span class="nc">A</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">// assumes reflexivity, etc</span>
<span class="p">}</span><span class="w"></span>

<span class="k">struct</span> <span class="nc">Profile</span><span class="o">&lt;</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">T</span>: <span class="nc">Ballot</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">ballots</span>: <span class="nc">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I tried to do it with typeclasses, but I think I'm on the wrong path:</p>
<div class="codehilite"><pre><span></span><code>class ballot =
  fixes on_options :: &quot;&#39;a set&quot;
  fixes prefers :: &quot;&#39;a ⇒ &#39;a ⇒ bool&quot;
  assumes (* ... *)
</code></pre></div>
<p>Help?</p>



<a name="249333002"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Traits%20-%3E%20Isabelle/near/249333002" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Traits.20-.3E.20Isabelle.html#249333002">(Aug 13 2021 at 08:00)</a>:</h4>
<p>It depends what you are trying to achieve:</p>
<ul>
<li>if you intend to do that for a single problem, then I would use locales instead of classes.</li>
<li>if you are trying to do that for arbitrary Rust programs, then locales will not work (or you need to generate them programatically and I don't believe that will scale) .</li>
</ul>



<a name="249343999"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Traits%20-%3E%20Isabelle/near/249343999" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nowak <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Traits.20-.3E.20Isabelle.html#249343999">(Aug 13 2021 at 10:26)</a>:</h4>
<p>Yeah it's intended for a conrete problem, not an arbitrary Rust program. Thank you!</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>