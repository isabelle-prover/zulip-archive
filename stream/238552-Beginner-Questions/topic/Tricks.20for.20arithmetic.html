<html>
<head><meta charset="utf-8"><title>Tricks for arithmetic · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html">Tricks for arithmetic</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="282916031"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282916031" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282916031">(May 19 2022 at 11:43)</a>:</h4>
<p>Are there any tricks for performing arithmetic? I just want to prove that <code>(x + x^2)^2 &lt;= 4 * x^4</code> given that <code>x &gt;= 1</code> but I need several reasoning steps for that. I would expect that this can be solved in one or two steps.</p>



<a name="282916086"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282916086" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282916086">(May 19 2022 at 11:43)</a>:</h4>
<p><code>x :: nat</code></p>



<a name="282917033"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917033" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917033">(May 19 2022 at 11:52)</a>:</h4>
<p>The problem is much easier when x is a real number. It might be possible to build an incomplete procedure to first prove the result on reals and then transfer the result to naturals...</p>



<a name="282917092"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917092" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917092">(May 19 2022 at 11:53)</a>:</h4>
<p>I also tried using real numbers but didn't manage to solve it in one step.</p>



<a name="282917163"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917163" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917163">(May 19 2022 at 11:54)</a>:</h4>
<p>What is "it"?</p>



<a name="282917184"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917184" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917184">(May 19 2022 at 11:54)</a>:</h4>
<p>In principle, this is of course decidable, but I would not expect any of our standard proof methods to be able to solve this. It's nonlinear, after all.</p>



<a name="282917221"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917221" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917221">(May 19 2022 at 11:54)</a>:</h4>
<p>Sturm's method can almost solve it (it can solve it if you replace the ≥ with &gt;), but that is of course overkill here.</p>



<a name="282917363"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917363" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917363">(May 19 2022 at 11:56)</a>:</h4>
<p>It really isn't <em>that</em> simple of a problem, I do think you at least need something like Sturm's theorem to deal with this. In the multivariate case, something like CAD.</p>



<a name="282917406"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917406" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917406">(May 19 2022 at 11:56)</a>:</h4>
<p>Not sure why Sturm can't solve this; it was too long ago. But even then, it relies on code reflection, which seems like overkill.</p>



<a name="282917455"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917455" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917455">(May 19 2022 at 11:57)</a>:</h4>
<p>Are all of the standard methods + Sturm complete?</p>



<a name="282917491"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917491" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917491">(May 19 2022 at 11:57)</a>:</h4>
<p>My usual approach is: show that the difference is nonnegative by factoring it, like this:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
  <span class="kp">assumes</span> <span class="s">"x ≥ (1 :: real)"</span>
  <span class="kp">shows</span>   <span class="s">"(x + x^2)^2 ≤ 4 * x^4"</span>
  <span class="k">using</span> <span class="n">assms</span>
<span class="k">proof</span> <span class="o">-</span>
  <span class="k">have</span> <span class="s">"4 * x^4 - (x + x^2)^2 = x ^ 2 * (x - 1) * (3 * x + 1)"</span>
    <span class="k">by</span> <span class="o">(</span><span class="n">simp</span> <span class="n">add</span><span class="o">:</span> <span class="n">algebra_simps</span> <span class="n">power4_eq_xxxx</span> <span class="n">power2_eq_square</span><span class="o">)</span>
  <span class="k">also</span> <span class="k">have</span> <span class="s">"… ≥ 0"</span>
    <span class="k">using</span> <span class="n">assms</span> <span class="k">by</span> <span class="o">(</span><span class="n">intro</span> <span class="n">mult_nonneg_nonneg</span><span class="o">)</span> <span class="n">auto</span>
  <span class="k">finally</span> <span class="k">show</span> <span class="o">?</span><span class="n">thesis</span>
    <span class="k">by</span> <span class="n">simp</span>
<span class="k">qed</span>
</code></pre></div>



<a name="282917512"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917512" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917512">(May 19 2022 at 11:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282917455">said</a>:</p>
<blockquote>
<p>Are all of the standard methods + Sturm complete?</p>
</blockquote>
<p>Not sure what you mean by that.</p>



<a name="282917624"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917624" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917624">(May 19 2022 at 11:58)</a>:</h4>
<p>In principle, Sturm should be able to prove anything of the form <code>∀x∈{a..b}. p(x) ≤ q(x)</code> and the same if you replace any of the ≤ with &lt;.</p>



<a name="282917666"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917666" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917666">(May 19 2022 at 11:59)</a>:</h4>
<p>Now if my implementation is complete, that is a different question… that was done a very long time ago and nobody ever really used it much (I think Larry uses it at some point)</p>



<a name="282917702"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917702" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917702">(May 19 2022 at 11:59)</a>:</h4>
<p>I mean would it help to have something like this: <a href="https://arxiv.org/abs/cs/0601134">https://arxiv.org/abs/cs/0601134</a></p>



<a name="282917712"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917712" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917712">(May 19 2022 at 11:59)</a>:</h4>
<p>You proposed this as reading material at some point, right?</p>



<a name="282917716"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917716" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917716">(May 19 2022 at 11:59)</a>:</h4>
<p>But yeah Sturm's theorem should be complete for the universal case</p>



<a name="282917810"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917810" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917810">(May 19 2022 at 12:00)</a>:</h4>
<p>univariate CAD should be complete for universal and existential (I think Wenda did something like this at some point, but I cannot find it in the AFP)</p>



<a name="282917860"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917860" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917860">(May 19 2022 at 12:00)</a>:</h4>
<p>then there's multivariate CAD of course, which is an entirely different beast (but also complete)</p>



<a name="282917887"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282917887" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282917887">(May 19 2022 at 12:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282917712">said</a>:</p>
<blockquote>
<p>You proposed this as reading material at some point, right?</p>
</blockquote>
<p>I don't think that was me.</p>



<a name="282918169"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918169" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918169">(May 19 2022 at 12:03)</a>:</h4>
<p>Okay I must be missing something</p>



<a name="282918212"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918212" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918212">(May 19 2022 at 12:03)</a>:</h4>
<p>Why isn't <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">[</mo><mi>Q</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">T[Q]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">[</span><span class="mord mathnormal">Q</span><span class="mclose">]</span></span></span></span> exactly Tarski arithmetic?</p>



<a name="282918470"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918470" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918470">(May 19 2022 at 12:05)</a>:</h4>
<p>Ah, probably because you can also have additional functions</p>



<a name="282918472"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918472" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918472">(May 19 2022 at 12:05)</a>:</h4>
<p>I see</p>



<a name="282918599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918599">(May 19 2022 at 12:07)</a>:</h4>
<p>I'm not sure how practically useful this procedure is. For instance, it seems that it cannot do distributivity, which means it won't be able to do your example above either.</p>



<a name="282918786"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918786" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918786">(May 19 2022 at 12:08)</a>:</h4>
<p>This paper is cited in the one you posted, perhaps this might be more practical: <a href="https://link.springer.com/chapter/10.1007/11532231_22">https://link.springer.com/chapter/10.1007/11532231_22</a></p>



<a name="282918798"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918798" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Abdulaziz <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918798">(May 19 2022 at 12:09)</a>:</h4>
<p>I think CAD combined clause learning is very practical. The use that all the time in SMT solvers</p>



<a name="282918934"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282918934" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Abdulaziz <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282918934">(May 19 2022 at 12:10)</a>:</h4>
<p>There is a famous paper by Leo de Moura about that. But implementing that is non-trivial</p>



<a name="282919012"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919012" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919012">(May 19 2022 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282918786">said</a>:</p>
<blockquote>
<p>This paper is cited in the one you posted, perhaps this might be more practical: <a href="https://link.springer.com/chapter/10.1007/11532231_22">https://link.springer.com/chapter/10.1007/11532231_22</a></p>
</blockquote>
<p>I don't think this is CAD though. This is probably more something akin to Tarskis's original procedure, which has abysmal running time.</p>



<a name="282919212"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919212" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919212">(May 19 2022 at 12:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282917712">said</a>:</p>
<blockquote>
<p>You proposed this as reading material at some point, right?</p>
</blockquote>
<p>I meant this paper <a href="https://arxiv.org/pdf/1404.4410.pdf">https://arxiv.org/pdf/1404.4410.pdf</a></p>



<a name="282919240"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919240" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919240">(May 19 2022 at 12:13)</a>:</h4>
<p>But yeah for univariate stuff I'm pretty sure Wenda implemented all of that using something like Mathematica to provide certificates that are then replayed in Isabelle.</p>



<a name="282919278"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919278" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919278">(May 19 2022 at 12:14)</a>:</h4>
<p>Ah yes, here: <a href="https://arxiv.org/abs/1506.08238">https://arxiv.org/abs/1506.08238</a></p>



<a name="282919378"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919378" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919378">(May 19 2022 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282919212">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282917712">said</a>:</p>
<blockquote>
<p>You proposed this as reading material at some point, right?</p>
</blockquote>
<p>I meant this paper <a href="https://arxiv.org/pdf/1404.4410.pdf">https://arxiv.org/pdf/1404.4410.pdf</a></p>
</blockquote>
<p>Hmm, that vaguely rings a bell, but I can't remember having read or suggested it. But I'll believe you. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="282919386"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919386" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919386">(May 19 2022 at 12:14)</a>:</h4>
<p>I'm an old man, my memory isn't what it once was.</p>



<a name="282919708"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919708" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Julian Huerta y Munive <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919708">(May 19 2022 at 12:18)</a>:</h4>
<p><span class="user-mention" data-user-id="232736">@Manuel Eberl</span> what is CAD?</p>



<a name="282919732"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919732" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919732">(May 19 2022 at 12:18)</a>:</h4>
<p>Cylindric Algebraic Decomposition</p>



<a name="282919742"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919742" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919742">(May 19 2022 at 12:18)</a>:</h4>
<p>It's (as far as I know) the fastest known algorithm for real arithmetic</p>



<a name="282919754"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919754" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919754">(May 19 2022 at 12:19)</a>:</h4>
<p>but it's still exponential</p>



<a name="282919774"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919774" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919774">(May 19 2022 at 12:19)</a>:</h4>
<p>(in the number of, I forgot… quantifier alternations probably)</p>



<a name="282919791"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919791" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919791">(May 19 2022 at 12:19)</a>:</h4>
<p>How difficult is it to implement?</p>



<a name="282919818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919818">(May 19 2022 at 12:19)</a>:</h4>
<p>Doubly exponential even!</p>



<a name="282919839"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919839" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919839">(May 19 2022 at 12:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282919791">said</a>:</p>
<blockquote>
<p>How difficult is it to implement?</p>
</blockquote>
<p>I honestly don't know that much about it. You should ask <span class="user-mention" data-user-id="246083">@Wenda Li</span> .</p>



<a name="282919893"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919893" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919893">(May 19 2022 at 12:20)</a>:</h4>
<p>I think he had plans to do multivariate CAD in Isabelle at some point.</p>



<a name="282919950"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282919950" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282919950">(May 19 2022 at 12:20)</a>:</h4>
<p>But it's certainly a big project. Even the univariate one was a decently-sized paper.</p>



<a name="282920007"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920007" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920007">(May 19 2022 at 12:21)</a>:</h4>
<p>Assia Mahboubi's PhD thesis was to do Tarskis's procedure (which I think is considerably simpler than CAD, but again, I'm not an expert) in Coq.</p>



<a name="282920035"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920035" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920035">(May 19 2022 at 12:21)</a>:</h4>
<p>So that's another indicator that it's probably quite a bit of work… (unless we're willing to believe that everything is much harder to do in Coq)</p>



<a name="282920165"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920165" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920165">(May 19 2022 at 12:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282919950">said</a>:</p>
<blockquote>
<p>But it's certainly a big project. Even the univariate one was a decently-sized paper.</p>
</blockquote>
<p>But this is with verification in Isabelle, right?</p>



<a name="282920205"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920205" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Julian Huerta y Munive <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920205">(May 19 2022 at 12:23)</a>:</h4>
<p><span class="user-mention" data-user-id="233155">@Lukas Stevens</span>  we are developing simple tactics for arithmetical reasoning for our hybrid systems verification components in <a href="https://github.com/isabelle-utp/Hybrid-Verification">https://github.com/isabelle-utp/Hybrid-Verification</a>. Nothing too complex yet. The lemma you showed can be solved with two of our tactics plus sledgehammer. To call them you would just need the file <code>Real_Arith_Tactics.thy</code></p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
  <span class="kp">assumes</span> <span class="s">"x ≥ (1 :: real)"</span>
  <span class="kp">shows</span>   <span class="s">"(x + x^2)^2 ≤ 4 * x^4"</span>
  <span class="kp">apply</span> <span class="n">bin_unfold</span>
  <span class="kp">apply</span> <span class="n">mon_pow_simp</span>
  <span class="k">by</span> <span class="o">(</span><span class="n">smt</span> <span class="o">(</span><span class="n">verit</span><span class="o">,</span> <span class="n">ccfv_SIG</span><span class="o">)</span> <span class="n">assms</span> <span class="n">le_add1</span> <span class="n">nat_add_1_add_1</span> <span class="n">numeral_Bit0</span> <span class="n">numeral_Bit1</span> <span class="n">power_increasing</span><span class="o">)</span>
</code></pre></div>



<a name="282920390"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920390" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920390">(May 19 2022 at 12:24)</a>:</h4>
<p>For this problem in particular, our build-in sum-of-squares method suffices (<code>HOL-Library.Sum_of_Squares</code>):</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
  <span class="kp">assumes</span> <span class="s">"(x::real) ≥1"</span>
  <span class="kp">shows</span> <span class="s">"(x + x^2)^2 &lt;= 4 * x^4"</span>
  <span class="k">using</span> <span class="n">assms</span>
  <span class="k">by</span> <span class="n">sos</span>
</code></pre></div>
<p>Univariate CAD should be preferable if the degree of the polynomial is too high. You can try my certificate-based univariate CAD here: <a href="https://github.com/Wenda302/RCF_Decision_Procedures">https://github.com/Wenda302/RCF_Decision_Procedures</a>. I haven't put it into the AFP as it requires Mathematica installed for finding a certificate. </p>
<p>Multivariate CAD is still on the way, which may take a bit time but I am super excited about it!</p>



<a name="282920393"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920393" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Julian Huerta y Munive <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920393">(May 19 2022 at 12:24)</a>:</h4>
<p><span class="user-mention" data-user-id="232736">@Manuel Eberl</span> thanks for the background info! Very useful and very interested in this!</p>



<a name="282920713"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920713" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920713">(May 19 2022 at 12:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282920390">said</a>:</p>
<blockquote>
<p>For this problem in particular, our build-in sum-of-squares method suffices (<code>HOL-Library.Sum_of_Squares</code>):</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
  <span class="kp">assumes</span> <span class="s">"(x::real) ≥1"</span>
  <span class="kp">shows</span> <span class="s">"(x + x^2)^2 &lt;= 4 * x^4"</span>
  <span class="k">using</span> <span class="n">assms</span>
  <span class="k">by</span> <span class="n">sos</span>
</code></pre></div>
<p>Univariate CAD should be preferable if the degree of the polynomial is too high. You can try my certificate-based univariate CAD here: <a href="https://github.com/Wenda302/RCF_Decision_Procedures">https://github.com/Wenda302/RCF_Decision_Procedures</a>. I haven't put it into the AFP as it requires Mathematica installed for finding a certificate. </p>
<p>Multivariate CAD is still on the way, which may take a bit time but I am super excited about it!</p>
</blockquote>
<p>Also based on certificates?</p>



<a name="282920865"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282920865" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282920865">(May 19 2022 at 12:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282920007">said</a>:</p>
<blockquote>
<p>Assia Mahboubi's PhD thesis was to do Tarskis's procedure (which I think is considerably simpler than CAD, but again, I'm not an expert) in Coq.</p>
</blockquote>
<p>Assia Mahboubi implemented CAD in Coq but as far as I know the proof is yet to finish. Cyril Cohen and Assia Mahboubi implemented and verified Tarski's quantifier-elimination procedure in Coq, which is more of theoretical interest as the procedure has non-elementary complexity.</p>



<a name="282921313"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282921313" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282921313">(May 19 2022 at 12:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282920713">said</a>:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">Also</span> <span class="n">based</span> <span class="n">on</span> <span class="n">certificates</span><span class="o">?</span>
</code></pre></div>
<p>Certificate-based is my short-term solution. In the long term, I am planning to have both certificate-based and non-certificate-based ones, but non-certificate-based ones might be slower as it really takes time to catch up with years of accumulated optimisation in modern CAS.</p>



<a name="282921582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282921582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282921582">(May 19 2022 at 12:35)</a>:</h4>
<p>Maybe it would be a good idea to hand out porting some implementation of CAD to ML <strong>to a student</strong>? Then, one can use that as a fallback for Mathematica. <del>Or is that what you are planning to do anyway, i.e. not verifying the procedure but sticking to the certificated-based approach?</del></p>



<a name="282921720"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282921720" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282921720">(May 19 2022 at 12:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282919754">said</a>:</p>
<blockquote>
<p>but it's still exponential</p>
</blockquote>
<p>Double-exponential actually. For the univariate case, it is polynomial though.</p>



<a name="282922896"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282922896" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282922896">(May 19 2022 at 12:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282921582">said</a>:</p>
<blockquote>
<p>Maybe it would be a good idea to hand out porting some implementation of CAD to ML <strong>to a student</strong>? Then, one can use that as a fallback for Mathematica. <del>Or is that what you are planning to do anyway, i.e. not verifying the procedure but sticking to the certificated-based approach?</del></p>
</blockquote>
<p>For univariate CAD, the crucial part is a highly-efficient univariate polynomial isolation procedure (which itself would be nice paper). I am still working on that procedure. Once it is finished, we can expect a non-certificate-based univariate CAD tactic as well as a standalone extracted program. </p>
<p>Yes, I am already outsourcing some of the problems to students, but it still would take some time.</p>



<a name="282924581"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282924581" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282924581">(May 19 2022 at 12:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282919012">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282918786">said</a>:</p>
<blockquote>
<p>This paper is cited in the one you posted, perhaps this might be more practical: <a href="https://link.springer.com/chapter/10.1007/11532231_22">https://link.springer.com/chapter/10.1007/11532231_22</a></p>
</blockquote>
<p>I don't think this is CAD though. This is probably more something akin to Tarskis's original procedure, which has abysmal running time.</p>
</blockquote>
<p>Yes, to me that implementation is more close to Tarski's original quantifier elimination---it has some optimisation but the overall complexity should stay the same (i.e., non-elementary in terms of the number of variables). PVS has this procedure (<a href="https://shemesh.larc.nasa.gov/fm/pvs/Tarski/">https://shemesh.larc.nasa.gov/fm/pvs/Tarski/</a>), though they only use it for solving univariate problems. Isabelle also has something very similar: <a href="https://www.isa-afp.org/entries/BenOr_Kozen_Reif.html">https://www.isa-afp.org/entries/BenOr_Kozen_Reif.html</a>.</p>



<a name="282929221"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282929221" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282929221">(May 19 2022 at 13:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282922896">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282921582">said</a>:</p>
<blockquote>
<p>Maybe it would be a good idea to hand out porting some implementation of CAD to ML <strong>to a student</strong>? Then, one can use that as a fallback for Mathematica. <del>Or is that what you are planning to do anyway, i.e. not verifying the procedure but sticking to the certificated-based approach?</del></p>
</blockquote>
<p>For univariate CAD, the crucial part is a highly-efficient univariate polynomial isolation procedure (which itself would be nice paper). I am still working on that procedure. Once it is finished, we can expect a non-certificate-based univariate CAD tactic as well as a standalone extracted program. </p>
<p>Yes, I am already outsourcing some of the problems to students, but it still would take some time.</p>
</blockquote>
<p>Non-verified, I assume? Just running in ML?</p>



<a name="282929382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282929382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282929382">(May 19 2022 at 13:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282920390">said</a>:</p>
<blockquote>
<p>For this problem in particular, our build-in sum-of-squares method suffices (<code>HOL-Library.Sum_of_Squares</code>):</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
  <span class="kp">assumes</span> <span class="s">"(x::real) ≥1"</span>
  <span class="kp">shows</span> <span class="s">"(x + x^2)^2 &lt;= 4 * x^4"</span>
  <span class="k">using</span> <span class="n">assms</span>
  <span class="k">by</span> <span class="n">sos</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Oh, right! I thought about <code>sos</code> but didn't realise it also worked with assumptions like <code>x ≥ 1</code>. I wonder how that even works.</p>



<a name="282929645"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282929645" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282929645">(May 19 2022 at 13:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282920165">said</a>:</p>
<blockquote>
<blockquote>
<p>But it's certainly a big project. Even the univariate one was a decently-sized paper.</p>
</blockquote>
<p>But this is with verification in Isabelle, right?</p>
</blockquote>
<p>Well, a proof-producing method typically has to do some work inside Isabelle and some work in ML to plug the theorems together (plus possibly some external work to compute certificates).</p>



<a name="282929687"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282929687" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282929687">(May 19 2022 at 13:39)</a>:</h4>
<p>I think for CAD there will always be a significant amount of work to be done inside Isabelle to get to the point where you can implement a proof-producing procedure in ML.</p>



<a name="282930318"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282930318" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282930318">(May 19 2022 at 13:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282929221">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282922896">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282921582">said</a>:</p>
<blockquote>
<p>Maybe it would be a good idea to hand out porting some implementation of CAD to ML <strong>to a student</strong>? Then, one can use that as a fallback for Mathematica. <del>Or is that what you are planning to do anyway, i.e. not verifying the procedure but sticking to the certificated-based approach?</del></p>
</blockquote>
<p>For univariate CAD, the crucial part is a highly-efficient univariate polynomial isolation procedure (which itself would be nice paper). I am still working on that procedure. Once it is finished, we can expect a non-certificate-based univariate CAD tactic as well as a standalone extracted program. </p>
<p>Yes, I am already outsourcing some of the problems to students, but it still would take some time.</p>
</blockquote>
<p>Non-verified, I assume? Just running in ML?</p>
</blockquote>
<p>What do you mean by 'non-verified' here?</p>



<a name="282930633"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282930633" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282930633">(May 19 2022 at 13:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282929382">said</a>:</p>
<blockquote>
<p>Oh, right! I thought about <code>sos</code> but didn't realise it also worked with assumptions like <code>x ≥ 1</code>. I wonder how that even works.</p>
</blockquote>
<p>SOS is supposed to be complete for univariate (and bivariate, if my memory serves me) problems, considering we factor out the numerical issue in the SDP solver.</p>



<a name="282930741"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282930741" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282930741">(May 19 2022 at 13:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282929687">said</a>:</p>
<blockquote>
<p>I think for CAD there will always be a significant amount of work to be done inside Isabelle to get to the point where you can implement a proof-producing procedure in ML.</p>
</blockquote>
<p>I am a huge fan of proof-by-reflection. This should be the future :-)</p>



<a name="282931537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282931537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282931537">(May 19 2022 at 13:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282930318">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232736">Manuel Eberl</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282929221">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="246083">Wenda Li</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282922896">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233155">Lukas Stevens</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic/near/282921582">said</a>:</p>
<blockquote>
<p>Maybe it would be a good idea to hand out porting some implementation of CAD to ML <strong>to a student</strong>? Then, one can use that as a fallback for Mathematica. <del>Or is that what you are planning to do anyway, i.e. not verifying the procedure but sticking to the certificated-based approach?</del></p>
</blockquote>
<p>For univariate CAD, the crucial part is a highly-efficient univariate polynomial isolation procedure (which itself would be nice paper). I am still working on that procedure. Once it is finished, we can expect a non-certificate-based univariate CAD tactic as well as a standalone extracted program. </p>
<p>Yes, I am already outsourcing some of the problems to students, but it still would take some time.</p>
</blockquote>
<p>Non-verified, I assume? Just running in ML?</p>
</blockquote>
<p>What do you mean by 'non-verified' here?</p>
</blockquote>
<p>Well, you gave the student the task of building a polynomial root isolation procedure, right? For your purposes, that procedure doesn't have to be a verified procedure in HOL, right? It would be enough to have some unverified ML code that just produces the numbers and then you check them in HOL by plugging in the numbers and verifying that they have alternating signs.</p>



<a name="282931573"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282931573" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282931573">(May 19 2022 at 13:53)</a>:</h4>
<p>(Assuming that the polynomials are squarefree, which is easy to guarantee because you can just run a squarefree factorisation)</p>



<a name="282931692"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282931692" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282931692">(May 19 2022 at 13:54)</a>:</h4>
<p>Okay well you probably do need more than that I suppose, some root-counting stuff like Sturm sequences or whatever, but you know more about that than I do.</p>



<a name="282934101"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282934101" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282934101">(May 19 2022 at 14:10)</a>:</h4>
<p>Ahh, I see your point, Manuel! Yes, that could be an intermediate solution, but I have been planning for a fully verified real root isolation procedure, which could drop the certificate-verification overhead entirely. </p>
<p>Calculating Sturm sequences would be a huge pain when the coefficient size is large.</p>



<a name="282934701"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Tricks%20for%20arithmetic/near/282934701" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Tricks.20for.20arithmetic.html#282934701">(May 19 2022 at 14:14)</a>:</h4>
<p>Also, if I remember correctly, calculating square-free polynomials might not be a cheap operation in many cases...</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>