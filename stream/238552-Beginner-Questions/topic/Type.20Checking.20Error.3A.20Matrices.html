<html>
<head><meta charset="utf-8"><title>Type Checking Error: Matrices · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Type.20Checking.20Error.3A.20Matrices.html">Type Checking Error: Matrices</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="393303243"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Type%20Checking%20Error%3A%20Matrices/near/393303243" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kubra <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Type.20Checking.20Error.3A.20Matrices.html#393303243">(Sep 26 2023 at 18:42)</a>:</h4>
<p>Dear all, </p>
<p>I am trying to construct a 4 by 4 matrix using the 3 by 3 matrix in HMA library as follows:</p>
<p><a href="/user_uploads/14278/WrxhsV9se3vx030DOfmmFz7m/typeerror_matrix4x4.png">typeerror_matrix4x4.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/WrxhsV9se3vx030DOfmmFz7m/typeerror_matrix4x4.png" title="typeerror_matrix4x4.png"><img src="/user_uploads/14278/WrxhsV9se3vx030DOfmmFz7m/typeerror_matrix4x4.png"></a></div><p>I got type error as you can see in the screenshot. How can I fix this problem?</p>
<p>Thanks in advance,<br>
Kubra</p>



<a name="393314123"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Type%20Checking%20Error%3A%20Matrices/near/393314123" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenda Li <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Type.20Checking.20Error.3A.20Matrices.html#393314123">(Sep 26 2023 at 19:45)</a>:</h4>
<p>The error is because indices of <code>A</code> are of type 3 and the bounded variables <code>i</code> and <code>j</code> are of type 4, and Isabelle does not know how to automatically convert from this one type to another. We can perhaps do this conversion manually, but it is not immediately to me how to do it.  </p>
<p>Nevertheless, given the inflexibility of the HOL type system, my personal choice would be to avoid encoding matrix dimension into types. In particular, the two-dimensional matrix type <code>'a mat</code> from the AFP entry <a href="https://www.isa-afp.org/theories/jordan_normal_form/#Matrix.html#Matrix.mat|type">Jordan_Normal_Form</a> is much easier to work with than the <code>vec</code> encoded matrices, e.g., <code>((real, 'b) vec, 'c) vec</code>.</p>



<a name="395582350"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Type%20Checking%20Error%3A%20Matrices/near/395582350" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kubra <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Type.20Checking.20Error.3A.20Matrices.html#395582350">(Oct 08 2023 at 22:56)</a>:</h4>
<p>Thanks.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>