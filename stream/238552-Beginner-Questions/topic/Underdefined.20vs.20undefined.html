<html>
<head><meta charset="utf-8"><title>Underdefined vs undefined · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html">Underdefined vs undefined</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="308984476"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/308984476" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#308984476">(Nov 10 2022 at 13:07)</a>:</h4>
<p>Hello <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> There is a quote from the "Concrete semantics" book:<br>
<code>HOL is a logic of total functions, hd [] is defined, but we do not know what the result is. That is, hd [] is not undefined but underdefined</code><br>
Can someone clarify difference between those notions?</p>



<a name="308984693"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/308984693" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Soeldner <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#308984693">(Nov 10 2022 at 13:09)</a>:</h4>
<p>Hi, there is a really good blog post here: <a href="https://www.joachim-breitner.de/blog/732-Isabelle_functions__Always_total%2C_sometimes_undefined">https://www.joachim-breitner.de/blog/732-Isabelle_functions__Always_total%2C_sometimes_undefined</a></p>



<a name="308987833"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/308987833" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikola Katić <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#308987833">(Nov 10 2022 at 13:26)</a>:</h4>
<p>I hoped there is a more direct explanation <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> After skim reading it, I saw comparisons with Coq and Haskell, which is nice, since I have some background in those. I'll definitely save it and read it carefully. Thanks for the article!</p>



<a name="309037446"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309037446" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309037446">(Nov 10 2022 at 17:23)</a>:</h4>
<p>Well, the short answer is: ‘undefined’ suggests that <code>hd []</code> is something that we are not even allowed to write down. And that perhaps we can test whether or not <code>hd []</code> is defined or not. But we can't.</p>



<a name="309037739"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309037739" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309037739">(Nov 10 2022 at 17:24)</a>:</h4>
<p>Rather, the situation is such that we know that <code>hd ([] :: nat list)</code> is some natural number, but we don't know which one it is. So in that sense, the <code>hd</code> function is underdefined. The system gives us some function <code>nat ⇒ nat list</code>, and for non-empty lists we know exactly what it is, but for the empty list as an input we know absolutely nothing (other than that it will be some natural number).</p>



<a name="309038606"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309038606" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309038606">(Nov 10 2022 at 17:28)</a>:</h4>
<p>Jasmin once described it to me along the lines of: "<code>hd []</code> has a value, but it changes every time Isabelle restarts"</p>



<a name="309039634"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309039634" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309039634">(Nov 10 2022 at 17:33)</a>:</h4>
<p>haha, that's a good one. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="309039830"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309039830" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manuel Eberl <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309039830">(Nov 10 2022 at 17:34)</a>:</h4>
<p>The value of <code>hd []</code> is only available with Isabelle Professional or Isabelle Enterprise Edition.</p>



<a name="309055939"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309055939" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309055939">(Nov 10 2022 at 18:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined/near/309038606">said</a>:</p>
<blockquote>
<p>Jasmin once described it to me along the lines of: "<code>hd []</code> has a value, but it changes every time Isabelle restarts"</p>
</blockquote>
<p>Well, I think this explanation is misleading; the underdefinedness has nothing to do with Isabelle runs. I rather see it like this: The HOL theory (what you get if you use Isabelle/HOL) is just a theory; it gives only logical statement about what holds and what not. This theory can have several models: several assignments of concrete values to variables like <code>hd</code>. With one model <code>hd [] :: nat</code> is <code>0</code>, with another one it is <code>1000</code>, and so on. All these different models (different “definitions” of <code>hd</code>) are compatible with what Isabelle/HOL states.</p>



<a name="309056699"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309056699" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309056699">(Nov 10 2022 at 18:59)</a>:</h4>
<p>I think the core of my message is this: In a functional programming language, like Haskell, you always <em>define</em> variables. For example, you say what <code>head</code> (Haskell’s equivalent of Isabelle’s <code>hd</code>) is: <code>head [0]</code>, for instance, is <code>0</code> and <code>head []</code> is <code>⊥</code>, a special value that is of the natural number type, but is different from any true natural number. In Isabelle, on the other hand, you provide an, often partial, specification of properties of your variables. For example, you say that <code>hd [0]</code> is <code>0</code>, but you say absolutely nothing about <code>hd []</code>. It must be one true natural number (as there is no <code>⊥</code>), but it is simply not known which one it is.</p>



<a name="309057067"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309057067" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309057067">(Nov 10 2022 at 19:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="423655">Wolfgang Jeltsch</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined/near/309055939">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined/near/309038606">said</a>:</p>
<blockquote>
<p>Jasmin once described it to me along the lines of: "<code>hd []</code> has a value, but it changes every time Isabelle restarts"</p>
</blockquote>
<p>Well, I think this explanation is misleading; the underdefinedness has nothing to do with Isabelle runs. I rather see it like this: The HOL theory (what you get if you use Isabelle/HOL) is just a theory; it gives only logical statement about what holds and what not. This theory can have several models: several assignments of concrete values to variables like <code>hd</code>. With one model <code>hd [] :: nat</code> is <code>0</code>, with another one it is <code>1000</code>, and so on. All these different models (different “definitions” of <code>hd</code>) are compatible with what Isabelle/HOL states.</p>
</blockquote>
<p>Yeah, but you within one isabelle run, the value is constant (<code>hd ([]::'a list) = hd ([] :: 'a list)</code>).  You need a restart for the value to change. Hence it has something to do with Isabelle runs.</p>



<a name="309057166"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309057166" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309057166">(Nov 10 2022 at 19:01)</a>:</h4>
<p>although you are right and  it has nothing to do with isabelle runs</p>



<a name="309057589"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309057589" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309057589">(Nov 10 2022 at 19:03)</a>:</h4>
<p>Note that the approach of using “underdefinedness” has some interesting consequences. Take <code>undefined</code> which has the polymorphic value <code>'a</code> and for each concrete type is some value about which we don’t know anything (the name might be misleading, specifically if you come from Haskell). You can prove the statement <code>undefined = False ∨ undefined = True</code> (<code>'a</code> being specialized to <code>bool</code> via type inference here), but you don’t know which of the booleans it is. Also, you can prove <code>undefined = undefined</code>, because in each concrete model there is a concrete <code>undefined</code> (otherwise, referential transparency wouldn’t hold), but if you defined another constant, say <code>undefined'</code>, about which you don’t say anything, then <code>undefined = undefined'</code> wouldn’t be provable.</p>



<a name="309060383"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309060383" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Jeltsch <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309060383">(Nov 10 2022 at 19:18)</a>:</h4>
<blockquote>
<p>Yeah, but you within one isabelle run, the value is constant (hd ([]::'a list) = hd ([] :: 'a list)).</p>
</blockquote>
<p>My view is different: There is just not <em>the</em> value of <code>hd</code>, not even within a single Isabelle run. There is a set of permissible assignments of concrete values to the constants of the HOL theory (like <code>hd</code>). However, the statement <code>(hd ([]::'a list) = hd ([] :: 'a list)</code> is still true, because being true means being true for each particular permissible assignment, and each particular assignment has a single value for <code>hd []</code>.</p>
<p>Note that this view has an advantage when it comes to contradictions, which you can introduce when stating axioms. Say you write the following:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">axiomatization</span><span class="w"> </span><span class="kp">where</span><span class="w"> </span><span class="n">contradiction</span><span class="o">:</span><span class="w"> </span><span class="s">"hd [] = 0 ∧ hd [] = 1"</span><span class="w"></span>
</code></pre></div>
<p>What value does <code>hd []</code> have now for you current Isabelle run? There can’t be any. However, it is still true that, for example, <code>(hd ([]::'a list) = hd ([] :: 'a list)</code> holds for every model of your theory: there is just no model of your theory; so any statement holds.</p>



<a name="309583841"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Underdefined%20vs%20undefined/near/309583841" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasmin Blanchette <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined.html#309583841">(Nov 14 2022 at 12:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Underdefined.20vs.20undefined/near/309038606">said</a>:</p>
<blockquote>
<p>Jasmin once described it to me along the lines of: "<code>hd []</code> has a value, but it changes every time Isabelle restarts"</p>
</blockquote>
<p>Can't remember saying that! :)</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>