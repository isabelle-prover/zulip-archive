<html>
<head><meta charset="utf-8"><title>Usage of ex_neg_all_pos · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html">Usage of ex_neg_all_pos</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="486922601"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486922601" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486922601">(Dec 09 2024 at 07:36)</a>:</h4>
<p>I want to use ex_neg_all_pos to refine the following goal:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">state</span><span class="o">)</span>
<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">2</span><span class="w"> </span><span class="n">subgoals</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">⋀M</span><span class="w"> </span><span class="n">w.</span><span class="w"> </span><span class="o">(</span><span class="n">⋀f1</span><span class="w"> </span><span class="n">f2.</span><span class="w"> </span><span class="o">(</span><span class="n">f1</span><span class="o">,</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">(</span><span class="n">zip</span><span class="w"> </span><span class="n">fl1</span><span class="w"> </span><span class="n">fl2</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∀M</span><span class="w"> </span><span class="n">w.</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="n">length</span><span class="w"> </span><span class="n">fl1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl2</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="o">(</span><span class="n">⋀f1</span><span class="w"> </span><span class="n">f2.</span><span class="w"> </span><span class="o">(</span><span class="n">f1</span><span class="o">,</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">(</span><span class="n">zip</span><span class="w"> </span><span class="n">fl1</span><span class="w"> </span><span class="n">fl2</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">∀M</span><span class="w"> </span><span class="n">w.</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="n">f2</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="n">length</span><span class="w"> </span><span class="n">fl1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl2</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="n">w</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="n">∃vl.</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl1</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">rel</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">(</span><span class="n">w</span><span class="w"> </span><span class="n">#</span><span class="w"> </span><span class="n">vl</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x</span><span class="w"> </span><span class="n">y.</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">(</span><span class="n">zip</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="n">fl1</span><span class="o">)</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="o">)</span><span class="w"> </span><span class="n">⟹</span>
<span class="w">           </span><span class="n">w</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">∧</span>
<span class="w">           </span><span class="o">(</span><span class="n">∃vl.</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl2</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">rel</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">(</span><span class="n">w</span><span class="w"> </span><span class="n">#</span><span class="w"> </span><span class="n">vl</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀x</span><span class="w"> </span><span class="n">y.</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">)</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">(</span><span class="n">zip</span><span class="w"> </span><span class="n">vl</span><span class="w"> </span><span class="n">fl2</span><span class="o">)</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">asatis</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="o">))</span>
</code></pre></div>
<p>I unfold with ex_neg_all_pos, and want to eliminate the<code> ∃vl.</code> in <br>
<code>∃vl. length vl = length fl1 ∧ rel M m (w # vl) ∧ (∀x y. (x, y) ∈ set (zip vl fl1) ⟶ asatis M x y) </code><br>
It does not work. How can I get it to work, in the sense of pulling the existential to the very front?</p>
<p>Ideally I want the same effect as rewriting with PULL_EXISTS in HOL4:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">PULL_EXISTS;</span>
<span class="n">val</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="n">⊢</span><span class="w"> </span><span class="n">∀P</span><span class="w"> </span><span class="n">Q.</span>
<span class="w">       </span><span class="o">((</span><span class="n">∃x.</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="o">)</span><span class="w"> </span><span class="n">⇒</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="n">⇔</span><span class="w"> </span><span class="n">∀x.</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">⇒</span><span class="w"> </span><span class="n">Q</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">((</span><span class="n">∃x.</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="n">⇔</span><span class="w"> </span><span class="n">∃x.</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">Q</span><span class="o">)</span><span class="w"> </span><span class="n">∧</span>
<span class="w">       </span><span class="o">(</span><span class="n">Q</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∃x.</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="o">)</span><span class="w"> </span><span class="n">⇔</span><span class="w"> </span><span class="n">∃x.</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">x</span><span class="o">):</span><span class="w"> </span><span class="n">them</span>
</code></pre></div>



<a name="486925223"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486925223" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486925223">(Dec 09 2024 at 07:50)</a>:</h4>
<p>Another example that I want to use ex_neg_all_pos:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">prove</span><span class="o">)</span>
<span class="k">using</span><span class="w"> </span><span class="n">this</span><span class="o">:</span>
<span class="w">    </span><span class="n">∃m</span><span class="w"> </span><span class="n">fl.</span><span class="w"> </span><span class="n">phi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">♢m</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">ops</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arity</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀f.</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">deg_wffs</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">sig</span><span class="o">)</span>
<span class="w">    </span><span class="o">?</span><span class="n">c</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">quotient'</span><span class="w"> </span><span class="o">(</span><span class="n">deg_wffs</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">sig</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">cequivr</span><span class="w"> </span><span class="n">TYPE</span><span class="o">(</span><span class="n n-Type">'a</span><span class="o">))</span><span class="w"> </span><span class="n">⟹</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">?</span><span class="n">c</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="o">?</span><span class="n">c</span>

<span class="n">goal</span><span class="w"> </span><span class="o">(</span><span class="n">1</span><span class="w"> </span><span class="n">subgoal</span><span class="o">):</span>
<span class="w"> </span><span class="n">1.</span><span class="w"> </span><span class="n">∃phi0.</span><span class="w"> </span><span class="n">phi0</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">cDIAMs_comb</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="o">(</span><span class="n">f</span><span class="w"> </span><span class="sx">` quotient' (deg_wffs n sig) (cequivr TYPE('a))) ∧ cequiv TYPE('a) phi phi0</span>
</code></pre></div>
<p>I want to eliminate <code>?m fl</code> in</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="n">∃m</span><span class="w"> </span><span class="n">fl.</span><span class="w"> </span><span class="n">phi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">♢m</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">ops</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arity</span><span class="w"> </span><span class="n">sig</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">∧</span><span class="w"> </span><span class="o">(</span><span class="n">∀f.</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">fl</span><span class="w"> </span><span class="n">⟶</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">∈</span><span class="w"> </span><span class="n">deg_wffs</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">sig</span><span class="o">)</span>
</code></pre></div>



<a name="486936700"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486936700" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486936700">(Dec 09 2024 at 08:47)</a>:</h4>
<p>When I see such a long goal, my reaction is:</p>
<p>1. either auto will solve it with some help (auto + sledgehammer + combining the two tactics in one line). In this case, the question is not really relevant<br>
  2. or auto will not work, in which case you want Isar. And in this case, the question is not really relevant either, because you can use obtain.</p>
<p>So, why?</p>



<a name="486936907"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486936907" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486936907">(Dec 09 2024 at 08:48)</a>:</h4>
<p>For trying it out, this works:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="s">‹P ⟹ (∃x. Q x ⟹ H) ›</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="n">clarify</span>
</code></pre></div>



<a name="486936965"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486936965" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486936965">(Dec 09 2024 at 08:48)</a>:</h4>
<p>But again, auto is doing it too</p>



<a name="486938409"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938409" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938409">(Dec 09 2024 at 08:56)</a>:</h4>
<p>Clarify works, thanks and this is what I want. Just discovered that I can do:<br>
<code>proof (intro impI allI iffI,elim conjE, auto)  </code>, i.e. use auto without the apply mode.</p>



<a name="486938514"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938514" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938514">(Dec 09 2024 at 08:56)</a>:</h4>
<p>Yeah but no, do not do that</p>



<a name="486938569"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938569" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938569">(Dec 09 2024 at 08:56)</a>:</h4>
<p>This is really bad for maintenance</p>



<a name="486938626"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938626" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938626">(Dec 09 2024 at 08:56)</a>:</h4>
<p>So is clarify better?</p>



<a name="486938641"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938641" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938641">(Dec 09 2024 at 08:56)</a>:</h4>
<p>The output of auto can change across version (or if you later add a simp rule)</p>



<a name="486938695"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938695" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938695">(Dec 09 2024 at 08:57)</a>:</h4>
<p>Or I should just use "obtain" to make it easier for maintenance?</p>



<a name="486938745"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938745" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938745">(Dec 09 2024 at 08:57)</a>:</h4>
<p>obtain is better</p>



<a name="486938843"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938843" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938843">(Dec 09 2024 at 08:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486938641">said</a>:</p>
<blockquote>
<p>The output of auto can change across version (or if you later add a simp rule)</p>
</blockquote>
<p>How can I add a simp rule that pulling all the existential to the very top?</p>



<a name="486938919"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486938919" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486938919">(Dec 09 2024 at 08:58)</a>:</h4>
<p>clarify is useful for exploration (is there a way to get this done fast?)</p>



<a name="486939082"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939082" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939082">(Dec 09 2024 at 08:58)</a>:</h4>
<p>I think I like the aspect of Isar that keeps critical points of proofs clearer, but I am annoyed when I need to use Isar just to treat the logical operations.</p>



<a name="486939122"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939122" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939122">(Dec 09 2024 at 08:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486938843">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486938641">said</a>:</p>
<blockquote>
<p>The output of auto can change across version (or if you later add a simp rule)</p>
</blockquote>
<p>How can I add a simp rule that pulling all the existential to the very top?</p>
</blockquote>
<p>The very point of simp rules is that they work for HOL stuff, aka not across <code>==&gt;</code> (yes there is a Pure.simp, but it is very limited)</p>



<a name="486939394"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939394" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939394">(Dec 09 2024 at 09:00)</a>:</h4>
<p>Not across <code>==&gt;</code> is very unfortunate...</p>



<a name="486939525"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939525" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939525">(Dec 09 2024 at 09:00)</a>:</h4>
<p>Should not be too hard to get some volunteer implement it. But it would be another story.</p>



<a name="486939559"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939559" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939559">(Dec 09 2024 at 09:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486939082">said</a>:</p>
<blockquote>
<p>I think I like the aspect of Isar that keeps critical points of proofs clearer, but I am annoyed when I need to use Isar just to treat the logical operations.</p>
</blockquote>
<p>why would you? For such a goal, I would:</p>
<ol>
<li>call clarify + simp or auto</li>
<li>think about the cal</li>
<li>call sledgehammer</li>
<li>if SH finds a proof: try to compress it</li>
<li>if not, I will need Isar anyway, so I can name my assumptions with lets and so on</li>
</ol>



<a name="486939976"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486939976" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486939976">(Dec 09 2024 at 09:02)</a>:</h4>
<p>Especially since the original goal looks like an induction of some sort, using <code>(is _)</code> to name things is not hard at all.</p>



<a name="486940143"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940143" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940143">(Dec 09 2024 at 09:03)</a>:</h4>
<p>I would think an ideal way of using Isar is "only write the steps that tells the real story of the proof". But I will admit that this is my excuse of being lazy.</p>



<a name="486940382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940382">(Dec 09 2024 at 09:04)</a>:</h4>
<p>I will learn to live with it. I do use some "is", but often forget that.</p>



<a name="486940425"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940425" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940425">(Dec 09 2024 at 09:04)</a>:</h4>
<p>Also: you are not using <code>list_induct2</code> for the prof right?</p>



<a name="486940546"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940546" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940546">(Dec 09 2024 at 09:05)</a>:</h4>
<p>No, but what's the story of <code>list_induct2</code>?</p>



<a name="486940584"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940584" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940584">(Dec 09 2024 at 09:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486940382">said</a>:</p>
<blockquote>
<p>I will learn to live with it. I do use some "is", but often forget that.</p>
</blockquote>
<p>BTW, one trick that I learned after way too long: <code>is _ is _ is _</code> works</p>



<a name="486940628"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940628" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940628">(Dec 09 2024 at 09:06)</a>:</h4>
<p>for naming several things at once</p>



<a name="486940731"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940731" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940731">(Dec 09 2024 at 09:06)</a>:</h4>
<p>Ha? What is the syntax?</p>



<a name="486940739"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486940739" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486940739">(Dec 09 2024 at 09:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486940546">said</a>:</p>
<blockquote>
<p>No, but what's the story of <code>list_induct2</code>?</p>
</blockquote>
<p>It should just be a better induction principle for what you are trying to do</p>



<a name="486941010"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486941010" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486941010">(Dec 09 2024 at 09:07)</a>:</h4>
<p>I was not using any sort of induction but this principle sounds sensible. I think I can do a inductive argument using this as well... Let me try.</p>



<a name="486941168"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486941168" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486941168">(Dec 09 2024 at 09:08)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">‹((f1, f2) ∈ set (zip fl1 fl2) ⟹ ∀M w. asatis M w f1 = asatis M w f2)›</span><span class="w"> </span><span class="o">(</span><span class="kp">is</span><span class="w"> </span><span class="s">‹?P ⟹ ?Q›</span><span class="w"> </span><span class="kp">is</span><span class="w">  </span><span class="s">‹_ ∈ ?H ⟹ _›</span><span class="o">)</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="n">P</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">H</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">P</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">Q</span>
</code></pre></div>



<a name="486941302"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486941302" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486941302">(Dec 09 2024 at 09:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486941010">said</a>:</p>
<blockquote>
<p>I was not using any sort of induction but this principle sounds sensible. I think I can do a inductive argument using this as well... Let me try.</p>
</blockquote>
<p><code>(⋀f1 f2. (f1, f2) ∈ set (zip fl1 fl2) ⟹ ∀M w. asatis M w f1 = asatis M w f2) </code> looks a lot like an induction principle to me</p>



<a name="486941606"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486941606" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486941606">(Dec 09 2024 at 09:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486941168">said</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span>
<span class="w">  </span><span class="kp">assumes</span><span class="w"> </span><span class="s">‹((f1, f2) ∈ set (zip fl1 fl2) ⟹ ∀M w. asatis M w f1 = asatis M w f2)›</span><span class="w"> </span><span class="o">(</span><span class="kp">is</span><span class="w"> </span><span class="s">‹?P ⟹ ?Q›</span><span class="w"> </span><span class="kp">is</span><span class="w">  </span><span class="s">‹_ ∈ ?H ⟹ _›</span><span class="o">)</span>
<span class="w">  </span><span class="kp">shows</span><span class="w"> </span><span class="n">P</span>
<span class="k">proof</span><span class="w"> </span><span class="o">-</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">H</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">P</span>
<span class="w">  </span><span class="kt">term</span><span class="w"> </span><span class="o">?</span><span class="n">Q</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I see this is wonderful.</p>



<a name="486941685"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Usage%20of%20ex_neg_all_pos/near/486941685" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos.html#486941685">(Dec 09 2024 at 09:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486941302">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/channel/238552-Beginner-Questions/topic/Usage.20of.20ex_neg_all_pos/near/486941010">said</a>:</p>
<blockquote>
<p>I was not using any sort of induction but this principle sounds sensible. I think I can do a inductive argument using this as well... Let me try.</p>
</blockquote>
<p><code>(⋀f1 f2. (f1, f2) ∈ set (zip fl1 fl2) ⟹ ∀M w. asatis M w f1 = asatis M w f2) </code> looks a lot like an induction principle to me</p>
</blockquote>
<p>I think you are right, lists sort-of born for an induction.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>