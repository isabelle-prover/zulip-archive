<html>
<head><meta charset="utf-8"><title>Why it seems like Isabelle does not get my definition · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html">Why it seems like Isabelle does not get my definition</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="470007893"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470007893" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470007893">(Sep 13 2024 at 16:19)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">datatype</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VAR</span><span class="w"> </span><span class="s">"num"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">FALSE</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">DISJ</span><span class="w"> </span><span class="s">"form"</span><span class="w"> </span><span class="s">"form"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="s">"form"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">DIAM</span><span class="w"> </span><span class="s">"form"</span>


<span class="k">fun</span><span class="w"> </span><span class="n">demodalize</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ form"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"demodalize FALSE = FALSE"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (VAR p) = VAR p"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (DISJ form1 form2) = DISJ (demodalize form1) (demodalize form2)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (NOT form) = NOT (demodalize form)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (DIAM form) = demodalize form"</span>


<span class="k">fun</span><span class="w"> </span><span class="n">propform</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ bool"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">   </span><span class="s">"propform FALSE = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (VAR p) = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ f1 f2) = (propform f1 ∧ propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (NOT f) = propform f"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DIAM f) = False"</span>
</code></pre></div>



<a name="470007925"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470007925" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470007925">(Sep 13 2024 at 16:19)</a>:</h4>
<p>Problem is:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">propform_demodalize</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span>
<span class="k">proof</span><span class="w"> </span><span class="o">(</span><span class="n">induct</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="n">form.induct</span><span class="o">)</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">VAR</span><span class="w"> </span><span class="n">x</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">FALSE</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">DISJ</span><span class="w"> </span><span class="n">x1a</span><span class="w"> </span><span class="n">x2</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">NOT</span><span class="w"> </span><span class="n">x</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">simp</span>
<span class="k">next</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="o">(</span><span class="n">DIAM</span><span class="w"> </span><span class="n">x</span><span class="o">)</span>
<span class="w">  </span><span class="k">then</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">?</span><span class="k">case</span><span class="w"> </span><span class="gr">sorry</span>
<span class="k">qed</span>
</code></pre></div>



<a name="470008220"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470008220" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470008220">(Sep 13 2024 at 16:20)</a>:</h4>
<p>"propform" says a modal formula is a propositional formula. "demodalize" discards all modal operators "DIAM" of a formula.</p>



<a name="470008406"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470008406" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470008406">(Sep 13 2024 at 16:21)</a>:</h4>
<p>It seems like it does not understand the definition of demodalize because it thinks I should prove:<br>
<a href="/user_uploads/14278/mPU1zl2udzvqF2ZYfvo9cpFf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/mPU1zl2udzvqF2ZYfvo9cpFf/image.png" title="image.png"><img data-original-dimensions="2134x1276" src="/user_uploads/thumbnail/14278/mPU1zl2udzvqF2ZYfvo9cpFf/image.png/840x560.webp"></a></div>



<a name="470009152"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470009152" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470009152">(Sep 13 2024 at 16:25)</a>:</h4>
<p>It seems to completely ignore the "demodalize", and asks to prove every formula is propositional. Here is the goal list generated:<br>
<a href="/user_uploads/14278/L6rcLj6oN1A-Ufg2SawbP_AR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/L6rcLj6oN1A-Ufg2SawbP_AR/image.png" title="image.png"><img data-original-dimensions="2134x906" src="/user_uploads/thumbnail/14278/L6rcLj6oN1A-Ufg2SawbP_AR/image.png/840x560.webp"></a></div>



<a name="470009201"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470009201" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470009201">(Sep 13 2024 at 16:25)</a>:</h4>
<p>It should not happen and may be my stupid, but I do not see now.</p>



<a name="470012001"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012001" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012001">(Sep 13 2024 at 16:42)</a>:</h4>
<p>Specify the variable you are doing induction on instead of letting Isabelle guessing it (which sometimes like here goes wrong)…</p>



<a name="470012143"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012143" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012143">(Sep 13 2024 at 16:43)</a>:</h4>
<p><del>Actually <code>(induction rule: demodalize.induct)</code> is probably the most natural induction principle and then the guess is correct…</del> ah no</p>



<a name="470012316"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012316" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012316">(Sep 13 2024 at 16:44)</a>:</h4>
<p>But here is only one variable? What does it guess?</p>



<a name="470012426"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012426" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012426">(Sep 13 2024 at 16:45)</a>:</h4>
<p><a href="/user_uploads/14278/0tEIdzJ-S-4evGXO3vPnV5_Z/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/0tEIdzJ-S-4evGXO3vPnV5_Z/image.png" title="image.png"><img data-original-dimensions="1630x1114" src="/user_uploads/thumbnail/14278/0tEIdzJ-S-4evGXO3vPnV5_Z/image.png/840x560.webp"></a></div>



<a name="470012520"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012520" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012520">(Sep 13 2024 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470012143">said</a>:</p>
<blockquote>
<p><del>Actually <code>(induction rule: demodalize.induct)</code> is probably the most natural induction principle and then the guess is correct…</del> ah no</p>
</blockquote>
<p>Why no ... Let me try.</p>



<a name="470012567"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012567" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012567">(Sep 13 2024 at 16:45)</a>:</h4>
<p>it still picks the wrong thing</p>



<a name="470012688"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012688" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012688">(Sep 13 2024 at 16:46)</a>:</h4>
<p>If I write "(induct f rule:form.induct)" instead, it does work!</p>



<a name="470012734"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012734" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012734">(Sep 13 2024 at 16:46)</a>:</h4>
<p>I am just curious why it can even make a wrong guess.</p>



<a name="470012749"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012749" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012749">(Sep 13 2024 at 16:46)</a>:</h4>
<p>Small list of stupid thinks to induce on:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="s">"demodalize f"</span><span class="o">)</span>
<span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="s">"propform f"</span><span class="o">)</span>
<span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span><span class="o">)</span>
<span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="s">"demodalize (demodalize f)"</span><span class="o">)</span>
</code></pre></div>



<a name="470012780"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012780" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012780">(Sep 13 2024 at 16:47)</a>:</h4>
<p>all of these inductions are possible</p>



<a name="470012806"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012806" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012806">(Sep 13 2024 at 16:47)</a>:</h4>
<p>and the induction has some heuristics to pick the right one</p>



<a name="470012824"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012824" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012824">(Sep 13 2024 at 16:47)</a>:</h4>
<p>Ah? I told it to use rule: form.induct.</p>



<a name="470012894"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012894" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012894">(Sep 13 2024 at 16:47)</a>:</h4>
<p>Yeah and? form.induct works on everything of type form</p>



<a name="470012898"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470012898" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470012898">(Sep 13 2024 at 16:47)</a>:</h4>
<p><a href="/user_uploads/14278/hIcCr_6Q4h3tRddxHlPflzRI/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/hIcCr_6Q4h3tRddxHlPflzRI/image.png" title="image.png"><img data-original-dimensions="1630x574" src="/user_uploads/thumbnail/14278/hIcCr_6Q4h3tRddxHlPflzRI/image.png/840x560.webp"></a></div>



<a name="470013004"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013004" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013004">(Sep 13 2024 at 16:48)</a>:</h4>
<p>So Isabelle is not doing unification with the theorem in the screenshot?!</p>



<a name="470013049"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013049" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013049">(Sep 13 2024 at 16:48)</a>:</h4>
<p>sure it does</p>



<a name="470013067"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013067" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013067">(Sep 13 2024 at 16:49)</a>:</h4>
<p>but there are many possible P</p>



<a name="470013158"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013158" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013158">(Sep 13 2024 at 16:49)</a>:</h4>
<p>P is the whole goal, right? I am proving by induction on <code>propform (demodalize f)</code>.</p>



<a name="470013236"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013236" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013236">(Sep 13 2024 at 16:50)</a>:</h4>
<p>Take <code>P = %_. propform (demodalize f)</code></p>



<a name="470013267"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013267" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013267">(Sep 13 2024 at 16:50)</a>:</h4>
<p>then you are doing induction on a variable that is not in the goal</p>



<a name="470013383"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013383" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013383">(Sep 13 2024 at 16:51)</a>:</h4>
<p>Oh it then thinks the f is a fixed free variable... And want to unify with "!x. propform (demodalize f)"?</p>



<a name="470013471"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013471" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013471">(Sep 13 2024 at 16:51)</a>:</h4>
<p>That is exactly why you can specify the variable with <code>(induction f rule: form.induct)</code>. Avoid confusing</p>



<a name="470013596"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013596" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013596">(Sep 13 2024 at 16:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013267">said</a>:</p>
<blockquote>
<p>then you are doing induction on a variable that is not in the goal</p>
</blockquote>
<p>That's awful... I wonder if there exists a case of "inducting on a variable that is not in the goal" to be useful.</p>



<a name="470013638"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013638" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013638">(Sep 13 2024 at 16:52)</a>:</h4>
<p>Never which is why induction did not pick that ;-)</p>



<a name="470013673"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013673" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013673">(Sep 13 2024 at 16:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013471">said</a>:</p>
<blockquote>
<p>That is exactly why you can specify the variable with <code>(induction f rule: form.induct)</code>. Avoid confusing</p>
</blockquote>
<p>Given the situation, surely I will from now on...</p>



<a name="470013728"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013728" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013728">(Sep 13 2024 at 16:53)</a>:</h4>
<p>instead it decided to generalize the <code>demodalize f</code> to <code>form</code> and do induction on that</p>



<a name="470013868"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013868" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013868">(Sep 13 2024 at 16:54)</a>:</h4>
<p>Although in general <code>induction f rule: demodalize.induct</code> is better here as you pick the version adapted to demodalize</p>



<a name="470013914"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013914" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013914">(Sep 13 2024 at 16:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013728">said</a>:</p>
<blockquote>
<p>instead it decided to generalize the <code>demodalize f</code> to <code>form</code> and do induction on that</p>
</blockquote>
<p>Ah? So what happens is that it is proving !f. f = demodalize form ==&gt; propform (demodalize form)?</p>



<a name="470013994"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470013994" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470013994">(Sep 13 2024 at 16:55)</a>:</h4>
<p>Try this silly version of the definition to see what happens:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">fun</span><span class="w"> </span><span class="n">propform</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ bool"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">   </span><span class="s">"propform FALSE = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (VAR p) = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ (VAR f1) f2) = (propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ f1 f2) = (propform f1 ∧ propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (NOT f) = propform f"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DIAM f) = False"</span>
</code></pre></div>



<a name="470014082"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014082" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014082">(Sep 13 2024 at 16:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013914">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013728">said</a>:</p>
<blockquote>
<p>instead it decided to generalize the <code>demodalize f</code> to <code>form</code> and do induction on that</p>
</blockquote>
<p>Ah? So what happens is that it is proving !f. f = demodalize form ==&gt; propform (demodalize form)?</p>
</blockquote>
<p>No, as you though it is proving that <code>propform form</code></p>



<a name="470014140"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014140" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014140">(Sep 13 2024 at 16:55)</a>:</h4>
<p>(do not ask me why, I have no interest to check the code of the induction tactic)</p>



<a name="470014241"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014241" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014241">(Sep 13 2024 at 16:56)</a>:</h4>
<p>I won't. I will just try your example and I may check later...</p>



<a name="470014388"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014388" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014388">(Sep 13 2024 at 16:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470014082">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="754515">Yiming Xu</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013914">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013728">said</a>:</p>
<blockquote>
<p>instead it decided to generalize the <code>demodalize f</code> to <code>form</code> and do induction on that</p>
</blockquote>
<p>Ah? So what happens is that it is proving !f. f = demodalize form ==&gt; propform (demodalize form)?</p>
</blockquote>
<p>No, as you though it is proving that <code>propform form</code></p>
</blockquote>
<p>I will remember, this is an impressive design...</p>



<a name="470014451"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014451" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014451">(Sep 13 2024 at 16:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="233198">Mathias Fleury</span> <a href="#narrow/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition/near/470013994">said</a>:</p>
<blockquote>
<p>Try this silly version of the definition to see what happens:</p>
<p><div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">fun</span><span class="w"> </span><span class="n">propform</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ bool"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">   </span><span class="s">"propform FALSE = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (VAR p) = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ (VAR f1) f2) = (propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ f1 f2) = (propform f1 ∧ propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (NOT f) = propform f"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DIAM f) = False"</span>
</code></pre></div><br>
</p>
</blockquote>
<p>You mean use this and use induction f rule: demodalize.induct?</p>



<a name="470014613"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014613" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014613">(Sep 13 2024 at 16:58)</a>:</h4>
<p>Take that definition and compare:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">lemma</span><span class="w"> </span><span class="n">propform_demodalize</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">form.induct</span><span class="o">)</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="gr">oops</span>


<span class="kn">lemma</span><span class="w"> </span><span class="n">propform_demodalize</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">demodalize.induct</span><span class="o">)</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="gr">oops</span>
</code></pre></div>



<a name="470014694"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014694" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014694">(Sep 13 2024 at 16:59)</a>:</h4>
<p>ah no sorry wait</p>



<a name="470014866"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470014866" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470014866">(Sep 13 2024 at 17:00)</a>:</h4>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="k">fun</span><span class="w"> </span><span class="n">demodalize</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ form"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">    </span><span class="s">"demodalize FALSE = FALSE"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (VAR p) = VAR p"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (DISJ (VAR form1) form2) = DISJ (VAR form1) (demodalize form2)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (DISJ form1 form2) = DISJ (demodalize form1) (demodalize form2)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (NOT form) = NOT (demodalize form)"</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="s">"demodalize (DIAM form) = demodalize form"</span>


<span class="k">fun</span><span class="w"> </span><span class="n">propform</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="s">"form ⇒ bool"</span>
<span class="w">  </span><span class="kp">where</span>
<span class="w">   </span><span class="s">"propform FALSE = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (VAR p) = True"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DISJ f1 f2) = (propform f1 ∧ propform f2)"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (NOT f) = propform f"</span>
<span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">"propform (DIAM f) = False"</span>

<span class="kt">thm</span><span class="w"> </span><span class="n">form.induct</span>
<span class="kn">lemma</span><span class="w"> </span><span class="n">propform_demodalize</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">demodalize.induct</span><span class="o">)</span>
<span class="w">          </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="gr">oops</span>


<span class="kn">lemma</span><span class="w"> </span><span class="n">propform_demodalize</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">"propform (demodalize f)"</span>
<span class="w">  </span><span class="kp">apply</span><span class="w"> </span><span class="o">(</span><span class="n">induction</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">rule</span><span class="o">:</span><span class="w"> </span><span class="n">form.induct</span><span class="o">)</span>
<span class="w">          </span><span class="kp">apply</span><span class="w"> </span><span class="n">auto</span>
<span class="w">  </span><span class="gr">oops</span>
</code></pre></div>



<a name="470015611"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470015611" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470015611">(Sep 13 2024 at 17:05)</a>:</h4>
<p><a href="/user_uploads/14278/crtDEL6Z5ndR4VF5rpdYNnTb/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/crtDEL6Z5ndR4VF5rpdYNnTb/image.png" title="image.png"><img data-original-dimensions="2160x784" src="/user_uploads/thumbnail/14278/crtDEL6Z5ndR4VF5rpdYNnTb/image.png/840x560.webp"></a></div>



<a name="470015710"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470015710" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470015710">(Sep 13 2024 at 17:06)</a>:</h4>
<p>I think this is what I expected? Identical to HOL4.</p>



<a name="470015869"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470015869" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470015869">(Sep 13 2024 at 17:07)</a>:</h4>
<p>Oh I see.</p>



<a name="470015951"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470015951" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470015951">(Sep 13 2024 at 17:07)</a>:</h4>
<p>If the definition of demodalize is changed, than if we induct on formula, we need to do case splitting on DISJ case.</p>



<a name="470016040"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470016040" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470016040">(Sep 13 2024 at 17:08)</a>:</h4>
<p>But if we just induct on demodalize, then the IH does the case splitting.</p>



<a name="470016214"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470016214" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470016214">(Sep 13 2024 at 17:09)</a>:</h4>
<p>Yes I agree! In that case, inducting with demodalize will be better.</p>



<a name="470016324"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/Why%20it%20seems%20like%20Isabelle%20does%20not%20get%20my%20definition/near/470016324" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yiming Xu <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/Why.20it.20seems.20like.20Isabelle.20does.20not.20get.20my.20definition.html#470016324">(Sep 13 2024 at 17:10)</a>:</h4>
<p>I am not confident enough to claim "it works better &lt;=&gt; the inductive definition of a constructor of the datatype requires a case splitting". But so far I believe.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>