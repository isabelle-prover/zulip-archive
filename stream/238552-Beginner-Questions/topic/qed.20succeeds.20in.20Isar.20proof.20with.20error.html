<html>
<head><meta charset="utf-8"><title>qed succeeds in Isar proof with error · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/qed.20succeeds.20in.20Isar.20proof.20with.20error.html">qed succeeds in Isar proof with error</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="297117885"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/qed%20succeeds%20in%20Isar%20proof%20with%20error/near/297117885" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Weisberger <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/qed.20succeeds.20in.20Isar.20proof.20with.20error.html#297117885">(Sep 04 2022 at 16:21)</a>:</h4>
<p>The first question would be, is a theorem considered proven when a <code>theorem</code> definition is listed in the output?</p>
<p>I ran into this in a more complicated example, but here's a simplified one:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">theorem</span> <span class="n">contradiction</span><span class="o">:</span> <span class="s">"n = Suc n"</span>
<span class="k">proof</span><span class="o">(</span><span class="n">induction</span> <span class="n">n</span><span class="o">)</span>
  <span class="k">case</span> <span class="n">0</span>
  <span class="k">then</span> <span class="k">show</span> <span class="o">?</span><span class="k">case</span> <span class="k">by</span> <span class="n">auto</span>
<span class="k">next</span>
  <span class="k">case</span> <span class="o">(</span><span class="n">Suc</span> <span class="n">n</span><span class="o">)</span>
  <span class="k">then</span> <span class="k">show</span> <span class="o">?</span><span class="k">case</span> <span class="k">by</span> <span class="n">auto</span>
<span class="k">qed</span>
</code></pre></div>
<p>Obviously this is not true, and the 0 case fails to get marked as proven. However, when my cursor is over the <code>qed</code>, I see the following output:</p>
<div class="codehilite" data-code-language="Isabelle"><pre><span></span><code><span class="kn">theorem</span> <span class="o">?</span><span class="n">n</span> <span class="o">=</span> <span class="n">Suc</span> <span class="o">?</span><span class="n">n</span>
</code></pre></div>
<p>And the theorem is output when I use the <code>thm</code> command as well. I thought this output is only produced when the proof is actually proven? There's also no error shown on the final <code>qed</code>, just in the bad case. Is this expected?</p>



<a name="297161387"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/qed%20succeeds%20in%20Isar%20proof%20with%20error/near/297161387" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/qed.20succeeds.20in.20Isar.20proof.20with.20error.html#297161387">(Sep 05 2022 at 04:27)</a>:</h4>
<p>Isabelle is optimistic (which is necessary in order to be able to do stuff in parallel): it assumes that the proof steps above finished (so no purple running forever tactics) and were error-free</p>



<a name="297242676"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/qed%20succeeds%20in%20Isar%20proof%20with%20error/near/297242676" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Weisberger <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/qed.20succeeds.20in.20Isar.20proof.20with.20error.html#297242676">(Sep 05 2022 at 15:18)</a>:</h4>
<p>Thanks. The error is obvious in this case, though it is a little scary for larger proofs since it’s easier for those errors to get lost. </p>
<p>I wonder if there’s a setting to control that, for example to prevent publishing a theory with an error that someone else consumes.</p>



<a name="297243094"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/qed%20succeeds%20in%20Isar%20proof%20with%20error/near/297243094" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Stevens <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/qed.20succeeds.20in.20Isar.20proof.20with.20error.html#297243094">(Sep 05 2022 at 15:22)</a>:</h4>
<p>If you build your session with <code>isabelle build</code>, the build will fail.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>