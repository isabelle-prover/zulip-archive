<html>
<head><meta charset="utf-8"><title>unfold, but just once · Beginner Questions · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/index.html">Beginner Questions</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/unfold.2C.20but.20just.20once.html">unfold, but just once</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="225374037"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/unfold%2C%20but%20just%20once/near/225374037" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Kądziołka <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/unfold.2C.20but.20just.20once.html#225374037">(Feb 06 2021 at 00:01)</a>:</h4>
<p>I have the following fact in my proof: <code>"n = 2^multiplicity 2 n * k"</code></p>
<p>Further down, I would like to replace <code>n</code> in a goal with <code>2^multiplicity 2 n * k</code>. However, both <code>unfolding n</code> and <code>apply (unfold n)</code> go into an infinite loop. How do I avoid that?</p>



<a name="225389825"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/unfold%2C%20but%20just%20once/near/225389825" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/unfold.2C.20but.20just.20once.html#225389825">(Feb 06 2021 at 06:20)</a>:</h4>
<div class="codehilite"><pre><span></span><code>apply (subst n)
</code></pre></div>



<a name="225389886"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/unfold%2C%20but%20just%20once/near/225389886" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/unfold.2C.20but.20just.20once.html#225389886">(Feb 06 2021 at 06:22)</a>:</h4>
<p>if you need to direct it more:</p>
<div class="codehilite"><pre><span></span><code>apply (subst [(asm)][(position)] n)
</code></pre></div>
<p>(asm) = substitute in assumpition<br>
(position) = substitute at position e.g. (1), (10), ...</p>



<a name="225389892"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/238552-Beginner%20Questions/topic/unfold%2C%20but%20just%20once/near/225389892" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mathias Fleury <a href="http://isabelle.systems/zulip-archive/stream/238552-Beginner-Questions/topic/unfold.2C.20but.20just.20once.html#225389892">(Feb 06 2021 at 06:22)</a>:</h4>
<p>Rewrite is nicer to use (you can write a pattern instead of referring to the position), but not part of Main. See <a href="https://isabelle.in.tum.de/dist/library/HOL/HOL-ex/Rewrite_Examples.html">https://isabelle.in.tum.de/dist/library/HOL/HOL-ex/Rewrite_Examples.html</a> for examples</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>