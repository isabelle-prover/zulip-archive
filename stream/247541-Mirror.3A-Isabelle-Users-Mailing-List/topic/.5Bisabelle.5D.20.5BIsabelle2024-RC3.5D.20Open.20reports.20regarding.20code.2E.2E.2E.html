<html>
<head><meta charset="utf-8"><title>[isabelle] [Isabelle2024-RC3] Open reports regarding code... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2024-RC3.5D.20Open.20reports.20regarding.20code.2E.2E.2E.html">[isabelle] [Isabelle2024-RC3] Open reports regarding code...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="436819081"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%5BIsabelle2024-RC3%5D%20Open%20reports%20regarding%20code.../near/436819081" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2024-RC3.5D.20Open.20reports.20regarding.20code.2E.2E.2E.html#436819081">(May 03 2024 at 05:17)</a>:</h4>
<p>From: <a href="mailto:hannobecker@posteo.de">hannobecker@posteo.de</a><br>
Hi Makarius and community,</p>
<p>There are a few outstanding reports of unexpected behaviour regarding <br>
code generation, adhoc overloading, and locales.</p>
<p>Each report contains a minimal example to reproduce the behaviours, all <br>
of which persist in Isabelle2024-RC3.</p>
<p>The reports are:</p>
<ul>
<li>
<p><a href="https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-02/msg00053.html">https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-02/msg00053.html</a> <br>
(Failure of <code>lift_definition</code> in the context of type classes.)</p>
</li>
<li>
<p><a href="https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-01/msg00079.html">https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-01/msg00079.html</a> <br>
(Constant folding during code generation from locales and sublocales)</p>
</li>
<li>
<p><a href="https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-02/msg00015.html">https://lists.cam.ac.uk/sympa/arc/cl-isabelle-users/2024-02/msg00015.html</a> <br>
(Adhoc Overloading corrupted by unrelated definition)</p>
</li>
</ul>
<p>These behaviours arise in a large-scale application of Isabelle making <br>
extensive use of nested locales, code generation, and adhoc overloading. <br>
We are currently carrying ad-hoc (no pun intended) patches to <br>
adhoc_overloading because of the last report.</p>
<p>I appreciate that investigating these reports is time-consuming and, by <br>
now, not an option for Isabelle2024 anymore. Moving forward, however, <br>
thoughts would be appreciated on how to explain/address them. If there <br>
is a place where such open reports are gathered, that would also be <br>
helpful to know, so they cannot be forgotten.</p>
<p>Thanks for the hard work,</p>
<p>Regards,<br>
Hanno</p>



<a name="436846508"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%5BIsabelle2024-RC3%5D%20Open%20reports%20regarding%20code.../near/436846508" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2024-RC3.5D.20Open.20reports.20regarding.20code.2E.2E.2E.html#436846508">(May 03 2024 at 09:19)</a>:</h4>
<p>From: Kevin Kappelmann &lt;<a href="mailto:kevin.kappelmann@tum.de">kevin.kappelmann@tum.de</a>&gt;<br>
Attached you can find a patch for the third report. I leave it up to <br>
Makarius whether this can still be included in Isabelle2024.</p>
<p>The issue is that <code>variants_eq</code> in <code>adhoc_overloading.ML</code> checks <br>
equality of types syntactically, but it has to check it up to renaming <br>
of schematics.</p>
<p>(In the example of the report, the types ?'a -&gt; ?'a and ?'a1 -&gt; ?'a1 <br>
weren't identified)</p>
<p>Best wishes,</p>
<p>Kevin</p>
<p><a href="/user_uploads/14278/TYdzdcTtKeS0XfN9DU0MQ2Yv/type_eq_adhocoverloading.patch">type_eq_adhocoverloading.patch</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>