<html>
<head><meta charset="utf-8"><title>[isabelle] External prover crashing with SIGABRT (was: He... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html">[isabelle] External prover crashing with SIGABRT (was: He...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="353236030"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20External%20prover%20crashing%20with%20SIGABRT%20%28was%3A%20He.../near/353236030" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html#353236030">(Apr 27 2023 at 11:21)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
Here is an example of the external prover (in this case, cvc4) crash situation, which just occurred during<br>
my current session.  I include just the text output from the core dump in /var/crash, which shows the SIGABRT:</p>



<a name="353263827"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20External%20prover%20crashing%20with%20SIGABRT%20%28was%3A%20He.../near/353263827" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html#353263827">(Apr 27 2023 at 12:22)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I don't see anything specific here, probably just a spurious crash of cvc4-1.8.</p>
<p>This looks unrelated to questions about Isabelle/ML and Isabelle/Scala <br>
management of tasks, threads, processes.</p>
<p>It does remind me that we wanted to move forward to a more recent version, but <br>
didn't for some other reasons.</p>
<p>Makarius</p>



<a name="353266357"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20External%20prover%20crashing%20with%20SIGABRT%20%28was%3A%20He.../near/353266357" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html#353266357">(Apr 27 2023 at 12:28)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@ifi.lmu.de">jasmin.blanchette@ifi.lmu.de</a>&gt;<br>
Actually, the reason we didn't move forward to cvc5 is that cvc5 crashed very often on my Intel Mac. Maybe the issue doesn't arise with other platforms and we can soon move to cvc5.</p>
<p>Jasmin</p>



<a name="353285769"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20External%20prover%20crashing%20with%20SIGABRT%20%28was%3A%20He.../near/353285769" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html#353285769">(Apr 27 2023 at 13:10)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Hopefully, yes.</p>
<p>Note that I've seen quite a lot of crashes recently on the older Intel Mac <br>
Mini test machines that I happen to have access to.</p>
<p>Maybe the hardware is just degrading, or the OS versions. Or maybe some <br>
"planned obsolescence" by Apple to get rid of the Intel platform.</p>
<p>Makarius</p>



<a name="353495278"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20External%20prover%20crashing%20with%20SIGABRT%20%28was%3A%20He.../near/353495278" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20External.20prover.20crashing.20with.20SIGABRT.20.28was.3A.20He.2E.2E.2E.html#353495278">(Apr 27 2023 at 21:14)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
I don't see this as "just a spurious crash of cvs4-1.8".  I would expect a "spurious crash" to be something<br>
like receiving SIGSEGV as a result of a null pointer exception, for example.  However, in this case the signal<br>
received is SIGABRT, as can be verified from the following line of the dump:</p>
<blockquote>
<p>Signal: 6</p>
</blockquote>
<p>Moreover, an unusual feature is that the process itself is in the sleep state when this occurs, as can be<br>
verified by the following lines:</p>
<blockquote>
<p>ProcStatus:<br>
 Name:  cvc4<br>
 Umask: 0002<br>
 State: S (sleeping)</p>
</blockquote>
<p>Now, the fact that the process is sleeping would seem to indicate that the SIGABRT was not a signal that was<br>
generated by the process itself, but rather was sent to the process by another process.  I do not think it<br>
is possible for a process in the sleeping state to cause a signal to be sent to itself.  This implies that<br>
the abnormal termination was <em>not</em> the synchronous result of some erroneous action taken by the program that<br>
caused the SIGABRT, nor even the result of an assertion in the program whose failure might have caused SIGABRT.</p>
<p>My recollection from my previous investigation into this issue is that SIGABRT is the signal that is sent<br>
from the Isabelle system (Isabelle/Scala?) to cause an external prover to terminate when its results are<br>
no longer required.  Normally, the prover would have a handler installed for SIGABRT, it would catch this<br>
signal and arrange to terminate gracefully.  Indeed, that is apparently what happens most of the time.<br>
However, sometimes it seems that SIGABRT arrives when there is not a handler installed to catch it.<br>
In that case it causes the external prover to terminate with a core dump, which is flagged by the kernel<br>
and which is what causes the pop-up notification and the dump file to be created in /var/crash.</p>
<p>In my previous investigation I do not recall being able to determine why the SIGABRT would arrive sometimes<br>
when there was no handler for it.  But, again, I do not think the behavior recorded here should be<br>
dismissed as "just a spurious crash".</p>
<p>- Gene Stark</p>
<p>On 4/27/23 08:22, Makarius wrote:</p>
<blockquote>
<p>On 27/04/2023 13:21, Eugene W. Stark wrote:</p>
<blockquote>
<p>Here is an example of the external prover (in this case, cvc4) crash situation, which just occurred during<br>
my current session.  I include just the text output from the core dump in /var/crash, which shows the SIGABRT:</p>
<blockquote>
<p>ProblemType: Crash<br>
Architecture: amd64<br>
CrashCounter: 1<br>
CurrentDesktop: GNOME<br>
Date: Tue Apr 18 12:09:48 2023<br>
DistroRelease: Ubuntu 22.04<br>
ExecutablePath: /opt/Isabelle2022/contrib/cvc4-1.8/x86_64-linux/cvc4</p>
</blockquote>
</blockquote>
<p>I don't see anything specific here, probably just a spurious crash of cvc4-1.8.</p>
<p>This looks unrelated to questions about Isabelle/ML and Isabelle/Scala management of tasks, threads, processes.</p>
<p>It does remind me that we wanted to move forward to a more recent version, but didn't for some other reasons.</p>
<p>Makarius</p>
</blockquote>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>