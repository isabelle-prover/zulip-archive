<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2023-RC2: Proof state not shown after ... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html">[isabelle] Isabelle2023-RC2: Proof state not shown after ...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="380028048"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2023-RC2%3A%20Proof%20state%20not%20shown%20after%20.../near/380028048" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html#380028048">(Jul 30 2023 at 13:03)</a>:</h4>
<p>From: Dominique Unruh &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hello,</p>
<p>after typedef or lift_definition, the proof state is not shown in the <br>
"Output" panel (even with "Proof state" and "Auto update" activated). <br>
However, in the "State" panel it is shown. Also, after applying a method <br>
to the current goal (even if it fails), the proof state is shown in the <br>
"Output" panel.</p>
<p>The attached theory illustrates this.</p>
<p>Best wishes,<br>
Dominique.</p>
<p><a href="/user_uploads/14278/byvUIB7v7MGGPMvuK-5_dTvY/Scratch.thy">Scratch.thy</a></p>



<a name="380427116"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2023-RC2%3A%20Proof%20state%20not%20shown%20after%20.../near/380427116" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html#380427116">(Jul 31 2023 at 17:06)</a>:</h4>
<p>From: "Thiemann, René" &lt;<a href="mailto:Rene.Thiemann@uibk.ac.at">Rene.Thiemann@uibk.ac.at</a>&gt;<br>
Dear all,</p>
<p>it seems that also other commands show this effect, e.g.,</p>
<p>function foo :: "nat ⇒ nat" where<br>
  "foo x = (if x = 0 then 1 else foo (x - 1))" <br>
  (* no proof state shown *)<br>
  by pat_completeness auto</p>
<p>termination<br>
  (* no proof state shown *)<br>
  by lexicographic_order</p>
<p>Generalising this, it seems that definitional commands that produce a proof-obligation are affected.</p>
<p>Perhaps some change in local_theory_to_proof?</p>
<p>Best,<br>
René</p>



<a name="380452212"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2023-RC2%3A%20Proof%20state%20not%20shown%20after%20.../near/380452212" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html#380452212">(Jul 31 2023 at 18:31)</a>:</h4>
<p>From: "Thiemann, René" &lt;<a href="mailto:Rene.Thiemann@uibk.ac.at">Rene.Thiemann@uibk.ac.at</a>&gt;<br>
A bisection reveals that changeset 40a365360680 is the relevant one.<br>
Unfortunately, the diff does not enlighten me why this change has such a dramatic effect.</p>
<p>Best,<br>
René</p>



<a name="380473185"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2023-RC2%3A%20Proof%20state%20not%20shown%20after%20.../near/380473185" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html#380473185">(Jul 31 2023 at 19:39)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Thanks for the changeset ID.</p>
<p>I will look at this at the beginning of next week, shortly before the <br>
next release candidate.</p>
<p>Makarius</p>



<a name="383006402"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2023-RC2%3A%20Proof%20state%20not%20shown%20after%20.../near/383006402" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2023-RC2.3A.20Proof.20state.20not.20shown.20after.20.2E.2E.2E.html#383006402">(Aug 08 2023 at 15:56)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Thanks for reporting (and bisecting) it.</p>
<p>I have now addressed that here: <br>
<a href="https://isabelle.sketis.net/repos/isabelle-release/rev/40d50936484c">https://isabelle.sketis.net/repos/isabelle-release/rev/40d50936484c</a></p>
<p>changeset:   78488:40d50936484c<br>
user:        wenzelm<br>
date:        Tue Aug 08 17:17:42 2023 +0200<br>
files:       src/Pure/PIDE/document.ML<br>
description:<br>
proper imports_keywords (amending 40a365360680), e.g. relevant for implicit <br>
"print_state" for commands defined after Pure;</p>
<p>Without proper keywords, certain PIDE policies for scheduling commands and <br>
print functions don't work.</p>
<p>Makarius</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>