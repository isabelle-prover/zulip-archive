<html>
<head><meta charset="utf-8"><title>[isabelle] Notation for &quot;concat(replicate n xs)&quot; · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html">[isabelle] Notation for &quot;concat(replicate n xs)&quot;</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="493651897"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/493651897" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#493651897">(Jan 14 2025 at 19:16)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
The expression "concat(replicate n xs)" occurs frequently in the area of formal <br>
languages / combinatorics on words. That is why Stepan Holub and friends have <br>
defined an infix operator</p>
<p>"xs \&lt;^sup&gt;@n = concat(replicate n xs)"</p>
<p>Because it has also cropped up in other places, I would like to define this <br>
operator already in List (i.e. Main) and am wondering about the syntax:</p>
<p>^@ or ^^</p>
<p>The latter exists and is overloaded, which may require type annotations in a few <br>
places but means it is more `standard'.</p>
<p>Any feedback on this proposal?</p>
<p>Tobias</p>
<p><a href="/user_uploads/14278/cu21MN9Xq6PJuQIjjkQtkpPe/smime.p7s">smime.p7s</a></p>



<a name="493656560"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/493656560" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#493656560">(Jan 14 2025 at 19:43)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
In fact, I am myself rather neutral in this respect. I got used to the <br>
notation ^@ we introduced to avoid conflicts, but I am still aware of <br>
its being pretty non-standard.</p>
<p>Stepan</p>
<p>On 14-Jan-25 8:16 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>The expression "concat(replicate n xs)" occurs frequently in the area <br>
of formal languages / combinatorics on words. That is why Stepan Holub <br>
and friends have defined an infix operator</p>
<p>"xs \&lt;^sup&gt;@n = concat(replicate n xs)"</p>
<p>Because it has also cropped up in other places, I would like to define <br>
this operator already in List (i.e. Main) and am wondering about the <br>
syntax:</p>
<p>^@ or ^^</p>
<p>The latter exists and is overloaded, which may require type <br>
annotations in a few places but means it is more `standard'.</p>
<p>Any feedback on this proposal?</p>
<p>Tobias</p>
</blockquote>



<a name="493674822"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/493674822" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#493674822">(Jan 14 2025 at 21:34)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;</p>
<p>On 14/01/2025 20:43, Stepan Holub (via cl-isabelle-users Mailing List) wrote:</p>
<blockquote>
<p>In fact, I am myself rather neutral in this respect. I got used to the notation <br>
^@ we introduced to avoid conflicts, but I am still aware of its being pretty <br>
non-standard.</p>
</blockquote>
<p>You already tried some other overloaded notation (maybe ^^?) and found there <br>
were too many ambiguities that needed to be resolved?</p>
<p>Tobias</p>
<blockquote>
<p>Stepan</p>
<p>On 14-Jan-25 8:16 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>The expression "concat(replicate n xs)" occurs frequently in the area of <br>
formal languages / combinatorics on words. That is why Stepan Holub and <br>
friends have defined an infix operator</p>
<p>"xs \&lt;^sup&gt;@n = concat(replicate n xs)"</p>
<p>Because it has also cropped up in other places, I would like to define this <br>
operator already in List (i.e. Main) and am wondering about the syntax:</p>
<p>^@ or ^^</p>
<p>The latter exists and is overloaded, which may require type annotations in a <br>
few places but means it is more `standard'.</p>
<p>Any feedback on this proposal?</p>
<p>Tobias</p>
</blockquote>
</blockquote>
<p><a href="/user_uploads/14278/RXp-D88Z2CcSJ9o6diFp8Ra-/smime.p7s">smime.p7s</a></p>



<a name="493889310"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/493889310" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#493889310">(Jan 15 2025 at 10:08)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
I tried it now, and annotations are needed only very exceptionally.</p>
<p>Stepan</p>
<p>On 14-Jan-25 10:33 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>On 14/01/2025 20:43, Stepan Holub (via cl-isabelle-users Mailing List) <br>
wrote:</p>
<blockquote>
<p>In fact, I am myself rather neutral in this respect. I got used to <br>
the notation ^@ we introduced to avoid conflicts, but I am still <br>
aware of its being pretty non-standard.</p>
</blockquote>
<p>You already tried some other overloaded notation (maybe ^^?) and found <br>
there were too many ambiguities that needed to be resolved?</p>
<p>Tobias</p>
<blockquote>
<p>Stepan</p>
<p>On 14-Jan-25 8:16 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>The expression "concat(replicate n xs)" occurs frequently in the <br>
area of formal languages / combinatorics on words. That is why <br>
Stepan Holub and friends have defined an infix operator</p>
<p>"xs \&lt;^sup&gt;@n = concat(replicate n xs)"</p>
<p>Because it has also cropped up in other places, I would like to <br>
define this operator already in List (i.e. Main) and am wondering <br>
about the syntax:</p>
<p>^@ or ^^</p>
<p>The latter exists and is overloaded, which may require type <br>
annotations in a few places but means it is more `standard'.</p>
<p>Any feedback on this proposal?</p>
<p>Tobias</p>
</blockquote>
</blockquote>
</blockquote>



<a name="495972713"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495972713" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495972713">(Jan 26 2025 at 14:43)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
A propos: a more ambitious question, certainly considered before, is <br>
whether lists with append and Nil deserve to be instantiated as <br>
monoid_mult. After all, they are /the/ free monoid. Then we would simply <br>
have ^.</p>
<p>Stepan</p>
<p>On 14-Jan-25 8:16 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>The expression "concat(replicate n xs)" occurs frequently in the area <br>
of formal languages / combinatorics on words. That is why Stepan Holub <br>
and friends have defined an infix operator</p>
<p>"xs \&lt;^sup&gt;@n = concat(replicate n xs)"</p>
<p>Because it has also cropped up in other places, I would like to define <br>
this operator already in List (i.e. Main) and am wondering about the <br>
syntax:</p>
<p>^@ or ^^</p>
<p>The latter exists and is overloaded, which may require type <br>
annotations in a few places but means it is more `standard'.</p>
<p>Any feedback on this proposal?</p>
<p>Tobias</p>
</blockquote>



<a name="495973727"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495973727" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495973727">(Jan 26 2025 at 14:57)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;</p>
<blockquote>
<p>A propos: a more ambitious question, certainly considered before, is <br>
whether lists with append and Nil deserve to be instantiated as <br>
monoid_mult. After all, they are /the/ free monoid. Then we would simply <br>
have ^.</p>
</blockquote>
<p>The interpretation is already there: <br>
<a href="https://isabelle.sketis.net/repos/isabelle/file/tip/src/HOL/List.thy#l945">https://isabelle.sketis.net/repos/isabelle/file/tip/src/HOL/List.thy#l945</a></p>
<p>I don’t recall whether there was once a deliberate decision not to make <br>
it a full type class instance – but beware that this will preclude any <br>
different instantiation users might want for specific applications.</p>
<p>But there is nothing wrong providing that instantiation in a separate <br>
library theory.</p>
<p>Cheers,<br>
    Florian</p>
<p><a href="/user_uploads/14278/rn_ag2XRLJl49-7-pKu5HByv/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/YOx33RJ5qrRWjwpBKyFBKk-d/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="495974844"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495974844" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495974844">(Jan 26 2025 at 15:13)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Yes, I fully understand that instantiation policy should be cautious and <br>
conservative, although I wonder whether concatenation is not the only <br>
reasonable instance of monoid multiplication for lists. My point was <br>
that full instantiation would solve Tobias's question about concat <br>
replicate in a simple and natural way.</p>
<p>Stepan</p>
<p>On 26-Jan-25 3:56 PM, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<p>A propos: a more ambitious question, certainly considered before, is <br>
whether lists with append and Nil deserve to be instantiated as <br>
monoid_mult. After all, they are /the/ free monoid. Then we would <br>
simply have ^.</p>
</blockquote>
<p>The interpretation is already there: <br>
<a href="https://isabelle.sketis.net/repos/isabelle/file/tip/src/HOL/List.thy#l945">https://isabelle.sketis.net/repos/isabelle/file/tip/src/HOL/List.thy#l945</a></p>
<p>I don’t recall whether there was once a deliberate decision not to <br>
make it a full type class instance – but beware that this will <br>
preclude any different instantiation users might want for specific <br>
applications.</p>
<p>But there is nothing wrong providing that instantiation in a separate <br>
library theory.</p>
<p>Cheers,<br>
    Florian<br>
</p>
</blockquote>



<a name="495977872"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495977872" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495977872">(Jan 26 2025 at 15:54)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Please note that I have very recently defined ^^ on lists and ported some of <br>
Stepan's lemmas to List. However, this is not a final decision. I would be just <br>
as happy with ^. In fact, I agree that this subtheory (with ^ or ^^) should go <br>
into a separate theory. I would put it into the AFP for visibility (and because <br>
List-Index is already there).</p>
<p>From the previous discussion it seems to me there should be a separate theory <br>
List_Power that defines ^ on lists. Same as Stepan, I would argue it is the only <br>
reasonable interpretation for ^ on lists. Moreover, there is still ^^ for other <br>
interpretations.</p>
<p>Any objections?</p>
<p>Tobias</p>
<p>On 26/01/2025 16:13, Stepan Holub (via cl-isabelle-users Mailing List) wrote:</p>
<blockquote>
<p>Yes, I fully understand that instantiation policy should be cautious and <br>
conservative, although I wonder whether concatenation is not the only reasonable <br>
instance of monoid multiplication for lists. My point was that full <br>
instantiation would solve Tobias's question about concat replicate in a simple <br>
and natural way.</p>
<p>Stepan</p>
<p>On 26-Jan-25 3:56 PM, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<p>A propos: a more ambitious question, certainly considered before, is whether <br>
lists with append and Nil deserve to be instantiated as monoid_mult. After <br>
all, they are /the/ free monoid. Then we would simply have ^.</p>
</blockquote>
<p>The interpretation is already there: <a href="https://isabelle.sketis.net/repos/">https://isabelle.sketis.net/repos/</a> <br>
isabelle/file/tip/src/HOL/List.thy#l945</p>
<p>I don’t recall whether there was once a deliberate decision not to make it a <br>
full type class instance – but beware that this will preclude any different <br>
instantiation users might want for specific applications.</p>
<p>But there is nothing wrong providing that instantiation in a separate library <br>
theory.</p>
<p>Cheers,<br>
    Florian<br>
</p>
</blockquote>
</blockquote>
<p><a href="/user_uploads/14278/R6Xw374DOvQOKvhQTeoPH87x/smime.p7s">smime.p7s</a></p>



<a name="495977924"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495977924" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495977924">(Jan 26 2025 at 15:55)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;</p>
<blockquote>
<p>From the previous discussion it seems to me there should be a separate <br>
theory List_Power that defines ^ on lists. Same as Stepan, I would argue <br>
it is the only reasonable interpretation for ^ on lists. Moreover, there <br>
is still ^^ for other interpretations.</p>
</blockquote>
<p>Sounds fine to me.</p>
<p>Florian</p>
<p><a href="/user_uploads/14278/U5aVankh1c5toTYIEvJnGtK6/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/it-pIwylYnMnu6qwhaCIoEys/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="495980248"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/495980248" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#495980248">(Jan 26 2025 at 16:25)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 26/01/2025 16:52, Tobias Nipkow wrote:</p>
<blockquote>
<p>Please note that I have very recently defined ^^ on lists and ported some of <br>
Stepan's lemmas to List. However, this is not a final decision. I would be <br>
just as happy with ^. In fact, I agree that this subtheory (with ^ or ^^) <br>
should go into a separate theory. I would put it into the AFP for visibility <br>
(and because List-Index is already there).</p>
</blockquote>
<p>There is 1 week left to figure out the final form of that, for <br>
Isabelle2025-RC1. See also <br>
<a href="https://isabelle-dev.sketis.net/phame/post/view/85/release_candidates_for_isabelle2025">https://isabelle-dev.sketis.net/phame/post/view/85/release_candidates_for_isabelle2025</a></p>
<p>Makarius</p>



<a name="496425027"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/496425027" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#496425027">(Jan 28 2025 at 21:10)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
After some more discussions I/we decided against the type class version of the <br>
list power operator: although having (^) is attractive, it would also give us 1 <br>
and (*) on lists (defined as [] and (@)). Although mathemtically reasonable, it <br>
is problematic because lists and their notation are so basic. Thus I have opted <br>
for the overloaded ^^ operator that will be available as a separate theory.</p>
<p>Tobias</p>
<p>On 26/01/2025 16:52, Tobias Nipkow wrote:</p>
<blockquote>
<p>Please note that I have very recently defined ^^ on lists and ported some of <br>
Stepan's lemmas to List. However, this is not a final decision. I would be just <br>
as happy with ^. In fact, I agree that this subtheory (with ^ or ^^) should go <br>
into a separate theory. I would put it into the AFP for visibility (and because <br>
List-Index is already there).</p>
<p>From the previous discussion it seems to me there should be a separate theory <br>
List_Power that defines ^ on lists. Same as Stepan, I would argue it is the only <br>
reasonable interpretation for ^ on lists. Moreover, there is still ^^ for other <br>
interpretations.</p>
<p>Any objections?</p>
<p>Tobias</p>
<p>On 26/01/2025 16:13, Stepan Holub (via cl-isabelle-users Mailing List) wrote:</p>
<blockquote>
<p>Yes, I fully understand that instantiation policy should be cautious and <br>
conservative, although I wonder whether concatenation is not the only <br>
reasonable instance of monoid multiplication for lists. My point was that full <br>
instantiation would solve Tobias's question about concat replicate in a simple <br>
and natural way.</p>
<p>Stepan</p>
<p>On 26-Jan-25 3:56 PM, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<p>A propos: a more ambitious question, certainly considered before, is whether <br>
lists with append and Nil deserve to be instantiated as monoid_mult. After <br>
all, they are /the/ free monoid. Then we would simply have ^.</p>
</blockquote>
<p>The interpretation is already there: <a href="https://isabelle.sketis.net/repos/">https://isabelle.sketis.net/repos/</a> <br>
isabelle/file/tip/src/HOL/List.thy#l945</p>
<p>I don’t recall whether there was once a deliberate decision not to make it a <br>
full type class instance – but beware that this will preclude any different <br>
instantiation users might want for specific applications.</p>
<p>But there is nothing wrong providing that instantiation in a separate library <br>
theory.</p>
<p>Cheers,<br>
    Florian<br>
</p>
</blockquote>
</blockquote>
</blockquote>
<p><a href="/user_uploads/14278/1lf-HC2m5mw88vKf41BN2V_B/smime.p7s">smime.p7s</a></p>



<a name="496555563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Notation%20for%20%22concat%28replicate%20n%20xs%29%22/near/496555563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Notation.20for.20.22concat.28replicate.20n.20xs.29.22.html#496555563">(Jan 29 2025 at 14:03)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Makes sense. I support your decision by roughly 51:49.</p>
<p>Stepan</p>
<p>On 1/28/2025 10:09 PM, Tobias Nipkow wrote:</p>
<blockquote>
<p>After some more discussions I/we decided against the type class <br>
version of the list power operator: although having (^) is attractive, <br>
it would also give us 1 and (*) on lists (defined as [] and (@)). <br>
Although mathemtically reasonable, it is problematic because lists and <br>
their notation are so basic. Thus I have opted for the overloaded ^^ <br>
operator that will be available as a separate theory.</p>
<p>Tobias</p>
<p>On 26/01/2025 16:52, Tobias Nipkow wrote:</p>
<blockquote>
<p>Please note that I have very recently defined ^^ on lists and ported <br>
some of Stepan's lemmas to List. However, this is not a final <br>
decision. I would be just as happy with ^. In fact, I agree that this <br>
subtheory (with ^ or ^^) should go into a separate theory. I would <br>
put it into the AFP for visibility (and because List-Index is already <br>
there).</p>
<p>From the previous discussion it seems to me there should be a <br>
separate theory List_Power that defines ^ on lists. Same as Stepan, I <br>
would argue it is the only reasonable interpretation for ^ on lists. <br>
Moreover, there is still ^^ for other interpretations.</p>
<p>Any objections?</p>
<p>Tobias</p>
<p>On 26/01/2025 16:13, Stepan Holub (via cl-isabelle-users Mailing <br>
List) wrote:</p>
<blockquote>
<p>Yes, I fully understand that instantiation policy should be cautious <br>
and conservative, although I wonder whether concatenation is not the <br>
only reasonable instance of monoid multiplication for lists. My <br>
point was that full instantiation would solve Tobias's question <br>
about concat replicate in a simple and natural way.</p>
<p>Stepan</p>
<p>On 26-Jan-25 3:56 PM, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<p>A propos: a more ambitious question, certainly considered before, <br>
is whether lists with append and Nil deserve to be instantiated as <br>
monoid_mult. After all, they are /the/ free monoid. Then we would <br>
simply have ^.</p>
</blockquote>
<p>The interpretation is already there: <br>
<a href="https://isabelle.sketis.net/repos/">https://isabelle.sketis.net/repos/</a> <br>
isabelle/file/tip/src/HOL/List.thy#l945</p>
<p>I don’t recall whether there was once a deliberate decision not to <br>
make it a full type class instance – but beware that this will <br>
preclude any different instantiation users might want for specific <br>
applications.</p>
<p>But there is nothing wrong providing that instantiation in a <br>
separate library theory.</p>
<p>Cheers,<br>
    Florian<br>
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>