<html>
<head><meta charset="utf-8"><title>[isabelle] Performance drop after `no_notation` · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Performance.20drop.20after.20.60no_notation.60.html">[isabelle] Performance drop after `no_notation`</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="340123770"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Performance%20drop%20after%20%60no_notation%60/near/340123770" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Performance.20drop.20after.20.60no_notation.60.html#340123770">(Mar 07 2023 at 14:31)</a>:</h4>
<p>From: Hanno &lt;<a href="mailto:hannobecker@posteo.de">hannobecker@posteo.de</a>&gt;<br>
Hi,</p>
<p>In the context of a very large development, I am using some custom <code>notation</code> and noticed that in a specific instance, removing the notation via <code>no_notation</code> and then immediately adding it back again — with the same syntax and priorities — leads to a very significant (&gt;10x) slowdown of Isabelle, even in files that do not use the notation. </p>
<p>I was so far under the impression that <code>no_notation</code> and <code>notation</code> are inverse to each other when given the same arguments.</p>
<p>Can someone help me understand, and hopefully circumvent, the observed performance degradation? </p>
<p>My real goal is of course not do disable and immediately re-enable the same notation, but to disable and replace it by something else — which however leads to the same performance drop.</p>
<p>Thank you for your time and help,<br>
Hanno</p>



<a name="340146337"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Performance%20drop%20after%20%60no_notation%60/near/340146337" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Performance.20drop.20after.20.60no_notation.60.html#340146337">(Mar 07 2023 at 15:56)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Mathematically they are normally inverse, but physically many side-conditions <br>
apply.</p>
<p>Do you have a concrete example, where the performance drop can be observed?</p>
<p>Or even better, to you have an abstract example, where the problem can be <br>
reproduced in isolation?</p>
<p>(If this is a bigger piece of source text, don't post it here, but provide a <br>
suitable link for download.)</p>
<p>Makarius</p>



<a name="340147316"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Performance%20drop%20after%20%60no_notation%60/near/340147316" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Performance.20drop.20after.20.60no_notation.60.html#340147316">(Mar 07 2023 at 15:59)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:manuel@pruvisto.org">manuel@pruvisto.org</a>&gt;<br>
I would just like to interject that there was that performance problem <br>
with the p-adic number entry in the AFP by Aaron Crighton, where <br>
entering and exiting locale contexts was exceptionally slow (in the <br>
order of magnitude of minutes).</p>
<p>I don't understand the underlying mechanisms here enough to really say <br>
anything substantial, but I do wonder if this might be related.</p>
<p>Cheers,</p>
<p>Manuel</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>