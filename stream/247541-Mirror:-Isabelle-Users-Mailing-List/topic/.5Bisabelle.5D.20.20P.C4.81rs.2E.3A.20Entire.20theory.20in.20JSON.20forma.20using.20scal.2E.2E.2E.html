<html>
<head><meta charset="utf-8"><title>[isabelle]  Pārs.: Entire theory in JSON forma using scal... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.20P.C4.81rs.2E.3A.20Entire.20theory.20in.20JSON.20forma.20using.20scal.2E.2E.2E.html">[isabelle]  Pārs.: Entire theory in JSON forma using scal...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="230254044"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%20P%C4%81rs.%3A%20Entire%20theory%20in%20JSON%20forma%20using%20scal.../near/230254044" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.20P.C4.81rs.2E.3A.20Entire.20theory.20in.20JSON.20forma.20using.20scal.2E.2E.2E.html#230254044">(Mar 14 2021 at 16:54)</a>:</h4>
<p>From: Alex Meyer &lt;<a href="mailto:alex153@outlook.lv">alex153@outlook.lv</a>&gt;<br>
To be sure - the JSON tree of term object is not AST either:</p>
<p>code:</p>
<p>val term = Term(ctxt, "x+0 = (y::nat)*1")<br>
    val jsonString2 = write(term)<br>
    println(jsonString2)</p>
<p>gives the structure that does not resmble AST, there is no evidence, that this term contains some structure, syntax tree, subelements:</p>
<p>{<br>
    "mlValue": {<br>
        "id": {<br>
            "_fun": {},<br>
            "_ec": {},<br>
            "_arg": null,<br>
            "_xform": 2<br>
        }<br>
    },<br>
    "isabelle": {<br>
        "setup": {<br>
            "isabelleHome": {<br>
                "fs": {<br>
                    "provider": {}<br>
                },<br>
                "type": {},<br>
                "root": "C:\\",<br>
                "path": "C:\\Homes\\Isabelle2020\\Isabelle2020"<br>
            },<br>
            "logic": "HOL",<br>
            "workingDirectory": {<br>
                "fs": {<br>
                    "provider": {}<br>
                },<br>
                "type": {},<br>
                "root": "",<br>
                "path": ""<br>
            },<br>
            "sessionRoots": [],<br>
            "build": false,<br>
            "verbose": false,<br>
            "isabelleCommandHandler": {}<br>
        }<br>
    },<br>
    "ec": {}<br>
}</p>
<p>It was my expectation that Term object will have this structure (tree like structure) over which I could wander and build up my AST or let JSON serializer do it for me in default manner.</p>
<p>OK, I studying this, but - if there is quick suggestion, then it would be nice to hear.</p>
<p>A.</p>
<hr>
<p>No: Alex Meyer<br>
Nosūtīts: svētdiena, 2021. gada 14. marts 18:38<br>
Kam: Isabelle Users &lt;<a href="mailto:isabelle-users@cl.cam.ac.uk">isabelle-users@cl.cam.ac.uk</a>&gt;<br>
Tēma: Entire theory in JSON forma using scala-isabelle?</p>
<p>I had this question <a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-January/msg00187.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-January/msg00187.html</a> at the end of January, and there where some follow-up discussion in February and scala-isabelle emerged as fine library for this.</p>
<p>I had quick idea to get theory (as isabelle AST) in JSON format and for that  tried the code:</p>
<p>val ctxt = Context("HOL.Imperative_HOL.ex.Imperative_Quicksort")</p>
<p>import net.liftweb.json._<br>
import net.liftweb.json.Serialization.write</p>
<p>implicit val formats = net.liftweb.json.DefaultFormatsval jsonString = write(ctxt)<br>
println("before jsonString")<br>
println(jsonString)<br>
println("after jsonString")</p>
<p>but the output it scarce (my full stackoverflow question is <a href="https://stackoverflow.com/questions/66626741/isabelle-hol-theory-hol-imperative-hol-ex-imperative-quicksort-as-json-with-sc">https://stackoverflow.com/questions/66626741/isabelle-hol-theory-hol-imperative-hol-ex-imperative-quicksort-as-json-with-sc</a>):</p>
<p>before jsonString<br>
{"mlValue":{"id":{"_fun":{},"_ec":{},"_arg":null,"_xform":2}}}<br>
after jsonString</p>
<p>Maybe I a overstretching the framework (error about which I have been extensively warned in the mentioned thread), but just quick qustion - is it possible to get AST JSON tree for the entire theory in scala-isabelle?</p>
<p>The quick thought is that I can load theory in string and then try to load it like term in the conext that is preloaded by the same theory. But maybe it is not good ide.</p>
<p>I am reading documentation, experimenting, doing some reasoning, etc.</p>
<p>But maybe there is answer in couple of words that can shortcut my path?</p>
<p>Alex</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>