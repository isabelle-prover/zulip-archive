<html>
<head><meta charset="utf-8"><title>[isabelle] &quot;Simple Type Theory is not too Simple&quot;: commen... ¬∑ Mirror: Isabelle Users Mailing List ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html">[isabelle] &quot;Simple Type Theory is not too Simple&quot;: commen...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="235397077"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235397077" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235397077">(Apr 20 2021 at 19:01)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I noticed that the recent AFP entry on Grothendieck's Schemes (<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-April/msg00016.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-April/msg00016.html</a>)<br>
[0] also has an article associated with it (<a href="http://arxiv.org">arxiv.org</a>:<br>
<a href="https://arxiv.org/abs/2104.09366">https://arxiv.org/abs/2104.09366</a>) [1].</p>
<p>I hope it would not be inappropriate of me to ask a few questions about<br>
certain elements of the content of [1] and provide several remarks on<br>
certain aspects of the development that is described in the article.</p>
<hr>
<p>Section 1 contains the following passage:</p>
<blockquote>
<p>In particular, the present work makes a triple contribution to<br>
Isabelle/HOL: a first building block towards a new topology library, a new<br>
building block towards a library for abstract algebra and finally a<br>
formalization of schemes.</p>
</blockquote>
<p>Given that the information about the "new topology/abstract algebra"<br>
libraries is now not only in the public domain, but a part of an official<br>
publication, I would like to kindly ask the authors whether it would be<br>
possible to provide more information about these new developments? Are the<br>
existing HOL-Algebra/HOL-Analysis libraries meant to be refactored in a<br>
non-backward compatible manner? Will this new development affect the<br>
topology library that is currently a part of the main library of<br>
Isabelle/HOL? Is this topology library also going to be<br>
replaced/deprecated? I believe that all of the existing users of these<br>
libraries deserve to know about their future :-).</p>
<hr>
<p>Section 2 contains the following passage:</p>
<blockquote>
<p>Even using locales, we can still go wrong. The root of the problems in<br>
HOL-Algebra is the desire to refer to a structure such as a group with its<br>
components using a single variable, as a record data structure. The new (at<br>
the time) extensible records seemed perfect for the task. But they led to<br>
some peculiarities: notably, the locale abelian_group (in Theory Ring)<br>
which presents the odd twist of requiring a ring structure. The lack of<br>
multiple inheritance for records seems to have required the awkward use of<br>
the ring record for abelian groups. However, Clemens Ballarin recently<br>
conducted an experiment [...] showing that locales, without records, allow<br>
for a smooth handling of basic algebraic structures in Isabelle such as<br>
monoids, groups and rings. We decided to base our formal development on<br>
this experiment.</p>
</blockquote>
<p>Furthermore, section 3 describes the "new topology library":</p>
<blockquote>
<p>Our new topology library is entirely built on locales without using type<br>
classes or type declarations (via the typedef command). In particular, our<br>
topological spaces have explicit carrier sets as part of their data instead<br>
of using UNIV, the set of all elements of some type, or having to define it<br>
later as the union of all the open sets.</p>
</blockquote>
<p>From these passages and the comments above, my guess is that there is an<br>
intention to develop the new algebra/topology libraries for Isabelle/HOL<br>
based on this pattern.</p>
<p>In this context, I would like to mention that, in a certain sense, I have<br>
already achieved a certain degree success (and failures) in this direction<br>
(and I was not the first one), albeit in connection with my work on<br>
Types-To-Sets, and I thought that it may be relevant to share my experience<br>
here and one of the main conclusions of my own attempts.</p>
<p>Generally, (what I call) the <em>design pattern</em> that was used in [2] in the<br>
context of algebra, in my opinion, is very similar to the design pattern<br>
that was originally proposed by Ond≈ôej Kunƒçar and Andrei Popescu in their<br>
work on Types-To-Sets [3] in the context of both algebra and topology (I am<br>
referring, primarily, to the examples associated with the article and not<br>
the article itself) and later developed further into a part of a small case<br>
study by Fabian Immler and Bohua Zhan [4]. Thus, for example, the locale<br>
for the definition of a semigroup from [4] looks like</p>
<p>locale semigroup_add_on_with =<br>
  fixes S::"'a set" and pls::"'a‚áí'a‚áí'a"<br>
  assumes add_assoc: "a ‚àà S ‚üπ b ‚àà S ‚üπ c ‚àà S ‚üπ pls (pls a b) c = pls a (pls<br>
b c)"<br>
  assumes add_mem: "a ‚àà S ‚üπ b ‚àà S ‚üπ pls a b ‚àà S"</p>
<p>I have continued this work and developed several small libraries that are<br>
meant to showcase different design patterns that can be used for the<br>
development of libraries in Isabelle/HOL based around the same idea in 2019<br>
and 2020. Fundamentally, all of these libraries use a very similar design<br>
pattern based on explicit locale parameters with explicitly fixed<br>
carrier/underlying sets for modeling all possible mathematical structures<br>
(I use the term mathematical structure informally). The current iteration<br>
is available here: <a href="https://gitlab.com/user9716869/tts_examples">https://gitlab.com/user9716869/tts_examples</a>. For<br>
example, the definition of (e.g.) topological space in [1] is based on the<br>
same idea as in that library (<br>
<a href="https://mailman46.in.tum.de/pipermail/isabelle-dev/2019-April/016894.html">https://mailman46.in.tum.de/pipermail/isabelle-dev/2019-April/016894.html</a>).<br>
Compare:</p>
<p>(from <a href="https://gitlab.com/user9716869/tts_examples">https://gitlab.com/user9716869/tts_examples</a>)<br>
locale topological_space_ow = fixes ùîò :: "'at set" and œÑ :: "'at set ‚áí<br>
bool"<br>
assumes open_UNIV[simp, intro]: "œÑ ùîò"<br>
assumes open_Int[intro]: "‚ü¶ S ‚äÜ ùîò; T ‚äÜ ùîò; œÑ S; œÑ T ‚üß ‚üπ œÑ (S ‚à© T)"<br>
assumes open_Union[intro]: "‚ü¶ K ‚äÜ Pow ùîò; ‚àÄS‚ààK. œÑ S ‚üß ‚üπ œÑ (‚ãÉK)"</p>
<p>(from [1])<br>
locale topological_space = fixes S :: "'a set" and is_open :: "'a set ‚áí<br>
bool"<br>
  assumes open_space [simp, intro]: "is_open S" and open_empty [simp,<br>
intro]: "is_open {}"<br>
    and open_imp_subset: "is_open U ‚üπ U ‚äÜ S"<br>
    and open_inter [intro]: "‚ü¶is_open U; is_open V‚üß ‚üπ is_open (U ‚à© V)"<br>
    and open_union [intro]: "‚ãÄF::('a set) set. (‚ãÄx. x ‚àà F ‚üπ is_open x) ‚üπ<br>
is_open (‚ãÉx‚ààF. x)"</p>
<p>I hope that the remarks above will suffice to give my further claims a<br>
certain degree of credibility, as it seems that the ideas (albeit, not<br>
entirely my own ideas) that I was trying to promote in 2019 are beginning<br>
to be adapted by the community :-). By the way, it might be appropriate to<br>
add references to (at least) [3], [4] and the aforementioned post by Fabian<br>
Immler (if not my own repository), in connection with the design pattern<br>
being used, given that it seems to be one of the matters emphasized in [1].<br>
I would like to be very clear, however, that I have little concern about<br>
what decision will be made with regard to this matter and this is very far<br>
from being the main issue that I would like to discuss in this post.</p>
<p>I have already summarised some of my concerns about the design pattern<br>
being used in [1] in the following post on the mailing list:<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00006.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00006.html</a>.<br>
However, since then, I developed further concerns about it. Unfortunately,<br>
in my experience, using explicit parameters for the definition of<br>
mathematical structures makes it difficult to talk about the interplay<br>
between different structures, e.g. using tools and techniques from category<br>
theory or similar. Furthermore, carrying around dramatically large lists of<br>
explicitly stated parameters can become unwieldy very quickly as the<br>
structures become more complex (see my remarks in<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00006.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00006.html</a><br>
for further information).</p>
<p>Finally, I converged on the opinion that there has to exist a canonical<br>
methodology for representing any mathematical structure as a term of some<br>
type (e.g. by using product types or similar). If this is so, then why<br>
would one wish to define such structures using explicitly stated locale<br>
parameters?</p>
<p>Once again, from [1],</p>
<blockquote>
<p>The new (at the time) extensible records seemed perfect for the task. But<br>
they led to some peculiarities: notably, the locale abelian_group (in<br>
Theory Ring) which presents the odd twist of requiring a ring structure.</p>
</blockquote>
<p>My opinion is that this is the only problem of the record + locale<br>
approach, and it is not insurmountable. That is, the problem is that the<br>
records lack a mechanism for multiple inheritance. Perhaps, the key to its<br>
solution lies in the following comments made by Andreas Lochbihler in reply<br>
to one of my questions:<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00017.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2019-August/msg00017.html</a>.<br>
I believe that I have already solved the crux of the problem by following<br>
up on one of the ideas expressed in the aforementioned post by Andreas<br>
Lochbihler and providing yet another design pattern that allows for<br>
mimicking records with multiple inheritance. At the moment, this pattern is<br>
quite unwieldy, but it can be fully automated, potentially (of course, this<br>
would require a considerable amount of programming effort).</p>
<p>I describe it based on a close-to-minimal example that is provided as a<br>
copy at the end of the email in Appendix A. Hopefully, with the comments in<br>
the code, the example provides a self-sufficient explanation of the pattern<br>
(however, this variant of the pattern is slightly outdated, as the pattern<br>
has been slightly improved since the example was developed). As such, the<br>
example does not showcase the use of multiple inheritance, as it would make<br>
the example too long. However, hopefully, it should be apparent to see that<br>
multiple inheritance is not an issue for the design pattern, as it is<br>
possible to 'upcast' a 'multirecord' to any 'multirecord' with the 'parent<br>
structure' with ease (of course, privately, I have already developed use<br>
cases for the demonstration of multiple inheritance). Overall, I used this<br>
inheritance mechanism to define (and reason about) semifunctors,<br>
categories, functors, natural transformations, dagger<br>
digraphs/semicategories/categories, and several other concepts, not<br>
necessarily related to category theory (e.g. topological spaces). Moreover,<br>
it is possible to combine the inheritance mechanism with the inheritance of<br>
the fields of the record. This is used, for example, to ensure that a<br>
semifunctor from one semicategory to another (stated as a locale) inherits<br>
from the digraph homomorphism from one digraph to another in a canonical<br>
manner.</p>
<p>At first sight, it may seem that using records+unrest<br>
[message truncated]</p>



<a name="235489822"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235489822" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235489822">(Apr 21 2021 at 10:59)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
The current HOL-Analysis library is huge. It has been refactored already and without doubt it will undergo further refactorings in the future. It is however in no way deprecated, nor even HOL-Algebra, although the latter deserves to be. To replace either would take an enormous amount of manpower, which we don‚Äôt have.</p>
<p>What we can expect to see our series of experiments trying to push the boundaries of what we can formalise, with an eye in particular to further developing this locale methodology, which seems to work so well.</p>
<p>Larry</p>



<a name="235491998"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235491998" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235491998">(Apr 21 2021 at 11:17)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I think the Isabelle community as a whole welcomes all demonstrations of useful methodologies for formalising mathematics. This particular paper on schemes was in response to a challenge made by Kevin Buzzard concerning the expressiveness of simple type theory. Other methodologies could be demonstrated by tackling the same example. It is indeed a long series of definitions and proofs, but now that both the paper and the formal development are available, it should be easier for other groups to give it a try. I would be happy to see improvements to our own work.</p>
<p>The AFP already contains many alternative formalisations of the same mathematical ideas, and there is no plan to impose any one approach.</p>
<p>Larry</p>



<a name="235560231"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235560231" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235560231">(Apr 21 2021 at 18:38)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear Lawrence Paulson/All,</p>
<p>Thank you for your replies. Also, I do apologize for starting such a long<br>
and slightly chaotic thread yesterday. I will try to be more to the point<br>
today.</p>
<p>I would like to clarify that my thread was hardly about the entire<br>
formalization study that is presented in [1], but, primarily, about the<br>
proposal to develop a new library for topology based on the locale +<br>
explicit locale parameters/explicit carrier set approach. The pattern that<br>
is proposed in [1] is the one that I advocated in the first half of 2019.<br>
However, at the time, your reaction to this idea seemed to vary from<br>
possibly mildly critical to tentatively inquisitive. Given that my own<br>
experience with formal methods and Isabelle was minimal at the time, I kept<br>
worrying about whether I am, indeed, doing something wrong and how much my<br>
work would be criticized, if I was to make an attempt to publish it. The<br>
only person who seemed to be mildly supportive of this idea at the time was<br>
Fabian Immler (<br>
<a href="https://mailman46.in.tum.de/pipermail/isabelle-dev/2019-April/016894.html">https://mailman46.in.tum.de/pipermail/isabelle-dev/2019-April/016894.html</a>):<br>
not surprisingly, my own approach evolved from Fabian Immler and Bohua<br>
Zhan's approach to the formalization of elements of algebra in [2] and the<br>
examples associated with [3]. The support of Fabian Immler was sufficient<br>
for me to continue that work. However, to this date, I had some concerns<br>
about how it could be received, and my non-conventional approach to<br>
topology was one. of the contributing factors. Of course, I was very<br>
surprised to see that, in [1], nearly an entire section was dedicated to<br>
advocating the use of what I would consider being the same pattern that<br>
seemed to lack your support at the time of its proposal. In any case, I<br>
welcome this event as good news, as it reinforces my self-esteem and my<br>
belief in my own ideas :-).</p>



<a name="235647327"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235647327" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235647327">(Apr 22 2021 at 09:38)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
The HOL-Analysis library already contains a substantial development of abstract topology, which I ported from HOL Light some years ago, and which has none of the limitations connected with type classes. I this version is probably no worse than one defined using locales.</p>
<p>But as for your own proposal in 2019, it looks like you were ahead of your time. It was not until 2020 that Clemens‚Äô paper appeared:</p>
<p>Clemens Ballarin, Exploring the Structure of an Algebra Text with Locales <br>
Journal of Automated Reasoning 64, pages 1093‚Äì1121 (2020)</p>
<p>This was the inspiration for our development.</p>
<p>Larry</p>



<a name="235648195"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235648195" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235648195">(Apr 22 2021 at 09:45)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
On the topic of category theory: I know mine is a minority view, but category theorists need to come up with a consistent theory before they can expect formal reasoning in any system. Allow me to quote Pierre Cartier:</p>
<p>"Nowadays, one of the most interesting points in mathematics is that, although all categorical reasonings are formally contradictory, we use them and we never make a mistake. Grothendieck provided a partial solution in terms of universes but a revolution of the foundations similar to what Cauchy and Weierstrass did for analysis is still to arrive. In this respect, he was pragmatic: categories are useful and they give results so we do not have to look at subtle set theoretic questions if there is no need. Is today the moment to think about these problems? Maybe‚Ä¶‚Äù</p>
<p>Larry</p>



<a name="235671560"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235671560" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235671560">(Apr 22 2021 at 12:57)</a>:</h4>
<p>From: Jason Gross &lt;<a href="mailto:jasongross9@gmail.com">jasongross9@gmail.com</a>&gt;</p>
<blockquote>
<p>all categorical reasonings are formally contradictory</p>
</blockquote>
<p>From what I could find on Google (<a href="https://mathoverflow.net/a/23612/30462">https://mathoverflow.net/a/23612/30462</a>)<br>
this is a quote from 2009, and Cartier goes on to propose formalizing<br>
category theory in proof assistants.  In fact basic category theory has<br>
been formalized in proof assistants many times now (I've personally made or<br>
contributed to formalizations in Coq, Agda, and Lean, and there are dozens<br>
besides me and at least one in Isabelle/HOL (<br>
<a href="https://mathoverflow.net/questions/152497/formalizations-of-category-theory-in-proof-assistants">https://mathoverflow.net/questions/152497/formalizations-of-category-theory-in-proof-assistants</a>)).<br>
I've found that universe polymorphism, which Cartier seems to see as a bit<br>
of a kludge, is in fact invaluable in formalizations of category theory, so<br>
that I can define category once and get a definition at all universe<br>
levels, whence I can easily apply any of my constructions to the (larger)<br>
category of (smaller) categories, in a way that's parametric over the<br>
particular universes I'm using.  (Though in fact I've heard that three<br>
universes is generally enough: we merely need to talk about small<br>
categories and about locally small categories, and then we can have the<br>
locally small category of all small categories.)</p>
<p>Additionally, there's some recent work that gives a type theory for<br>
oo-categories (<a href="https://arxiv.org/abs/2007.08307">https://arxiv.org/abs/2007.08307</a>) which I saw a lecture on<br>
just yesterday, which seems to me to at least be in the direction of giving<br>
synthetic rules for category theory that don't lead to contradictions.</p>



<a name="235748377"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235748377" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235748377">(Apr 22 2021 at 21:07)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear Lawrence Paulson/Jason Gross/All,</p>
<p>Thank you for your comments.</p>



<a name="235775084"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235775084" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235775084">(Apr 23 2021 at 01:51)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
I have been following this thread and as the author of [3-5] I would like to chime in with a comment,<br>
for what it is worth, and also a question about the quoted text below.</p>
<p>My comment is that although the inability of HOL to support the formalization of "large" categories certainly<br>
does have some implications as regards the applicability of an HOL formalization of category theory<br>
(e.g. one cannot construct in HOL a cartesian closed category, having objects that are sets and having homs<br>
that consist of all functions from their domain to their codomain, unless we only admit finite sets as<br>
objects), there are many applications of category theory for which the consideration of such large categories<br>
is not required.  It just seems to be that some people are more focused on the foundational aspects of category<br>
theory and others on applications that only need to make use of "small" categories.  I tend to align more with<br>
the latter point of view, so I have not worried so much about the foundational aspects that could not be<br>
adequately formalized.  I find that I care about having a category of all sets about as much (or as little)<br>
as I care about having a type of all sets; mostly I don't worry about it.</p>
<p>My question is that I would like to understand better something that was said in the quoted text below<br>
regarding the supposed impossibility of treating the collections of all real numbers and all complex numbers<br>
as two distinct objects in (for example) the category Top.  What I don't understand about this I don't see<br>
what is stopping us from constructing a category, at least up to equivalence, of topological spaces whose<br>
sets of points are bounded by some fixed cardinality.  For example, both the real numbers and the complex<br>
numbers have the cardinality of the continuum.  A topological space on either of these can be represented<br>
as a certain collection of subsets of these sets with continuum-many elements.  We can then certainly form<br>
(in HOL) a category having all such collections as its objects, and all continuous functions between such<br>
collections as its arrows.  The objects and arrows of the category would inhabit a somewhat higher type,<br>
but there is no problem in obtaining it. Unless I am missing something basic, I don't see the difficulty<br>
in carrying out this construction, e.g. using the formalization in [3].  So perhaps something else was meant,<br>
in which case I would like to understand what it was.</p>
<p>Perhaps I have missed what was intended by the phrase "so long as real numbers and complex numbers are<br>
modelled as two distinct types and not distinct terms of some other type".  Does this mean that somehow<br>
some particular construction of "the" real numbers and "the" complex numbers are to be given special<br>
status, and that to be useful, a category Top of topological space would have to contain as objects the<br>
precise results of these particular distinguished constructions, as opposed to merely having some<br>
objects R and C for which for which the induced topologies on hom(1, R) and hom(1, C) are homeomorphic<br>
to the spaces of real numbers, and complex numbers, respectively?  I don't see why this would be of such<br>
great importance.</p>



<a name="235821972"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235821972" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235821972">(Apr 23 2021 at 11:04)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Thanks for your comments. I look forward to seeing formalisations of schemes (and other challenging pieces of mathematics) from you and others, using a variety of techniques. Proof methodologies seem to be developing rapidly at the moment!</p>
<p>Larry</p>



<a name="235824862"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235824862" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235824862">(Apr 23 2021 at 11:29)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
It might be worth mentioning that the AFP development ZFC_in_HOL makes progress in this direction, establishing through the typecast system that a great number of types (including real and complex) are ‚Äúsmall‚Äù, which means they can be embedded into sets in the ZF universe. An ambitious person could do something with this.</p>
<p>Larry</p>



<a name="235825846"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235825846" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235825846">(Apr 23 2021 at 11:37)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I am not sure this helps, since from a set theoretic point of view, we have a proper class of one element groups, even though they are all isomorphic. The thing you want to limit is the rank of the carrier set, not the cardinality. Extremely small ranks are sufficient for doing quite large chunks of mathematics.</p>
<p>To the best of my knowledge, we don‚Äôt have many useful tools for reasoning in the style of category theory within higher-order logic.</p>
<p>Larry</p>



<a name="235926563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235926563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235926563">(Apr 24 2021 at 00:19)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear Eugene W. Stark/All,</p>
<p>Thank you for your remarks.</p>
<p>My criticism of Isabelle/HOL in connection with applied category theory was<br>
twofold:</p>
<p>- Firstly, I claimed that the existing frameworks for doing category<br>
   theory cannot be applied to the canonical constructions conveniently (this<br>
   argument has little to do with what kind of categories we can construct in<br>
   Isabelle/HOL: I provide more details below).</p>
<p>- My second argument was related to the impossibility of the<br>
   construction of certain large categories.</p>
<p>It seems that we both agree that Isabelle/HOL's size limitations are quite<br>
severe, although, perhaps, they do not have a significant impact on your<br>
own work. From my perspective, this is a very strong and rather objective<br>
argument against Isabelle/HOL (please do remember that my arguments were<br>
aimed predominantly at the Isabelle/HOL, not any specific formalization of<br>
category theory), merely because there exist formal systems that do not<br>
have these limitations; at least, they are less severe to the point of<br>
making such systems suitable for performing the vast majority of<br>
constructions in the published literature, including almost anything that<br>
involves reasonably large categories. From what I have seen, most commonly,<br>
mathematics is exposed in systems that are equiconsistent with or stronger<br>
than ZFC (more specifically, most of the mathematics in the published<br>
literature seems to be exposed using some logic of the order higher or<br>
equal than 1 + the axioms of ZFC or MK, or, if category theory is involved,<br>
either TG or the one-universe axiomatization of Mac Lane, even if this is<br>
not always stated explicitly). It seems to me then that the consistency<br>
strength greater or equal to that of the ZFC is a prerequisite for any<br>
formal system to be accepted as some general medium for the communication<br>
and storage of mathematical knowledge. Whether or not a significant<br>
fraction of the ideas that are expressed using such systems can also be<br>
expressed in Isabelle/HOL, I find slightly irrelevant. The question comes<br>
down to why would one wish to use Isabelle/HOL in favor of stronger systems<br>
(at least, equiconsistent with the ZFC) that are already available.</p>
<p>As a side note, in my opinion, the systems like ZFC in HOL and HOTG come<br>
closest to what is conventionally used for the exposition of mathematics.<br>
Personally, having tried formalizing mathematics in ZFC in HOL (e.g., see<br>
<a href="https://gitlab.com/category-theory-for-zfc-in-hol">https://gitlab.com/category-theory-for-zfc-in-hol</a>), I found that it is<br>
almost as easy and convenient as "copying" mathematics from textbooks.</p>
<p>On 23 Apr 2021, Eugene W. Stark wrote</p>
<blockquote>
<p>My question is that I would like to understand better something that was<br>
said in the quoted text below<br>
regarding the supposed impossibility of treating the collections of all<br>
real numbers and all complex numbers<br>
as two distinct objects in (for example) the category Top.</p>
</blockquote>
<p>Perhaps I have missed what was intended by the phrase "so long as real</p>
<blockquote>
<p>numbers and complex numbers are<br>
modelled as two distinct types and not distinct terms of some other<br>
type".  Does this mean that somehow<br>
some particular construction of "the" real numbers and "the" complex<br>
numbers are to be given special<br>
status...</p>
</blockquote>
<blockquote>
<p>a). My first argument was hardly concerned with the issues related to size<br>
(this is covered by the second, more important, argument), but mere<br>
practical convenience of using the results about specific categories<br>
that can be exposed in Isabelle/HOL. I am inclined to tentatively give a<br>
positive answer to the question "Does this mean that somehow some<br>
particular construction of "the" real numbers and "the" complex numbers are<br>
to be given special status?". At the moment, the transfer infrastructure of<br>
Isabelle/HOL still has a number of limitations, so it is not that easy to<br>
transfer the results automatically from, e.g., an existing type real to its<br>
isomorphic copy embedded in some other type and vice versa. At the very<br>
least, it requires some amount of tedious manual labor (also, if our copy<br>
of the real numbers is no longer a type, we cannot even instantiate it as,<br>
e.g., a canonical field from the standard library). Perhaps, in the future,<br>
the transfer infrastructure of Isabelle/HOL will be perfected to the point<br>
that I would no longer try to use such an argument. But this would, yet<br>
again, require a substantial amount of labor in a different direction.</p>
</blockquote>
<p>In essence, my first argument is slightly subjective and comes down to how<br>
much one is prepared to sacrifice convenience and conventional<br>
Isabelle/HOL's approach of treating distinct mathematical structures as<br>
distinct types in favor of being able to apply the tools of category theory<br>
to them. Another problem is that similar issues seem to hardly exist in<br>
most of the other formal systems that I have tried thus far, or, somehow,<br>
are easier to deal with, subjectively.</p>
<p>b). As a side remark, the chosen name of the category in my last email is<br>
misleading, and, perhaps, led to an alternative interpretation of the<br>
argument that I was trying to make. In my original email (<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-April/msg00062.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-April/msg00062.html</a>)<br>
I was more careful and stated "something similar to the category Top<br>
(whatever can be achieved taking into consideration the size limitation of<br>
Isabelle/HOL).". Indeed, I have not analyzed in detail as to how much<br>
exactly can be done in this direction in Isabelle/HOL alone and exactly how<br>
close we can get: perhaps, you can provide an affirmative answer to this<br>
question.</p>
<p>Kind Regards,<br>
Mikhail Chekhov</p>



<a name="235927501"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/235927501" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#235927501">(Apr 24 2021 at 00:34)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear Lawrence Paulson/All,</p>
<p>Thank you for your comments.</p>
<p>Indeed, one ambitious person has already tried doing something similar in<br>
Isabelle/ZF in 2010 [1]. Indeed, in Category2, the concept of a category is<br>
defined in arbitrary types, but it uses the type ZF for the development of<br>
the category Set, defining all related concepts via isomorphisms. I did<br>
modernize a large part of this development some time ago (this work is not<br>
publicly available), adapting it to V from ZFC in HOL, but I have given up<br>
on this approach in favor of internalizing everything in V and simply<br>
treating HOL as (indeed) a logic, merely a better alternative to FOL (see<br>
<a href="https://gitlab.com/category-theory-for-zfc-in-hol">https://gitlab.com/category-theory-for-zfc-in-hol</a>). Nonetheless, I still<br>
use the mechanism that you mentioned for the transfer of some of the<br>
relevant properties exposed in HOL to the sets in V. For example, see my<br>
exposition of the integer/rational/real numbers and finite sequences in<br>
<a href="https://gitlab.com/category-theory-for-zfc-in-hol/czh_sets">https://gitlab.com/category-theory-for-zfc-in-hol/czh_sets</a>: most of the<br>
properties were transferred automatically using the capabilities of<br>
transfer [2].</p>
<p>Kind Regards,<br>
Mikhail Chekhov</p>
<p>[1] Katovsky A. Category Theory. Archive of Formal Proofs. 2010;<br>
[2] Huffman B, Kunƒçar O. Lifting and Transfer: A Modular Design for<br>
Quotients in Isabelle/HOL. In: Gonthier G, Norrish M, editors. Certified<br>
Programs and Proofs. Heidelberg: Springer; 2013. p. 131‚Äì46.</p>



<a name="236014049"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22Simple%20Type%20Theory%20is%20not%20too%20Simple%22%3A%20commen.../near/236014049" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22Simple.20Type.20Theory.20is.20not.20too.20Simple.22.3A.20commen.2E.2E.2E.html#236014049">(Apr 24 2021 at 22:41)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear Eugene W. Stark/All,</p>
<p>I would like to make a minor correction and provide a couple of side<br>
remarks for the post attached after my signature.</p>
<p><em>Correction</em></p>
<p>The last sentence in my post in the attachment should not contain the word<br>
"affirmative" :-).</p>
<p><em>Side remarks</em></p>
<p>I would like to add a couple of further arguments for clause a), hopefully<br>
reinforcing the arguments already provided. In Isabelle/HOL, once one<br>
defines, for example, a type of real numbers, it is possible to instantiate<br>
it as, e.g., a group or a topological space using type classes. Then, all<br>
theorems about groups/topological spaces become available for this type<br>
automatically. Ideally, in my view, an "applicable category theory"<br>
framework would need to work exactly like this. Thus, if we have a few<br>
specific constructions defined in Isabelle/HOL and we notice that they form<br>
a category, we would like to simply prove the axioms of a category for<br>
these specific constructions and get the theorems for categories for free,<br>
instantiated for these specific constructions (this is exactly where the<br>
desire to single out some distinguished user-defined constructions comes<br>
from). Unfortunately, in my view, many of the typical applications for<br>
which such a framework could be useful would have categories whose<br>
objects/arrows span multiple types, provided that we do not attempt to move<br>
away from the existing infrastructure that has already been developed for<br>
Isabelle/HOL.</p>
<p>Yet another side remark is that it is possible to do something similar to<br>
what I describe above in Isabelle/HOL by the exploitation of schematic<br>
polymorphism: see the screenshot attached to this email (this also appeared<br>
in<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2020-July/msg00050.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2020-July/msg00050.html</a>)<br>
and please ignore everything that you see there apart from the idea for the<br>
software implementation. Unfortunately, I found this idea to be too<br>
labor-intensive to be practical: effectively, to provide such a framework<br>
we would need to "hard-code" all theorems (and their proofs) about<br>
categories in Isabelle/ML.</p>
<p>Kind Regards,<br>
Mikhail Chekhov<br>
<a href="/user_uploads/14278/PjL5pJveH1tuvXVzt9EivTvR/MCATS.png">MCATS.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/PjL5pJveH1tuvXVzt9EivTvR/MCATS.png" title="MCATS.png"><img src="/user_uploads/14278/PjL5pJveH1tuvXVzt9EivTvR/MCATS.png"></a></div>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>