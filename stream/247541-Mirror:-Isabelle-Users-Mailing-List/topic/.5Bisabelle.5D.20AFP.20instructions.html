<html>
<head><meta charset="utf-8"><title>[isabelle] AFP instructions · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html">[isabelle] AFP instructions</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="227629798"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227629798" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227629798">(Feb 24 2021 at 16:40)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt;<br>
Hello,</p>
<p>concerning the successful launch of AFP2021:</p>
<p>maybe, the instructions on<br>
<a href="https://www.isa-afp.org/using.html#1">https://www.isa-afp.org/using.html#1</a><br>
could be made less hostile towards Windows users. The instruction for <br>
Windows, to my best knowledge, could be:</p>
<p>If you are using Isabelle2021, and have downloaded your AFP directory to <br>
|c:\afp|<br>
you should add the line<br>
/cygdrive/c/afp/thys<br>
to the file<br>
C:\Users\YourUserName\.isabelle\Isabelle2021\ROOTS</p>
<p>Also, the quotation marks are no more needed for the import, right?</p>
<p>Best regards</p>
<p>Stepan</p>



<a name="227649617"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227649617" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227649617">(Feb 24 2021 at 18:38)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 24/02/2021 17:40, Stepan Holub wrote:</p>
<blockquote>
<p>maybe, the instructions on<br>
<a href="https://www.isa-afp.org/using.html#1">https://www.isa-afp.org/using.html#1</a><br>
could be made less hostile towards Windows users. The instruction for Windows,<br>
to my best knowledge, could be:</p>
<p>If you are using Isabelle2021, and have downloaded your AFP directory to |c:\afp|<br>
you should add the line<br>
/cygdrive/c/afp/thys<br>
to the file<br>
C:\Users\YourUserName\.isabelle\Isabelle2021\ROOTS</p>
</blockquote>
<p>I find the instructions a bit strange, even for Linux. Why use "echo" to edit<br>
a file --- with a somewhat accidental location ~/.isabelle/Isabelle2021/ROOTS?</p>
<p>In my own documentation, I usually refer symbolically to<br>
$ISABELLE_USER_HOME/etc/ROOTS --- this can be used literally in Isabelle/jEdit<br>
on all platforms, and the ROOTS file even has inlined explanations for that<br>
situation.</p>
<p>There is also $ISABELLE_USER_HOME/etc/components to add components.</p>
<p>A remaining problem are the Cygwin paths required for Isabelle:<br>
/cygdrive/c/afp/thys</p>
<p>I often place AFP clones right into the corresponding Isabelle directory. Thus<br>
it could be referenced in a portable manner like this:</p>
<p>$ISABELLE_HOME/AFP/thys</p>
<p>An alternative is to suggest $ISABELLE_HOME_USER</p>
<p>Rather soon the Prover IDE should take care of AFP, that we don't need extra<br>
explanations any more.</p>
<blockquote>
<p>Also, the quotation marks are no more needed for the import, right?</p>
</blockquote>
<p>Quotes are needed for non-identifiers in the session-qualified name. By<br>
historical accident, we have a lot of session names like "HOL-Library". I<br>
would rather like to see proper identifiers everywhere, but this would cause a<br>
lot of extra trouble.</p>
<p>Makarius</p>



<a name="227651074"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227651074" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227651074">(Feb 24 2021 at 18:47)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt;<br>
Indeed, "strange" was my main point. I have no strong opinion about how <br>
to make it more normal.</p>
<p>Stepan</p>



<a name="227683799"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227683799" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227683799">(Feb 24 2021 at 22:15)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;</p>
<blockquote>
<p>On 25 Feb 2021, at 05:38, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<p>On 24/02/2021 17:40, Stepan Holub wrote:</p>
<blockquote>
<p>maybe, the instructions on<br>
<a href="https://www.isa-afp.org/using.html#1">https://www.isa-afp.org/using.html#1</a><br>
could be made less hostile towards Windows users. The instruction for Windows,<br>
to my best knowledge, could be:</p>
<p>If you are using Isabelle2021, and have downloaded your AFP directory to |c:\afp|<br>
you should add the line<br>
/cygdrive/c/afp/thys<br>
to the file<br>
C:\Users\YourUserName\.isabelle\Isabelle2021\ROOTS</p>
</blockquote>
<p>I find the instructions a bit strange, even for Linux. Why use "echo" to edit<br>
a file --- with a somewhat accidental location ~/.isabelle/Isabelle2021/ROOTS?</p>
</blockquote>
<p>Because instructions for editing a file generated too many questions and failure. (What if it doesn't exist? What if it does exist? Adding it at the end or the beginning or the middle? None of that matters, but all of it generates questions and confusion).</p>
<p>I'm not saying the current version is ideal, but it has been fairly quiet on this topic since we changed it to that. Of course that could also be because everyone is even more confused and is just giving up.</p>
<blockquote>
<p>In my own documentation, I usually refer symbolically to<br>
$ISABELLE_USER_HOME/etc/ROOTS --- this can be used literally in Isabelle/jEdit<br>
on all platforms, and the ROOTS file even has inlined explanations for that<br>
situation.</p>
</blockquote>
<p>Referring to a variable like $ISABELLE_USER_HOME also generated confusion, and esp Windows users are used to a different syntax for these. The hope was that, avoiding any concepts like variable syntax, it is easily recognisable what is going on (which seems to have worked, despite the complaint).</p>
<p>I don't have a Windows machine to test, but I do think it still works if you replace the path with what you need on Windows (as you have to do Linux/Mac as well), i.e. I don't really understand what is hostile to Windows users about it. Maybe all that is missing is adding <code>/cygdrive/c/afp/thys</code> as an example inside the <code>echo</code> for Windows. Having an extra example for Windows would be fine. Can someone with a Windows machine confirm if the result of that would work? Does <code>~</code> exist on Cygwin?</p>
<blockquote>
<p>There is also $ISABELLE_USER_HOME/etc/components to add components.</p>
</blockquote>
<p>There are indeed many choices, you could also add something to etc/setting and so on. We wanted to pick one. People who know that there are multiple options don't really need these instructions.</p>
<blockquote>
<p>A remaining problem are the Cygwin paths required for Isabelle:<br>
/cygdrive/c/afp/thys</p>
</blockquote>
<p>That is probably the information that is missing from the page.</p>
<blockquote>
<p>I often place AFP clones right into the corresponding Isabelle directory. Thus<br>
it could be referenced in a portable manner like this:</p>
<p>$ISABELLE_HOME/AFP/thys</p>
<p>An alternative is to suggest $ISABELLE_HOME_USER</p>
</blockquote>
<p>People who know what $ISABELLE_HOME and $ISABELLE_HOME_USER are have read the manual ;-)</p>
<blockquote>
<p>Rather soon the Prover IDE should take care of AFP, that we don't need extra<br>
explanations any more.</p>
</blockquote>
<p>That'd be nice. Basically, either users already know how to add components, because they have read the manual, know the concepts, and understand how to modify their setup, or they are missing one of these sources of information, and just want to use something in the AFP without further research. There is of course a whole spread of experience between those two, but the idea was to have something that needs no further knowledge.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="227690715"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227690715" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227690715">(Feb 24 2021 at 23:07)</a>:</h4>
<p>From: "Fernandez, Matthew" &lt;<a href="mailto:matthew.fernandez@intel.com">matthew.fernandez@intel.com</a>&gt;<br>
Not sure I've got the exact meaning of your question right, but here are some Windows 10 results:</p>
<p>Command Prompt (cmd.exe):<br>
    $ echo "hello world" &gt;&gt; ~/foo-cmd.txt<br>
    The system cannot find the path specified.</p>
<p>PowerShell:<br>
    $ echo "hello world" &gt;&gt; ~/foo-pwsh.txt<br>
    $ type C:\Users\mfernan2\foo-pwsh.txt<br>
    hello world</p>
<p>Cygwin64 Terminal:<br>
    $ echo "hello world" &gt;&gt; ~/foo-cygwin.txt<br>
    $ cat /home/mfernan2/foo-cygwin.txt<br>
    hello world</p>
<p>Git Bash (for completeness/curiosity):<br>
    $ echo "hello world" &gt;&gt; ~/foo-gbash.txt<br>
    $ cat /c/Users/mfernan2/foo-gbash.txt<br>
    hello world</p>
<p>Even if you can get the CMD version to work, "hello world" comes out including the surrounding quote characters.</p>



<a name="227695289"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227695289" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227695289">(Feb 24 2021 at 23:47)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
Awesome! Thanks for the remote Windows execution ;-)</p>
<p>I think if the instructions include that it should be a Cygwin64 terminal, this might work, since you need Cygwin anyway for Isabelle.</p>
<p>The one remaining question would be, which path do I need to put in, is it just "/cygdrive/c/afp/thys" or does it need anything else? I.e. is /cygdrive/c the right prefix for Isabelle?</p>
<p>Cheers,<br>
Gerwin</p>



<a name="227731349"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227731349" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227731349">(Feb 25 2021 at 08:03)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt;</p>
<blockquote>
<p>I'm not saying the current version is ideal, but it has been fairly quiet on this topic since we changed it to that. Of course that could also be because everyone is even more confused and is just giving up.</p>
</blockquote>
<p>Giving up was indeed my reaction for quite some time. For two reasons: </p>
<ol>
<li>I rarely use command line, and I never used echo to edit any file <br>
(this may be embarrassing confession, I am aware) 2. I had no idea how <br>
to figure out "/cygdrive/c/..."</li>
</ol>
<p>So unless users like me are not supposed to use AFP, the instruction is <br>
useless for them.</p>
<p>Stepan</p>



<a name="227741863"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227741863" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227741863">(Feb 25 2021 at 09:48)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
Absolutely happy to add the Windows example now that I know what it should be.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="227751907"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227751907" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227751907">(Feb 25 2021 at 11:20)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Cygwin is already bundled with Isabelle. Using that increases chances that<br>
terminal-tinkering actually works. But note that "~" ($HOME) outside of<br>
Isabelle is not necessarily "~" ($USER_HOME) inside Isabelle, even worse<br>
$ISABELLE_HOME_USER can be somewhere else.</p>
<p>The proper way to refer to $ISABELLE_HOME_USER/etc/ROOTS is literally via that<br>
symbolic name inside Isabelle (e.g. the desktop applocation on Windows, or any<br>
other platform).</p>
<p>BTW, even on macOS application-specific config directories should not be<br>
directly in $HOME/.foobar but somewhere else (we don't do this yet).</p>
<p>Makarius</p>



<a name="227752401"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227752401" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227752401">(Feb 25 2021 at 11:25)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 24/02/2021 23:13, Gerwin Klein wrote:</p>
<blockquote>
<blockquote>
<p>I find the instructions a bit strange, even for Linux. Why use "echo" to edit<br>
a file --- with a somewhat accidental location ~/.isabelle/Isabelle2021/ROOTS?</p>
</blockquote>
<p>Because instructions for editing a file generated too many questions and failure. (What if it doesn't exist? What if it does exist? Adding it at the end or the beginning or the middle? None of that matters, but all of it generates questions and confusion).</p>
</blockquote>
<p>Here are again my points about that special ROOTS file again:</p>
<blockquote>
<blockquote>
<p>In my own documentation, I usually refer symbolically to<br>
$ISABELLE_USER_HOME/etc/ROOTS --- this can be used literally in Isabelle/jEdit<br>
on all platforms, and the ROOTS file even has inlined explanations for that<br>
situation.</p>
</blockquote>
</blockquote>
<p>Here is the relevant repository reference from 31-Aug-2017 where the main<br>
Isabelle entry point ensures that ROOTS is present:<br>
<a href="https://isabelle-dev.sketis.net/rISABELLE6e35cf3ce869">https://isabelle-dev.sketis.net/rISABELLE6e35cf3ce869</a></p>
<p>Note that in Isabelle2021 there is even some PIDE support for ROOTS files,<br>
with C-hover-<br>
click on the directory entries.</p>
<p>Neither the 4-5 versions of "echo" nor 2-3 versions of "vi" can do that.</p>
<p>Makarius</p>



<a name="227819670"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227819670" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227819670">(Feb 25 2021 at 19:07)</a>:</h4>
<p>From: "Fernandez, Matthew" &lt;<a href="mailto:matthew.fernandez@intel.com">matthew.fernandez@intel.com</a>&gt;</p>
<blockquote>
<p><a href="mailto:cl-isabelle-users-bounces@lists.cam.ac.uk">cl-isabelle-users-bounces@lists.cam.ac.uk</a> On Behalf Of Gerwin Klein</p>
<p>On 25 Feb 2021, at 19:03, Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt; wrote:</p>
<blockquote>
<blockquote>
<p>I'm not saying the current version is ideal, but it has been fairly quiet<br>
on this topic since we changed it to that. Of course that could also be<br>
because everyone is even more confused and is just giving up.</p>
</blockquote>
<p>Giving up was indeed my reaction for quite some time. For two reasons: 1. I<br>
rarely use command line, and I never used echo to edit any file (this may be<br>
embarrassing confession, I am aware) 2. I had no idea how to figure out<br>
"/cygdrive/c/..."</p>
</blockquote>
</blockquote>
<p>I too must make the same embarrassing confession. I usually use the POSIX printf command or a magnetized needle and a steady hand ;) I had to do some internet searching to find /cygdrive clues and you don't want to know how many foo.txt files I accidentally sprayed across my file system trying to find the right incantation.</p>
<blockquote>
<blockquote>
<p>So unless users like me are not supposed to use AFP, the instruction is<br>
useless for them.</p>
</blockquote>
<p>Absolutely happy to add the Windows example now that I know what it should be.</p>
</blockquote>
<p>Maybe I'm just an uncivilized fool, but what is wrong with a unified prose "append /home/myself/afp/thys to the contents of ~/.isabelle/Isabelle2021/ROOTS" instructions? Won't *nix wizards be able to figure out the echo command themselves if need be?</p>



<a name="227843924"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227843924" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227843924">(Feb 25 2021 at 21:42)</a>:</h4>
<p>From: David Cock &lt;<a href="mailto:david.cock@inf.ethz.ch">david.cock@inf.ethz.ch</a>&gt;<br>
Or even have both?  I hear bits are fairly cheap these days.</p>
<p>David</p>



<a name="227846490"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227846490" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227846490">(Feb 25 2021 at 22:00)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
We did have that other version before (people complained about it, so we have this now), and yes, both is what I'm planning to do. </p>
<p>It is absolutely amazing how hard this bit of instruction seems to be. It's a perfect example of "completely trivial when you know and very hard if you don't".</p>
<p>Definitely looking forward to the more direct integration Makarius mentioned.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="227885568"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/227885568" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#227885568">(Feb 26 2021 at 05:44)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
I do appreciate that (and use it myself), but for the instructions it doesn't work: if, as a user, you don't know what $ISABELLE_USER_HOME refers to, you will not know which file to change, or how to adjust the path if you have put the AFP in a different location to what the instructions expect. If you have the concrete example, you have more information. </p>
<p>Cheers,<br>
Gerwin</p>



<a name="228046297"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228046297" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228046297">(Feb 27 2021 at 09:28)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt;<br>
Dear Gerwin,</p>
<p>thank you. I believe that the current form is much clearer, almost as <br>
clear as needed.</p>
<p>That said, one more remark about what the "echo" advice is worth of. If <br>
an inexperienced user makes a typo in the path (like <br>
"/home/myself/afp/thy" instead of  "/home/myself/afp/thys") when first <br>
trying to use the suggested command, he or she is in quite a big <br>
trouble, right?<br>
And then (at the latest) he or she has to figure out what "~" means (on <br>
Windows something like "C:\Users\USERNAME") and edit the file anyway in <br>
some other way. And this (again from my embarrassing point of view) is <br>
far from trivial piece of information.</p>
<p>Best</p>
<p>Stepan</p>



<a name="228051659"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228051659" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228051659">(Feb 27 2021 at 11:18)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 27/02/2021 10:28, Stepan Holub wrote:</p>
<blockquote>
<p>Dear Gerwin,</p>
<p>thank you. I believe that the current form is much clearer, almost as clear as<br>
needed.</p>
</blockquote>
<p>... and still wrong. The text now says:</p>
<p>"""<br>
 For Windows, the idea is the same just the path is slightly different. If the<br>
AFP is in C:\afp, you should be able to run the following in a Cygwin terminal.</p>
<p>echo "/cygdrive/c/afp/thys" &gt;&gt; ~/.isabelle/Isabelle2021/ROOTS<br>
"""</p>
<p>but there are 2 paths in the command-line, and both deviate from Linux.</p>
<p>Concerning "a Cygwin" terminal: it has an underlying Cygwin installation and<br>
each has its own idea of "~" within its root file-system.</p>
<p>In contrast, Isabelle expands "~" to $USER_HOME, which should be normally the<br>
Windows user home directory.</p>
<blockquote>
<p>And then (at the latest) he or she has to figure out what "~" means (on<br>
Windows something like "C:\Users\USERNAME") and edit the file anyway in some<br>
other way. And this (again from my embarrassing point of view) is far from<br>
trivial piece of information.</p>
</blockquote>
<p>Yes, and that "other" way should be Isabelle/jEdit: it tries its best to<br>
provide a uniform cross-platform view that always works.</p>
<p>Gerwin wrote:</p>
<blockquote>
<blockquote>
<p>I do appreciate that (and use it myself), but for the instructions it<br>
doesn't work: if, as a user, you don't know what $ISABELLE_USER_HOME refers<br>
to, you will not know which file to change, or how to adjust the path if you<br>
have put the AFP in a different location to what the instructions expect. If<br>
you have the concrete example, you have more information.</p>
</blockquote>
</blockquote>
<p>I usually don't even know myself what $ISABELLE_HOME and $ISABELLE_HOME_USER<br>
refer to on an arbitrary Isabelle installations.</p>
<p>This is why I added convenient "Favorites" to the Isabelle/jEdit file-dialog<br>
some years ago: it tells explicitly what the expanded form of the directory is<br>
(in native path notation understandable by every Windows user).</p>
<p>Yet another proposal to approximate instructions that actually work:</p>
<p>* Use "isabelle -u MY_RELATIVE_PATH_TO_AFP" to register the main AFP<br>
directory as Isabelle component (there is also "isabelle -x ..." to remove it.<br>
(These operations are idempotent.)</p>
<p>* Use command-line options "isabelle build -d '$AFP' ..." or "isabelle jedit<br>
-d '$AFP' ..."</p>
<p>* Or make this persistent by adding $AFP literally as a line in<br>
$ISABELLE_HOME_USER/ROOTS (I never do that myself).</p>
<p>For Windows everything shoukd be done in the Cygwin-Terminal from the Isabelle<br>
distribution, for reproducible results.</p>
<p>Makarius</p>



<a name="228052477"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228052477" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228052477">(Feb 27 2021 at 11:34)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This should be "isabelle components -u MY_RELATIVE_PATH_TO_AFP".</p>
<p>See also the following Isabelle2021/NEWS entry:</p>
<p><strong>* System </strong>*</p>
<ul>
<li>The command-line tool "isabelle components" supports new options -u<br>
and -x to manage $ISABELLE_HOME_USER/etc/components without manual<br>
editing of Isabelle configuration files.<p>Makarius</p>
</li>
</ul>



<a name="228053828"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228053828" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228053828">(Feb 27 2021 at 12:00)</a>:</h4>
<p>From: Stepan Holub &lt;<a href="mailto:holub@karlin.mff.cuni.cz">holub@karlin.mff.cuni.cz</a>&gt;<br>
Absolutely! Now I understand what Makarius says.</p>
<p>The right instruction is<br>
"Open user setting file in jEdit by: File &gt; Open &gt; Favorites &gt; <br>
$ISABELLE_HOME_USER<br>
and add the line ...<br>
"<br>
Stepan</p>



<a name="228055498"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228055498" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228055498">(Feb 27 2021 at 12:29)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
With the minor correction that it needs to be Isabelle/jEdit, not just "jEdit"<br>
--- both for formal correctness and respect for the original jEdit project,<br>
which is quite different from our Prover IDE.</p>
<p>Makarius</p>



<a name="228158079"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20AFP%20instructions/near/228158079" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20AFP.20instructions.html#228158079">(Feb 28 2021 at 21:25)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
Nice, that is sufficiently simple.</p>
<p>And I had not noticed <code>isabelle components -u</code> in the NEWS, which is also better than the command line instructions we have now. Things are indeed getting better over time.</p>
<p>Cheers,<br>
Gerwin</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>