<html>
<head><meta charset="utf-8"><title>[isabelle] Active Area for jEdit Console · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Active.20Area.20for.20jEdit.20Console.html">[isabelle] Active Area for jEdit Console</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="243356244"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Active%20Area%20for%20jEdit%20Console/near/243356244" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Active.20Area.20for.20jEdit.20Console.html#243356244">(Jun 21 2021 at 09:10)</a>:</h4>
<p>From: Simon Foster via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hello everyone.</p>
<p>I'm currently trying to implement an active area in Isabelle/jEdit that<br>
would allow me to open an instance of the jEdit console to interpret a file<br>
produced by the code generator. The workflow I'd like to achieve is that<br>
the user enters an Isabelle command into a theory (analogous to<br>
export_code), which runs the code generator and then produces an active<br>
area in the Output pane with a link that opens the file produced in, say,<br>
GHCi.</p>
<p>I've looked at Pure/PIDE/Active.ML and I can see this allows sending markup<br>
to PIDE for interpretation. As far as I can see there is currently a<br>
limited number of active area types that can be created, such as "brower",<br>
"theory_exports" etc.</p>
<p>One way to achieve opening a console is to use a jEdit action via<br>
"jedit_action". The console plugin provides "runInSystemShell(view,<br>
command)", which implements almost the functionality needed. I can indeed<br>
execute the command via BeanScript in jEdit. I've then tried to create a<br>
new jEdit action, by adding the following lines<br>
to src/Tools/jEdit/src/actions.xml:</p>
<p>&lt;ACTION NAME="ghci"&gt;<br>
     &lt;CODE&gt;<br>
        runInSystemShell(view, "ghci");<br>
     &lt;/CODE&gt;<br>
&lt;/ACTION&gt;</p>
<p>However, whilst jEdit recognises the new action on startup, and it can be<br>
called using JEdit.check_action ("ghci", @{here}), when executed I get the<br>
error "java.lang.NullPointerException: Cannot invoke<br>
"org.gjt.sp.jedit.EditAction.noRememberLast()" because "action" is null"<br>
(see attached). It doesn't matter what I put in the ghci action code, it<br>
always produces the same error. I presume that I've not added the jEdit<br>
action in the correct way.</p>
<p>How can I fix this error? Is there a better way of achieving this workflow?<br>
Any help would be appreciated.</p>
<p>Regards,</p>
<p>Simon.<br>
<a href="/user_uploads/14278/tR9lGUQfsw4zQIDp-Loetsg7/action-error.log">action-error.log</a></p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>