<html>
<head><meta charset="utf-8"><title>[isabelle] Antiquotation causes type check errors elsewhere · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Antiquotation.20causes.20type.20check.20errors.20elsewhere.html">[isabelle] Antiquotation causes type check errors elsewhere</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="272937235"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Antiquotation%20causes%20type%20check%20errors%20elsewhere/near/272937235" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Antiquotation.20causes.20type.20check.20errors.20elsewhere.html#272937235">(Feb 23 2022 at 11:44)</a>:</h4>
<p>From: Stefan Haan &lt;<a href="mailto:stefan.haan@aau.at">stefan.haan@aau.at</a>&gt;<br>
As discussed in the #isabelle IRC channel:<br>
Following Isabelle code causes an <code>Bad number of arguments for type
constructor: "Test.R"</code> error at the "x" definition:</p>
<div class="codehilite"><pre><span></span><code>record (&#39;a, &#39;b) R =
  field :: nat

locale L =
  fixes r :: &quot;(&#39;a, &#39;b) R&quot;
begin
  definition &quot;x ≡ 42&quot;
   ― ‹ here something about \&lt;^typ&gt;‹R› is wrong›
end
</code></pre></div>
<p>I found this quite confusing as type <code>R</code> is never used in the<br>
definition of x. But clearly something is wrong with it, so let's<br>
delete the x definition line. Surprisingly, this causes the error to<br>
jump further up to the locale declaration. This also confused me<br>
because:</p>
<p>1) I assumed the code to be correct until the definition line.</p>
<p>2) Clearly I used the right number of type arguments in <code>fixes r</code>.</p>
<p>It took me a while to realize that the problem was the <code>typ</code><br>
antiquotation in the comment below the x definition. I think the error<br>
should have been shown on the antiquotation.</p>
<p>Best greetings,<br>
Stefan Haan<br>
<a href="/user_uploads/14278/6xQLvP5NCUK8Rd43Zc0owSMC/Test.thy">Test.thy</a><br>
<a href="/user_uploads/14278/UK8zWutmr0JTwYyyuO-DX2qv/smime.p7s">smime.p7s</a></p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>