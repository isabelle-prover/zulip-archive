<html>
<head><meta charset="utf-8"><title>[isabelle] Error in DockerHub documentation · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html">[isabelle] Error in DockerHub documentation</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="227608310"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/227608310" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#227608310">(Feb 24 2021 at 14:42)</a>:</h4>
<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Dear Isabelle developers,</p>
<p>on the page <a href="https://hub.docker.com/r/makarius/isabelle">https://hub.docker.com/r/makarius/isabelle</a><br>
there is a block 'Docker Pull Command'. But when using the command from it, docker fails to pull any image:</p>
<blockquote>
<p>docker pull makarius/isabelle<br>
Using default tag: latest<br>
Error response from daemon: manifest for makarius/isabelle:latest not found: manifest unknown: manifest unknown</p>
</blockquote>
<p>I guess that the reason is the absence of 'latest' tag (the default one). The following command work perfectly:</p>
<blockquote>
<p>docker pull makarius/isabelle:Isabelle2021</p>
</blockquote>
<p>Regards,<br>
Boris</p>



<a name="227643851"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/227643851" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#227643851">(Feb 24 2021 at 18:01)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I have stared at the Docker website a few minutes, with the conclusion that it<br>
implicitly assumes the existance of a "latest" tag. So I have added one, to<br>
make the default pull command generated by the Website work.</p>
<p>Further note the other tags and corresponding pull commands:<br>
<a href="https://hub.docker.com/r/makarius/isabelle/tags">https://hub.docker.com/r/makarius/isabelle/tags</a></p>
<p>Anyway, do you want to say a few words about your docker application with<br>
Isabelle?</p>
<p>I don't use it myself and find the extra resource requirements a bit odd.<br>
Usually I just take the package dependencies from the Dockerfile as a starting<br>
point of a regular Ubuntu installation, or use Isabelle/Scala to do it<br>
automatically, e.g. in "isabelle phabricator_setup":<br>
<a href="https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/Tools/phabricator.scala#l18">https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/Tools/phabricator.scala#l18</a></p>
<p>Makarius</p>



<a name="227658807"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/227658807" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#227658807">(Feb 24 2021 at 19:38)</a>:</h4>
<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>
<blockquote>
<p>I have stared at the Docker website a few minutes, with the conclusion that it<br>
implicitly assumes the existance of a "latest" tag. So I have added one, to<br>
make the default pull command generated by the Website work.</p>
</blockquote>
<p>Thanks!</p>
<blockquote>
<p>Anyway, do you want to say a few words about your docker application with Isabelle?</p>
</blockquote>
<p>I was interested in using Isabelle server as a remote server through TCP. I mean, you can run Isabelle server in a container (or on a remote physical server) and communicate with it from any other container/machine, which doesn't have anything except telnet or netcast.</p>
<p>Unfortunately, now it seems to be impossible because Isabelle server doesn't have an IP starting argument. It's always 127.0.0.1, and not accessible from remote hosts. Am I right?</p>



<a name="227660796"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/227660796" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#227660796">(Feb 24 2021 at 19:53)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Yes. I did this on purpose, because I don't understand all the fine points<br>
that are required to make a secure server with the Java platform.</p>
<p>Some years ago, my idea was to use something like ssh port forwarding to<br>
access the local port remotely.</p>
<p>There might be better ways that I don't know of yet.</p>
<p>Makarius</p>



<a name="227738710"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/227738710" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#227738710">(Feb 25 2021 at 09:18)</a>:</h4>
<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>
<blockquote>
<p>Some years ago, my idea was to use something like ssh port forwarding to access the local port remotely.</p>
</blockquote>
<p>Yes, that's possible but I think that 127.0.0.1 can be the default binding, and the user starting the server should have an option to change it. Jupyter server works the same way, e.g. Also, I can imagine a situation when Isabelle server is running inside a university VPN on some machine to which one doesn't want to have ssh connections from Isabelle users, even authenticated through VPN.</p>
<p>Best,<br>
Boris</p>



<a name="228123106"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/228123106" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#228123106">(Feb 28 2021 at 11:00)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 25/02/2021 10:18, Boris Shminke wrote:</p>
<blockquote>
<blockquote>
<p>Some years ago, my idea was to use something like ssh port forwarding to access the local port remotely.</p>
</blockquote>
<p>Yes, that's possible but I think that 127.0.0.1 can be the default binding, and the user starting the server should have an option to change it.</p>
</blockquote>
<p>The present approach has an implicit assumption that the connection is local<br>
and the password (UUID) for the connection can be provided by a file that is<br>
private to the user. I presently don't know how to do better, and do not want<br>
to pretend that I do, e.g. by allowing the user to do non-sense at his own<br>
descretion.</p>
<blockquote>
<p>Jupyter server works the same way, e.g.</p>
</blockquote>
<p>Can you provide a pointer to the relevant documentation of Jupyter?</p>
<blockquote>
<p>Also, I can imagine a situation when Isabelle server is running inside a university VPN on some machine to which one doesn't want to have ssh connections from Isabelle users, even authenticated through VPN.</p>
</blockquote>
<p>Is the absence of ssh theoretical or based on concrete experience? Isn't VPN<br>
about forwarding ports in the first place?</p>
<p>Makarius</p>



<a name="228217895"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/228217895" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#228217895">(Mar 01 2021 at 11:59)</a>:</h4>
<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Dear Makarius,</p>
<blockquote>
<p>The present approach has an implicit assumption that the connection is local<br>
and the password (UUID) for the connection can be provided by a file that is<br>
private to the user.</p>
</blockquote>
<p>Yes, you're right that simply adding this option to <code>isabelle server</code> command is not very useful.</p>
<blockquote>
<p>Can you provide a pointer to the relevant documentation of Jupyter?</p>
</blockquote>
<p>Sure, <a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#running-a-public-notebook-server">https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#running-a-public-notebook-server</a> (for a config file)</p>
<p><a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#docker-cmd">https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#docker-cmd</a> (for a command line option)</p>
<p>Of course, they have SSL support, as well as possibility to set password to a server.</p>
<blockquote>
<p>Is the absence of ssh theoretical or based on concrete experience?</p>
</blockquote>
<p>Yes, it's based on a situation in which I use Jupyter server provided by my lab. I don't have ssh access to it, although the ports are open for me through VPN.</p>
<p>Regards,<br>
Boris</p>



<a name="228235401"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Error%20in%20DockerHub%20documentation/near/228235401" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Error.20in.20DockerHub.20documentation.html#228235401">(Mar 01 2021 at 14:09)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 01/03/2021 12:59, Boris Shminke via Cl-&gt;</p>
<blockquote>
<blockquote>
<p>Can you provide a pointer to the relevant documentation of Jupyter?</p>
</blockquote>
<p>Sure, <a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#running-a-public-notebook-server">https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#running-a-public-notebook-server</a> (for a config file)</p>
<p><a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#docker-cmd">https://jupyter-notebook.readthedocs.io/en/stable/public_server.html#docker-cmd</a> (for a command line option)</p>
<p>Of course, they have SSL support, as well as possibility to set password to a server.</p>
</blockquote>
<p>I see a lot of side-conditions to the "secure" setup: To do something like<br>
this with "isabelle server" would require careful thoughts.</p>
<p>Since you are using docker anyway, you could also try to remap the port as<br>
documented here: <a href="https://docs.docker.com/config/containers/container-networking">https://docs.docker.com/config/containers/container-networking</a></p>
<p>Of course this will be still "insecure" as it is by default on 127.0.0.1.</p>
<blockquote>
<blockquote>
<p>Is the absence of ssh theoretical or based on concrete experience?</p>
</blockquote>
<p>Yes, it's based on a situation in which I use Jupyter server provided by my lab. I don't have ssh access to it, although the ports are open for me through VPN.</p>
</blockquote>
<p>So the remaining question: Are there notable VPN configurations where ports<br>
are not forwarded like that?</p>
<p>Makarius</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>