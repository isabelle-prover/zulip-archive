<html>
<head><meta charset="utf-8"><title>[isabelle] I completed mmt_import but now I have some que... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20I.20completed.20mmt_import.20but.20now.20I.20have.20some.20que.2E.2E.2E.html">[isabelle] I completed mmt_import but now I have some que...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="232131796"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20I%20completed%20mmt_import%20but%20now%20I%20have%20some%20que.../near/232131796" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20I.20completed.20mmt_import.20but.20now.20I.20have.20some.20que.2E.2E.2E.html#232131796">(Mar 28 2021 at 01:27)</a>:</h4>
<p>From: Alex Meyer &lt;<a href="mailto:alex153@outlook.lv">alex153@outlook.lv</a>&gt;<br>
I have theory with 2 definitions and some 20 LOC including the usual boilerplate.</p>
<p>I have completed mmt_import with Isabelle_MMT-20190611.exe from <a href="https://sketis.net/2019/mmt-as-component-for-isabelle2019">https://sketis.net/2019/mmt-as-component-for-isabelle2019</a> . I used command:</p>
<p>tomr@DESKTOP /cygdrive/c/Homes/Isabelle_MMT-20190611/Isabelle_MMT-20190611<br>
$ isabelle mmt_import -D /cygdrive/c/Workspace-Algo<br>
Adding archive C:\Homes\Isabelle_MMT-20190611\Isabelle_MMT-20190611\isabelle_test<br>
Loading 3 sessions ...<br>
Processing theory Pure ...<br>
Starting session Pure ...<br>
Loading 112 theories ...<br>
Processing theory HOL.Code_Generator ...<br>
...<br>
...</p>
<p>/cygdrive/c/Workspace-Algo is my theory session directory (with ROOT in it) and C:\Homes\Isabelle_MMT-20190611\Isabelle_MMT-20190611\isabelle_test is some test directory inside Isabelle-MMT-2019 combined installation, I don't know why mmt_import requires/works on it. For the sake of security I copied all the content from my theory session directory /cygdrive/c/Workspace-Algo to this C:\Homes\Isabelle_MMT-20190611\Isabelle_MMT-20190611\isabelle_test as well.</p>
<p>All in all - mmt_import exported more than 100 theories and it took 45 minutes on Intel7/16GB RAM machine with almost total consumption of all awailable RAM.</p>
<p>So, the questions:</p>
<p>*   Is there a way to indicate that I would like to export only 1 theory and not the remaining theories which somehow (indirectly) can be required for export?<br>
  *   Is there a way to ask not to export the base theories once more: e.g. indicate that base theories have already been exported and to provide path to exports and then the proper export of the propert single theory could be fast?<br>
  *   Why RAM consumption, consumption of resources ir so large?<br>
  *   Is it hard to upgrade mmt_import 2019 for Isabelle2021. What it takes? Maybe I can do it myself, but some quick guidance could be good?<br>
  *   I guess - if I would like to improve mmt_import or dig deeper, then I should be very good at Isabelle/Scala implementation. I checked System manual and there is Chapter 5 about Isabelle/Scala systems programming - as I understand, that is all for Isabelle/Scala?<br>
  *   As I understand - if I would like to form my own Isabelle textual commans and send programmatically them to Isabelle and recieve response etc. then I should use Isabelle/Scala interface, am I right on this point? There is nothing more appropriate? (We have already discussed this about theory export in JSON/XML and as I understood - then every export tool, every interaction tools boils down to Isabelle/Scala - so - it should be worth to lear it).</p>
<p>And lastly - just quick question: I installed mmt-20190611.tar.gz (un-gzipped, un-tarred and installed) as components for Isabelle2021 and I tried to run - I got errors about isabelle_scala_tools:</p>
<p>tomr@DESKTOP /cygdrive/c/Workspace-Algo<br>
$ isabelle components -u /cygdrive/c/Homes/IsabelleMMT/mmt-20190611<br>
Added component "/cygdrive/c/Homes/IsabelleMMT/mmt-20190611"</p>
<p>tomr@DESKTOP /cygdrive/c/Workspace-Algo<br>
$ isabelle mmt_import<br>
/cygdrive/c/Homes/IsabelleMMT/mmt-20190611/MMT-17.0.0/src/mmt-isabelle/etc/settings: line 11: isabelle_scala_tools: command not found<br>
Return code 127 from bash script: "/cygdrive/c/Homes/IsabelleMMT/mmt-20190611/MMT-17.0.0/src/mmt-isabelle/etc/settings"</p>
<p>Well, I know that this is bad thing to do - documentation explicitly required total compatibility of releases between Isabelle-MMT and Isabelle and in this case I am violating it by 2 major version, but still - what could it take to upgrade mmt_import for Isabelle2021? Maybe I can somehow installa isabelle_scala_tools and all the remaining will work anyway?</p>
<p>Well - and just one last question. I am trying to do externa manipulation (parsing, machine learning and generating) Isabelle code and see, how hard is this. Maybe someone have experience with Coq and Lean with the similar tasks - parsing, machine learning and generating? Maybe it is easier and why easier? Isabelle's large and ever growing AFP is the strongest case why I am so fond of Isabelle, but still...</p>
<p>Thanks in advance!</p>
<p>Alex</p>



<a name="232167546"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20I%20completed%20mmt_import%20but%20now%20I%20have%20some%20que.../near/232167546" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20I.20completed.20mmt_import.20but.20now.20I.20have.20some.20que.2E.2E.2E.html#232167546">(Mar 28 2021 at 13:35)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 28/03/2021 03:26, Alex Meyer wrote:</p>
<blockquote>
<p>I have completed mmt_import with Isabelle_MMT-20190611.exe from<br>
<a href="https://sketis.net/2019/mmt-as-component-for-isabelle2019">https://sketis.net/2019/mmt-as-component-for-isabelle2019</a></p>
</blockquote>
<p>That is a rather old blog entry on an ongoing project; it was later released<br>
with Isabelle2020 and published in<br>
<a href="https://drops.dagstuhl.de/opus/volltexte/2020/13065">https://drops.dagstuhl.de/opus/volltexte/2020/13065</a></p>
<p>For Isabelle2021, I have updated the mmt-isabelle sources here:<br>
<a href="https://github.com/UniFormal/MMT/commit/43fec2b39fba">https://github.com/UniFormal/MMT/commit/43fec2b39fba</a> --- that is not a proper<br>
release of MMT, but that project is somewhat experimental anyway.</p>
<p>If you do want to continue with MMT, you should:</p>
<p>* use its Scala libraries to access the XML/OMDoc content, not your own<br>
homegrown tools for this complex format;</p>
<p>* get acquainted with how MMT is built and run: it should be fine on<br>
Windows, because its main developer Florian Rabe is also on that platform;</p>
<p>* get in touch with the MMT community and ask further questions over there.</p>
<p>MMT might even help you to get both Isabelle and Coq on board of your project,<br>
but it is not "for free": it requires to work with the structures of MMT<br>
systematically, notable the LF (Logical Framework) meta-theory.</p>
<p>An alternative is to harvest HTML presentations of Isabelle, Coq etc. Since AI<br>
is inaccurate anyway, that could make sense: you get sources that are<br>
annotation with the role of identifiers etc. (colors, maybe also links).</p>
<p>In Isabelle2021, the standard HTML output merely produces colors, but you can<br>
use a little bit of Isabelle/Scala to access the Markup.ENTITY elements as<br>
well. Here is the entry point for "isabelle build -P:"<br>
<a href="https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/Tools/build.scala#l494">https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/Tools/build.scala#l494</a><br>
(the build tool is described in the "system" manual).</p>
<p>By using "isabelle scala_project" with Gradle and IntelliJ IDEA as described<br>
in the same text, you can easily explore the specification written as Scala<br>
source text. (MMT is more complex and irregular, but I still managed rather<br>
quickly to understand its main points with the help of IntelliJ IDEA.)</p>
<blockquote>
<p>All in all - mmt_import exported more than 100 theories and it took 45 minutes<br>
on Intel7/16GB RAM machine with almost total consumption of all awailable RAM.</p>
</blockquote>
<p>16GB is not much for full-scale Isabelle applications. Isabelle/MMT from 2019<br>
requires more than that, although in 2020 I improved that a lot.</p>
<p>In 2021, I've built PIDE markup into regular "isabelle build" + "isabelle<br>
export", so the bulky "isabelle dump" (or Headless session in Isabelle/MMT) is<br>
no longer required. Isabelle/MMT will eventually be updated in that respect,<br>
but I can't say when.</p>
<blockquote>
<p>* Is there a way to indicate that I would like to export only 1 theory and<br>
    not the remaining theories which somehow (indirectly) can be required for<br>
    export?<br>
  * Is there a way to ask not to export the base theories once more: e.g.<br>
    indicate that base theories have already been exported and to provide path<br>
    to exports and then the proper export of the propert single theory could<br>
    be fast?<br>
  * Why RAM consumption, consumption of resources ir so large?<br>
  * Is it hard to upgrade mmt_import 2019 for Isabelle2021. What it takes?<br>
    Maybe I can do it myself, but some quick guidance could be good?<br>
  * I guess - if I would like to improve mmt_import or dig deeper, then I<br>
    should be very good at Isabelle/Scala implementation.</p>
</blockquote>
<p>These questions are only of historic interest. The proper answer is to ask<br>
different questions: How use Isabelle2021 with Isabelle/Scala properly?</p>
<p>The "system" manual refers to "isabelle scala_project" + Gradle + IntellJ<br>
IDEA: you should purchase 16 GB more RAM and use that.</p>
<blockquote>
<p>* As I understand - if I would like to form my own Isabelle textual commans<br>
    and send programmatically them to Isabelle and recieve response etc. then<br>
    I should use Isabelle/Scala interface, am I right on this point? There is<br>
    nothing more appropriate? (We have already discussed this about theory<br>
    export in JSON/XML and as I understood - then every export tool, every<br>
    interaction tools boils down to Isabelle/Scala - so - it should be worth<br>
    to lear it).</p>
</blockquote>
<p>Isabelle commands are defined in Isabelle/ML. Regular Isabelle/jEdit is the<br>
main IDE for that: just look a bit through the "implementation" manual or<br>
better the sources: $ISABELLE_HOME/src/Doc/Implementation/Integration.thy it<br>
has a reference e.g. to<br>
$ISABELLE_HOME/src/HOL/Examples/Commands.thy</p>
<blockquote>
<p>Well, I know that this is bad thing to do - documentation explicitly required<br>
total compatibility of releases between Isabelle-MMT and Isabelle and in this<br>
case I am violating it by 2 major version, but still - what could it take to<br>
upgrade mmt_import for Isabelle2021?</p>
</blockquote>
<p>Doing bad things is no good. The proper way is to use the already updated<br>
Isabelle/MMT (see above), if you want to use it at all.</p>
<blockquote>
<p>Well - and just one last question. I am trying to do externa manipulation<br>
(parsing, machine learning and generating) Isabelle code and see, how hard is<br>
this. Maybe someone have experience with Coq and Lean with the similar tasks -<br>
parsing, machine learning and generating? Maybe it is easier and why easier?<br>
Isabelle's large and ever growing AFP is the strongest case why I am so fond<br>
of Isabelle, but still...</p>
</blockquote>
<p>Isbelle/AFP is indeed the greatest success of the prover community as a whole.<br>
No other proof assistant has gone as far yet, concerning both the technology<br>
and the content.</p>
<p>If you want to harvest just that, I would recommend a regular "isabelle build<br>
-d AFP/thys -a" with some Isabelle/Scala tool to process the PIDE markup<br>
(accessing not the raw YXML data, but using typed functions).</p>
<p>To work with all of AFP, you should have 32-64 GB RAM, and as many CPU cores<br>
as you can get.</p>
<p>Makarius</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>