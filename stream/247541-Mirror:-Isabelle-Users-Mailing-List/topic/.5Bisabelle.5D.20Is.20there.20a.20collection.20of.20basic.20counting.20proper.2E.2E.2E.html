<html>
<head><meta charset="utf-8"><title>[isabelle] Is there a collection of basic counting proper... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html">[isabelle] Is there a collection of basic counting proper...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="288918057"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288918057" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288918057">(Jul 08 2022 at 09:35)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
For an investigation I was trying to pursue, I just found myself proving the following:</p>
<p>lemma hypergeometric_combinatorial_property:<br>
   assumes "finite (U ∪ S)" and "U ∩ S = {}"<br>
   shows "card {T. T ⊆ U ∪ S ∧ card T = n ∧ card (S ∩ T) = k} =<br>
          (if n &gt; card (U ∪ S) ∨ k &gt; n then 0 else (card S choose k) * (card U choose (n - k)))"</p>
<p>As my proof is kind of long and ugly (it even took a while just to figure out the way of formulating<br>
the boundary cases so that the induction would go through), I wonder if there is perhaps a collection<br>
of already-distilled basic facts like this, concerning counting properties related to common discrete<br>
probability distributions.  I had a look in what seemed obvious places in the HOL-Library, but only<br>
came up with a few facts of this type.</p>
<p>Thanks for any hints.</p>
<p>- Gene Stark</p>



<a name="288938354"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288938354" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288938354">(Jul 08 2022 at 13:15)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I’m not aware of such a thing. It’s surely useful to collect combinatorial identities however.</p>
<p>Larry</p>



<a name="288938516"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288938516" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288938516">(Jul 08 2022 at 13:16)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:manuel@pruvisto.org">manuel@pruvisto.org</a>&gt;<br>
There is Lukas Bulwahn's AFP entry on the Twelvefold Way. is that the <br>
sort of thing you have in mind?</p>
<p><a href="https://www.isa-afp.org/entries/Twelvefold_Way.html">https://www.isa-afp.org/entries/Twelvefold_Way.html</a></p>
<p>Manuel</p>



<a name="288960987"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288960987" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288960987">(Jul 08 2022 at 16:11)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
As others have already stated, there is currently no specific library for such <br>
lemmas. However, the lemma looks interesting enough that I would suggest to move <br>
it to the finite set theory in HOL: <br>
<a href="https://isabelle.in.tum.de/dist/library/HOL/HOL/Finite_Set.html">https://isabelle.in.tum.de/dist/library/HOL/HOL/Finite_Set.html</a> (see, for <br>
example, dvd_partition)</p>
<p>Unless somebody has better suggestion, I'll be happy to do it.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/4mCpmYt_QIU_Srz22AY-J60U/smime.p7s">smime.p7s</a></p>



<a name="288965504"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288965504" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288965504">(Jul 08 2022 at 16:49)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:manuel@pruvisto.org">manuel@pruvisto.org</a>&gt;<br>
I don't know <em>how</em> "long and ugly" Gene's proof is, but here's a fairly <br>
straightforward one in 72 lines based on proving a bijection. I did <br>
modify the statement a bit since one of the case distinctions was <br>
redundant. It could be even shorter, but the automation is not good with <br>
cardinalities it seems…</p>
<p>In combinatorics, I would generally always prefer a bijection-based <br>
proof over a recursive one if at all possible. Or even better, a <br>
generating-function proof (although that introduces a dependency to <br>
HOL-Computational_Algebra).</p>
<p>Manuel</p>
<p>lemma hypergeometric_combinatorial_property:<br>
   assumes "finite (U ∪ S)" and "U ∩ S = {}"<br>
   shows "card {T. T ⊆ U ∪ S ∧ card T = n ∧ card (S ∩ T) = k} =<br>
            (if k &gt; n then 0 else (card S choose k) * (card U choose (n </p>
<ul>
<li>k)))"<br>
     (is "card ?A = ?rhs")<br>
proof -<br>
   define f where "f = (λT. (T ∩ S, T ∩ U))"<br>
   define g where "g = (λ(X::'a set, Y). X ∪ Y)"<br>
   let ?B = "{X. X ⊆ S ∧ card X = k} × {Y. Y ⊆ U ∧ card Y + k = n}"</li>
</ul>
<p>have "bij_betw f ?A ?B"<br>
   proof (rule bij_betwI[of _ _ _ g], goal_cases)<br>
     case 1<br>
     show ?case<br>
     proof<br>
       fix T assume T: "T ∈ ?A"<br>
       have "n = card T"<br>
         using T by auto<br>
       also have "T = (T ∩ U) ∪ (T ∩ S)"<br>
         using T by auto<br>
       also have "card … = card (T ∩ U) + k"<br>
         using T assms by (subst card_Un_disjoint) (auto simp: Int_commute)<br>
       finally have "card (T ∩ U) + k = n" ..<br>
       thus "f T ∈ ?B" using T<br>
         by (auto simp: f_def g_def Int_commute)<br>
     qed<br>
   next<br>
     case 2<br>
     show ?case<br>
     proof<br>
       fix XY assume XY: "XY ∈ ?B"<br>
       then obtain X Y where [simp]: "XY = (X, Y)"<br>
         by (cases XY)<br>
       have XY: "X ⊆ S" "Y ⊆ U" "card X = k" "card Y + k = n"<br>
         using XY by auto<br>
       have 1: "g (X, Y) ⊆ U ∪ S"<br>
         using XY by (auto simp: g_def)<br>
       have "card (g (X, Y)) = card (X ∪ Y)"<br>
         by (auto simp: g_def)<br>
       also have "… = card X + card Y"<br>
         by (rule card_Un_disjoint) (use XY assms in ‹auto dest: <br>
finite_subset›)<br>
       finally have 2: "card (g (X, Y)) = n"<br>
         using XY by simp<br>
       have "S ∩ g (X, Y) = X"<br>
         using XY assms by (auto simp: g_def)<br>
       hence 3: "card (S ∩ g (X, Y)) = k"<br>
         using XY by auto<br>
       from 1 2 3 show "g XY ∈ ?A"<br>
         by simp<br>
     qed<br>
   qed (use assms in ‹auto simp: f_def g_def›)<br>
   hence "card ?A = card ?B"<br>
     by (rule bij_betw_same_card)</p>
<p>also have "card ?B = ?rhs"<br>
   proof (cases "k &gt; n")<br>
     case False<br>
     hence "card Y + k = n ⟷ card Y = n - k" for Y :: "'a set"<br>
       by linarith<br>
     hence "?B = {X. X ⊆ S ∧ card X = k} × {Y. Y ⊆ U ∧ card Y = n - k}"<br>
       by simp<br>
     also have "card … = (card S choose k) * (card U choose (n - k))"<br>
       unfolding card_cartesian_product using assms by (subst (1 2) <br>
n_subsets) auto<br>
     finally show ?thesis<br>
       using False by simp<br>
   next<br>
     case True<br>
     hence "card Y + k ≠ n" for Y :: "'a set"<br>
       by linarith<br>
     hence "?B = {}"<br>
       by simp<br>
     with True show ?thesis<br>
       by simp<br>
   qed</p>
<p>finally show ?thesis .<br>
qed</p>



<a name="288965621"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288965621" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288965621">(Jul 08 2022 at 16:50)</a>:</h4>
<p>From: "Thiemann, René" &lt;<a href="mailto:Rene.Thiemann@uibk.ac.at">Rene.Thiemann@uibk.ac.at</a>&gt;<br>
Hi Gene,</p>
<p>here is another counting lemma which is hidden in some AFP entry.</p>
<p><a href="https://www.isa-afp.org/theories/clique_and_monotone_circuits/#Preliminaries.html#Preliminaries.card_inj_on_subset_funcset|fact">https://www.isa-afp.org/theories/clique_and_monotone_circuits/#Preliminaries.html#Preliminaries.card_inj_on_subset_funcset|fact</a></p>
<p>Perhaps it is of interest.</p>
<p>Best,<br>
René</p>



<a name="288971828"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288971828" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288971828">(Jul 08 2022 at 17:45)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
Well, Manuel, you truly are the master ;-)  I have already learned a few new tricks from your proof.</p>
<p>Mine was 324 lines for a direct brute-force induction on the cardinality of U ∪ S, and I had not<br>
made any attempt to replace uses of smt, which I allowed liberally while banging it out.<br>
So I am obviously not going to publish that version.  The redundant case that you removed was<br>
probably a vestige of the inductive version internal to the proof that I used.</p>
<p>The "higher-level" bijection idea is clearly an improvement, and I will keep that in mind.</p>
<p>So, basically, I guess all I have to contribute to this is the (imperfect) statement of the Lemma :-(</p>
<p>My original thoughts were along the following lines:  Basic probability books have a bunch of<br>
'ball and urn' examples, to illustrate the origins of various important probability distributions.<br>
The examples are counting problems, but then the probability mass functions are then expressed<br>
as formulas using things like binomial coefficients.  If, as happened in my case, the counting problem<br>
pops out of something else you are trying to do (such as manipulate a summation), then you end up<br>
wanting/needing the lemma that relates the counting problem to the associated formula.  Although my<br>
combinatorics skills are embarrassingly poor, I did manage to figure out before too long that<br>
what I had got was related to the hypergeometric distribution.  I figured I might be lucky and<br>
there would be a formal probability development somewhere that would have a list of facts about basic<br>
distributions like this.  (But I also didn't mind working out a proof myself, because I was<br>
using some parts of Isabelle that I hadn't tried much before.)</p>
<p>Anyway, I was imagining some kind of table of basic distributions, together with facts like the<br>
following:</p>
<p>relation between the underlying counting problem and the probability mass function</p>
<p>generating functions</p>
<p>formulas for moments</p>
<p>(probably other things that I am not thinking of right now)</p>
<p>It might be that a fair bit of what I was looking for could already be derived from some of the<br>
more abstract developments pointed out in this thread (e.g. the "Twelve Ways").  But I doubt<br>
that someone like me would be able to spot it if it were.</p>
<p>I would think that trying to start some kind of collection like this would make a relatively accessible<br>
project for a student who wanted to develop some facility with formal theorem proving.</p>
<p>- Gene Stark</p>



<a name="288974056"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288974056" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288974056">(Jul 08 2022 at 18:05)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:manuel@pruvisto.org">manuel@pruvisto.org</a>&gt;<br>
On 08/07/2022 19:45, Eugene W. Stark wrote:</p>
<blockquote>
<p>My original thoughts were along the following lines:  Basic <br>
probability books have a bunch of<br>
'ball and urn' examples</p>
</blockquote>
<p>I think most of the "ball and urn" things are contained in the <br>
Twelvefold Way.</p>
<blockquote>
<p>Anyway, I was imagining some kind of table of basic distributions, <br>
together with facts like the<br>
following:</p>
<p>relation between the underlying counting problem and the <br>
probability mass function</p>
</blockquote>
<p>Well, in HOL-Probability there is "pmf_of_set" (the uniform distribution <br>
for discrete sets), where the probability of any one element is simply <br>
one over the cardinality of the set that you're choosing from. There are <br>
also a number of other basic distributions, such as Bernoulli, binomial, <br>
negative binomial, geometric, Poisson.</p>
<blockquote>
<p>generating functions</p>
</blockquote>
<p>Generating functions are simply the formal power series in <br>
HOL-Computational_Algebra. There are a few example applications in the <br>
distribution and a few more in the AFP (see e.g. Catalan Numbers and <br>
Bernoulli numbers).</p>
<blockquote>
<p>formulas for moments</p>
</blockquote>
<p>What exactly are you looking for?</p>
<p>In any case, as with most of our material, it is perhaps a bit difficult <br>
to find. Having good documentation for the libraries is a long-standing <br>
problem that we have not solved yet.</p>
<p>Manuel</p>



<a name="288983593"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/288983593" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#288983593">(Jul 08 2022 at 19:31)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Now that we have a short proof, could we also have a better name than <br>
hypergeometric_combinatorial_property? Eg card_subsets_disj_Un, but maybe there <br>
is a more abstract name.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/wbKlYeXSx8J05KSYEx6fDVUt/smime.p7s">smime.p7s</a></p>



<a name="289059184"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/289059184" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#289059184">(Jul 09 2022 at 19:44)</a>:</h4>
<p>From: Chelsea Edmonds &lt;<a href="mailto:cle47@cam.ac.uk">cle47@cam.ac.uk</a>&gt;<br>
I've also come across a similar problem in my own work formalising proofs for hypergraphs/combinatorial design theory. Coming up with some tricks/common lemmas/proof patterns to help simplify these kinds of proofs is something I've been thinking about doing at some point, so would be great to hear if anyone else has started on something similar already (or does so following this thread!). I've found there tend to be two main challenges: firstly, translating the intuition of a counting proof into a more formal representation, and secondly actually working with the resulting sets (as Manuel identified - the automation for reasoning on cardinality of sets can be rather poor, and this is even more so the case for multiset sizes from experience).</p>
<p>As a note, there are several examples of counting proofs (often involving multisets) in the library here: <a href="https://www.isa-afp.org/entries/Design_Theory.html">https://www.isa-afp.org/entries/Design_Theory.html</a></p>
<p>Also an example of a generating proof approach as an alternative for combinatorial arguments here: <a href="https://www.isa-afp.org/entries/Lucas_Theorem.html">https://www.isa-afp.org/entries/Lucas_Theorem.html</a> As Manuel pointed out this does introduce a dependency on the Computational Algebra library, but is relatively easy to work with once you get familiar with the fps representation (and the generating function approach was certainly more of a direct translation to Isabelle then the intuitive combinatorial proof on paper).</p>
<p>Best,<br>
Chelsea</p>



<a name="289092672"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/289092672" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#289092672">(Jul 10 2022 at 09:33)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Dear Chelsea,</p>
<p>Thanks for these further examples. They make me wonder if I should really stick <br>
the other counting lemmas that was posted into Finite_Set theory or if there <br>
should be a dedicated library?</p>
<p>Tobias<br>
<a href="/user_uploads/14278/8IffFzrDiJ8ysGewkjY9xwIu/smime.p7s">smime.p7s</a></p>



<a name="289095718"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/289095718" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#289095718">(Jul 10 2022 at 10:45)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:manuel@pruvisto.org">manuel@pruvisto.org</a>&gt;<br>
Note that there <em>is</em> a HOL-Combinatorics session now.</p>
<p>Manuel</p>



<a name="289097772"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/289097772" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#289097772">(Jul 10 2022 at 11:30)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Good point. But I am not sure which of the counting lemmas, e.g. the one you <br>
posted, should go where - but I trust you will put yours in the right place? It <br>
also seems that there cannot be one bucket for all of them because some of them <br>
talk about sets, some about multisets and some about functions, and some use <br>
additional libraries like FPS...</p>
<p>Tobias<br>
<a href="/user_uploads/14278/zvuhpuuVl-bp1Q4sL2wPV8KQ/smime.p7s">smime.p7s</a></p>



<a name="289164057"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Is%20there%20a%20collection%20of%20basic%20counting%20proper.../near/289164057" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Is.20there.20a.20collection.20of.20basic.20counting.20proper.2E.2E.2E.html#289164057">(Jul 11 2022 at 09:11)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
On 08/07/2022 18:50, Thiemann, René wrote:</p>
<blockquote>
<p>Hi Gene,</p>
<p>here is another counting lemma which is hidden in some AFP entry.</p>
<p><a href="https://www.isa-afp.org/theories/clique_and_monotone_circuits/#Preliminaries.html#Preliminaries.card_inj_on_subset_funcset|fact">https://www.isa-afp.org/theories/clique_and_monotone_circuits/#Preliminaries.html#Preliminaries.card_inj_on_subset_funcset|fact</a></p>
<p>Perhaps it is of interest.</p>
</blockquote>
<p>It is certainly of interest. I have moved it to theory FuncSet.</p>
<p>There are further interesting theorems in your theory ... I would really love to <br>
have a tool that goes through AFP entries and suggests lemmas that could be <br>
moved to the distribution and suggests where they might go.</p>
<p>Tobias</p>
<blockquote>
<p>Best,<br>
René</p>
<blockquote>
<p>Am 08.07.2022 um 11:35 schrieb Eugene W. Stark &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;:</p>
<p>For an investigation I was trying to pursue, I just found myself proving the following:</p>
<p>lemma hypergeometric_combinatorial_property:<br>
  assumes "finite (U ∪ S)" and "U ∩ S = {}"<br>
  shows "card {T. T ⊆ U ∪ S ∧ card T = n ∧ card (S ∩ T) = k} =<br>
         (if n &gt; card (U ∪ S) ∨ k &gt; n then 0 else (card S choose k) * (card U choose (n - k)))"</p>
<p>As my proof is kind of long and ugly (it even took a while just to figure out the way of formulating<br>
the boundary cases so that the induction would go through), I wonder if there is perhaps a collection<br>
of already-distilled basic facts like this, concerning counting properties related to common discrete<br>
probability distributions.  I had a look in what seemed obvious places in the HOL-Library, but only<br>
came up with a few facts of this type.</p>
<p>Thanks for any hints.</p>
<p>- Gene Stark<br>
</p>
</blockquote>
<p><a href="/user_uploads/14278/KBNo3QpczjgZkWKclCjCh-uT/smime.p7s">smime.p7s</a></p>
</blockquote>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>