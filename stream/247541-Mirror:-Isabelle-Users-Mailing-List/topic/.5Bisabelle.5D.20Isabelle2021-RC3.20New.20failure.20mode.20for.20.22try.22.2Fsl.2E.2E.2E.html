<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2021-RC3 New failure mode for &quot;try&quot;/sl... · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html">[isabelle] Isabelle2021-RC3 New failure mode for &quot;try&quot;/sl...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="226253000"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021-RC3%20New%20failure%20mode%20for%20%22try%22/sl.../near/226253000" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html#226253000">(Feb 13 2021 at 16:20)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
This has occurred again and I was able to capture the files involved.  I am forwarding them to you<br>
in an off-list message.  I would note that it is not necessarily repeatable on every try -- I think<br>
it must depend on some cache state or other randomness.  However, I hope that if you try it several<br>
times you will be able to repeat what I am seeing (I included a screenshot to show it).</p>
<p>- Gene Stark</p>



<a name="226480390"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021-RC3%20New%20failure%20mode%20for%20%22try%22/sl.../near/226480390" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html#226480390">(Feb 16 2021 at 07:27)</a>:</h4>
<p>From: Mathias Fleury &lt;<a href="mailto:mathias.fleury12@gmail.com">mathias.fleury12@gmail.com</a>&gt;<br>
Hi Eugene,</p>
<p>Thanks for providing the files. In your example the reconstruction with <br>
by (smt (verit) ...) works but take more time than the timeout used by <br>
Sledgehammer.</p>
<p>Sadly, this is an example that I cannot fix. Sledgehammer has some <br>
expectations on Skolemization steps that are not true for the proof <br>
format of veriT, leading to such weird bugs. Many proofs can be fitted <br>
to fit the expectations, but others cannot easily -- and that one cannot.</p>
<p>If this is a big issue for you, the solution is to remove veriT from the <br>
provers used by Sledgehammer.</p>
<p>Sorry for the inconveniance,</p>
<p>Mathias</p>



<a name="226495304"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021-RC3%20New%20failure%20mode%20for%20%22try%22/sl.../near/226495304" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html#226495304">(Feb 16 2021 at 10:18)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Thank you for looking into it: for me the main conclusion is that I<br>
don't have to worry about it for the final Isabelle2021 release (to<br>
appear towards the end of the week).</p>
<p>Makarius</p>



<a name="226506231"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021-RC3%20New%20failure%20mode%20for%20%22try%22/sl.../near/226506231" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html#226506231">(Feb 16 2021 at 12:19)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
Thanks for looking into this.  However, I guess I am a little bit confused, as the issue was not that the reconstruction<br>
by verit failed, but rather than an Isar "proof" with no "shows" was suggested.  Are these somehow related?</p>
<p>- Gene Stark</p>



<a name="226512642"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021-RC3%20New%20failure%20mode%20for%20%22try%22/sl.../near/226512642" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021-RC3.20New.20failure.20mode.20for.20.22try.22.2Fsl.2E.2E.2E.html#226512642">(Feb 16 2021 at 13:30)</a>:</h4>
<p>From: Mathias Fleury &lt;<a href="mailto:mathias.fleury12@gmail.com">mathias.fleury12@gmail.com</a>&gt;<br>
Sorry for the confusing message.</p>
<p>On 16/02/2021 13:19, Eugene W. Stark wrote:</p>
<blockquote>
<p>Thanks for looking into this.  However, I guess I am a little bit confused, as the issue was not that the reconstruction<br>
by verit failed,</p>
</blockquote>
<p>(it times out, but succeeds if you wait a little longer)</p>
<blockquote>
<p>but rather than an Isar "proof" with no "shows" was suggested.  Are these somehow related?</p>
</blockquote>
<p>That is where the Sledgehammer assumption on the proof produced by veriT <br>
quicks in.</p>
<blockquote>
<p>Are these somehow related?</p>
</blockquote>
<p>No. Both approach use veriT and parsing is shared, but everything else <br>
is different.</p>
<p>Mathias</p>
<blockquote>
<p>- Gene Stark</p>
<p>On 2/16/21 2:26 AM, Mathias Fleury wrote:</p>
<blockquote>
<p>Hi Eugene,</p>
<p>Thanks for providing the files. In your example the reconstruction with by (smt (verit) ...) works but take more time<br>
than the timeout used by Sledgehammer.</p>
<p>Sadly, this is an example that I cannot fix. Sledgehammer has some expectations on Skolemization steps that are not true<br>
for the proof format of veriT, leading to such weird bugs. Many proofs can be fitted to fit the expectations, but others<br>
cannot easily -- and that one cannot.</p>
<p>If this is a big issue for you, the solution is to remove veriT from the provers used by Sledgehammer.</p>
<p>Sorry for the inconveniance,</p>
<p>Mathias</p>
</blockquote>
<p>On 13/02/2021 17:20, Eugene W. Stark wrote:</p>
<blockquote>
<blockquote>
<p>This has occurred again and I was able to capture the files involved.  I am forwarding them to you<br>
in an off-list message.  I would note that it is not necessarily repeatable on every try -- I think<br>
it must depend on some cache state or other randomness.  However, I hope that if you try it several<br>
times you will be able to repeat what I am seeing (I included a screenshot to show it).</p>
<p>- Gene Stark<br>
</p>
</blockquote>
<p>On 1/31/21 8:27 AM, Eugene W. Stark wrote:</p>
<blockquote>
<blockquote>
<p>I apologize.  I tried to "git stash" to save what I had done since posting, but Isabelle auto-reloaded<br>
the theory I was working on and nuked the undo history.  I am finding it impossible now to work back<br>
to the place where I observed the problem.</p>
<p>If it occurs again, I will make a better effort to capture a context for you.  Thanks.</p>
</blockquote>
<p>On 1/31/21 7:47 AM, Eugene W. Stark wrote:</p>
<blockquote>
<blockquote>
<p>It is part of a context of something like 3K lines of code.  Is that useful to you?</p>
</blockquote>
<p>On 1/31/21 7:43 AM, Mathias Fleury wrote:</p>
<blockquote>
<blockquote>
<p>Hi Eugene,</p>
<p>Can you also provide the lemma?</p>
<p>The conversion from proofs generated by veriT to Isar proofs is very complicated, but I cannot fix it without being<br>
the<br>
context to reproduce it…</p>
<p>Thanks,</p>
<p>Mathias<br>
</p>
</blockquote>
<p>On 31/01/2021 13:31, Eugene W. Stark wrote:</p>
<blockquote>
<blockquote>
<p>The following has happened to me twice now.  I have never seen this type of failure before.<br>
Using "try", I get the following suggestion:</p>
<blockquote>
<p>Trying "solve_direct", "quickcheck", "try0", "sledgehammer", and "nitpick"...<br>
"verit": Sledgehammer ("verit") found a proof: by (smt (verit) "1" R.coinitial_ide_is_con R.comp_def<br>
R.composite_of_def R.conI R.con_comp R.cong_reflexive R.has_composites' R.join_of_join R.join_of_unique_upto<br>
R.join_src R.null_is_zero(1) R.pre_rts_axioms R.pre_rts_with_joins_axioms R.prfx_implies_con R.resid_reflects_con<br>
R.residuation_axioms R.rts_axioms R.rts_with_composites_axioms R.src_eqI calculation commutative_square_def<br>
comp_null(1) null_char pre_rts.prfx_implies_con pre_rts_with_joins.has_joins residuation.arrI residuation.con_def<br>
residuation.con_iff_arr_resid residuation.con_sym rts.composite_comp(2) rts.extensional rts.resid_comp(1)<br>
rts.resid_comp(2) rts.resid_join(1) rts.resid_join(2) rts.resid_join(3) rts_with_composites.comp_assoc seqI<br>
seq_char)<br>
(&gt; 1.0 s, timed out)</p>
<p>Isar proof (4 ms):<br>
proof -<br>
     have "h ▹ f ≠ h ▹ null ∨ null ≠ h ▹ null ∨ null ≠ R.null ∨ h ▹ f = R.null"<br>
       by auto<br>
qed<br>
The Isar proof is not workable, for obvious reasons.</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>