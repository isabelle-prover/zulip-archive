<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2021: cvc4 crashing (fixed) · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021.3A.20cvc4.20crashing.20(fixed).html">[isabelle] Isabelle2021: cvc4 crashing (fixed)</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="261614508"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021%3A%20cvc4%20crashing%20%28fixed%29/near/261614508" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021.3A.20cvc4.20crashing.20(fixed).html#261614508">(Nov 16 2021 at 09:18)</a>:</h4>
<p>From: Ujkan Sulejmani &lt;<a href="mailto:ujkan99@gmail.com">ujkan99@gmail.com</a>&gt;<br>
I had been experiencing regular cvc4 crashes (in prior Isabelle versions<br>
too, namely 2019 and 2020) when sledgehammer couldn’t find a proof. (crash<br>
log below). I found a fix in one of the GitHub issues raised in the cvc5<br>
repo [https://github.com/cvc5/cvc5/pull/6518/files] (this fix was indeed<br>
incorporated in cvc5) and managed to carry it over to Isabelle by building<br>
cvc4-1.8 from the modified source code and using that binary instead of the<br>
default one. This seems OK thus far—I haven’t experienced any crashes.<br>
Perhaps the developers could include this in the next release.<br>
++++<br>
Log:</p>
<p>Process:               cvc4 [62181]<br>
Path:<br>
 /Applications/Isabelle2021.app/contrib/cvc4-1.8/x86_64-darwin/cvc4<br>
Identifier:            cvc4<br>
Version:               0<br>
Code Type:             X86-64 (Native)<br>
Parent Process:        ??? [62179]<br>
Responsible:           java [52368]<br>
User ID:               501</p>
<p>Date/Time:             2021-11-15 13:21:08.924 +0100<br>
OS Version:            macOS 11.6 (20G165)<br>
Report Version:        12<br>
Anonymous UUID:        14D42243-651D-5AB4-3D11-CAE3CDF468E0</p>
<p>Sleep/Wake UUID:       73F0573A-597F-44BA-B7B0-70E1C77F6FAF</p>
<p>Time Awake Since Boot: 93000 seconds<br>
Time Since Wake:       12000 seconds</p>
<p>System Integrity Protection: disabled</p>
<p>Crashed Thread:        0  Dispatch queue: com.apple.main-thread</p>
<p>Exception Type:        EXC_CRASH (SIGABRT)<br>
Exception Codes:       0x0000000000000000, 0x0000000000000000<br>
Exception Note:        EXC_CORPSE_NOTIFY</p>
<p>Application Specific Information:<br>
dyld2 mode<br>
abort() called</p>
<p>Thread 0 Crashed:: Dispatch queue: com.apple.main-thread<br>
0   libsystem_kernel.dylib         0x00007fff2038a92e __pthread_kill + 10<br>
1   libsystem_pthread.dylib       0x00007fff203b95bd pthread_kill + 263<br>
2   libsystem_c.dylib             0x00007fff2030e406 abort + 125<br>
3   cvc4                           0x000000010aa0910d<br>
CVC4::main::sigint_handler(int, __siginfo<em>, void</em>) (.cold.1) + 29<br>
4   cvc4                           0x00000001099f1049<br>
CVC4::main::sigint_handler(int, __siginfo<em>, void</em>) + 9<br>
5   libsystem_platform.dylib       0x00007fff203fed7d _sigtramp + 29<br>
6   libsystem_malloc.dylib         0x00007fff201e2f0a<br>
tiny_malloc_from_free_list + 555<br>
7   cvc4                           0x000000010a0a9368<br>
CVC4::theory::inst::CandidateGeneratorQE::getNextCandidate() + 936<br>
8   cvc4                           0x000000010a0bd372<br>
CVC4::theory::inst::InstMatchGenerator::getNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 738<br>
9   cvc4                           0x000000010a0bc3b3<br>
CVC4::theory::inst::InstMatchGenerator::continueNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 67<br>
10  cvc4                           0x000000010a0bb797<br>
CVC4::theory::inst::InstMatchGenerator::getMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::NodeTemplate&lt;true&gt;, CVC4::theory::inst::InstMatch&amp;,<br>
CVC4::theory::QuantifiersEngine<em>, CVC4::theory::inst::Trigger</em>) + 5687<br>
11  cvc4                           0x000000010a0bd2c2<br>
CVC4::theory::inst::InstMatchGenerator::getNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 562<br>
12  cvc4                           0x000000010a0bc3b3<br>
CVC4::theory::inst::InstMatchGenerator::continueNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 67<br>
13  cvc4                           0x000000010a0bb797<br>
CVC4::theory::inst::InstMatchGenerator::getMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::NodeTemplate&lt;true&gt;, CVC4::theory::inst::InstMatch&amp;,<br>
CVC4::theory::QuantifiersEngine<em>, CVC4::theory::inst::Trigger</em>) + 5687<br>
14  cvc4                           0x000000010a0bd2c2<br>
CVC4::theory::inst::InstMatchGenerator::getNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 562<br>
15  cvc4                           0x000000010a0bc3b3<br>
CVC4::theory::inst::InstMatchGenerator::continueNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 67<br>
16  cvc4                           0x000000010a0bb797<br>
CVC4::theory::inst::InstMatchGenerator::getMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::NodeTemplate&lt;true&gt;, CVC4::theory::inst::InstMatch&amp;,<br>
CVC4::theory::QuantifiersEngine<em>, CVC4::theory::inst::Trigger</em>) + 5687<br>
17  cvc4                           0x000000010a0bd2c2<br>
CVC4::theory::inst::InstMatchGenerator::getNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 562<br>
18  cvc4                           0x000000010a0bc3b3<br>
CVC4::theory::inst::InstMatchGenerator::continueNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 67<br>
19  cvc4                           0x000000010a0c0701<br>
CVC4::theory::inst::InstMatchGeneratorMultiLinear::getNextMatch(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::inst::InstMatch&amp;, CVC4::theory::QuantifiersEngine*,<br>
CVC4::theory::inst::Trigger*) + 113<br>
20  cvc4                           0x000000010a0bdaac<br>
CVC4::theory::inst::InstMatchGenerator::addInstantiations(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::QuantifiersEngine<em>, CVC4::theory::inst::Trigger</em>) + 140<br>
21  cvc4                           0x000000010a0dae33<br>
CVC4::theory::inst::Trigger::addInstantiations() + 51<br>
22  cvc4                           0x000000010a0c9786<br>
CVC4::theory::quantifiers::InstStrategyAutoGenTriggers::process(CVC4::NodeTemplate&lt;true&gt;,<br>
CVC4::theory::Theory::Effort, int) + 2214<br>
23  cvc4                           0x000000010a0d7b16<br>
CVC4::theory::quantifiers::InstantiationEngine::doInstantiationRound(CVC4::theory::Theory::Effort)</p>
<ul>
<li>262<br>
24  cvc4                           0x000000010a0d8002<br>
CVC4::theory::quantifiers::InstantiationEngine::check(CVC4::theory::Theory::Effort,<br>
CVC4::theory::QuantifiersModule::QEffort) + 546<br>
25  cvc4                           0x000000010a31c3df<br>
CVC4::theory::QuantifiersEngine::check(CVC4::theory::Theory::Effort) + 1567<br>
26  cvc4                           0x000000010a55f00f<br>
CVC4::TheoryEngine::check(CVC4::theory::Theory::Effort) + 1391<br>
27  cvc4                           0x0000000109c03ed1<br>
CVC4::prop::TheoryProxy::theoryCheck(CVC4::theory::Theory::Effort) + 161<br>
28  cvc4                           0x0000000109befa44<br>
CVC4::Minisat::Solver::propagate(CVC4::Minisat::Solver::TheoryCheckType) +<br>
84<br>
29  cvc4                           0x0000000109bf3ab1<br>
CVC4::Minisat::Solver::search(int) + 129<br>
30  cvc4                           0x0000000109bf4938<br>
CVC4::Minisat::Solver::solve_() + 360<br>
31  cvc4                           0x0000000109bfd8a9<br>
CVC4::Minisat::SimpSolver::solve_(bool, bool) + 505<br>
32  cvc4                           0x0000000109bfb017<br>
CVC4::prop::MinisatSatSolver::solve() + 103<br>
33  cvc4                           0x0000000109c02ddd<br>
CVC4::prop::PropEngine::checkSat() + 141<br>
34  cvc4                           0x0000000109c47093<br>
CVC4::SmtEngine::check() + 483<br>
35  cvc4                           0x0000000109c49000<br>
CVC4::SmtEngine::checkSatisfiability(std::__1::vector&lt;CVC4::Expr,<br>
std::__1::allocator&lt;CVC4::Expr&gt; &gt; const&amp;, bool, bool) + 1264<br>
36  cvc4                           0x0000000109c48823<br>
CVC4::SmtEngine::checkSatisfiability(CVC4::Expr const&amp;, bool, bool) + 179<br>
37  cvc4                           0x0000000109c4870d<br>
CVC4::SmtEngine::checkSat(CVC4::Expr const&amp;, bool) + 157<br>
38  cvc4                           0x0000000109c06c26<br>
CVC4::CheckSatCommand::invoke(CVC4::SmtEngine*) + 38<br>
39  cvc4                           0x0000000109c05661<br>
CVC4::Command::invoke(CVC4::SmtEngine*, std::__1::basic_ostream&lt;char,<br>
std::__1::char_traits&lt;char&gt; &gt;&amp;) + 33<br>
40  cvc4                           0x00000001099edf97<br>
CVC4::main::smtEngineInvoke(CVC4::SmtEngine<em>, CVC4::Command</em>,<br>
std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;*) + 39<br>
41  cvc4                           0x00000001099ecea9<br>
CVC4::main::CommandExecutor::doCommandSingleton(CVC4::Command*) + 73<br>
42  cvc4                           0x00000001099ecda5<br>
CVC4::main::CommandExecutor::doCommand(CVC4::Command*) + 293<br>
43  cvc4                           0x00000001099e927b runCvc4(int, char**,<br>
CVC4::Options&amp;) + 5947<br>
44  cvc4                           0x00000001099ec611 main + 49<br>
45  libdyld.dylib                 0x00007fff203d4f3d start + 1</li>
</ul>
<p>Thread 0 crashed with X86 Thread State (64-bit):<br>
  rax: 0x0000000000000000  rbx: 0x0000000119e82e00  rcx: 0x00007ffee6212a58<br>
 rdx: 0x0000000000000000<br>
  rdi: 0x0000000000000103  rsi: 0x0000000000000006  rbp: 0x00007ffee6212a80<br>
 rsp: 0x00007ffee6212a58<br>
   r8: 0x00007ffee6212f88   r9: 0x73b6e354d7a03e80  r10: 0x0000000000000000<br>
 r11: 0x0000000000000246<br>
  r12: 0x0000000000000103  r13: 0x0000000000000000  r14: 0x0000000000000006<br>
 r15: 0x0000000000000016<br>
  rip: 0x00007fff2038a92e  rfl: 0x0000000000000246  cr2: 0x000000010aa090f0</p>
<p>Logical CPU:     0<br>
Error Code:      0x02000148<br>
Trap Number:     133</p>
<p>Thread 0 instruction stream not available.</p>
<p>Thread 0 last branch register state not available.</p>
<p>Binary Images:<br>
       0x1099e6000 -        0x10ad6dfff +cvc4 (0)<br>
&lt;127E97F5-EDB2-3A00-94B8-B5AEB8E9BFE1&gt;<br>
/Applications/Isabelle2021.app/contrib/cvc4-1.8/x86_64-darwin/cvc4<br>
       0x119dab000 -        0x119e46fff  dyld (852.2)<br>
&lt;0CC19410-FD43-39AE-A32A-50273F8303A4&gt; /usr/lib/dyld<br>
    0x7fff200f1000 -     0x7fff200f2fff  libsystem_blocks.dylib (79)<br>
&lt;925E3B6D-184D-3E73-97B1-643C4ADB387A&gt;<br>
/usr/lib/system/libsystem_blocks.dylib<br>
    0x7fff200f3000 -     0x7fff20128fff  libxpc.dylib (2038.120.1)<br>
&lt;FFFB49D7-2CA6-3E1F-AE4E-5697B19B7D76&gt; /usr/lib/system/libxpc.dylib<br>
    0x7fff20129000 -     0x7fff20140fff  libsystem_trace.dylib (1277.120.1)<br>
&lt;7E800ECA-DFDB-3737-A3C5-FFDE37E65383&gt; /usr/lib/system/libsystem_trace.dylib<br>
    0x7fff20141000 -     0x7fff201defff  libcorecrypto.dyl<br>
[message truncated]</p>



<a name="262721827"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2021%3A%20cvc4%20crashing%20%28fixed%29/near/262721827" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2021.3A.20cvc4.20crashing.20(fixed).html#262721827">(Nov 25 2021 at 15:58)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Concerning a cvc4 / cvc5 update, next release means Isabelle2022 (approx.<br>
October 2022).</p>
<p>For Isabelle2021-1 (December 2021) it is too late: We have updated so many<br>
provers for that, but could not revisit cvc4, z3, smbc.</p>
<p>Makarius</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>