<html>
<head><meta charset="utf-8"><title>[isabelle] Mac M1 12.4: nitpick and sledgehammer · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html">[isabelle] Mac M1 12.4: nitpick and sledgehammer</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="288771971"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288771971" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288771971">(Jul 07 2022 at 07:33)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
More problems with my new Mac:</p>
<p>Nitpick says:<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"</p>
<p>Sledgehammer says:<br>
Error: Bad executable: <br>
"/Users/nipkow/.isabelle/contrib/vampire-4.6/x86_64-darwin/vampire"</p>
<p>Anything I can or should do?</p>
<p>Tobias<br>
<a href="/user_uploads/14278/ecAbp8yqAeQ-88_BJmaDBWR0/smime.p7s">smime.p7s</a></p>



<a name="288778387"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288778387" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288778387">(Jul 07 2022 at 08:47)</a>:</h4>
<p>From: Frédéric Boulanger &lt;<a href="mailto:frederic.boulanger@centralesupelec.fr">frederic.boulanger@centralesupelec.fr</a>&gt;<br>
Maybe you need to install Rosetta 2 to be able to run x86_64 code.</p>
<p><a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a></p>
<p>This should happen automatically when you launch an x86 application on a <br>
M1 Mac, but you can install it manually in the terminal with the <br>
following command :<br>
|softwareupdate --install-rosetta</p>
<p>Frédéric<br>
|</p>
<p>Frédéric Boulanger<br>
CentraleSupélec - Département Informatique  Laboratoire Méthodes Formelles (LMF)<br>
3 rue Joliot-Curie, 91192 Gif-sur-Yvette cedex  Bât. 650 - 1 rue Raimond Castaing, 91190 Gif-sur-Yvette<br>
+33 [0]1 69 85 14 84</p>



<a name="288825451"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288825451" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288825451">(Jul 07 2022 at 15:51)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
On 07/07/2022 10:47, Frédéric Boulanger wrote:</p>
<blockquote>
<p>Maybe you need to install Rosetta 2 to be able to run x86_64 code.</p>
<p><a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a></p>
<p>This should happen automatically when you launch an x86 application on a M1 Mac, <br>
but you can install it manually in the terminal with the following command :<br>
|softwareupdate --install-rosetta</p>
</blockquote>
<p>Thanks but, as expected, it made no difference.</p>
<p>Anybody out there using an M1 Mac and (not) having my problems?</p>
<p>Tobias</p>
<blockquote>
<p>Frédéric<br>
|</p>
<p>Frédéric Boulanger<br>
CentraleSupélec - Département Informatique    Laboratoire Méthodes Formelles (LMF)<br>
3 rue Joliot-Curie, 91192 Gif-sur-Yvette cedex    Bât. 650 - 1 rue Raimond Castaing, 91190 Gif-sur-Yvette<br>
+33 [0]1 69 85 14 84</p>
<p>Le 07/07/2022 à 09:33, Tobias Nipkow a écrit :</p>
<blockquote>
<p>More problems with my new Mac:</p>
<p>Nitpick says:<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"</p>
<p>Sledgehammer says:<br>
Error: Bad executable: <br>
"/Users/nipkow/.isabelle/contrib/vampire-4.6/x86_64-darwin/vampire"</p>
<p>Anything I can or should do?</p>
<p>Tobias<br>
</p>
</blockquote>
<p>On 30/06/2022 16:19, Tobias Nipkow wrote:</p>
<blockquote>
<blockquote>
<p>On my new MacBook Pro M1, when I start Isabelle a pop-up with</p>
<p>“libsqlitejdbc.jnilib” can’t be opened because Apple cannot check it for <br>
malicious software.</p>
<p>appears and I have to click on OK. In the shell window it prints</p>
<p>Failed to load native library:libsqlitejdbc.jnilib. osinfo: Mac/aarch64<br>
java.lang.UnsatisfiedLinkError: Can't load library: <br>
/Users/nipkow/.isabelle/contrib/sqlite-jdbc-3.36.0.3/arm64-darwin/libsqlitejdbc.jnilib </p>
<p>Isabelle starts, but having to click OK is annoying. What to do?</p>
<p>Tobias</p>
</blockquote>
</blockquote>
<p><a href="/user_uploads/14278/1OgCacc-cs6Q30bFTiZD0CCB/smime.p7s">smime.p7s</a></p>
</blockquote>



<a name="288829648"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288829648" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288829648">(Jul 07 2022 at 16:21)</a>:</h4>
<p>From: Fiedler  Ben &lt;<a href="mailto:ben.fiedler@inf.ethz.ch">ben.fiedler@inf.ethz.ch</a>&gt;<br>
Hi Tobias,</p>
<p>I have an M1 Mac and I don’t have those problems. I checked the vampire executable and it is also an x86 executable, which runs using Rosetta without issues.</p>
<p>bfiedler@laptop:/Applications/Isabelle2021-1.app<br>
% ./contrib/vampire-4.6/x86_64-darwin/vampire<br>
Running in auto input_syntax mode. Trying TPTP<br>
^C83743 Aborted by signal SIGINT on<br>
% ------------------------------<br>
% Version: Vampire 4.6.0 (commit )<br>
% Termination reason: Unknown<br>
% Termination phase: Parsing</p>
<p>% Memory used [KB]: 383<br>
% Time elapsed: 0.992 s<br>
% ------------------------------<br>
% ------------------------------<br>
bfiedler@laptop:/Applications/Isabelle2021-1.app<br>
% file ./contrib/vampire-4.6/x86_64-darwin/vampire<br>
./contrib/vampire-4.6/x86_64-darwin/vampire: Mach-O 64-bit executable x86_64</p>
<p>No idea what it could be then, maybe an issue during the Rosetta installation?</p>
<p>Cheers,<br>
Ben</p>



<a name="288831720"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288831720" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288831720">(Jul 07 2022 at 16:36)</a>:</h4>
<p>From: "Thiemann, René" &lt;<a href="mailto:Rene.Thiemann@uibk.ac.at">Rene.Thiemann@uibk.ac.at</a>&gt;<br>
Hi Tobias,</p>
<p>I’m also using a Mac M1 and have the following behaviour:</p>
<p>Vampire: no problem</p>
<p>lemma "x = y ==&gt; P x ==&gt; P y ∨ x ~= y" sledgehammer[provers = vampire]<br>
Sledgehammering... <br>
Proof found... <br>
"vampire": Try this: by force (1 ms)</p>
<p>Nitpick: strange</p>
<p>lemma "P x ==&gt; x = y ==&gt; P z" nitpick<br>
Nitpicking formula... <br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J" <br>
Nitpick found a counterexample for card 'a = 2:</p>
<p>so nitpick complains about SAT solver; however, minisat seems to work:</p>
<p>/Applications/Isabelle2021-1.app/contrib/minisat-2.2.1-1/x86_64-darwin/minisat <br>
Reading from standard input... Use '--help' for help.<br>
============================[ Problem Statistics ]=============================<br>
|                                                                             |</p>
<p>So, in practise I did not encounter any serious problems, and I am really happy<br>
with the new Isabelle/Mac M1 combination: I can process theories faster than on my current<br>
desktop machine, and even when compiling larger projects the fans stay silent.</p>
<p>I did nothing in .isabelle/Isabelle2021-1/etc/settings.</p>
<p>Best,<br>
René</p>



<a name="288842390"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288842390" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288842390">(Jul 07 2022 at 17:55)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I am only a part-time Mac user, occasionally running tests on various machines <br>
that are in my reach.</p>
<p>A few days ago, I updated the macOS Monterey installation on my Mac Mini M1, <br>
which normally runs Big Sur. After the update, Rosetta 2 did not work, or was <br>
silently uninstalled. Doing the above "softwareupdate --install-rosetta" <br>
solved the problem.</p>
<p>Makarius</p>



<a name="288905317"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288905317" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288905317">(Jul 08 2022 at 07:06)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
René,</p>
<p>Thanks for the feedback. I was using the development version and I have now <br>
tried the release 21-1 and get exactly the same behaviour as you: vampire works <br>
but nitpick still gives me that Kodkod warning, but minisat executes fine when <br>
called from the command line.</p>
<p>I also ran minisat in .isabelle and it worked:</p>
<p>$.isabelle/contrib/minisat-2.2.1-1/x86_64-darwin/minisat<br>
Reading from standard input... Use '--help' for help.</p>
<p>Maybe Isabelle tries to execute a different executable?</p>
<p>Tobias<br>
<a href="/user_uploads/14278/1uP6WTXk54KLqd1r5KaFubKu/smime.p7s">smime.p7s</a></p>



<a name="288933445"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288933445" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288933445">(Jul 08 2022 at 12:31)</a>:</h4>
<p>From: "\"Blanchette, J.C. (Jasmin Christian)\"" &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hi Tobias,</p>
<p>Indeed, Nitpick tries to use the JNI (Java Native Interface) version. I'm guessing the JNI stuff is out of date. JNI offers a tighter integration, which can be used e.g. to enumerate models (not just get one), but we don't really need it in Nitpick, so I'll consider getting rid of JNI altogether. Makarius also pointed out to me last year that the JNI stuff is somewhat outdated.</p>
<p>Cheers,<br>
Jasmin</p>



<a name="288939504"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/288939504" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#288939504">(Jul 08 2022 at 13:24)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
On 08/07/2022 14:31, Blanchette, J.C. (Jasmin Christian) wrote:</p>
<blockquote>
<p>Hi Tobias,</p>
<p>Indeed, Nitpick tries to use the JNI (Java Native Interface) version. I'm <br>
guessing the JNI stuff is out of date. JNI offers a tighter integration, which <br>
can be used e.g. to enumerate models (not just get one), but we don't really <br>
need it in Nitpick, so I'll consider getting rid of JNI altogether. Makarius <br>
also pointed out to me last year that the JNI stuff is somewhat outdated.</p>
</blockquote>
<p>Thanks, that explains nitpick. (although it does not explain why some people <br>
report they don't have a problem).</p>
<p>That leaves the question why, with the development version, Vampire isn't executing.</p>
<p>Tobias</p>
<blockquote>
<p>Cheers,<br>
Jasmin</p>
<hr>
<p><em>From:</em> <a href="mailto:cl-isabelle-users-request@lists.cam.ac.uk">cl-isabelle-users-request@lists.cam.ac.uk</a> on behalf of Tobias Nipkow<br>
<em>Sent:</em> Friday, July 8, 2022 9:06<br>
<em>To:</em> Thiemann, René<br>
<em>Cc:</em> Isabelle Users List<br>
<em>Subject:</em> Re: [isabelle] Mac M1 12.4: nitpick and sledgehammer<br>
René,</p>
<p>Thanks for the feedback. I was using the development version and I have now<br>
tried the release 21-1 and get exactly the same behaviour as you: vampire works<br>
but nitpick still gives me that Kodkod warning, but minisat executes fine when<br>
called from the command line.</p>
<p>I also ran minisat in .isabelle and it worked:</p>
<p>$.isabelle/contrib/minisat-2.2.1-1/x86_64-darwin/minisat<br>
Reading from standard input... Use '--help' for help.</p>
<p>Maybe Isabelle tries to execute a different executable?</p>
<p>Tobias</p>
<p>On 07/07/2022 18:36, Thiemann, René wrote:</p>
<blockquote>
<p>Hi Tobias,</p>
<p>I’m also using a Mac M1 and have the following behaviour:</p>
<p>Vampire: no problem</p>
<p>lemma "x = y ==&gt; P x ==&gt; P y ∨ x ~= y" sledgehammer[provers = vampire]<br>
Sledgehammering...<br>
Proof found...<br>
"vampire": Try this: by force (1 ms)</p>
<p>Nitpick: strange</p>
<p>lemma "P x ==&gt; x = y ==&gt; P z" nitpick<br>
Nitpicking formula...<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"<br>
Nitpick found a counterexample for card 'a = 2:</p>
<p>so nitpick complains about SAT solver; however, minisat seems to work:</p>
<p>/Applications/Isabelle2021-1.app/contrib/minisat-2.2.1-1/x86_64-darwin/minisat<br>
Reading from standard input... Use '--help' for help.<br>
============================[ Problem Statistics ]=============================<br>
|                                                                             |</p>
<p>So, in practise I did not encounter any serious problems, and I am really happy<br>
with the new Isabelle/Mac M1 combination: I can process theories faster than on my current<br>
desktop machine, and even when compiling larger projects the fans stay silent.</p>
<p>I did nothing in .isabelle/Isabelle2021-1/etc/settings.</p>
<p>Best,<br>
René</p>
<blockquote>
<p>Am 07.07.2022 um 17:50 schrieb Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;:</p>
</blockquote>
<p>On 07/07/2022 10:47, Frédéric Boulanger wrote:</p>
<blockquote>
<blockquote>
<p>Maybe you need to install Rosetta 2 to be able to run x86_64 code.<br>
<a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a> &lt;<a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a>&gt;<br>
This should happen automatically when you launch an x86 application on a M1 Mac, but you can install it manually in the terminal with the following command :<br>
|softwareupdate --install-rosetta</p>
</blockquote>
<p>Thanks but, as expected, it made no difference.</p>
<p>Anybody out there using an M1 Mac and (not) having my problems?</p>
<p>Tobias</p>
<blockquote>
<p>Frédéric<br>
|<br>
Frédéric Boulanger<br>
CentraleSupélec - Département Informatique  Laboratoire Méthodes Formelles (LMF)<br>
3 rue Joliot-Curie, 91192 Gif-sur-Yvette cedex      Bât. 650 - 1 rue Raimond Castaing, 91190 Gif-sur-Yvette<br>
+33 [0]1 69 85 14 84</p>
</blockquote>
<p>Le 07/07/2022 à 09:33, Tobias Nipkow a écrit :</p>
<blockquote>
<blockquote>
<p>More problems with my new Mac:</p>
<p>Nitpick says:<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"</p>
<p>Sledgehammer says:<br>
Error: Bad executable: "/Users/nipkow/.isabelle/contrib/vampire-4.6/x86_64-darwin/vampire"</p>
<p>Anything I can or should do?</p>
<p>Tobias<br>
</p>
</blockquote>
<p>On 30/06/2022 16:19, Tobias Nipkow wrote:</p>
<blockquote>
<blockquote>
<p>On my new MacBook Pro M1, when I start Isabelle a pop-up with</p>
<p>“libsqlitejdbc.jnilib” can’t be opened because Apple cannot check it for malicious software.</p>
<p>appears and I have to click on OK. In the shell window it prints</p>
<p>Failed to load native library:libsqlitejdbc.jnilib. osinfo: Mac/aarch64<br>
java.lang.UnsatisfiedLinkError: Can't load library: /Users/nipkow/.isabelle/contrib/sqlite-jdbc-3.36.0.3/arm64-darwin/libsqlitejdbc.jnilib</p>
<p>Isabelle starts, but having to click OK is annoying. What to do?</p>
<p>Tobias</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p><a href="/user_uploads/14278/qvz91Tug0DPReLhXiALQIgqS/smime.p7s">smime.p7s</a></p>
</blockquote>
</blockquote>



<a name="289180747"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/289180747" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#289180747">(Jul 11 2022 at 12:14)</a>:</h4>
<p>From: "\"Blanchette, J.C. (Jasmin Christian)\"" &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>
<blockquote>
<p>That leaves the question why, with the development version, Vampire isn't executing.</p>
</blockquote>
<p>I really have no idea. I was hoping Makarius would comment on this -- he's been officially in charge of the ATP packages for the last 1.5 years or so (with modest financial support from VU Amsterdam).</p>
<p>Jasmin</p>
<hr>
<p>From: Tobias Nipkow<br>
Sent: Friday, July 8, 2022 15:24<br>
To: Blanchette, J.C. (Jasmin Christian)<br>
Cc: Isabelle Users List<br>
Subject: Re: [isabelle] Mac M1 12.4: nitpick and sledgehammer</p>
<p>On 08/07/2022 14:31, Blanchette, J.C. (Jasmin Christian) wrote:</p>
<blockquote>
<p>Hi Tobias,</p>
<p>Indeed, Nitpick tries to use the JNI (Java Native Interface) version. I'm<br>
guessing the JNI stuff is out of date. JNI offers a tighter integration, which<br>
can be used e.g. to enumerate models (not just get one), but we don't really<br>
need it in Nitpick, so I'll consider getting rid of JNI altogether. Makarius<br>
also pointed out to me last year that the JNI stuff is somewhat outdated.</p>
</blockquote>
<p>Thanks, that explains nitpick. (although it does not explain why some people<br>
report they don't have a problem).</p>
<p>That leaves the question why, with the development version, Vampire isn't executing.</p>
<p>Tobias</p>
<blockquote>
<p>Cheers,<br>
Jasmin</p>
<hr>
<p><em>From:</em> <a href="mailto:cl-isabelle-users-request@lists.cam.ac.uk">cl-isabelle-users-request@lists.cam.ac.uk</a> on behalf of Tobias Nipkow<br>
<em>Sent:</em> Friday, July 8, 2022 9:06<br>
<em>To:</em> Thiemann, René<br>
<em>Cc:</em> Isabelle Users List<br>
<em>Subject:</em> Re: [isabelle] Mac M1 12.4: nitpick and sledgehammer<br>
René,</p>
<p>Thanks for the feedback. I was using the development version and I have now<br>
tried the release 21-1 and get exactly the same behaviour as you: vampire works<br>
but nitpick still gives me that Kodkod warning, but minisat executes fine when<br>
called from the command line.</p>
<p>I also ran minisat in .isabelle and it worked:</p>
<p>$.isabelle/contrib/minisat-2.2.1-1/x86_64-darwin/minisat<br>
Reading from standard input... Use '--help' for help.</p>
<p>Maybe Isabelle tries to execute a different executable?</p>
<p>Tobias</p>
<p>On 07/07/2022 18:36, Thiemann, René wrote:</p>
<blockquote>
<p>Hi Tobias,</p>
<p>I’m also using a Mac M1 and have the following behaviour:</p>
<p>Vampire: no problem</p>
<p>lemma "x = y ==&gt; P x ==&gt; P y ∨ x ~= y" sledgehammer[provers = vampire]<br>
Sledgehammering...<br>
Proof found...<br>
"vampire": Try this: by force (1 ms)</p>
<p>Nitpick: strange</p>
<p>lemma "P x ==&gt; x = y ==&gt; P z" nitpick<br>
Nitpicking formula...<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"<br>
Nitpick found a counterexample for card 'a = 2:</p>
<p>so nitpick complains about SAT solver; however, minisat seems to work:</p>
<p>/Applications/Isabelle2021-1.app/contrib/minisat-2.2.1-1/x86_64-darwin/minisat<br>
Reading from standard input... Use '--help' for help.<br>
============================[ Problem Statistics ]=============================<br>
|                                                                             |</p>
<p>So, in practise I did not encounter any serious problems, and I am really happy<br>
with the new Isabelle/Mac M1 combination: I can process theories faster than on my current<br>
desktop machine, and even when compiling larger projects the fans stay silent.</p>
<p>I did nothing in .isabelle/Isabelle2021-1/etc/settings.</p>
<p>Best,<br>
René</p>
<blockquote>
<p>Am 07.07.2022 um 17:50 schrieb Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;:</p>
</blockquote>
<p>On 07/07/2022 10:47, Frédéric Boulanger wrote:</p>
<blockquote>
<blockquote>
<p>Maybe you need to install Rosetta 2 to be able to run x86_64 code.<br>
<a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a> &lt;<a href="https://support.apple.com/en-gb/HT211861">https://support.apple.com/en-gb/HT211861</a>&gt;<br>
This should happen automatically when you launch an x86 application on a M1 Mac, but you can install it manually in the terminal with the following command :<br>
|softwareupdate --install-rosetta</p>
</blockquote>
<p>Thanks but, as expected, it made no difference.</p>
<p>Anybody out there using an M1 Mac and (not) having my problems?</p>
<p>Tobias</p>
<blockquote>
<p>Frédéric<br>
|<br>
Frédéric Boulanger<br>
CentraleSupélec - Département Informatique  Laboratoire Méthodes Formelles (LMF)<br>
3 rue Joliot-Curie, 91192 Gif-sur-Yvette cedex      Bât. 650 - 1 rue Raimond Castaing, 91190 Gif-sur-Yvette<br>
+33 [0]1 69 85 14 84</p>
</blockquote>
<p>Le 07/07/2022 à 09:33, Tobias Nipkow a écrit :</p>
<blockquote>
<blockquote>
<p>More problems with my new Mac:</p>
<p>Nitpick says:<br>
Kodkod warning: cannot launch SAT solver, falling back on "DefaultSAT4J"</p>
<p>Sledgehammer says:<br>
Error: Bad executable: "/Users/nipkow/.isabelle/contrib/vampire-4.6/x86_64-darwin/vampire"</p>
<p>Anything I can or should do?</p>
<p>Tobias<br>
</p>
</blockquote>
<p>On 30/06/2022 16:19, Tobias Nipkow wrote:</p>
<blockquote>
<blockquote>
<p>On my new MacBook Pro M1, when I start Isabelle a pop-up with</p>
<p>“libsqlitejdbc.jnilib” can’t be opened because Apple cannot check it for malicious software.</p>
<p>appears and I have to click on OK. In the shell window it prints</p>
<p>Failed to load native library:libsqlitejdbc.jnilib. osinfo: Mac/aarch64<br>
java.lang.UnsatisfiedLinkError: Can't load library: /Users/nipkow/.isabelle/contrib/sqlite-jdbc-3.36.0.3/arm64-darwin/libsqlitejdbc.jnilib</p>
<p>Isabelle starts, but having to click OK is annoying. What to do?</p>
<p>Tobias<br>
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>



<a name="289182474"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Mac%20M1%2012.4%3A%20nitpick%20and%20sledgehammer/near/289182474" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Mac.20M1.2012.2E4.3A.20nitpick.20and.20sledgehammer.html#289182474">(Jul 11 2022 at 12:28)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Yes, I will comment on it rather soon, but I am still busy elsewhere.</p>
<p>Makarius</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>