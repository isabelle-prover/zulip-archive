<html>
<head><meta charset="utf-8"><title>[isabelle] Recursive functions over non datatype input · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursive.20functions.20over.20non.20datatype.20input.html">[isabelle] Recursive functions over non datatype input</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="265673090"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Recursive%20functions%20over%20non%20datatype%20input/near/265673090" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursive.20functions.20over.20non.20datatype.20input.html#265673090">(Dec 21 2021 at 11:08)</a>:</h4>
<p>From: Leo Freitas &lt;<a href="mailto:leo.freitas@newcastle.ac.uk">leo.freitas@newcastle.ac.uk</a>&gt;<br>
Hello,</p>
<p>I am trying to find a scheme for certain recursive functions over specific structured (non-data) types. Namely, recursion over sets, integers, etc.</p>
<p>For example, sum over elements of a set of nat</p>
<p>function<br>
  sum :: "nat set ⇒ nat"<br>
  where<br>
  "sum {} = 0"<br>
| "x ∉ s ⟹ sum ({x} ∪ s) = x + (sum s)"</p>
<p>This leads to more involved pattern/termination proofs than I was hoping for.</p>
<p>I wonder whether are there examples of recursive function definitions over such structured (non-data) types?</p>
<p>Best regards,<br>
Leo</p>



<a name="265674853"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Recursive%20functions%20over%20non%20datatype%20input/near/265674853" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursive.20functions.20over.20non.20datatype.20input.html#265674853">(Dec 21 2021 at 11:29)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Hi Leo,</p>
<p>Patter matching doesn't really work on non-free types. For integers, you can <br>
just write your function as you would in any programming language, e.g. with <br>
"-1" on the rhs. For sets see this thread:<br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2008-November/msg00024.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2008-November/msg00024.html</a><br>
Essentially: use Finite_Set.fold<br>
You find some examples in HOL/Relation.thy.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/agcMLMSEeIsRieojLLQOZc_S/smime.p7s">smime.p7s</a></p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>