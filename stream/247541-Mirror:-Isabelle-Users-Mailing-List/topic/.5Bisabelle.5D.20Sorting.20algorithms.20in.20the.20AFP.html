<html>
<head><meta charset="utf-8"><title>[isabelle] Sorting algorithms in the AFP · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html">[isabelle] Sorting algorithms in the AFP</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="242866180"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sorting%20algorithms%20in%20the%20AFP/near/242866180" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html#242866180">(Jun 16 2021 at 11:20)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Dear all,</p>
<p>I stumbled over a fundamental structural issue in the AFP (referring to<br>
the 2021 release):</p>
<ul>
<li>
<p>There is entry Efficient_Merge_Sort, with obvious content.</p>
</li>
<li>
<p>There is theory Automatic_Refinement.Misc, which provides both a quick<br>
sort and a merge sort specification tailored for efficient execution.</p>
</li>
<li>
<p>There are a couple of references to Automatic_Refinement.Misc<br>
throughout the AFP:</p>
</li>
</ul>
<p>I have not yet visited all of them in detail but already this overview<br>
suggests that a significant amount of those references makes use of the<br>
sorting algorithms.</p>
<p>It seems worth a try whether those applications can be changed to use<br>
session Efficient_Merge_Sort instead.  But maybe the authors /<br>
maintainers of Automatic_Refinement can say more on this.</p>
<p>In any case, the sorting part of Automatic_Refinement.Misc should be<br>
made more explicit using a separate theory.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/BIbYMgqK90Rny0HE6rpiRVVs/OpenPGP_signature">OpenPGP_signature</a></p>



<a name="242869480"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sorting%20algorithms%20in%20the%20AFP/near/242869480" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html#242869480">(Jun 16 2021 at 11:58)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
The quicksort and mergesort algorithms in AFP have been developed by<br>
Thomas Tuerk, for the CAVA model checker.</p>
<p>It is slightly different from the mergesort afp entry:</p>
<p>Efficient_Merge_Sort uses a key function ('a =&gt; 'key::linorder), while<br>
the Automatic_Refinement version accepts a relation. While this is<br>
theoretically the same (both define weak linear orderings), practically<br>
the introduction of an additional linearly ordered key type and type-<br>
class can be cumbersome. In CAVA, we have had type-class conflicts<br>
before, which do not affect our typeclass-less sorting definitions.</p>
<p>The efficiency of the existing algorithms should be benchmarked. To my<br>
knowledge, we have never benchmarked our sorting algorithms. <br>
The comments in Efficient_Merge_Sort suggests, however, that the<br>
performance may also be language independent.</p>



<a name="242954142"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sorting%20algorithms%20in%20the%20AFP/near/242954142" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html#242954142">(Jun 16 2021 at 23:01)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:kleing@unsw.edu.au">kleing@unsw.edu.au</a>&gt;<br>
Hi Florian,</p>
<p>I don't understand what the fundamental issue is there.</p>
<p>Do you mean that all entries should use only one specific sort implementation? (Why?) Or is it that the one in Automatic_Refinement is hard to reference?</p>
<p>Cheers,<br>
Gerwin<br>
<a href="/user_uploads/14278/aPG_qvp90qQ4O4CjhM587Eqp/signature.asc">signature.asc</a></p>



<a name="243749599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sorting%20algorithms%20in%20the%20AFP/near/243749599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html#243749599">(Jun 24 2021 at 07:21)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Dear all,</p>
<p>after Peter’s and Gerwin’s replies I recognize that there is a<br>
significant difference between the sort implementations in<br>
Automatic_Refinement and that in Efficient_Merge_Sort.</p>
<p>So the situation appears to me as follows:</p>
<ul>
<li>
<p>The implementation in Efficient_Merge_Sort depends on a type class,<br>
which is not general enough for all applications.</p>
</li>
<li>
<p>The implementations in Automatic_Refinement.Misc should be made<br>
available more explicitly, either a) using a specific theory name or b)<br>
seperately in a distinct AFP entry.</p>
</li>
<li>
<p>In the long run, analysis and potential unification of the algorithms<br>
could be undertaken.</p>
</li>
</ul>
<p>Hopefully this clarifies the situation.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/1x4EHeUL4Sesa_uI4365PdJW/OpenPGP_signature">OpenPGP_signature</a></p>



<a name="245478954"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sorting%20algorithms%20in%20the%20AFP/near/245478954" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sorting.20algorithms.20in.20the.20AFP.html#245478954">(Jul 09 2021 at 18:20)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Dear Florian,</p>
<p>On 6/24/21 9:20 AM, Florian Haftmann wrote:</p>
<blockquote>
<p>Dear all,</p>
<p>after Peter’s and Gerwin’s replies I recognize that there is a<br>
significant difference between the sort implementations in<br>
Automatic_Refinement and that in Efficient_Merge_Sort.</p>
<p>So the situation appears to me as follows:</p>
<ul>
<li>The implementation in Efficient_Merge_Sort depends on a type class,<br>
which is not general enough for all applications.</li>
</ul>
</blockquote>
<p>Well, there is a key-function that maps elements into a linorder. That <br>
is, in my opinion not as severe a dependency as directly depending on a <br>
type class. Anyway</p>
<p>sorry for the late reply,</p>
<p>cheers</p>
<p>chris</p>
<blockquote>
<ul>
<li>
<p>The implementations in Automatic_Refinement.Misc should be made<br>
available more explicitly, either a) using a specific theory name or b)<br>
seperately in a distinct AFP entry.</p>
</li>
<li>
<p>In the long run, analysis and potential unification of the algorithms<br>
could be undertaken.</p>
</li>
</ul>
</blockquote>
<p>That would be nice.</p>
<blockquote>
<p>Hopefully this clarifies the situation.</p>
<p>Cheers,<br>
  Florian</p>
<p>Am 16.06.21 um 13:19 schrieb Florian Haftmann:</p>
<blockquote>
<p>Dear all,</p>
<p>I stumbled over a fundamental structural issue in the AFP (referring to<br>
the 2021 release):</p>
<ul>
<li>
<p>There is entry Efficient_Merge_Sort, with obvious content.</p>
</li>
<li>
<p>There is theory Automatic_Refinement.Misc, which provides both a quick<br>
sort and a merge sort specification tailored for efficient execution.</p>
</li>
<li>
<p>There are a couple of references to Automatic_Refinement.Misc<br>
throughout the AFP:</p>
</li>
</ul>
<blockquote>
<blockquote>
<p>thys/AI_Planning_Languages_Semantics/PDDL_STRIPS_Semantics.thy:7:  "Automatic_Refinement.Misc"<br>
   thys/CAVA_Automata/Digraph_Basic.thy:4:  "Automatic_Refinement.Misc"<br>
   thys/Kruskal/UGraph.thy:5:    "Automatic_Refinement.Misc"<br>
   thys/Kruskal/Kruskal_Misc.thy:5:    "Automatic_Refinement.Misc"<br>
   thys/Separation_Logic_Imperative_HOL/Assertions.thy:7:  Automatic_Refinement.Misc<br>
   thys/Separation_Logic_Imperative_HOL/ROOT:19:    Automatic_Refinement.Misc<br>
   thys/IP_Addresses/WordInterval_Sorted.thy:3:        Automatic_Refinement.Misc (<em>Mergesort. TODO: dependnecy! we need a mergesort afp entry!!</em>)<br>
   thys/IP_Addresses/ROOT:9:    Automatic_Refinement.Misc (* mergesort *)<br>
   thys/Refine_Imperative_HOL/Lib/Pf_Add.thy:2:imports Automatic_Refinement.Misc "HOL-Library.Monad_Syntax"<br>
   thys/DFS_Framework/Misc/DFS_Framework_Misc.thy:2:imports Automatic_Refinement.Misc<br>
   thys/Flow_Networks/Lib/Fofu_Abs_Base.thy:5:  Automatic_Refinement.Misc<br>
   thys/Network_Security_Policy_Verification/Lib/Efficient_Distinct.thy:3:  Automatic_Refinement.Misc (<em>mergesort</em>)<br>
   thys/Collections/Lib/Dlist_add.thy:5:  Automatic_Refinement.Misc<br>
   thys/Collections/Lib/Sorted_List_Operations.thy:3:imports Main Automatic_Refinement.Misc<br>
   thys/Collections/Iterator/SetIterator.thy:8:  Automatic_Refinement.Misc<br>
   thys/LOFT/LinuxRouter_OpenFlow_Translation.thy:3:  Automatic_Refinement.Misc (<em>TODO@Peter: rename and make available at better place :)</em>)<br>
   thys/Tree-Automata/Ta.thy:7:imports Main Automatic_Refinement.Misc Tree<br>
   thys/Iptables_Semantics/Primitive_Matchers/Ipassmt.thy:6:        Automatic_Refinement.Misc (<em>dependnecy!</em>)</p>
</blockquote>
</blockquote>
<p>I have not yet visited all of them in detail but already this overview<br>
suggests that a significant amount of those references makes use of the<br>
sorting algorithms.</p>
<p>It seems worth a try whether those applications can be changed to use<br>
session Efficient_Merge_Sort instead.  But maybe the authors /<br>
maintainers of Automatic_Refinement can say more on this.</p>
<p>In any case, the sorting part of Automatic_Refinement.Misc should be<br>
made more explicit using a separate theory.</p>
<p>Cheers,<br>
 Florian</p>
</blockquote>
</blockquote>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>