<html>
<head><meta charset="utf-8"><title>[isabelle] Variable both free and bound?! · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html">[isabelle] Variable both free and bound?!</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="222134991"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Variable%20both%20free%20and%20bound%3F%21/near/222134991" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html#222134991">(Jan 08 2021 at 22:34)</a>:</h4>
<p>From: Jakub Kądziołka &lt;<a href="mailto:kuba@kadziolka.net">kuba@kadziolka.net</a>&gt;<br>
Hello,</p>
<p>consider the following theory:</p>
<p>theory Scratch<br>
  imports Main<br>
begin</p>
<p>fun inc :: "nat ⇒ nat" where<br>
  "inc x = Suc x"</p>
<p>definition inc' :: "nat ⇒ nat" where<br>
  "inc' x = Suc x"</p>
<p>end</p>
<p>When you hover over either of the x's in fun inc (with Ctrl held), the<br>
following tooltip appears:</p>
<p>free variable<br>
  bound variable<br>
  :: nat</p>
<p>Similarily, the tooltip for the x's in definition inc' is:</p>
<p>free variable<br>
  :: nat<br>
  bound variable</p>
<p>(these observations are equally valid for both Isabelle2020 and<br>
Isabelle2021-RC1)</p>
<p>I find this quite curious, as 'free' and 'bound' seem to be polar<br>
opposites...</p>
<p>Kind regards,<br>
Jakub Kądziołka</p>



<a name="222229820"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Variable%20both%20free%20and%20bound%3F%21/near/222229820" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html#222229820">(Jan 10 2021 at 16:38)</a>:</h4>
<p>From: Buday Gergely István via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
The set of free and bound variables are not necessarily distinct.</p>
<p>See this example:</p>
<p>(\x.x) (\y.x)</p>
<p>Here x is bound in \x.x because of \x but it is also free in the \y.x part.</p>
<ul>
<li>Gergely</li>
</ul>
<p>Idézet (Jakub Kądziołka &lt;<a href="mailto:kuba@kadziolka.net">kuba@kadziolka.net</a>&gt;):</p>



<a name="222229910"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Variable%20both%20free%20and%20bound%3F%21/near/222229910" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html#222229910">(Jan 10 2021 at 16:39)</a>:</h4>
<p>From: Jakub Kądziołka &lt;<a href="mailto:kuba@kadziolka.net">kuba@kadziolka.net</a>&gt;<br>
I am aware. However, in my example, Isabelle claims that a particular<br>
use of the name x is both free and bound at the same time.</p>
<p>Regards,<br>
Jakub Kądziołka</p>



<a name="222233875"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Variable%20both%20free%20and%20bound%3F%21/near/222233875" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html#222233875">(Jan 10 2021 at 18:21)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 08/01/2021 23:24, Jakub Kądziołka wrote:</p>
<blockquote>
<p>fun inc :: "nat ⇒ nat" where<br>
  "inc x = Suc x"</p>
<p>When you hover over either of the x's in fun inc (with Ctrl held), the<br>
following tooltip appears:</p>
<p>free variable<br>
  bound variable<br>
  :: nat</p>
</blockquote>
<p>As a general principle, the Prover IDE reveals aspects of the formal status of<br>
text processed by the prover. This processing often has several stages, and a<br>
piece of text may get cumulative markup as a trace of the internal stages.</p>
<p>There is considerable complexity in the internals as well as in the external<br>
representation of terms. Over the past decade, I have tried hard to expose<br>
that in the IDE such that it makes somehow sense.</p>
<p>In the concrete situation above, the body of the function definition has<br>
implicitly bound frees: x is fresh in the scope and later closed like this:</p>
<p>fun inc :: "nat ⇒ nat"<br>
  where "⋀x. inc x = Suc x"</p>
<p>There are other situations where seemingly free variables are treated like<br>
implicit bounds, e.g. in simplifier traces.</p>
<blockquote>
<p>I find this quite curious, as 'free' and 'bound' seem to be polar<br>
opposites...</p>
</blockquote>
<p>Just from the wording of it, in mathematics a set can be both "open" and<br>
"closed" (in the sense of topology).</p>
<p>In formal logic, the words "free" vs. "bound" are traditional, but to some<br>
extent also misleading: "bound" actually means the binder is within the term,<br>
or somehow tightly attached to it; "free" means the binder is further outside<br>
or implicit.</p>
<p>Further note that Isabelle/Isar also has light-brown Skolem constants: these<br>
are local variables of a proof context --- technically "free" but morally "bound".</p>
<p>Makarius</p>



<a name="222234481"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Variable%20both%20free%20and%20bound%3F%21/near/222234481" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Variable.20both.20free.20and.20bound.3F!.html#222234481">(Jan 10 2021 at 18:34)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Here is a formally checked version of the example:</p>
<p>theory Scratch<br>
  imports Main<br>
begin</p>
<p>term ‹(λx. x, λy. x)›</p>
<p>end</p>
<p>C-hovering in the Prover IDE reveals that the double use of a name "x" is<br>
merely superficial: the variables have different scopes and different<br>
most-general types. These are two independent variables.</p>
<p>Further details can be inspected in Isabelle/ML: ML ‹val t = @{term ‹(λx. x,<br>
λy. x)›}›</p>
<p>It shows that bound "x" is actually just a nameley de-Bruijn index, together<br>
with a comment-field for parsing and printing.</p>
<p>Makarius</p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>