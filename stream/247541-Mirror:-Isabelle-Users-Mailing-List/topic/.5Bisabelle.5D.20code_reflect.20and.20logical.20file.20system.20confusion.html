<html>
<head><meta charset="utf-8"><title>[isabelle] code_reflect and logical file system confusion · Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/index.html">Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code_reflect.20and.20logical.20file.20system.20confusion.html">[isabelle] code_reflect and logical file system confusion</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="271453406"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code_reflect%20and%20logical%20file%20system%20confusion/near/271453406" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code_reflect.20and.20logical.20file.20system.20confusion.html#271453406">(Feb 10 2022 at 16:08)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
How do I access the files generated by code_reflect, and import them<br>
into the system runtime?</p>
<p>I tried</p>
<p>code_reflect XXX ... file_prefix foo</p>
<p>this logs a nice clickable link in jedit, that directs to some </p>
<p>isabelle-export:Draft.mythyname/code/foo</p>
<p>I can view that in jedit, OK. But when doing</p>
<p>ML_file "isabelle-export:Draft.mythyname/code/foo"  </p>
<p>I just get:</p>
<p>Illegal character ":" in path element "isabelle-export:Draft.mythyname"<br>
The error(s) above occurred in "isabelle-<br>
export:Draft.mythyname/code/foo"</p>
<p>Thanks in advance for any help.<br>
  Peter</p>
<p>ps: the core issue that I'm trying to solve is to debug the exported<br>
code. CTRL-Click on a reflected ML function leads to an empty jedit<br>
buffer, so I thought iot might work if the code is in a file.</p>
<p>pps: the code generator tutorial is outdated: in section 8.1 it<br>
mentions a file argument (which does not exist), and the example only<br>
shows a file_prefix argument. Also it promises the purpose of separate<br>
compilation is "This merely generates the referenced code to the given<br>
file which can be<br>
included into the system runtime later on" but lacks any documentation<br>
or pointer to how this can be done.</p>



<a name="271674070"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247541-Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code_reflect%20and%20logical%20file%20system%20confusion/near/271674070" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247541-Mirror:-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code_reflect.20and.20logical.20file.20system.20confusion.html#271674070">(Feb 12 2022 at 06:57)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Peter,</p>
<blockquote>
<p>How do I access the files generated by code_reflect, and import them<br>
into the system runtime?</p>
</blockquote>
<p>there is<br>
<a href="https://isabelle.in.tum.de/repos/isabelle/file/tip/Admin/lib/Tools/regenerate_cooper">https://isabelle.in.tum.de/repos/isabelle/file/tip/Admin/lib/Tools/regenerate_cooper</a><br>
which demonstrates<br>
the canonical and AFAIK only example.  Luckily enough most applications<br>
of code_reflect do not need that indirection.</p>
<blockquote>
<p>pps: the code generator tutorial is outdated: in section 8.1 it<br>
mentions a file argument (which does not exist), and the example only<br>
shows a file_prefix argument. Also it promises the purpose of separate<br>
compilation is "This merely generates the referenced code to the given<br>
file which can be<br>
included into the system runtime later on" but lacks any documentation<br>
or pointer to how this can be done.</p>
</blockquote>
<p>Thanks for the hint, I streamlined this in<br>
<a href="https://isabelle.in.tum.de/repos/isabelle/rev/78c2a92a8be4">https://isabelle.in.tum.de/repos/isabelle/rev/78c2a92a8be4</a></p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/Ui4atNLtXK16KdvVwQbQzSim/OpenPGP_signature">OpenPGP_signature</a></p>



<hr><p>Last updated: Jul 15 2022 at 23:21 UTC</p>
</html>