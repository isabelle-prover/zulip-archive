<html>
<head><meta charset="utf-8"><title>[isabelle-dev] type class ordered_semiring_1 · Mirror: Isabelle Development Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/index.html">Mirror: Isabelle Development Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html">[isabelle-dev] type class ordered_semiring_1</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="484485777"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/484485777" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#484485777">(Nov 26 2024 at 10:59)</a>:</h4>
<p>From: Lawrence Paulson via isabelle-dev &lt;<a href="mailto:isabelle-dev@mailman.proof.cit.tum.de">isabelle-dev@mailman.proof.cit.tum.de</a>&gt;<br>
I wonder if we will be able to act on this question before the next release. The key question is precisely how this type class should be defined.</p>
<p>Larry</p>
<blockquote>
<p>On 14 Aug 2024, at 08:58, Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt; wrote:</p>
<blockquote>
<p>This type class is defined in a number of AFP entries. Unfortunately, the definitions used are not the same and it's not clear whether they are equivalent either. We ought to fill this gap, though I am not sure of the best way to do it. In LLL_Basis_Reduction/Missing_Lemmas it is used to generalise a number of simple results currently proved for a smaller type class, ordered_idom.</p>
</blockquote>
<p>Looks interesting.</p>
<p>A few insights I gained from studying the occurrences:</p>
<p>a) Abstract-Rewriting/SN_Orders.thy</p>
<p>This seems somehow special and I would be inclined to put that aside in the first iteration.</p>
<p>b) (A) Complex_Bounded_Operators/extra/Extra_Ordered_Fields.thy and (B) LLL_Basis_Reduction/Missing_Lemmas.thy</p>
<p>Btw. (A) is an excellent example for separating generic and application-specific material in an AFP entry.</p>
<p>The two specifications are almost equivalent, since</p>
<p>subclass (in ordered_semiring_1) ordered_semiring_0 ..</p>
<p>holds in (A) and thus ordered_semiring_0 could also be removed as initial parent class in (B).</p>
<p>The remaining difference is zero_less_one. I would be inclined to add that as parent class to (A) to check whether all required instances are still valid.</p>
<p>After consolidation, the re-integration into HOL-Main could proceed.</p>
<p>Any thoughts?<br>
Florian<br>
&lt;OpenPGP_0xA707172232CFA4E9.asc&gt;</p>
</blockquote>



<a name="513927111"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/513927111" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#513927111">(Apr 23 2025 at 17:24)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;<br>
Reving this old thread after <br>
<a href="https://isabelle.sketis.net/repos/afp-devel/rev/a194ec58339d">https://isabelle.sketis.net/repos/afp-devel/rev/a194ec58339d</a> the <br>
situation is now:</p>
<p>In Complex_Bounded_Operators/extra/Extra_Ordered_Fields.thy, type class <br>
ordered_semiring_1 is now also based on zero_neq_one</p>
<p>Hence it should now be equivalent to its counterpart <br>
LLL_Basis_Reduction/Missing_Lemmas.thy</p>
<p>And note that there is also Jordan_Normal_Form/Missing_Ring.thy with <br>
similar type classes.</p>
<p>I do not know if anybody has an agenda to unify these; a suitable <br>
starting point could to be to integrate (parts of) <br>
Complex_Bounded_Operators/extra/Extra_Ordered_Fields.thy into <br>
HOL-Library.Ordered_Rings_and_Fields and then consolidate with the two <br>
other theories.</p>
<p>Florian</p>
<p><a href="/user_uploads/14278/WPZR8_NpPGyePRW7z-ikp8lp/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/CkHSayfbzKXMVD-Zu_n_MIvy/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="514365302"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/514365302" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#514365302">(Apr 25 2025 at 12:12)</a>:</h4>
<p>From: Lawrence Paulson via isabelle-dev &lt;<a href="mailto:isabelle-dev@mailman.proof.cit.tum.de">isabelle-dev@mailman.proof.cit.tum.de</a>&gt;<br>
Looking at that, I see the case for these:</p>
<p>class unbounded_dense_order = dense_order + no_top + no_bot<br>
class ordered_semiring_1 = ordered_semiring + semiring_1 + zero_neq_one<br>
class ordered_semiring_strict = semiring + comm_monoid_add + ordered_cancel_ab_semigroup_add + … (mult_strict_left_mono, mult_strict_right_mono)</p>
<p>They look like they could go into Orderings, Rings, etc.</p>
<p>But I have big doubts about this:</p>
<p>class partial_abs_if = minus + uminus + ord + zero + abs +</p>
<p>Thoughts?</p>
<p>Larry</p>
<blockquote>
<p>On 23 Apr 2025, at 18:16, Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt; wrote:</p>
<p>I do not know if anybody has an agenda to unify these; a suitable starting point could to be to integrate (parts of) Complex_Bounded_Operators/extra/Extra_Ordered_Fields.thy into HOL-Library.Ordered_Rings_and_Fields and then consolidate with the two other theories.</p>
</blockquote>



<a name="515667036"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/515667036" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#515667036">(May 02 2025 at 08:44)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;</p>
<blockquote>
<p>But I have big doubts about this:</p>
<p>class partial_abs_if = minus + uminus + ord + zero + abs +</p>
<p>Thoughts?</p>
</blockquote>
<p>Looks slightly special indeed.</p>
<p>I would recommend to proceed iteratively and to leave doubtful classes <br>
where they currently are.</p>
<p>Florian</p>
<p><a href="/user_uploads/14278/b43Q5mAy1M6cM0jxQhhdDZmi/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/DPP_NxE8NMb_ewxBRQ_1YMxS/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="515667167"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/515667167" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#515667167">(May 02 2025 at 08:44)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;</p>
<blockquote>
<p>But why zero_neq_one rather than zero_less_one? Are there really ordered semirings where 0&lt;1 does not hold? Other AFP entries use that version.</p>
</blockquote>
<p>Surely, for an ordering 0 &lt; 1 is a reasonable assumption if 0 =/= 1.</p>
<p>Florian</p>
<p><a href="/user_uploads/14278/7Br8QLReV9jSzlBSQFBiyR-Y/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/xoM4Z1wNvyCOWhxVYU0Z_KjB/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="516155602"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/%5Bisabelle-dev%5D%20type%20class%20ordered_semiring_1/near/516155602" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/.5Bisabelle-dev.5D.20type.20class.20ordered_semiring_1.html#516155602">(May 05 2025 at 10:06)</a>:</h4>
<p>From: "Thiemann, René via isabelle-dev" &lt;<a href="mailto:isabelle-dev@mailman.proof.cit.tum.de">isabelle-dev@mailman.proof.cit.tum.de</a>&gt;</p>
<blockquote>
<p>Am 02.05.2025 um 10:44 schrieb Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;:</p>
<blockquote>
<p>But why zero_neq_one rather than zero_less_one? Are there really ordered semirings where 0&lt;1 does not hold? Other AFP entries use that version.</p>
</blockquote>
</blockquote>
<blockquote>
<p>Surely, for an ordering 0 &lt; 1 is a reasonable assumption if 0 =/= 1. </p>
</blockquote>
<p>Although it is a frequently used assumption, 0 &lt; 1 is not satisfied for all ordered semirings.</p>
<p>For instance, for termination proving one sometimes uses semirings where x &lt; y is defined as</p>
<p>x + delta &lt;= y</p>
<p>where delta is some user-specified positive rational number, i.e., for delta = 2, 0 &lt; 1 is not satisfied.</p>
<p>However, since these semirings are not modelled as a type-class, as there are infinitely many possible choices of delta, this should not be a problem for a type-based definition of ordered semiring.</p>
<p>Best,<br>
René</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>