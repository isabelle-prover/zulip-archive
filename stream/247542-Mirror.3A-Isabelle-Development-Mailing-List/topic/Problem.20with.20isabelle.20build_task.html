<html>
<head><meta charset="utf-8"><title>Problem with isabelle build_task · Mirror: Isabelle Development Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/index.html">Mirror: Isabelle Development Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/Problem.20with.20isabelle.20build_task.html">Problem with isabelle build_task</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="489957841"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/Problem%20with%20isabelle%20build_task/near/489957841" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/Problem.20with.20isabelle.20build_task.html#489957841">(Dec 19 2024 at 12:51)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@cit.tum.de">florian.haftmann@cit.tum.de</a>&gt;<br>
On</p>
<p>isabelle: 24c1edcbcc6b tip<br>
afp: 209f3131a057 tip</p>
<p>command</p>
<p>isabelle build_task -A : -a</p>
<p>yields</p>
<p>*** Unable to convert bytea parameter at position 7 to literal</p>
<p><a href="https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d">https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d</a></p>
<p>Whats going wrong here?</p>
<p>Florian</p>
<p><a href="/user_uploads/14278/qrt7DKIpQUXfW2gu0W-movXT/OpenPGP_0xA707172232CFA4E9.asc">OpenPGP_0xA707172232CFA4E9.asc</a><br>
<a href="/user_uploads/14278/UqykIlT1SyJ1Kp50jPzjUhIo/OpenPGP_signature.asc">OpenPGP_signature.asc</a></p>



<a name="490056914"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/Problem%20with%20isabelle%20build_task/near/490056914" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/Problem.20with.20isabelle.20build_task.html#490056914">(Dec 19 2024 at 22:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 19/12/2024 13:50, Florian Haftmann wrote:</p>
<blockquote>
<p>*** Unable to convert bytea parameter at position 7 to literal</p>
<p><a href="https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d">https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d</a></p>
<p>Whats going wrong here?</p>
</blockquote>
<p>I've seen this and a few other breakdowns as well, shortly after I've updated <br>
some relevant Isabelle components, e.g. see Isabelle/f48597f265ff.</p>
<p>I am presently trying out some variations, directly on the build manager <br>
server, to see if this is the reason, or something completely different.</p>
<p>Makarius</p>



<a name="490060000"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/Problem%20with%20isabelle%20build_task/near/490060000" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/Problem.20with.20isabelle.20build_task.html#490060000">(Dec 19 2024 at 22:33)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 19/12/2024 23:06, Makarius wrote:</p>
<blockquote>
<p>I am presently trying out some variations, directly on the build manager <br>
server, to see if this is the reason, or something completely different.</p>
</blockquote>
<p>I failed to get back to a situation that works, even after reverting all my <br>
recent updates of Isabelle components (the local Admin/components/main on the <br>
server is changed wrt. the repository version, a copy is attached here).</p>
<p>Even "bin/isabelle build_manager_database -A:" did not help to return to <br>
consistent db content, see this error <br>
<a href="https://build.proof.cit.tum.de/build?name=user%2F927">https://build.proof.cit.tum.de/build?name=user%2F927</a></p>
<p>We need Fabian to sort it out ...</p>
<p>Makarius</p>
<p><a href="/user_uploads/14278/RjxYnUAuoKcqLFqPRiu8Bu8n/main">main</a></p>



<a name="490108972"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/247542-Mirror%3A%20Isabelle%20Development%20Mailing%20List/topic/Problem%20with%20isabelle%20build_task/near/490108972" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/247542-Mirror.3A-Isabelle-Development-Mailing-List/topic/Problem.20with.20isabelle.20build_task.html#490108972">(Dec 20 2024 at 07:41)</a>:</h4>
<p>From: Fabian Huch &lt;<a href="mailto:huch@in.tum.de">huch@in.tum.de</a>&gt;<br>
In our discussion yesterday I got slightly confused since we were <br>
jumping between database updates and inconsistent build database states. <br>
There are two databases:</p>
<ul>
<li>the build database (for the build cluster), that can end up in an <br>
inconsistent state if the build process was terminated abnormally. This <br>
can be solved on our installation switching to the build_cluster <br>
identifier (as the "build" user) and cleaning the db:</li>
</ul>
<p>export ISABELLE_IDENTIFIER="build_cluster"</p>
<p>bin/isabelle build_process -C -r -f</p>
<ul>
<li>the build manager database that needs to be updated if the Isabelle <br>
version running on the server is out of sync with the repository version <br>
that submits the build_task, SQL-wise. This is done by stopping the <br>
manager, updating the repository, running</li>
</ul>
<p>bin/isabelle build_manager_database -A:</p>
<p>The underlying problem was that 4 GB of JVM seem to be no longer <br>
sufficient for the "all" job. I've increased the limit to 8GB.</p>
<p>Fabian</p>
<p>On 12/19/24 23:32, Makarius wrote:</p>
<blockquote>
<p>On 19/12/2024 23:06, Makarius wrote:</p>
<blockquote>
<p>I am presently trying out some variations, directly on the build <br>
manager server, to see if this is the reason, or something completely <br>
different.</p>
</blockquote>
<p>I failed to get back to a situation that works, even after reverting <br>
all my recent updates of Isabelle components (the local <br>
Admin/components/main on the server is changed wrt. the repository <br>
version, a copy is attached here).</p>
<p>Even "bin/isabelle build_manager_database -A:" did not help to return <br>
to consistent db content, see this error <br>
<a href="https://build.proof.cit.tum.de/build?name=user%2F927">https://build.proof.cit.tum.de/build?name=user%2F927</a></p>
<p>We need Fabian to sort it out ...</p>
<p>Makarius</p>
</blockquote>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>