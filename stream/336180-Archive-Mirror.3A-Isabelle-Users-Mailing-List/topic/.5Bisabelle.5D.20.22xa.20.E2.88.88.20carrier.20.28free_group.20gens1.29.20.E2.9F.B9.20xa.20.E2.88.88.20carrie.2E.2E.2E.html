<html>
<head><meta charset="utf-8"><title>[isabelle] &quot;xa ∈ carrier (free_group gens1) ⟹ xa ∈ carrie... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22xa.20.E2.88.88.20carrier.20.28free_group.20gens1.29.20.E2.9F.B9.20xa.20.E2.88.88.20carrie.2E.2E.2E.html">[isabelle] &quot;xa ∈ carrier (free_group gens1) ⟹ xa ∈ carrie...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294107019"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22xa%20%E2%88%88%20carrier%20%28free_group%20gens1%29%20%E2%9F%B9%20xa%20%E2%88%88%20carrie.../near/294107019" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22xa.20.E2.88.88.20carrier.20.28free_group.20gens1.29.20.E2.9F.B9.20xa.20.E2.88.88.20carrie.2E.2E.2E.html#294107019">(Aug 18 2022 at 15:12)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I was able to diagnose your problem by enabling the option show_consts:</p>
<p>goal (1 subgoal):</p>
<ol>
<li>xa : carrier (free_group gens1) ==&gt; xa : carrier (free_group gens1)<br>
constants:<br>
...<br>
  free_group ::<br>
    ('b =&gt; bool)<br>
    =&gt; (| carrier :: (bool * 'b) list =&gt; bool,<br>
          mult :: (bool * 'h) list =&gt; (bool * 'h) list =&gt; (bool * 'h) list, one :: (bool * 'h) list |)<br>
...<br>
  free_group ::<br>
    ('b =&gt; bool)<br>
    =&gt; (| carrier :: (bool * 'b) list =&gt; bool,<br>
          mult :: (bool * 'i) list =&gt; (bool * 'i) list =&gt; (bool * 'i) list, one :: (bool * 'i) list |)</li>
</ol>
<p>The two occurrences of free_group have different types! You can correct this situation by inserting type constraints.</p>
<p>Larry Paulson</p>



<a name="294107108"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22xa%20%E2%88%88%20carrier%20%28free_group%20gens1%29%20%E2%9F%B9%20xa%20%E2%88%88%20carrie.../near/294107108" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22xa.20.E2.88.88.20carrier.20.28free_group.20gens1.29.20.E2.9F.B9.20xa.20.E2.88.88.20carrie.2E.2E.2E.html#294107108">(Aug 18 2022 at 15:13)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:mail@joachim-breitner.de">mail@joachim-breitner.de</a>&gt;<br>
Hi,</p>
<p>thaks, works perfectly. I can turn off quick_and_dirty mode again, feels<br>
much better :-)</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/7tabJfyQjIjASdSaYs_bfPff/signature.asc">signature.asc</a></p>



<a name="294109114"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%22xa%20%E2%88%88%20carrier%20%28free_group%20gens1%29%20%E2%9F%B9%20xa%20%E2%88%88%20carrie.../near/294109114" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.22xa.20.E2.88.88.20carrier.20.28free_group.20gens1.29.20.E2.9F.B9.20xa.20.E2.88.88.20carrie.2E.2E.2E.html#294109114">(Aug 18 2022 at 15:23)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:mail@joachim-breitner.de">mail@joachim-breitner.de</a>&gt;<br>
Hi,</p>
<p>I’m currently working on a submission to the AFP, formalizing the<br>
construction of Free Groups. While proving that bijective sets of<br>
generators produce isomorphic Free Groups, I came across a problem where<br>
I cannot continue, and it seems to be an Isabelle bug.</p>
<p>In line of 337 of<br>
<a href="http://darcs.nomeata.de/afp-Free-Groups/Free-Groups.thy">http://darcs.nomeata.de/afp-Free-Groups/Free-Groups.thy</a><br>
I try to do this<br>
    assume "x ∈ image (map (prod_fun id f)) (carrier (free_group gens1))"<br>
    then obtain y :: "(bool × 'b) list" where "x = map (prod_fun id f) y"<br>
                    and "y ∈ carrier (free_group gens1)"<br>
and expected to close this using "by auto", as I did in similar<br>
situations before. This fails. Unwrapping the proof and trying to do it<br>
manually with Isar steps, I end up with this state (as given by i3p):</p>
<p>proof (prove): step 38</p>
<p>goal (1 subgoal):</p>
<ol>
<li>xa ∈ carrier (free_group gens1) ⟹ xa ∈ carrier (free_group gens1)<br>
variables:<br>
  thesis :: bool<br>
  f :: 'b ⇒ 'c<br>
  x :: (bool × 'c) list<br>
  gens1 :: 'b ⇒ bool<br>
  xa :: (bool × 'b) list<br>
type variables:<br>
  'b, 'c, 'h, 'i :: type</li>
</ol>
<p>but "apply assumption" does not work. It is also not a i3p bug, as the<br>
IsaMakefile also fails to build the theory.</p>
<p>I’d be grateful if someone else could try it and see if he can reproduce<br>
the problem, and maybe tell me how I can work around the issue. The<br>
theory Free-Groups also uses<br>
<a href="http://darcs.nomeata.de/afp-Free-Groups/Cancelation.thy">http://darcs.nomeata.de/afp-Free-Groups/Cancelation.thy</a><br>
and if you have darcs installed, you can just run<br>
darcs get <a href="http://darcs.nomeata.de/afp-Free-Groups/">http://darcs.nomeata.de/afp-Free-Groups/</a></p>
<p>Thanks,<br>
Joachim<br>
<a href="/user_uploads/14278/OuDORCxyUAEOnXXWlof_D_EM/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>