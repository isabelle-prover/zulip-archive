<html>
<head><meta charset="utf-8"><title>[isabelle] (structure) and \&lt;index&gt; · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html">[isabelle] (structure) and \&lt;index&gt;</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294252574"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252574" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252574">(Aug 19 2022 at 12:15)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Hi all,</p>
<p>I was looking into the Isabelle HOL/Algebra library, as I've a student <br>
who wants to do similar stuff (maybe on top of this).<br>
I am little bit confused about the (structure) keyword and the related <br>
\&lt;index&gt;. They only seem to be used in this Library and the Isar <br>
reference is rather brief about them also, the locales tutorial doesn't <br>
mention them at all.</p>
<p>I have two questions about this:</p>
<ol>
<li>
<p>What is the precise semantics of these constructs? Is there some <br>
documentation I've missed? The isar reference only mentions that it is <br>
used for some kind of implicit references.</p>
</li>
<li>
<p>Assuming their use is still advised and appropriate for this setting: <br>
They still seem work only using the \&lt;bsub&gt;..\&lt;esub&gt; syntax which is <br>
broken in the JEdit interface, is there a way to move away from this?</p>
</li>
</ol>
<p>Best<br>
Benedikt</p>



<a name="294252582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252582">(Aug 19 2022 at 12:15)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 30.10.2013 11:07, bnord wrote:</p>
<blockquote>
<p>Hi all,</p>
<p>I was looking into the Isabelle HOL/Algebra library, as I've a student<br>
who wants to do similar stuff (maybe on top of this).<br>
I am little bit confused about the (structure) keyword and the related<br>
\&lt;index&gt;. They only seem to be used in this Library and the Isar<br>
reference is rather brief about them also, the locales tutorial doesn't<br>
mention them at all.</p>
<p>I have two questions about this:</p>
<ol>
<li>What is the precise semantics of these constructs? Is there some<br>
documentation I've missed? The isar reference only mentions that it is<br>
used for some kind of implicit references.</li>
</ol>
</blockquote>
<p>When you are inside a context where some value is marked as (structure),<br>
this value is used to fill in the argument marked with \&lt;index&gt;.</p>
<p>If you are not inside such a context (or you want to override the<br>
argument), you use \&lt;bsub&gt;..\&lt;esub&gt;.</p>
<blockquote>
<ol start="2">
<li>Assuming their use is still advised and appropriate for this setting:<br>
They still seem work only using the \&lt;bsub&gt;..\&lt;esub&gt; syntax which is<br>
broken in the JEdit interface, is there a way to move away from this?</li>
</ol>
</blockquote>
<p>What do you mean by "broken"?<br>
<a href="/user_uploads/14278/HtDt3H_E9R7pZeAQnM9svKe-/signature.asc">signature.asc</a></p>



<a name="294252588"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252588" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252588">(Aug 19 2022 at 12:15)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Hi Lars,</p>
<p>thanks, this corresponds to what I assumed.</p>
<p>But what's the influence of this "argument" it looks like it's intended <br>
to hold different instances apart, but how?</p>
<p>Don't display as intended. You get two down arrows with regular size <br>
text in between. If you have a lot of those (like in Algebra/Module for <br>
example) it makes things really hard to read.</p>
<p>Best<br>
Benedikt</p>



<a name="294252597"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252597" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252597">(Aug 19 2022 at 12:15)</a>:</h4>
<p>From: René Thiemann &lt;<a href="mailto:rene.thiemann@uibk.ac.at">rene.thiemann@uibk.ac.at</a>&gt;<br>
Dear Benedikt,</p>
<blockquote>
<p>I was looking into the Isabelle HOL/Algebra library, as I've a student who wants to do similar stuff (maybe on top of this).<br>
I am little bit confused about the (structure) keyword and the related \&lt;index&gt;. They only seem to be used in this Library.</p>
</blockquote>
<p>They are also used in the archive of formal proofs and in IsaFoR/CeTA, e.g., in the Matrix entry of the AFP and in Linear_Poly...<br>
within IsaFoR.</p>
<p>Perhaps these examples will be help.</p>
<p>Cheers,<br>
René</p>
<p>(IsaFoR/CeTA can be accessed at <a href="http://cl-informatik.uibk.ac.at/software/ceta/">http://cl-informatik.uibk.ac.at/software/ceta/</a>)</p>



<a name="294252832"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252832" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252832">(Aug 19 2022 at 12:17)</a>:</h4>
<p>From: Clemens Ballarin &lt;<a href="mailto:ballarin@in.tum.de">ballarin@in.tum.de</a>&gt;<br>
Hi Benedikt,</p>
<p>The structure mechanism was designed for use with algebraic structures represented by record types.  It has come out of fashion because records make it hard to compose structures from other structures.  For example, the construction of ring from additive and multiplicative monoid in HOL-Algebra is painful: the set of theorems for the additive monoid is duplicated manually.</p>
<p>The structure mechanism works as follows: an operation of a structure, such as multiplication in a group G, takes the structure record as an argument: mult G x y.  The \&lt;index&gt; token marks parameters implicit.  In the context of a locale the structure parameter is inserted for the \&lt;index&gt; parameter of the operation (if it is omitted).  That is, in locale group with parameter G (structure), mult x y is expanded to mult G x y.  This allows for concise syntax.</p>
<p>At the time, the structure mechanism also provided a convenient means for adding derived operations to structures.  In the meantime, definitions in locale contexts have become available, making an approach without records (and structure parameters) feasible.  For examples, see my recent paper on the semantics of locales [1] and a study on formalising groups and rings [2].  Either approach may be suitable.  If you end up having algebraic structures with many parameters, records may be of advantage.  Otherwise, the additional flexibility gained by avoiding records is a plus.</p>
<p>Clemens</p>
<p>[1] Clemens Ballarin. Locales: a module system for mathematical theories. Journal of Automated Reasoning, 2013.<br>
[2] Clemens Ballarin. Reading an Algebra Textbook. In C. Lange et al., editors, MathUI, OpenMath, PLMMS and ThEdu Workshops and Work in Progress at the Conference on Intelligent Computer Mathematics, Bath UK, CEUR Workshop Proceedings 1010, 2013.</p>



<a name="294252844"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294252844" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294252844">(Aug 19 2022 at 12:17)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Hi Clemens,</p>
<p>many thanks for these helpful clarifications. I'll look into your <br>
references. Sounds good.</p>
<p>Best<br>
Benedikt</p>



<a name="294258091"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%28structure%29%20and%20%5C%3Cindex%3E/near/294258091" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.28structure.29.20and.20.5C.3Cindex.3E.html#294258091">(Aug 19 2022 at 12:48)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Depends what you mean by "broken". Isabelle/jEdit still does not make any <br>
attempt to render \&lt;^bsub&gt;...\&lt;^esub&gt; as something that looks like <br>
subscript -- nesting would be difficult anyway.  The present rendering is <br>
not particularly pretty, but it is well-defined in what it does and what <br>
not.</p>
<p>In contrast, it has required several years to make block subscripts work <br>
half-way in Proof General / Emacs, and there were really bad incidents on <br>
the way.  So the Emacs version is the "broken" one -- it is still possible <br>
crash the font-lock code behind it.</p>
<p>When Isabelle/jEdit was started around 2008, it was unclear if subscripts <br>
would ever work, and I was ready to give up that nice-to-have feature in <br>
exchange for some conceptual advance in prover interaction.  Later I did <br>
find some ways to render single symbols in subscript/superscript/bold in <br>
Isabelle/jEdit, but it required so much work that doing this again for <br>
rarely used block-subscripts will not happen so soon.</p>
<p>Clemens Ballarin has already pointed out that this notation is rather <br>
old-fashioned anyway.  Which does not mean the concepts behind it are <br>
broken, but used very rarely.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>