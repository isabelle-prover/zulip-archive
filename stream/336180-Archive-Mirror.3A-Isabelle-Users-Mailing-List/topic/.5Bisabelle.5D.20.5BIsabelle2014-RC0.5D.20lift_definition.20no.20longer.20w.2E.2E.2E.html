<html>
<head><meta charset="utf-8"><title>[isabelle] [Isabelle2014-RC0] lift_definition no longer w... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2014-RC0.5D.20lift_definition.20no.20longer.20w.2E.2E.2E.html">[isabelle] [Isabelle2014-RC0] lift_definition no longer w...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294284610"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%5BIsabelle2014-RC0%5D%20lift_definition%20no%20longer%20w.../near/294284610" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2014-RC0.5D.20lift_definition.20no.20longer.20w.2E.2E.2E.html#294284610">(Aug 19 2022 at 15:04)</a>:</h4>
<p>From: Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt;<br>
See now 179b9c43fe84.</p>



<a name="294286381"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20%5BIsabelle2014-RC0%5D%20lift_definition%20no%20longer%20w.../near/294286381" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20.5BIsabelle2014-RC0.5D.20lift_definition.20no.20longer.20w.2E.2E.2E.html#294286381">(Aug 19 2022 at 15:13)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
While porting my theories to Isabelle2014-RC4, I got stuck on some lift_definition <br>
commands. In Isabelle2013-2, it was possible to issue a lift_definition command inside an <br>
unnamed context with assumptions (below is a minimal artificial example). In <br>
Isabelle2014-RC0, I do not get lift_definition to work, because it always raises the <br>
following error.</p>
<p>exception THM 0 raised (line 112 of "conjunction.ML"):<br>
   dest_conjunction<br>
   0 &lt; ?n ⟹<br>
   (<a href="http://Scratch.bar">Scratch.bar</a> ?n = Abs_pos ?n &amp;&amp;&amp; Rep_pos (<a href="http://Scratch.bar">Scratch.bar</a> ?n) = ?n) &amp;&amp;&amp;<br>
   TERM TYPE(nat) &amp;&amp;&amp; TERM TYPE(pos)</p>
<p>As the example shows, I need the assumption in lift_definition's proof obligation. How am <br>
I supposed to do this in Isabelle2014?</p>
<p>Best,<br>
Andreas</p>
<p>theory Scratch imports "~~/src/HOL/Main" begin</p>
<p>typedef pos = "{n :: nat. n &gt; 0}" by auto<br>
setup_lifting (no_code) type_definition_pos</p>
<p>context<br>
   fixes n :: nat<br>
   assumes "n &gt; 0"<br>
begin</p>
<p>lift_definition bar :: "pos" is "n" by fact</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>