<html>
<head><meta charset="utf-8"><title>[isabelle] 180 type class helper; And PIDE error report · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20180.20type.20class.20helper.3B.20And.20PIDE.20error.20report.html">[isabelle] 180 type class helper; And PIDE error report</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294272904"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20180%20type%20class%20helper%3B%20And%20PIDE%20error%20report/near/294272904" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20180.20type.20class.20helper.3B.20And.20PIDE.20error.20report.html#294272904">(Aug 19 2022 at 14:02)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:igbi@gmx.com">igbi@gmx.com</a>&gt;<br>
PRELIMINARY ERROR REPORT</p>
<p>Rather than send two emails, I put this error report in here, because <br>
it's no big deal.</p>
<p>In my type class helper source, I had a subsection command immediately <br>
followed by another subsection command, as shown below, where the first <br>
command ended with a <code>)</code> instead of a <code>}</code>.</p>
<p>What's shown below will cause no error in the PIDE. I only found the <br>
error when I inserted a <code>print_classes</code> after the wrongly terminated <br>
<code>subsection</code> command. An inserted <code>print_classes</code> also doesn't cause an <br>
error; it just doesn't do anything.</p>
<p>subsection{<em>test 1</em>)</p>
<p>(<em>print_classes. This wasn't here at first.</em>)</p>
<p>subsection{<em>test 2</em>}</p>
<p>term "int"</p>
<p>BACK TO THE TYPE CLASSES</p>
<p>There are 179 type classes imported with Complex_Main (plus one more <br>
imported with BNF), of which 82 are used for nat, 106 for int, 110 for <br>
rat, 143 for real, and 88 for complex.</p>
<p>Attached is a screenshot showing what the attached THY will show you <br>
about those 180 type classes. Use <code>print_locale!</code> instead of <br>
<code>print_locale</code> to see all the theorems for a type class. For some type <br>
classes, <code>print_locale!</code> will take a long time to process.</p>
<p>Those who love their 5mm mechanical pencils will someday also love type <br>
classes.</p>
<p>Algebra type classes stay true to the "abstract" in "abstract algebra".</p>
<p>Also, former 5mm-mechanical-pencil-addicts will love being able to do <br>
abstract numeric calculations with numbers that have types of type <br>
classes, such as these:</p>
<p>value "1 + (2::'a::numeral)"<br>
   (* (1::'a::numeral) + 1 + 1 *)</p>
<p>value "1 + (2::'a::linordered_semidom)"<br>
   (* (1::'a::linordered_semidom) + 1 + 1 *)</p>
<p>value "1 + (2::'a::ring_1)"<br>
   (* (1::'a::ring_1) + 1 + 1 *)</p>
<p>value "1 + (2::'a::field)"<br>
   (* (1::'a::field) + 1 + 1 *)</p>
<p>For concreteness, there is still nat, though the processing of the <br>
successor function can require the help of <code>n + 1 = Suc(n)</code> neurons:</p>
<p>value "1 + (2::nat)"<br>
   (* Suc (Suc (Suc (0::nat)) *)</p>
<p>Regards,<br>
GB<br>
<a href="/user_uploads/14278/XUriO3fxzIS4O2jpgYPOqN7t/type_class_sidekick_helper.png">type_class_sidekick_helper.png</a><br>
<a href="/user_uploads/14278/8ibdt7vTxpMN1JEF00lwOK98/type_class_sidekick_helper.thy">type_class_sidekick_helper.thy</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/XUriO3fxzIS4O2jpgYPOqN7t/type_class_sidekick_helper.png" title="type_class_sidekick_helper.png"><img src="/user_uploads/14278/XUriO3fxzIS4O2jpgYPOqN7t/type_class_sidekick_helper.png"></a></div>



<a name="294273027"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20180%20type%20class%20helper%3B%20And%20PIDE%20error%20report/near/294273027" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20180.20type.20class.20helper.3B.20And.20PIDE.20error.20report.html#294273027">(Aug 19 2022 at 14:03)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
There is no error in the Prover IDE, because the above is correct.  We <br>
can be glad that the editor and the prover mostly agree on the basic <br>
syntax of the sources.</p>
<p>Isabelle outer syntax has a variety of "delimited tokens" with slightly <br>
different rules for nesting and escapes (or lack thereof):</p>
<p>(* (* nested *) comments, without escapes *)</p>
<p>{* non-nested verbatim text, without escapes *}</p>
<p>"double-quoted string, with escapes for \" and \\, but without nesting"</p>
<p><code>back-quoted string, with escapes for \</code> and \\, but without nesting`</p>
<p>That's mainly it, but still a bit complex, not to say complicated. The <br>
lack of nesting and need for escapes introduces extra potential for <br>
confusion, as well as occasionaly need for {*} in latex inside <br>
non-nestable {* ... *} chunks.</p>
<p>Incidents and confusion like this happen about 0.5 times per year on this <br>
mailing list.  To make an end of this, I have introduced a new concept in <br>
the Isabelle repository version some weeks ago: uniform balanced quotes <br>
that don't need any escapes: the so-called "text cartouches".</p>
<p>It is all ready to be actually used, lets say as a start for verbatim text <br>
like this</p>
<p>section ‹abc›</p>
<p>text ‹abc›</p>
<p>in addition to existing {* abc *} or "abc" in these syntax slots.</p>
<p>I am still hesitating because of an unknown number of people who are still <br>
stuck with Proof General, which presently does not know about this change <br>
of the token language.</p>
<p>If there are remaining Proof General users who want to prove that this <br>
ancient thing is not quite dead yet, we can move over to <br>
<a href="mailto:proofgeneral-devel@inf.ed.ac.uk">proofgeneral-devel@inf.ed.ac.uk</a> to sort out the (simple) things that need <br>
to be done to support text cartouches in Emacs as well.</p>
<p>Alternatively, one could take the subtitle of the talk by Carst Tankink at <br>
INRIA-MSR this week into serious considerations:</p>
<p>The Last March of Proof General</p>
<p>That was before an audience of Coq users, who were still confined to <br>
prover interfaces from 15 years ago.</p>
<p>Makarius</p>



<a name="294273076"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20180%20type%20class%20helper%3B%20And%20PIDE%20error%20report/near/294273076" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20180.20type.20class.20helper.3B.20And.20PIDE.20error.20report.html#294273076">(Aug 19 2022 at 14:03)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:igbi@gmx.com">igbi@gmx.com</a>&gt;<br>
On 14-03-21 12:34, Makarius wrote:</p>
<blockquote>
<p>There is no error in the Prover IDE, because the above is correct.  We <br>
can be glad that the editor and the prover mostly agree on the basic <br>
syntax of the sources.</p>
</blockquote>
<p>Thanks for the explanation.</p>
<p>I actually subscribe to the idea that for one to claim there are <br>
software errors or software bugs, one needs to understand the <br>
developer's intent and the software's purpose, unless the problem is <br>
obvious, like the PIDE freezing. However, I can jump to conclusions, or <br>
forget to cover myself with words like "possible" or "could be", and <br>
emails sent in can't be edited later on.</p>
<blockquote>
<p>Incidents and confusion like this happen about 0.5 times per year on <br>
this mailing list. </p>
</blockquote>
<p>Though, if <code>lurker_multiplier =100</code>,  then there are <code>(100 * 0.5) - 0.5 
= 49.5</code> unreported incidents of confusion like this per year, for those <br>
who never complain about problems, whether real or perceived.</p>
<blockquote>
<p>To make an end of this, I have introduced a new concept in the <br>
Isabelle repository version some weeks ago: uniform balanced quotes <br>
that don't need any escapes: the so-called "text cartouches".</p>
</blockquote>
<p>I understand from this that ‹abc› is not a replacement for (<em>abc</em>).</p>
<p>If you're taking requests, and another set of unused delimiter symbols <br>
becomes available, it would be nice to have something like that for <br>
comments, (<em>...</em>).</p>
<p>In verbatim source, I exclusively use (<em>...</em>) for comments, which I also <br>
display in a PDF, using a typewriter font to control the spacing. I <br>
never use --{<em>...</em>} or --"...". The symbols (<em>...</em>) have symmetry, and <br>
(<em>...</em>) works better with standard 2-space indentation.</p>
<p>Here's an example, where the spaces may get lost here:</p>
<p>(*This is stuff...<br>
   and so forth...*)</p>
<p>If I had ‹abc› for source comments, I could do something like this:</p>
<p>‹|This is stuff...<br>
   and so forth...|›</p>
<p>Everything is still currently good.</p>
<p>Regards,<br>
GB</p>



<a name="294273583"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20180%20type%20class%20helper%3B%20And%20PIDE%20error%20report/near/294273583" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20180.20type.20class.20helper.3B.20And.20PIDE.20error.20report.html#294273583">(Aug 19 2022 at 14:06)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Mon, 24 Mar 2014, Gottfried Barrow wrote:</p>
<blockquote>
<p>I understand from this that ‹abc› is not a replacement for (<em>abc</em>).</p>
</blockquote>
<p>So far it is just some funny token syntax, in addition to what has already <br>
accumulated in the past 20-30 years.  One could in principle do it like <br>
LISP, and use just one kind of parentheses for everything, but that is <br>
hardly readable.</p>
<p>The intention of {* ... *} from 15 years ago was to provide a manner of <br>
"quoting" informal text, such that formal material (types, terms, <br>
theorems) can be "anti-quoted" inside it, but without any conflict with <br>
the typical double-quotes of Isabelle inner syntax.  IIRC, {* ... *} was <br>
not made nestable for simplificity: Emacs did not support nested comments <br>
at that time, so it happened to be the same for (* ... *), althouth the <br>
latter have alsways been nestable in Isabelle.</p>
<p>Today the prover and editor agree on the Isabelle token language, so more <br>
precision matters.</p>
<blockquote>
<p>If you're taking requests, and another set of unused delimiter symbols <br>
becomes available, it would be nice to have something like that for comments, <br>
(<em>...</em>).</p>
<p>In verbatim source, I exclusively use (<em>...</em>) for comments, which I also <br>
display in a PDF, using a typewriter font to control the spacing. I never use <br>
--{<em>...</em>} or --"...". The symbols (<em>...</em>) have symmetry, and (<em>...</em>) works <br>
better with standard 2-space indentation.</p>
</blockquote>
<p>(* ... *) are just source comments, like % in LaTeX.</p>
<p>Normally, you write comments semi-formally via "-- {* ... *}" or<br>
"text {* ... *}" then they are also rendered by Isabelle document <br>
preparation.  Source comments can have funny side-effects on whitespace <br>
here.</p>
<p>The envisioned reform would cover all occurrences of {* ... *} uniformly, <br>
so you could write something like this:</p>
<p>-- ‹abc›</p>
<p>That certainly has symmetry.  If you don't like the spacing of the Unicode <br>
characters, you can use a different font, or even make your own with a <br>
font editor.</p>
<p>This visual tinkering is more important for printed documents in LaTeX, <br>
but IIRC you have not even tried that yet.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>