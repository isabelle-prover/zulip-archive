<html>
<head><meta charset="utf-8"><title>[isabelle] A beginner&#x27;s questionu · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html">[isabelle] A beginner&#x27;s questionu</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294120120"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294120120" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294120120">(Aug 18 2022 at 16:19)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Just one note on the "The sad fact of life" about SML semantics.<br>
The reference implementation <a href="http://www.mpi-sws.org/~rossberg/hamlet/">http://www.mpi-sws.org/~rossberg/hamlet/</a> by <br>
Andreas Rossberg can be understood as an executable version of that. <br>
Nonetheless there are problems with it, because the static phase merely <br>
checks that the problem is type-correct, without producing the resulting <br>
type-assignment.  As a consequence, the dynamic phase needs to be <br>
implemented like a LISP interpreter, with explicit tags everywhere.</p>
<p>Makarius</p>



<a name="294122500"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122500" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122500">(Aug 18 2022 at 16:31)</a>:</h4>
<p>From: Francisco Ferreira &lt;<a href="mailto:ferrerif@iro.umontreal.ca">ferrerif@iro.umontreal.ca</a>&gt;<br>
Hello all,</p>
<p>I am just starting with Isabelle, my intention is to prove some simple <br>
theorems of simply-typed lambda (from Pierce's TAPL book) calculus using <br>
Nominal Isabelle.<br>
I am using the tutorial and the isar reference as guides (and the <br>
nominal_datatype_reference too)<br>
I am starting nice and easy trying to do the determinism proof for a <br>
very simple language of arithmetic expressions.<br>
So far I have defined my datatype and the step by step semantics <br>
relation, and I have formulated my theorem (I've attached the code as I <br>
have it so far).</p>
<p>On my paper proof, I would proceed by induction on the structure of the <br>
step relation but I don't know how to proceed in this case (apply (rule <br>
step.induct) confuses me).</p>
<p>What I need is some help to start, and hopefully be able to keep the <br>
momentum going.<br>
How do I approach this proof? (are there any examples that I should check?)</p>
<p>Thanks in advance,<br>
Francisco<br>
<a href="/user_uploads/14278/NOBfzs2fnHe1FJMCIKeq63xC/arith.thy">arith.thy</a></p>



<a name="294122514"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122514" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122514">(Aug 18 2022 at 16:31)</a>:</h4>
<p>From: Christian Urban &lt;<a href="mailto:urbanc@in.tum.de">urbanc@in.tum.de</a>&gt;<br>
Hi Francisco,</p>
<p>Below I have started your proof in the style<br>
of Isabelle/Isar. Maybe this is of help for how<br>
approaching this kind of proofs. However, once<br>
I attempted the second case, I found out that<br>
the lemma for your definition is not true. You<br>
added a rule to Pierce's rules, which breaks the<br>
property you are after. The counter example is<br>
also included.</p>
<p>Hope this helps,<br>
Christian</p>
<p>Quoting Francisco Ferreira &lt;<a href="mailto:ferrerif@iro.umontreal.ca">ferrerif@iro.umontreal.ca</a>&gt;:<br>
<a href="/user_uploads/14278/dCGcXBAGYmhp9G1t_2Yc_Alj/Arith.thy">Arith.thy</a></p>



<a name="294122640"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122640" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122640">(Aug 18 2022 at 16:31)</a>:</h4>
<p>From: Francisco Ferreira &lt;<a href="mailto:ferrerif@iro.umontreal.ca">ferrerif@iro.umontreal.ca</a>&gt;<br>
Thank you! <br>
That was really helpful! But I am still having problems, I've checked the tutorial and the reference manual, but in the tutorial the Proof commands are not discussed, and I find the reference manual a bit too advanced, is there a tutorial on the proof command?</p>
<p>Regarding my example I eliminated the problematic rule, and now when I reach the proof of the Pred(Z) rule, I don't know how I prove that Z↓m' is not possible as no rule matches Z</p>
<p>Sorry for the continuos questions, and thanks again for your help,</p>
<p>Francisco<br>
<a href="/user_uploads/14278/sI0A3vWcu1gcxribG-7wSRDn/Arith2.thy">Arith2.thy</a></p>



<a name="294122662"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122662" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122662">(Aug 18 2022 at 16:31)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
The "Tutorial on Isar"[1] covers the proof command.</p>
<p>-- Lars</p>
<p>[1] <a href="http://isabelle.in.tum.de/dist/Isabelle/doc/isar-overview.pdf">http://isabelle.in.tum.de/dist/Isabelle/doc/isar-overview.pdf</a></p>



<a name="294122687"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122687" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122687">(Aug 18 2022 at 16:31)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
Start with proving which form the "n" in "n↓m" has (i.e.<br>
"Succ n'" or "Pred n'"), instead of proving which form it does not have (Z).</p>
<p>-- Lars</p>



<a name="294122761"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122761" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122761">(Aug 18 2022 at 16:32)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
For beginners I would recommend some material I have just put together<br>
for my Semantics course, where I use Isabelle:<br>
<a href="http://www4.in.tum.de/lehre/vorlesungen/semantik/WS1011/">http://www4.in.tum.de/lehre/vorlesungen/semantik/WS1011/</a><br>
Under "Slides and files" you find a proof-pattern-oriented introduction<br>
to Isabelle proofs. Simply stop reading when the Isabelle intro stops<br>
and the Semantics material starts.</p>
<p>This is work in progress and any feedback is warmly appreciated!</p>
<p>Thanks<br>
Tobias</p>
<p>Lars Noschinski schrieb:</p>



<a name="294122900"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122900" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122900">(Aug 18 2022 at 16:32)</a>:</h4>
<p>From: Francisco Ferreira &lt;<a href="mailto:ferrerif@iro.umontreal.ca">ferrerif@iro.umontreal.ca</a>&gt;<br>
Thank you all for your comments, the documents are really useful.<br>
I really liked the slides, it seems to be a great course, I would totally enrol in such a course.<br>
The first part with the motivation and the objectives  presents the subject in an attractive, yet realistic way (with the "The Sad Facts of Life" slides). Additionally I liked the fact that the language that will be studied (IMP) is not a form lambda calculus, that is interesting<br>
Isabelle is a powerful tool, no-one will deny it, but it is also very complex. To illustrate this, one of the demos(Isar_Demo.thy) uses the following tactic</p>
<p>let ?ys = "take n xs"<br>
  have "xs = ?ys @ xs!n # rev ?ys"<br>
    by (metis Suc_le_lessD <code>length xs = Suc (n + n)</code> add_Suc_right add_Suc_shift append_take_drop_id assms diff_add_inverse le_add1 nth_drop' rev_take)<br>
  thus ?thesis by blast<br>
qed</p>
<p>That metis tactic is really scary (I hope that line is automatically generated by sledgehammer or something like that).</p>
<p>That said, I am sure all the complexity problems won't be such in a live course with demos and office hours. As I said, I'd enjoy the course. I am highly interested in the subject, and Isabelle seems like a great tool.</p>
<p>But, even with the documentation, and the fact that I am really trying to understand Isabelle, I just don't get it.</p>
<p>I can't even prove that "step (Pred Z) m ==&gt; m = Z", probably I am just saturated and tired of going in circles.<br>
Thanks,</p>
<p>Francisco<br>
<a href="/user_uploads/14278/58U0-Gew7PHohy2RFbF4coeE/Arith2.thy">Arith2.thy</a></p>



<a name="294122927"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20beginner%27s%20questionu/near/294122927" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20beginner.27s.20questionu.html#294122927">(Aug 18 2022 at 16:32)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;</p>
<blockquote>
<p>let ?ys = "take n xs"<br>
  have "xs = ?ys @ xs!n # rev ?ys"<br>
    by (metis Suc_le_lessD <code>length xs = Suc (n + n)</code> add_Suc_right add_Suc_shift append_take_drop_id assms diff_add_inverse le_add1 nth_drop' rev_take)<br>
  thus ?thesis by blast<br>
qed</p>
<p>That metis tactic is really scary (I hope that line is automatically generated by sledgehammer or something like that).</p>
</blockquote>
<p>Yes, it was found automatically by s/h.</p>
<blockquote>
<p>That said, I am sure all the complexity problems won't be such in a live course with demos and office hours. As I said, I'd enjoy the course. I am highly interested in the subject, and Isabelle seems like a great tool.</p>
<p>But, even with the documentation, and the fact that I am really trying to understand Isabelle, I just don't get it.</p>
<p>I can't even prove that "step (Pred Z) m ==&gt; m = Z", probably I am just saturated and tired of going in circles.</p>
</blockquote>
<p>This lemma is trivial, on one level:</p>
<p>by(blast elim: step.cases)</p>
<p>My slides have carefully avoided explaining this idiom in the beginning,<br>
because elimination rules (this is what "elim" stands for) and how to<br>
modify blast, are advanced concepts. You find some of this under "Rule<br>
inversion" in the IMP part of my slides. What I fail to explain there is<br>
"step.cases". The latter is a case distinction rule: how can "step x y"<br>
have been derived, i.e. like an induction but without the induction<br>
hypothesis.</p>
<p>But my impression from your failed proof attempts is that you did not<br>
quite realize that a case distinction on which rules derived "step (Pred<br>
Z) m" is needed to perform the proof. Here is the structured proof that<br>
exposes the 2 case distinctions you need:</p>
<p>lemma assumes "step (Pred Z) m" shows "m = Z"<br>
using assms<br>
proof cases<br>
  case s_pred_zero thus "m=Z" by simp<br>
next<br>
  case (s_pred m')<br>
  from <code>step Z m'</code> have False<br>
    by cases --"there is no rule with conclusion step Z m"<br>
  thus "m=Z" by blast<br>
qed</p>
<p>The "cases" proof method figures out which rules could have been used to<br>
derive the incoming "step x y".</p>
<p>The assumes-shows-using contortion seems necessary, I could not get the<br>
proof to work with "step (Pred Z) m ==&gt; m = Z", except by making it an<br>
induction instead of a case distinction, which would be misleading.</p>
<p>As a preview of coming attractions: The lemma can now be proved<br>
automatically by s/h, but only with the latest link to smt solvers,<br>
thanks to Jasmin, Sascha, Lukas and Z3!</p>
<p>by (smt arith.simps(5) arith.simps(2) arith.simps(4) arith.simps(8)<br>
step.simps)</p>
<p>Yes, awesome!</p>
<p>Tobias</p>
<blockquote>
<p>Thanks,</p>
<p>Francisco</p>
<hr>
<p>On 2010-11-24, at 3:02 AM, Tobias Nipkow wrote:</p>
<blockquote>
<p>For beginners I would recommend some material I have just put together<br>
for my Semantics course, where I use Isabelle:<br>
<a href="http://www4.in.tum.de/lehre/vorlesungen/semantik/WS1011/">http://www4.in.tum.de/lehre/vorlesungen/semantik/WS1011/</a><br>
Under "Slides and files" you find a proof-pattern-oriented introduction<br>
to Isabelle proofs. Simply stop reading when the Isabelle intro stops<br>
and the Semantics material starts.</p>
<p>This is work in progress and any feedback is warmly appreciated!</p>
<p>Thanks<br>
Tobias</p>
<p>Lars Noschinski schrieb:</p>
<p>On 24.11.2010 05:26, Francisco Ferreira wrote:</p>
<blockquote>
<blockquote>
<p>Thank you!<br>
That was really helpful! But I am still having problems, I've checked<br>
the tutorial and the reference manual, but in the tutorial the Proof<br>
commands are not discussed, and I find the reference manual a bit too<br>
advanced, is there a tutorial on the proof command?<br>
The "Tutorial on Isar"[1] covers the proof command.</p>
</blockquote>
<p>-- Lars</p>
<p>[1] <a href="http://isabelle.in.tum.de/dist/Isabelle/doc/isar-overview.pdf">http://isabelle.in.tum.de/dist/Isabelle/doc/isar-overview.pdf</a></p>
</blockquote>
</blockquote>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>