<html>
<head><meta charset="utf-8"><title>[isabelle] A problem with Auto solve_direct · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20problem.20with.20Auto.20solve_direct.html">[isabelle] A problem with Auto solve_direct</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294646589"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20problem%20with%20Auto%20solve_direct/near/294646589" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20problem.20with.20Auto.20solve_direct.html#294646589">(Aug 22 2022 at 10:32)</a>:</h4>
<p>From: "W. Douglas Maurer" &lt;<a href="mailto:maurer@gwu.edu">maurer@gwu.edu</a>&gt;<br>
I have a write-up in which I am trying to teach my students how to <br>
use Auto solve_direct, using as simple an example as I can come up <br>
with. The example I chose was: If x is a multiple of 4, then so is <br>
x^2. So I started my .thy file by writing<br>
lemma fixes x::int assumes "4 dvd x" shows "4 dvd x*x"<br>
and I immediately got an output message saying<br>
Auto solve_direct: The current goal can be solved directly with<br>
Rings.comm_semiring_1_class.dvd_mult: ?a dvd ?c ==&gt; ?a dvd ?b * ?c<br>
Rings.comm_semiring_1_class.dvd_mult2: ?a dvd ?b ==&gt; ?a dvd ?b * ?c<br>
I want to teach the students that, when they get a message saying <br>
that the current goal can be solved directly with alpha, they should <br>
finish the proof by writing<br>
by (rule alpha)<br>
But in this case, when I tried to finish the proof by writing<br>
by (rule Rings.comm_semiring_1_class.dvd_mult)<br>
it didn't go through.<br>
As it so happens, if I precede this with<br>
using assms<br>
it does go through, but now it doesn't need anything from theory <br>
Rings; it can be proved by simp, which spoils the example of how to <br>
use Auto solve_direct. So I guess my questions are:<br>
Why does Auto solve_direct tell me that a goal can be solved directly <br>
with some rule alpha, when this is actually not the case without <br>
adding using assms?<br>
And if Auto solve_direct assumes that I'm going to try using assms, <br>
why doesn't it then tell me that the current goal can be solved by <br>
simp, instead of pulling something out of theory Rings? Thanks! <br>
-WDMaurer</p>



<a name="294646604"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20problem%20with%20Auto%20solve_direct/near/294646604" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20problem.20with.20Auto.20solve_direct.html#294646604">(Aug 22 2022 at 10:32)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
The assumptions are part of the theorem. After all, nobody would state Fermat’s Last Theorem as </p>
<p>x^n + y^n ~= z^m, </p>
<p>without the preconditions on x, y, z and n.</p>
<p>Regarding your other question: many facts can be proved by simp alone, but here the point is to alert you that your proposed theorem has already been proved in essentially the same form.</p>
<p>Larry Paulson</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>