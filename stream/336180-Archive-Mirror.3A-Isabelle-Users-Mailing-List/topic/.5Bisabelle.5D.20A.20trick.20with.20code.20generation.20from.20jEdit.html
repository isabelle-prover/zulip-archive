<html>
<head><meta charset="utf-8"><title>[isabelle] A trick with code generation from jEdit · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20trick.20with.20code.20generation.20from.20jEdit.html">[isabelle] A trick with code generation from jEdit</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294222020"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20trick%20with%20code%20generation%20from%20jEdit/near/294222020" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20trick.20with.20code.20generation.20from.20jEdit.html#294222020">(Aug 19 2022 at 08:33)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
Hi people out there,</p>
<p>Writing</p>
<p>export_code f1 f2 … in SML file "filename"</p>
<p>is tricky from jEdit. As evaluation occurs as you edit, you get multiple  <br>
files generated in your home directory, as you enter "filename" character  <br>
by character. Ex. you will get one file named "f" then another named  <br>
"filen" then finally another named "filename", all with the same content  <br>
(obviously).</p>
<p>By the way, how do you change the default output directory? Do you have to  <br>
always provide an absolute full path?</p>



<a name="294222159"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20trick%20with%20code%20generation%20from%20jEdit/near/294222159" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20trick.20with.20code.20generation.20from.20jEdit.html#294222159">(Aug 19 2022 at 08:34)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Yannick,</p>
<blockquote>
<p>Writing</p>
<p>export_code f1 f2 … in SML file "filename"</p>
<p>is tricky from jEdit. As evaluation occurs as you edit, you get multiple<br>
files generated in your home directory, as you enter "filename"<br>
character by character. Ex. you will get one file named "f" then another<br>
named "filen" then finally another named "filename", all with the same<br>
content (obviously).</p>
</blockquote>
<p>this, indeed is annoying, but at the moment there is no proper concept<br>
for »Isar commands with side effect« in Isabelle/jEdit.  As a<br>
workaround, I suggest to write something like</p>
<p>export_code … in SML "filename"</p>
<p>in the first instance and then insert the »file« later (this is,<br>
admittedly, a little bit silly).</p>
<blockquote>
<p>By the way, how do you change the default output directory? Do you have<br>
to always provide an absolute full path?</p>
</blockquote>
<p>Currently, the output directory is relative to the current working<br>
directory.  In future Isabelle releases, it will be the master path of<br>
the theory.  There is no default output directory apart from that.  Note<br>
that you can use environment variables $FOO in path specifications if<br>
there is need to organize predefined locations in the file system.</p>
<p>Hope this helps,<br>
    Florian<br>
<a href="/user_uploads/14278/27YY4JGcPLvGV9aHGoGBYzSK/signature.asc">signature.asc</a></p>



<a name="294222221"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20trick%20with%20code%20generation%20from%20jEdit/near/294222221" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20trick.20with.20code.20generation.20from.20jEdit.html#294222221">(Aug 19 2022 at 08:34)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
Le Wed, 08 Aug 2012 20:27:25 +0200, Florian Haftmann  <br>
&lt;<a href="mailto:florian.haftmann-jNDFPZUTrfRoctOpMxdO53BFZrOObVGws0AfqQuZ5sE@public.gmane.org">florian.haftmann-jNDFPZUTrfRoctOpMxdO53BFZrOObVGws0AfqQuZ5sE@public.gmane.org</a>&gt;  <br>
a écrit:</p>
<blockquote>
<p>Hi Yannick,</p>
<blockquote>
<p>Writing</p>
<p>export_code f1 f2 … in SML file "filename"</p>
<p>is tricky from jEdit. As evaluation occurs as you edit, you get multiple<br>
files generated in your home directory, as you enter "filename"<br>
character by character. Ex. you will get one file named "f" then another<br>
named "filen" then finally another named "filename", all with the same<br>
content (obviously).</p>
</blockquote>
<p>this, indeed is annoying, but at the moment there is no proper concept<br>
for »Isar commands with side effect« in Isabelle/jEdit.  As a<br>
workaround, I suggest to write something like</p>
<p>export_code … in SML "filename"</p>
<p>in the first instance and then insert the »file« later (this is,<br>
admittedly, a little bit silly).</p>
</blockquote>
<p>Seems strange indeed, but not that much blocking anyway. Was to drop a  <br>
note in case no body noticed.</p>
<blockquote>
<blockquote>
<p>By the way, how do you change the default output directory? Do you have<br>
to always provide an absolute full path?</p>
</blockquote>
<p>Currently, the output directory is relative to the current working<br>
directory.  In future Isabelle releases, it will be the master path of<br>
the theory.  There is no default output directory apart from that.  Note<br>
that you can use environment variables $FOO in path specifications if<br>
there is need to organize predefined locations in the file system.</p>
</blockquote>
<p>OK, I didn't know shell variables was allowed there. After you said the  <br>
output directory it the current directory, I've just updated the launcher  <br>
which opens*.thy file, so that it switch to the theory file's directory  <br>
prior to the invocation of “isabelle jedit "$1"” (cd <code>dirname "$1"</code> in a  <br>
wrapper script, if your environment have bash). That do the thing, as  <br>
output in the theory directory (or a subfolder of), is what one probably  <br>
expect.</p>
<blockquote>
<p>Hope this helps,<br>
  Florian<br>
</p>
</blockquote>
<p>Yes, it did!</p>



<a name="294222256"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20A%20trick%20with%20code%20generation%20from%20jEdit/near/294222256" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20A.20trick.20with.20code.20generation.20from.20jEdit.html#294222256">(Aug 19 2022 at 08:35)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The current working directory is indeed not so well-defined for GUI <br>
applications like jEdit, especially on Windows and Mac OS.  We are moving <br>
more and more towards the "master directory" concept, i.e. files are <br>
located relatively to the theory where you are working.</p>
<p>Concerning shell variables in path specifications: both Isabelle and jEdit <br>
have their ways to integrate that.  Isabelle always uses Posix notation, <br>
extended by $VARIABLE from the environment, or the special ~ (for <br>
$USER_HOME) and ~~ for ($ISABELLE_HOME).</p>
<p>jEdit does another job here: the file browser accepts platform environment <br>
variables.  So $ISABELLE_HOME will work here only for POSIX systems. <br>
I've added an alias $ISABELLE_HOME_WINDOWS for just that, using MSDOS <br>
notation, but that is not a real solution.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>