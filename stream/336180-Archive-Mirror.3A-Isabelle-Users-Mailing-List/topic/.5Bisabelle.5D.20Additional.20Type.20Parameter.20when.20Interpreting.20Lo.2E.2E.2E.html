<html>
<head><meta charset="utf-8"><title>[isabelle] Additional Type Parameter when Interpreting Lo... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20Type.20Parameter.20when.20Interpreting.20Lo.2E.2E.2E.html">[isabelle] Additional Type Parameter when Interpreting Lo...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294636689"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Additional%20Type%20Parameter%20when%20Interpreting%20Lo.../near/294636689" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20Type.20Parameter.20when.20Interpreting.20Lo.2E.2E.2E.html#294636689">(Aug 22 2022 at 09:27)</a>:</h4>
<p>From: Julian Brunner &lt;<a href="mailto:julianbrunner@gmail.com">julianbrunner@gmail.com</a>&gt;<br>
Dear all,</p>
<p>I recently stumbled upon the following behavior in Isabelle which I<br>
find surprising and which affects me negatively. In the attached<br>
theory, the constant "bar" is defined in the locale "foo". This locale<br>
is then interpreted as "baz" using a 'for' clause to retain the<br>
parameter "f".</p>
<p>I had expected that "<a href="http://baz.bar">baz.bar</a>" would be "% f. <a href="http://foo.bar">foo.bar</a> f 0" :: "('a =&gt;<br>
'b) =&gt; 'b". Instead, it is "% type f. <a href="http://foo.bar">foo.bar</a> f 0" :: "'a itself =&gt;<br>
('a =&gt; 'b) =&gt; 'b". Why is there a type parameter, given that the type<br>
variable "'a" is already determined by the parameter "f"? It seems<br>
that Andreas Lochbihler has already stumbled upon the same issue<br>
(<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2010-April/msg00029.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2010-April/msg00029.html</a>),<br>
but it did not get any replies. It seems that everything works when I<br>
instantiate the parameter "type" with "TYPE('a)", but I would prefer<br>
if I didn't have to do that.</p>
<p>Regards,<br>
 Julian<br>
<a href="/user_uploads/14278/v2HEptMTvbAPrQar44y_XIPl/TypeParameter.thy">TypeParameter.thy</a></p>



<a name="294639001"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Additional%20Type%20Parameter%20when%20Interpreting%20Lo.../near/294639001" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20Type.20Parameter.20when.20Interpreting.20Lo.2E.2E.2E.html#294639001">(Aug 22 2022 at 09:41)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Julian,</p>
<p>this is an instance of the problem of hidden polymorphism, which is<br>
difficult to deal with in the presence of arbitrary interpretation<br>
morphisms.</p>
<p>The phantom parameter you experience will vanish immediately if the 'a<br>
parameter is instantiated to a fixed type.</p>
<p>Florian<br>
<a href="/user_uploads/14278/xrM9aSaSWsG3bSaJe7djZwI3/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>