<html>
<head><meta charset="utf-8"><title>[isabelle] Additional type variable(s) in specification · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20type.20variable.28s.29.20in.20specification.html">[isabelle] Additional type variable(s) in specification</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294255891"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Additional%20type%20variable%28s%29%20in%20specification/near/294255891" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20type.20variable.28s.29.20in.20specification.html#294255891">(Aug 19 2022 at 12:36)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Hi,</p>
<p>I’m having a problem with function definitions in a locale with type<br>
parameters. I reduced it to the following non-sensical code:</p>
<p>locale semantic_domain =<br>
          fixes tick :: "'Value ⇒ 'Value"<br>
        begin</p>
<p>function<br>
          myfun :: "unit ⇒ 'Value ⇒ 'Value"<br>
        where<br>
          "myfun () = (λ x. tick (myfun () x))"<br>
        oops</p>
<p>Gives me <br>
        Additional type variable(s) in specification of "myfun_rel": 'Value <br>
        Additional type variable(s) in specification of "myfun_dom": 'Value </p>
<p>It does not happen with the parameter on the LHS:</p>
<p>function<br>
          myfun :: "unit ⇒ 'Value ⇒ 'Value"<br>
        where<br>
          "myfun () x = tick (myfun () x)"</p>
<p>nor with out the locale parameter:</p>
<p>function<br>
          myfun :: "unit ⇒ 'Value ⇒ 'Value"<br>
        where<br>
          "myfun () = (λ x. (myfun () x))"<br>
        oops</p>
<p>Unfortunately, this does not help me in my real use-case (I’m using<br>
nominal_primrec, not function, and the "λ x" is indeed a "Λ x" from<br>
HOLCF, so I cannot put the argument on the left).</p>
<p>Is there another way to prevent that problem?</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/A-5maPPbssOj0uC9RnLC0_4g/signature.asc">signature.asc</a></p>



<a name="294256066"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Additional%20type%20variable%28s%29%20in%20specification/near/294256066" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Additional.20type.20variable.28s.29.20in.20specification.html#294256066">(Aug 19 2022 at 12:37)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Hi,</p>
<p>let me add that, although I originally thought that this was a cause for<br>
my proofs to fail, it turned out that that is not the case. So the<br>
warnings are there, but are not causing any problems.</p>
<p>If there is a way to avoid them I’d still like to know, but it is in no<br>
way critical.</p>
<p>Thanks,<br>
Joachim<br>
<a href="/user_uploads/14278/XCiQxMYlPUk67fdobEJaK3g6/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>