<html>
<head><meta charset="utf-8"><title>[isabelle] Another newbie question...case-based proofs · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html">[isabelle] Another newbie question...case-based proofs</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294752340"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752340" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752340">(Aug 22 2022 at 19:18)</a>:</h4>
<p>From: "John F. Hughes" &lt;<a href="mailto:jfh@cs.brown.edu">jfh@cs.brown.edu</a>&gt;<br>
I'd like to write an Isar proof about lines in the cartesian plane in a<br>
deliberately basic way.</p>
<p>I've got distinct points (x0,y0) and (x1, y1), and want to show that<br>
there's a line between them. "lines" are represented either by a pair (m,<br>
b), describing the line y = mx + b, or by a number c, representing the line<br>
x = c.</p>
<p>The natural proof for me as a mathematician splits into two cases: 1. where<br>
x0 = x1 (in which case we know that y0 is not equal to y1, and can build<br>
the vertical line at x = x0) , or</p>
<ol start="2">
<li>Where x0 is not equal to x1, in which case I can compute the slope and<br>
intercept and construct an ordinary line to show existence.</li>
</ol>
<p>I've made choices about datatypes that you may find non-idiomatic, but I<br>
made them on purpose, and I suspect that every if they're not idiomatic,<br>
they should be usable --- they don't seem to me to express anything that's<br>
an incorrect model of my geometric question. My <em>real</em> question is about<br>
how to write case-based proofs of the kind described above.</p>
<p>So here's what I tried:</p>
<p>datatype a2pt = A2Point "real" "real"</p>
<p>datatype a2ln = A2Ordinary "real" "real"<br>
                | A2Vertical "real"</p>
<p>lemma A2_a1: "P ≠ Q ⟹ ∃! l . a2meets P l ∧ a2meets Q l"</p>
<p>When I typed</p>
<p>proof cases</p>
<p>I was offered a template for case-proofs, namely<br>
proof cases<br>
    case True<br>
    then show ?thesis sorry<br>
  next<br>
    case False<br>
    then show ?thesis sorry<br>
  qed</p>
<p>but the line 'case True' (which I frankly don't understand) was highlighted<br>
with the response 'Illegal schematic variable(s) in case "True" '</p>
<p>I tried editing a little, to<br>
proof<br>
    fix x0 y0 assume "P = (A2Point x0 y0)"<br>
    fix x1 y1 assume "Q = (A2Point x1 y1)"<br>
    proof cases</p>
<p>...but that got me a "Illegal application of proof command in "state" mode"<br>
error, which I cannot find in any of the explanatory material I've seen<br>
about Isabelle (indeed, the term "state mode" eludes me as well).</p>
<p>Putting the two "fix" lines within the cases proof helped a little:</p>
<p>proof cases<br>
    fix x0 y0 assume "P = (A2Point x0 y0)"<br>
    fix x1 y1 assume "Q = (A2Point x1 y1)"<br>
    case True<br>
    then show ?thesis sorry...</p>
<p>but the "case True" still produced an error. I thought maybe I could state<br>
a case that actually meant what I intended, so I tried</p>
<p>lemma A2_a1: "P ≠ Q ⟹ ∃! l . a2meets P l ∧ a2meets Q l"<br>
proof cases<br>
    fix x0 y0 assume "P = (A2Point x0 y0)"<br>
    fix x1 y1 assume "Q = (A2Point x1 y1)"<br>
    case "(x0 = x1)"<br>
    ...</p>
<p>but that base statement generated an error "Undefined case: "(x0 = x1)"⌂".</p>
<p>I'd appreciate any hints you can give.</p>



<a name="294752357"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752357" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752357">(Aug 22 2022 at 19:18)</a>:</h4>
<p>From: "John F. Hughes" &lt;<a href="mailto:jfh@cs.brown.edu">jfh@cs.brown.edu</a>&gt;<br>
Gene Stark points out that without the whole Theory file, it's not clear<br>
what I'm up to. I've attached it here, in hopes that this gets it to the<br>
rest of the distribution list.<br>
-John<br>
<a href="/user_uploads/14278/KYKcTy1iQ0AJofRfN6egfFW8/Question4.thy">Question4.thy</a></p>



<a name="294752376"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752376" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752376">(Aug 22 2022 at 19:18)</a>:</h4>
<p>From: Thomas Sewell &lt;<a href="mailto:sewell@chalmers.se">sewell@chalmers.se</a>&gt;<br>
Hi John. It's raining where I am, so I had a go at your proof.</p>
<p>BTW, when posting examples like this, it can be useful to include all relevant definitions. I had to guess at your definition of "a2meets", so it's possible my proof script below won't work for you.</p>
<p>It looks like you've hit a few cases involving unexpected defaults.</p>
<p>Firstly, to explain your problem, when you type "proof cases" the system has gone into a strange state involving a thing called a schematic variable. It's not actually irrecoverable, but you generally don't want this. Usually cases takes an argument, which is a term whose type has a case-division principle. In the absence of an argument, it's picked an unknown (schematic) value of type bool, with cases True and False.</p>
<p>In one of your later attempts, BTW, you've hit another slightly unusual default. If you just type "proof" without saying what kind of proof, the system tries to perform one step by a default rule. Here it picked the rule ex1I, which you can have a look at ( type thm ex1I somewhere ). Until you understand the system better, I'd recommend you type "proof -", which is proof without any steps.</p>
<p>One more note on your email, if you tick the "Proof state" box in the output panel, you'll see that parser for structure proofs alternates between "proof (state)" mode and "proof (prove)" mode. I would describe the first as forward-style, where you're expected to state some new fact to prove, and the second as backward-style, where you're expected to work on a goal that has been somehow stated.</p>
<p>Anyway. Since we want to use ex1I eventually, I had a go at building a structured proof in which I construct the required premises. The thesis in each case is then proven "by auto", which knew to use the default rules. I haven't proven all the bits, and if your a2meets definition is different to mine then my proof steps might not apply. I hope that clarifies a bit.</p>
<p>Cheers,</p>
<p>Thomas.</p>
<p>fun pt_x :: "a2pt ⇒ real" where<br>
  "pt_x (A2Point x y) = x"</p>
<p>fun pt_y :: "a2pt ⇒ real" where<br>
  "pt_y (A2Point x y) = y"</p>
<p>definition<br>
  "a2meets P l = (case l of A2Ordinary m b ⇒ pt_y P = (m * pt_x P) + b<br>
    | A2Vertical c ⇒ pt_x P = c)"</p>
<p>lemma A2_a1: "P ≠ Q ⟹ ∃! l . a2meets P l ∧ a2meets Q l"<br>
proof (cases "pt_x P = pt_x Q")<br>
  case True<br>
  assume PQ: "P ≠ Q"<br>
  define l where "l = A2Vertical (pt_x P)"<br>
  have meets: "a2meets P l ∧ a2meets Q l"<br>
    by (simp add: l_def a2meets_def True)<br>
  from PQ True have iff: "a2meets P l' ∧ a2meets Q l' ⟶ l' = l" for l'<br>
    apply (clarsimp simp: a2meets_def l_def split: a2ln.split)<br>
    apply (cases P; cases Q; clarsimp)<br>
    done<br>
  from meets iff show ?thesis<br>
    by auto<br>
next<br>
  case False<br>
  define m where "m = (pt_y Q - pt_y P) / (pt_x Q - pt_x P)"<br>
  have "∃b. a2meets P (A2Ordinary m b) ∧ a2meets Q (A2Ordinary m b)"<br>
    apply (simp add: a2meets_def m_def)<br>
    apply (simp add: algebra_simps)<br>
    sorry<br>
  then obtain b where b: "a2meets P (A2Ordinary m b) ∧ a2meets Q (A2Ordinary m b)"<br>
    ..<br>
  define l where "l = A2Ordinary m b"<br>
  note meets = b[folded l_def]<br>
  have iff: "a2meets P l' ∧ a2meets Q l' ⟶ l' = l" for l'<br>
    sorry<br>
  from meets iff show ?thesis<br>
    by auto<br>
qed</p>



<a name="294752392"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752392" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752392">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: "John F. Hughes" &lt;<a href="mailto:jfh@cs.brown.edu">jfh@cs.brown.edu</a>&gt;<br>
Thanks, this is great. I <em>do</em> seem to have a knack for colliding with the<br>
rough edges of things, alas. Your explanations help here.</p>
<p>You correctly guessed the meaning of a2meets, although my version</p>
<p>fun a2meets :: "a2pt ⇒ a2ln ⇒ bool" where<br>
    "a2meets (A2Point x y) (A2Ordinary m b) = (y = m*x + b)" |<br>
    "a2meets (A2Point x y) (A2Vertical xi) = (x = xi)"</p>
<p>is less pretty than yours.</p>
<p>I think that with your structure, I can probably fill in the rest, but in<br>
at least one respect, I'll be just copying-without-understanding. When you<br>
write</p>
<p>from PQ True have iff: "a2meets P l' ∧ a2meets Q l' ⟶ l' = l" for l'</p>
<p>can you tell me what the "for l' " at the end means? It appears redundant<br>
to me, but I'm sure it's not.</p>
<p>--John</p>



<a name="294752419"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752419" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752419">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: Thomas Sewell &lt;<a href="mailto:sewell@chalmers.se">sewell@chalmers.se</a>&gt;<br>
Ah yes, it's really a for-all. It's another technicality. If you type a free variable in a normal lemma statement, it becomes free in the resulting theorem. The equivalent doesn't happen by default for inner statements within proof blocks because the variable scopes are a bit more complicated.</p>
<p>It would have been simpler if I'd stated the goal as have iff: "∀l'. a2meets P l' ∧ a2meets Q l' ⟶ l' = l"</p>
<p>Cheers,</p>
<p>Thomas.</p>



<a name="294752434"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752434" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752434">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
John -</p>
<p>I had a go at it as well, and came up with the attached.<br>
I didn't try to streamline it more.  I am not very good at the use of the cases<br>
feature, so things are probably more verbose here than what they need to be.</p>
<p>- Gene Stark</p>
<p>theory Question4<br>
imports Complex_Main<br>
begin<br>
  datatype a2pt = A2Point "real" "real"<br>
  datatype a2ln = A2Ordinary "real" "real"<br>
                | A2Vertical "real"<br>
  text "Ordinary m b represents the line y = mx+b; Vertical xo is the line x = xo "</p>
<p>fun a2meets :: "a2pt ⇒ a2ln ⇒ bool" where<br>
    "a2meets (A2Point x y) (A2Ordinary m b) = (y = m*x + b)" |<br>
    "a2meets (A2Point x y) (A2Vertical xi) = (x = xi)"</p>
<p>lemma A2_a1: "P ≠ Q ⟹ ∃! l . a2meets P l ∧ a2meets Q l"<br>
  proof -<br>
    assume P_ne_Q: "P ≠ Q"<br>
    show "∃! l . a2meets P l ∧ a2meets Q l"<br>
    proof (cases P, cases Q)<br>
      fix px py qx qy<br>
      assume P: "P = A2Point px py"<br>
      assume Q: "Q = A2Point qx qy"<br>
      show "∃! l . a2meets P l ∧ a2meets Q l"<br>
      proof (cases "px = qx")<br>
        assume eq: "px = qx"<br>
        show "∃!l. a2meets P l ∧ a2meets Q l"<br>
        proof<br>
          show "a2meets P (A2Vertical px) ∧ a2meets Q (A2Vertical px)"<br>
            using P Q eq by simp<br>
          show "⋀l. a2meets P l ∧ a2meets Q l ⟹ l = A2Vertical px"<br>
          proof -<br>
            fix l<br>
            show "a2meets P l ∧ a2meets Q l ⟹ l = A2Vertical px"<br>
            proof (cases l)<br>
              show "⋀m b. a2meets P l ∧ a2meets Q l ⟹ l = A2Ordinary m b ⟹ l = A2Vertical px"<br>
                using P Q P_ne_Q eq by simp<br>
              show "⋀x. a2meets P l ∧ a2meets Q l ⟹ l = A2Vertical x ⟹ l = A2Vertical px"<br>
                using P by simp<br>
            qed<br>
          qed<br>
        qed<br>
        next<br>
        assume neq: "px ≠ qx"<br>
        show "∃!l. a2meets P l ∧ a2meets Q l"<br>
        proof<br>
          let ?m = "(qy - py)/(qx - px)"<br>
          let ?b = "py - ?m * px"<br>
          have *: "py = ?m * px + ?b ∧ qy = ?m * qx + ?b"<br>
          proof -<br>
            have "?m * qx - ?m * px + py = ?m * (qx - px) + py"<br>
              by argo<br>
            also have "... = qy - py + py"<br>
              using neq by simp<br>
            also have "... = qy"<br>
              by simp<br>
            finally show ?thesis by simp<br>
          qed<br>
          show "a2meets P (A2Ordinary ?m ?b) ∧ a2meets Q (A2Ordinary ?m ?b)"<br>
            using * P Q by simp<br>
          show "⋀l. a2meets P l ∧ a2meets Q l ⟹ l = A2Ordinary ?m (py - ?m * px)"<br>
          proof -<br>
            fix l<br>
            assume l: "a2meets P l ∧ a2meets Q l"<br>
            show "l = A2Ordinary ?m (py - ?m * px)"<br>
            proof (cases l)<br>
              case (A2Ordinary m b)<br>
              assume 1: "l = A2Ordinary m b"<br>
              have "py = m * px + b ∧ qy = m * qx + b"<br>
                using P Q l 1 by simp<br>
              hence "m = ?m ∧ b = ?b"<br>
                using neq by (smt "<em>" crossproduct_noteq)  (</em> Found with sledgehammer *)<br>
              thus "l = A2Ordinary ?m ?b"<br>
                using 1 by simp<br>
            next<br>
              case (A2Vertical x)<br>
              assume 1: "l = A2Vertical x"<br>
              then show "l = A2Ordinary ?m ?b"<br>
                (*</p>
<p>* This is false, something of the form A2Vertical cannot equal<br>
                 * something of the form A2Ordinary (the datatype is freely generated<br>
                 * by its constructors).<br>
                 *</p>
<p>* So uniqueness fails because if l = A2Vertical x with x = px and x = qx<br>
                 * then a2meets P l and a2meets Q l according to your definition.<br>
                 *)<br>
                sorry<br>
            qed<br>
          qed<br>
        qed<br>
      qed<br>
    qed<br>
  qed</p>
<p>end<br>
<a href="/user_uploads/14278/mP42Tg3Tx3OL2Qe-eAUwOi13/Question4.thy">Question4.thy</a></p>



<a name="294752449"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752449" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752449">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
Oops, it is true.  I was a bit too hasty and overlooked the assumption in force:</p>
<p>next<br>
              case (A2Vertical x)<br>
              assume 1: "l = A2Vertical x"<br>
              then show "l = A2Ordinary ?m ?b"<br>
                using 1 P Q l neq by simp<br>
            qed</p>
<p>(erroneous previous posting)</p>



<a name="294752473"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752473" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752473">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: "Nagashima, Yutaka" &lt;<a href="mailto:Yutaka.Nagashima@uibk.ac.at">Yutaka.Nagashima@uibk.ac.at</a>&gt;<br>
Hi Dr. Wenzel and other Isabelle developers,</p>
<blockquote>
<p>One more note on your email, if you tick the "Proof state" box in the output panel, <br>
you'll see that parser for structure proofs alternates <br>
between "proof (state)" mode and "proof (prove)" mode.</p>
</blockquote>
<p>Would it be possible to have this "proof state" box ticked by default in the next official Isabelle distribution?<br>
It is a small thing that could help new Isabelle users, I think.</p>
<p>Last week I gave an introductory lecture about Isabelle to Mathematics students.<br>
With the "proof state" box unticked, all the four students were confused about their proof attempts,<br>
until I looked into their displays and told them to tick the box.<br>
...And it was their second Isabelle session.</p>
<p>I saw a similar confusion when my (CS) colleagues installed Isabelle for the first time.</p>
<p>Regards,<br>
Yutaka</p>



<a name="294752486"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752486" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752486">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
I second this request, but I remember that, a few years ago, there were<br>
strong arguments for using Isabelle without the output display at all,<br>
and use mouse hovering over the squiggly lines to review errors and<br>
warnings ... I never got used to this, in particular b/c of the waiting<br>
time until the tooltip pops up after hovering and the keyboard/mouse<br>
switching. It simply interferes with my workflow.</p>



<a name="294752502"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752502" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752502">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I have introduced this default some years ago specifically for new users<br>
(notable those who have not been spoilt yet by old-style TTY-based proof<br>
assistants). At the same time I also introduced the State dockable as<br>
alternative to it. Current users can rather trivially arrange their<br>
default GUI for the preferred setup: either old-style Output with proof<br>
state enabled, or new-style State which is specifically for the proof state.</p>
<p>I've given several 1-2 day courses of Isabelle where the first 1/2 day<br>
worked very well without ever showing Output or its old-fashioned proof<br>
state within it. Recall that Isabelle/Isar is about proof documents, not<br>
"proof scripts". So there is one main document editor where you compose<br>
your text; everything else is somewhere in the background.</p>
<p>Further note that the State panel has various technological advantages<br>
over implicit output of states via the Output panel: the State GUI can<br>
interact more directly with the prover, without requiring changes to<br>
commands in the text. In the next round of refinement, the State panel<br>
will get more buttons and options to help interactive development of<br>
proof documents in the main buffer.</p>
<p>The optional proof state in the Output panel will not participate in<br>
further upgrades, and might eventually fall out of use.</p>
<p>Makarius</p>



<a name="294752518"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752518" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752518">(Aug 22 2022 at 19:19)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
The output panel is the most useful panel in the entire display.<br>
Maybe even more useful than the source panel.</p>
<p>- Gene Stark</p>



<a name="294752565"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752565" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752565">(Aug 22 2022 at 19:20)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Until I read your e-mail I hadn’t known that there was a “State<br>
dockable”: the output tab is visible by default, the state dockable is<br>
not.</p>
<p>Now I tried out the State dockable and found that it showed either<br>
nothing or the text that was also shown in the Output tab. Thus I don’t<br>
know currently what the advantage of the State dockable over the Output<br>
tab is.</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294752614"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752614" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752614">(Aug 22 2022 at 19:20)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Dear all,</p>
<p>just as another data point.</p>
<p>I am currently using the approach advertised (I think) by Makarius that<br>
Peter mentioned before, in an Isabelle course.</p>
<p>Up to now there was only a single (3 hour) session, but maybe the first<br>
one is most critical.</p>
<p>In this session I never even opened either the output or state panels<br>
(neither did I use "apply", for that matter).</p>
<p>Instead I told students to start from a proof attempt along the lines of</p>
<p>by (induction ...) auto</p>
<p>and then consult the resulting error message (click on the squiggly<br>
underline) for what they might be missing.</p>
<p>By the end of the session all (18) students had solved all exercises and<br>
I am not aware of any confusion caused by not using the output panel.</p>
<p>cheers</p>
<p>chris</p>



<a name="294752667"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752667" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752667">(Aug 22 2022 at 19:20)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I only use the output panel for one thing: the “explore” tool. (A very useful add-on: it transforms your current proof state into explicit Isar text for writing your structured proof.) That’s because the formatting is better from the output panel. I certainly hope that “explore” will find its way into a release soon.</p>
<p>Larry</p>



<a name="294752683"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752683" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752683">(Aug 22 2022 at 19:21)</a>:</h4>
<p>From: Nemouchi Yakoub &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
Dear all,</p>
<p>Big proofs related to very low level operations like proofs on VAMPasm<br>
operations in the VerifSoft project are almost impossible without an output<br>
panel.<br>
Similar to any functional correctness proofs related to system level<br>
operations.</p>
<p>Best wishes,</p>
<p>Yakoub.</p>



<a name="294752717"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752717" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752717">(Aug 22 2022 at 19:21)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
This means they have to use the mouse and explicitly close error message<br>
windows. Such a workflow would be pretty uncomfortable for me.</p>
<p>In general, I’d appreciate it a lot if the Isabelle IDE could be made<br>
more comfortable for people who mostly use the keyboard and can get on<br>
speed with it. In particular, it would be great if the completion<br>
mechanism could be improved.</p>
<p>Currently you have to wait a bit before you can complete macros for<br>
symbols with the tab key. That’s very annoying if you are used to type<br>
fluently, because you have to make artificial breaks in your typing. In<br>
order to not delay your typing more than necessary, you have the<br>
incentive to make those breaks as short as possible, but this may lead<br>
to too short a break, with the consequence that you have to delete<br>
several characters and start over again.</p>
<p>Another problem with the completion mechanism is that a completion list<br>
sometimes pops up when you don’t need it (typically after entering a<br>
quotation mark), and then you cannot navigate the cursor up or down.</p>
<p>Could this situation be improved, or are these things too much wired<br>
into jEdit?</p>
<p>By the way, have there been any attempts so far to integrate Isabelle<br>
into Vim?</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294752730"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752730" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752730">(Aug 22 2022 at 19:21)</a>:</h4>
<p>From: Nemouchi Yakoub &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
For auto completion, there is an option somewhere in preferences that make<br>
it faster. And sorry could not remember where exactly (emailing from my<br>
phone).</p>
<p>Best wishes</p>



<a name="294752759"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752759" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752759">(Aug 22 2022 at 19:21)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi</p>
<blockquote>
<p>In general, I’d appreciate it a lot if the Isabelle IDE could be made<br>
more comfortable for people who mostly use the keyboard and can get<br>
on<br>
speed with it. In particular, it would be great if the completion<br>
mechanism could be improved.</p>
</blockquote>
<p>You can set "completion delay" to 0 in the options ... that's one of<br>
the first things I do when I set up a new Isabelle version! The upside<br>
is that hardcoded completions (eg unicode symbols) come up immediately.<br>
The downside is that dynamic completions (eg lemma names) that come<br>
from Isabelle through PIDE are not yet there ... you'll have to press<br>
CTRL-B (or whatever shortcut you have for auto-completion), to also<br>
make these completions appear.</p>
<blockquote>
<p>Another problem with the completion mechanism is that a completion<br>
list<br>
sometimes pops up when you don’t need it (typically after entering a<br>
quotation mark), and then you cannot navigate the cursor up or down.</p>
</blockquote>
<p>I think you can configure this in etc/symbols. The one on quotation<br>
marks was introduced to remember the user that cartouches should be<br>
used where possible, instead of quots.</p>



<a name="294752818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294752818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294752818">(Aug 22 2022 at 19:21)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
This is the first time I hear that inner syntax parts can be enclosed by<br>
cartouches instead of quotation marks. That also backquotes can be<br>
replaced by cartouches was something I learned only after using Isabelle<br>
for several months. Could the <code>prog-prove</code> tutorial be updated to<br>
reflect these new conventions? I think this tutorial is the best<br>
document to get into Isabelle and consequently should be up to date.</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294753866"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294753866" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294753866">(Aug 22 2022 at 19:28)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
No, Isabelle is moving in the opposite direction.</p>
<p>I recommend HOL4 in that respect.</p>
<p>Makarius</p>



<a name="294753996"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294753996" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294753996">(Aug 22 2022 at 19:30)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
See Isabelle2091-RC0/src/HOL/ex/Sketch_and_Explore.thy with these<br>
experimental commands by Florian Haftmann. The use of Output is<br>
accidental: since these are old-fashioned commands typed into the source<br>
buffer, output is displayed as on a TTY.</p>
<p>I've recently had a private discussion with Florian about this  topic.<br>
We both agreed that the proper way is to integrate such a feature into<br>
the State GUI panel, i.e. to continue it towards an interactive<br>
sketchpad for goal-oriented proof development. When this happens, the<br>
Output panel will be de-emphasized one step further (because it will<br>
stay unchanged and not follow this trend).</p>
<p>Makarius</p>



<a name="294754182"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294754182" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294754182">(Aug 22 2022 at 19:31)</a>:</h4>
<p>From: Mathias Fleury &lt;<a href="mailto:mathias.fleury12@gmail.com">mathias.fleury12@gmail.com</a>&gt;</p>
<blockquote>
<p>On 5. Apr 2019, at 12:21, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<p>On 12/03/2019 17:15, Wolfgang Jeltsch wrote:</p>
<blockquote>
<p>By the way, have there been any attempts so far to integrate Isabelle<br>
into Vim?</p>
</blockquote>
<p>No, Isabelle is moving in the opposite direction.</p>
</blockquote>
<p>As long as Isabelle supports the language server protocol, it is possible to make vim interact with Isabelle (with some limitations; e.g., there are no colours in the equivalent of the 'buffer+output buffer'). However, the integration requires some work. I don't know anything about the internals of vim, but, at least in emacs, the lack of multithreading is an issue.</p>
<p>Otherwise, VSCode probably has a mode with vim keybindings.</p>
<p>Mathias</p>
<blockquote>
<p>I recommend HOL4 in that respect.</p>
<p>Makarius<br>
</p>
</blockquote>



<a name="294754228"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294754228" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294754228">(Aug 22 2022 at 19:31)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 05/04/2019 13:31, Mathias Fleury wrote:</p>
<blockquote>
<p>As long as Isabelle supports the language server protocol, it is possible to make vim interact with Isabelle (with some limitations; e.g., there are no colours in the equivalent of the 'buffer+output buffer'). However, the integration requires some work. I don't know anything about the internals of vim, but, at least in emacs, the lack of multithreading is an issue.</p>
</blockquote>
<p>I would say that is rather theoretical. A really working Prover IDE<br>
requires a lot of polishing and finishing beyond such standardized (and<br>
limited) protocols.</p>
<blockquote>
<p>Otherwise, VSCode probably has a mode with vim keybindings.</p>
</blockquote>
<p>It has one, but vim users have told me that it is not very serious. I<br>
also see a vi mode in IntelliJ IDEA, but cannot say anything about its<br>
quality.</p>
<p>Generally, one needs to understand that Isabelle came out of an Emacs<br>
environment, but in the past 7 years that has been lost its relevance.<br>
Since 4.5 years there is no way to get back to it.</p>
<p>Vi never had a role in the Isabelle community. It is a plain text<br>
editor, not the basis of a multithreaded IDE.</p>
<p>Makarius</p>



<a name="294754323"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Another%20newbie%20question...case-based%20proofs/near/294754323" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Another.20newbie.20question.2E.2E.2Ecase-based.20proofs.html#294754323">(Aug 22 2022 at 19:32)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Just as historic fun fact: in 2007 I supervised a bachelor project that<br>
developed a vim plugin ("Plugvim") for interacting with "Isabelle". It<br>
kind of worked at that time (when Isabelle itself was in the end just a<br>
REPL), but never for serious work. Anyway, it is long forgotten (or<br>
rather never took of in the first place) and even though I am using vim<br>
for most everything except when working with Isabelle, I am not looking<br>
back: The continuous and parallel proof checking and semantic<br>
information that comes with the Prover IDE is just too valuable.</p>
<p>cheers</p>
<p>chris</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>