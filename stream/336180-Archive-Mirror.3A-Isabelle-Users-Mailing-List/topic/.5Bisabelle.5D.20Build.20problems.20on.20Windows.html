<html>
<head><meta charset="utf-8"><title>[isabelle] Build problems on Windows · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html">[isabelle] Build problems on Windows</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294652805"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294652805" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294652805">(Aug 22 2022 at 11:13)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 15 Sep 2015, Lars Hupel wrote:</p>
<blockquote>
<p>Unknown logic "Codec" -- no heap file found in:</p>
<p>(This is using PIDE '<a href="http://isabelle.Build.build">isabelle.Build.build</a>', not the command line<br>
'isabelle build'.)</p>
</blockquote>
<p>What happens with the shell command-line tool?</p>
<blockquote>
<p>The same happens when building in system mode. What's strange is that<br>
the "Codec" session doesn't list its theory files (verbose is on).</p>
</blockquote>
<p>The log file looks like nothing actually happened.  Somehow the build <br>
process was aborted, shortly after starting up the ML process.</p>
<blockquote>
<p>It works just fine on another Windows box. Any ideas?</p>
<p>Environment: 32 bit, Windows Server 2012 R2</p>
</blockquote>
<p>Does the other Windows box have the same version of Windows?</p>
<p>Makarius</p>



<a name="294652825"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294652825" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294652825">(Aug 22 2022 at 11:13)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>What happens with the shell command-line tool?</p>
</blockquote>
<p>I'm not sure how to invoke that. This is a headless installation where I<br>
simply extracted the Tarball (which worked perfectly on the other machine).</p>
<blockquote>
<p>Does the other Windows box have the same version of Windows?</p>
</blockquote>
<p>No, it's got Windows 10.</p>



<a name="294654835"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294654835" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294654835">(Aug 22 2022 at 11:26)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear list,</p>
<p>I'm seeing a strange problem when building under Windows:</p>
<p>Session Pure/Pure<br>
Session Unsorted/Codec<br>
Session Unsorted/Protocol2015<br>
Building Pure ...<br>
chmod:<br>
/cygdrive/c/Users/appveyor/.isabelle/Isabelle2015/heaps/polyml-5.5.2_x86-cygwin/Pure:<br>
new permissions are r--rwxr--, not r--r-xr--<br>
Finished Pure (0:00:25 elapsed time, 0:00:13 cpu time, factor 0.52)<br>
Building Codec ...<br>
Finished Codec (0:00:04 elapsed time, 0:00:00 cpu time)<br>
Building Protocol2015 ...<br>
Unknown logic "Codec" -- no heap file found in:</p>
<p>/cygdrive/c/Users/appveyor/.isabelle/Isabelle2015/heaps/polyml-5.5.2_x86-cygwin</p>
<p>/cygdrive/c/projects/libisabelle/contrib/Isabelle2015/heaps/polyml-5.5.2_x86-cygwin<br>
Protocol2015 FAILED<br>
(see also<br>
C:\Users\appveyor\.isabelle\Isabelle2015\heaps\polyml-5.5.2_x86-cygwin\log\Protocol2015)</p>
<p>Unfinished session(s): Protocol2015</p>
<p>(This is using PIDE '<a href="http://isabelle.Build.build">isabelle.Build.build</a>', not the command line<br>
'isabelle build'.)</p>
<p>The same happens when building in system mode. What's strange is that<br>
the "Codec" session doesn't list its theory files (verbose is on). It<br>
works just fine on another Windows box. Any ideas?</p>
<p>Environment: 32 bit, Windows Server 2012 R2</p>
<p>Cheers<br>
Lars</p>



<a name="294655202"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294655202" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294655202">(Aug 22 2022 at 11:29)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
I have now finally managed to get logfiles out of that box, which I have<br>
attached.</p>
<p>Pure looks good. Codec starts good (the hashes of the sources are<br>
identical to those on my Linux machine), but then nothing appears to<br>
happen – theories are not being loaded.</p>
<p>Cheers<br>
Lars<br>
<a href="/user_uploads/14278/ioH7kFurrn9EuCWnEZta8aHi/Codec.gz">Codec.gz</a><br>
<a href="/user_uploads/14278/R_sesDR9oUtnWATd3lQTzLwy/Pure.gz">Pure.gz</a></p>



<a name="294656187"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294656187" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294656187">(Aug 22 2022 at 11:35)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Headless installation on Windows is not expected: you need to go through <br>
isabelle.Main and its special tricks for Cygwin initialization.  In <br>
Isabelle2015 this requires to run the end-user application.</p>
<p>I've started to rework that for the coming release. We probably need to <br>
discuss further fine-points separately, e.g. to make a generic jar bundle <br>
that excludes the jdk.</p>
<p>Makarius</p>



<a name="294660442"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Build%20problems%20on%20Windows/near/294660442" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Build.20problems.20on.20Windows.html#294660442">(Aug 22 2022 at 12:02)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear Makarius,</p>
<p>I have an update to this thread. Some time passed since my last attempt<br>
of bootstrapping a robust, reproducible setup on Windows with<br>
libisabelle, I've tried again and (partially) succeeded. The results can<br>
be witnessed here:</p>
<p>&lt;<a href="https://ci.appveyor.com/project/larsrh/libisabelle/build/22">https://ci.appveyor.com/project/larsrh/libisabelle/build/22</a>&gt;</p>
<p>Somewhere deep down the build logs you will find entires indicative of a<br>
successful 'isabelle build'. What's interesting here is that this is<br>
still Isabelle2015 with which I had problems initially. This means that<br>
while headless setup is not supported, it works.</p>
<p>Now, this is only a partial success, because if I then – after the<br>
installation has been bootstrapped – attempt to start an interactive<br>
session, I get this exception:</p>
<p>java.net.SocketException: Connection reset<br>
    at java.net.SocketInputStream.read(SocketInputStream.java:209)<br>
    at java.net.SocketInputStream.read(SocketInputStream.java:141)<br>
    at java.net.SocketInputStream.read(SocketInputStream.java:223)<br>
    at<br>
isabelle.Prover$$anonfun$isabelle$Prover$$message_output$1.read_int$1(prover.scala:279)<br>
    at<br>
isabelle.Prover$$anonfun$isabelle$Prover$$message_output$1.read_chunk_bytes$1(prover.scala:294)<br>
    at<br>
isabelle.Prover$$anonfun$isabelle$Prover$$message_output$1.read_chunk$1(prover.scala:316)<br>
    at<br>
isabelle.Prover$$anonfun$isabelle$Prover$$message_output$1.apply$mcV$sp(prover.scala:323)<br>
    at isabelle.Simple_Thread$$anon$2.run(simple_thread.scala:24)</p>
<p>I have no idea why this happens, but this stack trace might be of<br>
interest to you. This happens directly after 'start'. The session bus<br>
'all_messages' only emits the following:</p>
<p>system [[Cannot read message:<br>
Connection reset]]<br>
system [[message_output terminated]]<br>
system [[standard_output terminated]]<br>
system [[standard_error terminated]]<br>
system [[process terminated]]<br>
system [[command_input terminated]]<br>
system [[process_manager terminated]]<br>
exit {return_code=0} [[Return code: 0]]</p>
<p>(I obtained this stack trace by inserting various 'println's into<br>
otherwise unchanged Isabelle2015/Scala sources.)</p>
<p>Cheers<br>
Lars</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>