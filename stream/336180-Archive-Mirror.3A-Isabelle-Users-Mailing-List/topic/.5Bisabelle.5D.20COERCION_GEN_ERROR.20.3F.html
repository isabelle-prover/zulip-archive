<html>
<head><meta charset="utf-8"><title>[isabelle] COERCION_GEN_ERROR ? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20COERCION_GEN_ERROR.20.3F.html">[isabelle] COERCION_GEN_ERROR ?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294222946"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20COERCION_GEN_ERROR%20%3F/near/294222946" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20COERCION_GEN_ERROR.20.3F.html#294222946">(Aug 19 2022 at 08:41)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi</p>
<p>See the examples below.</p>
<p>Is it the expected behaviour of the coercion package to interfere with a<br>
usual typing-error (Example1), and output a less informative<br>
COERCION_GEN_ERROR instead (Example2)?</p>
<p>Admittedly, the example is a bit weird, as it uses Trueprop, but I would<br>
have expected the coercion package not to suppress the error messages<br>
from the type-checker.</p>



<a name="294223101"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20COERCION_GEN_ERROR%20%3F/near/294223101" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20COERCION_GEN_ERROR.20.3F.html#294223101">(Aug 19 2022 at 08:42)</a>:</h4>
<p>From: Dmitriy Traytel &lt;<a href="mailto:traytel@in.tum.de">traytel@in.tum.de</a>&gt;<br>
Hi Peter,</p>
<p>you are right: this low-level error is certainly nothing to be presented <br>
to the user.</p>
<p>Interestingly, it does not occur in the standard setup due to the <br>
declaration of the map function for the function type. I.e. the <br>
following will give you a proper error message.</p>
<p>theory Scratch<br>
imports Main<br>
begin</p>
<p>declare [[coercion_enabled]]<br>
declare [[coercion_map "%f g h x. g (h (f x))"]]<br>
lemma "Trueprop A \&lt;Longrightarrow&gt; B";</p>
<p>I'll investigate further.</p>
<p>Dmitriy</p>



<a name="294223114"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20COERCION_GEN_ERROR%20%3F/near/294223114" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20COERCION_GEN_ERROR.20.3F.html#294223114">(Aug 19 2022 at 08:42)</a>:</h4>
<p>From: Dmitriy Traytel &lt;<a href="mailto:traytel@in.tum.de">traytel@in.tum.de</a>&gt;<br>
It is now fixed in the Isabelle repository (0f81eca1e473). Thanks for <br>
reporting.</p>
<p>Dmitriy</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>