<html>
<head><meta charset="utf-8"><title>[isabelle] Can I define direct sum of sets in R^n and R^m · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html">[isabelle] Can I define direct sum of sets in R^n and R^m</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294109363"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294109363" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294109363">(Aug 18 2022 at 15:24)</a>:</h4>
<p>From: grechukbogdan &lt;<a href="mailto:grechukbogdan@yandex.ru">grechukbogdan@yandex.ru</a>&gt;<br>
Dear Isabelle Users</p>
<p>If A and B are sets, direct sum C of A and B is a set of pairs (a, b)  where a \in A and b \in B. <br>
My first question – is this direct sum defined somewhere in Isabelle?</p>
<p>Now, in my case A is a subset of R^n and B is a subset of R^m. In this case, clearly, C is a subset of R^{n+m}. Currently, finite Cartesian product  R^n formalized as type real^'n where 'n is some finite type. Now, is it possible to say that C is a subset of real^('n+'m) ? It seems that I can add types (theory Sum_Type),  so I would imagine definition of direct sum as a function from  (real^'n,  real^'m)  to real^('n+'m) such that first n coordinates of  sum(x, y) coincides with x, and the next m coordinates - with y. Any ideas how to write down such a definition, which theories to look at, or may be suggestions how to formalize this in a different, more convenient way, would be appreciated.    </p>
<p>Sincerely,<br>
Bogdan Grechuk</p>



<a name="294109413"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294109413" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294109413">(Aug 18 2022 at 15:24)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
grechukbogdan schrieb:</p>
<blockquote>
<p>Dear Isabelle Users</p>
<p>If A and B are sets, direct sum C of A and B is a set of pairs (a, b)  where a \in A and b \in B. <br>
My first question – is this direct sum defined somewhere in Isabelle?</p>
</blockquote>
<p>Yes. It is written "A &lt;<em>&gt; B". See Product_Type.thy. (Search for "&lt;</em>&gt;")</p>
<blockquote>
<p>Now, in my case A is a subset of R^n and B is a subset of R^m. In this case, clearly, C is a subset of R^{n+m}.</p>
</blockquote>
<p>I'm afraid not the way that these types are defined in HOL. C is only<br>
isomorphic to R^(n+m). You can spell out the type isomorphism explicitly<br>
or define a special product construction on finite Cartesian products.<br>
In either case I leave it to the experts to show you how to do it.</p>
<p>Tobias</p>
<blockquote>
<p>Currently, finite Cartesian product  R^n formalized as type real^'n where 'n is some finite type. Now, is it possible to say that C is a subset of real^('n+'m) ? It seems that I can add types (theory Sum_Type),  so I would imagine definition of direct sum as a function from  (real^'n,  real^'m)  to real^('n+'m) such that first n coordinates of  sum(x, y) coincides with x, and the next m coordinates - with y. Any ideas how to write down such a definition, which theories to look at, or may be suggestions how to formalize this in a different, more convenient way, would be appreciated.    </p>
<p>Sincerely,<br>
Bogdan Grechuk</p>
</blockquote>



<a name="294109419"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294109419" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294109419">(Aug 18 2022 at 15:25)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Once again, this formalisation of finite Cartesian products is showing itself to be unsuitable for abstract mathematics. It is only useful if you intend to work in one fixed dimension. I hope it isn't used extensively.<br>
Larry</p>



<a name="294109441"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294109441" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294109441">(Aug 18 2022 at 15:25)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Lawrence Paulson schrieb:</p>
<blockquote>
<p>Once again, this formalisation of finite Cartesian products is showing itself to be unsuitable for abstract mathematics.</p>
</blockquote>
<p>I'm interested: how do you model the problem in any formalism such that<br>
A^m * B^n = A^(m+n) without resorting to an explicit isomorphism along<br>
the way? Unless I am mistaken, the datatypes you provide in your<br>
formalization of ZF do not do the job either.</p>
<blockquote>
<p>It is only useful if you intend to work in one fixed dimension. I hope it isn't used extensively.</p>
</blockquote>
<p>It is. Luckily it works quite well for concrete mathematics.</p>
<p>Tobias</p>
<blockquote>
<p>Larry</p>
<p>On 28 Jun 2010, at 17:56, grechukbogdan wrote:</p>
<blockquote>
<p>If A and B are sets, direct sum C of A and B is a set of pairs (a, b)  where a \in A and b \in B. <br>
My first question – is this direct sum defined somewhere in Isabelle?</p>
<p>Now, in my case A is a subset of R^n and B is a subset of R^m. In this case, clearly, C is a subset of R^{n+m}. Currently, finite Cartesian product  R^n formalized as type real^'n where 'n is some finite type. Now, is it possible to say that C is a subset of real^('n+'m) ? It seems that I can add types (theory Sum_Type),  so I would imagine definition of direct sum as a function from  (real^'n,  real^'m)  to real^('n+'m) such that first n coordinates of  sum(x, y) coincides with x, and the next m coordinates - with y. Any ideas how to write down such a definition, which theories to look at, or may be suggestions how to formalize this in a different, more convenient way, would be appreciated.    <br>
</p>
</blockquote>
</blockquote>



<a name="294109527"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294109527" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294109527">(Aug 18 2022 at 15:25)</a>:</h4>
<p>From: Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;<br>
Am Montag, den 28.06.2010, 20:56 +0400 schrieb grechukbogdan:</p>
<blockquote>
<p>Dear Isabelle Users</p>
<p>If A and B are sets, direct sum C of A and B is a set of pairs (a, b)  where a \in A and b \in B. <br>
My first question – is this direct sum defined somewhere in Isabelle?</p>
</blockquote>
<p>This is defined in Isabelle/HOL as "A \&lt;times&gt; B" or "A &lt;*&gt;B" (in<br>
ASCII).</p>
<blockquote>
<p>Now, in my case A is a subset of R^n and B is a subset of R^m. In this case, clearly, C is a subset<br>
of R^{n+m}. Currently, finite Cartesian product  R^n formalized as type real^'n where 'n is some finite<br>
type. Now, is it possible to say that C is a subset of real^('n+'m) ? It seems that I can add types<br>
(theory Sum_Type),  so I would imagine definition of direct sum as a function from  (real^'n,  real^'m)<br>
to real^('n+'m) such that first n coordinates of  sum(x, y) coincides with x, and the next m coordinates<br>
- with y. Any ideas how to write down such a definition, which theories to look at, or may be suggestions<br>
how to formalize this in a different, more convenient way, would be appreciated.    </p>
</blockquote>
<p>In the current _development_ version of Isabelle (unfortunately not in<br>
Isabelle2009-2) real^'n is a euclidean space. When we add the type class<br>
instantiation for products of euclidean spaces:</p>
<p>instantiation * :: (real_basis, real_basis) real_basis<br>
...</p>
<p>instantiation * :: (euclidean_space, euclidean_space) euclidean_space<br>
...</p>
<p>instantiation * :: (ordered_euclidean_space, ordered_euclidean_space) ordered_euclidean_space<br>
...</p>
<p>(with the appropriate definition for basis etc)</p>
<p>This should be a very convenient way as no isomorphisms need to be<br>
specified to transfer between real^'n * real^'m and real^('n + 'm).<br>
Everything including integration was updated to operate on euclidean<br>
spaces.</p>
<p>This is already proved in Isabelle, I will push it tomorrow.</p>
<p>Greetings,<br>
  Johannes</p>
<blockquote>
<p>Sincerely,<br>
Bogdan Grechuk</p>
</blockquote>



<a name="294111690"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294111690" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294111690">(Aug 18 2022 at 15:37)</a>:</h4>
<p>From: grechukbogdan &lt;<a href="mailto:grechukbogdan@yandex.ru">grechukbogdan@yandex.ru</a>&gt;<br>
Dear Johannes</p>
<p>I have download the last Development Snapshot from <a href="http://isabelle.in.tum.de/devel/">http://isabelle.in.tum.de/devel/</a></p>
<p>It is called Isabelle_01-Jul-2010.tar.gz</p>
<p>( By the way, website says that "version is built automatically every night from the repository sources." -- why the last version is July 1 not July 5th ?)</p>
<p>Are your changes included in this version already?<br>
( I see new theory Cartesian_Euclidean_Space.thy, but I do not see something like<br>
  instantiation * :: (euclidean_space, euclidean_space) euclidean_space<br>
)</p>
<p>If your changes are there, how exactly can I use this?<br>
For example, what is now a correct formulation of the following lemma</p>
<p>Lemma: If A :: (real^'n set) is convex, and B :: (real^'m set) is convex, then A &lt;*&gt;B is a convex set in real^('n + 'm).</p>
<p>Will Isabelle automatically understand that if A :: (real^'n set) and B :: (real^'m set), then A &lt;*&gt;B lives in real^('n + 'm) ?</p>
<p>Sincerely,<br>
Bogdan.</p>



<a name="294111703"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294111703" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294111703">(Aug 18 2022 at 15:37)</a>:</h4>
<p>From: Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;<br>
I don't know why the Isabelle snapshots are not updated, however when<br>
you directly clone the mercurial repository<br>
<a href="http://isabelle.in.tum.de/repos/isabelle">http://isabelle.in.tum.de/repos/isabelle</a><br>
you get a version with the euclidean spaces.</p>
<p>Lemma: If A :: (real^'n set) is convex, and B :: (real^'m set) is <br>
       convex, then A &lt;*&gt;B is a convex set in real^('n + 'm).</p>
<p>Does not work, as real^'n * real^'m = real^('n + 'm), however you can<br>
state:</p>
<p>lemma<br>
  fixes A :: "'a::euclidean_space set"<br>
  fixes B :: "'b::euclidean_space set"<br>
  assumes "convex A" and "convex B"<br>
  shows "convex (A &lt;*&gt; B)"</p>
<p>Of course now "A &lt;*&gt; B" is of type A * B, which is also in the<br>
euclidean_space type class.</p>
<p>Probably you need to update you theories to use euclidean space instead<br>
of real^'n. The changes are usual very easy, rewrite "x :: real^'n" to<br>
"x :: 'n :: euclidean_space" (or ordered_euclidean_space)</p>
<p>\&lt;chi&gt; _ . _   -&gt;   \&lt;chi&gt;\&lt;chi&gt; _ . _
   _ $ _          -&gt;   _ $$ _</p>
<p>The theorem names shouldn't be a problem. Sometimes you need to add the<br>
assumption that a index is &lt; DIM('a) as the indices are now more<br>
selected from a finite type but just natural numbers.</p>
<p>Hope this helps!</p>
<p>Greetings,<br>
  Johannes</p>



<a name="294111937"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Can%20I%20define%20direct%20sum%20of%20sets%20in%20R%5En%20and%20R%5Em/near/294111937" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Can.20I.20define.20direct.20sum.20of.20sets.20in.20R.5En.20and.20R.5Em.html#294111937">(Aug 18 2022 at 15:38)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Because that build may fail, and even if it succeeds the result may be up <br>
to surprises.  Embarking on snapshots or raw repository versions means you <br>
stop being a user and become an alpha/beta tester instead.  Any problems <br>
you encounter can be discussed on the isabelle-dev mailing list.</p>
<p>Makarius</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>