<html>
<head><meta charset="utf-8"><title>[isabelle] Char Code export_code in Scala and compilation... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html">[isabelle] Char Code export_code in Scala and compilation...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294735761"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Char%20Code%20export_code%20in%20Scala%20and%20compilation.../near/294735761" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html#294735761">(Aug 22 2022 at 17:35)</a>:</h4>
<p>From: Thomas Genet &lt;<a href="mailto:thomas.genet@irisa.fr">thomas.genet@irisa.fr</a>&gt;<br>
Dear all,</p>
<p>I have a problem with the code generated by Isabelle2018 (but I guess <br>
that it was the case before) for the String/Char type in Scala.</p>
<p>export_code generates an object String that contains:</p>
<p>abstract sealed class char<br>
final case class<br>
   Char(a: Boolean, b: Boolean, c: Boolean, d: Boolean, e: Boolean, f: <br>
Boolean,<br>
         g: Boolean, h: Boolean)<br>
   extends char</p>
<p>[...]</p>
<p>This is fine on a case-sensitive file system but when I try to compile <br>
on a mac os, I get:</p>
<p>"Class String$Char differs only in case from String$char. Such classes <br>
will overwrite one another on case-insensitive filesystems"</p>
<p>And when I run it, I get:</p>
<p>Exception in thread "main" java.lang.NoClassDefFoundError: String$char <br>
(wrong name: String$Char)</p>
<p>Ok, I can fix it by myself in the generated code, but I need to have a <br>
generated code that works out of the box (for a lot of students! ;-)</p>
<p>Best regards,</p>
<p>Thomas</p>



<a name="294735783"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Char%20Code%20export_code%20in%20Scala%20and%20compilation.../near/294735783" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html#294735783">(Aug 22 2022 at 17:35)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear Thomas,</p>
<blockquote>
<p>This is fine on a case-sensitive file system but when I try to compile<br>
on a mac os, I get:</p>
</blockquote>
<p>you can use the "case_insensitive" option that Florian introduced not<br>
long ago: &lt;<a href="http://isabelle.in.tum.de/repos/isabelle/rev/ad538f6c5d2f">http://isabelle.in.tum.de/repos/isabelle/rev/ad538f6c5d2f</a>&gt;</p>
<p>See also this thread on the mailing list:<br>
&lt;<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2017-November/msg00071.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2017-November/msg00071.html</a>&gt;</p>
<p>Cheers<br>
Lars</p>



<a name="294735963"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Char%20Code%20export_code%20in%20Scala%20and%20compilation.../near/294735963" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html#294735963">(Aug 22 2022 at 17:36)</a>:</h4>
<p>From: Thomas Genet &lt;<a href="mailto:thomas.genet@irisa.fr">thomas.genet@irisa.fr</a>&gt;<br>
Dear Lars,</p>
<p>thank you very much! I missed this thread while browsing the mailing <br>
list for information on this problem.</p>
<p>This works fine in Isabelle2017 but not in Isabelle2018-RC0.</p>
<p>It has been removed/renamed?</p>
<p>Best regards,</p>
<p>Thomas</p>



<a name="294735979"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Char%20Code%20export_code%20in%20Scala%20and%20compilation.../near/294735979" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html#294735979">(Aug 22 2022 at 17:36)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>This works fine in Isabelle2017 but not in Isabelle2018-RC0.</p>
</blockquote>
<p>It used to be a declaration, now it is an option you pass to "export_code":</p>
<p>export_code foo in Scala (case_insensitive)</p>
<p>Cheers<br>
Lars</p>



<a name="294736014"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Char%20Code%20export_code%20in%20Scala%20and%20compilation.../near/294736014" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Char.20Code.20export_code.20in.20Scala.20and.20compilation.2E.2E.2E.html#294736014">(Aug 22 2022 at 17:37)</a>:</h4>
<p>From: Thomas Genet &lt;<a href="mailto:thomas.genet@irisa.fr">thomas.genet@irisa.fr</a>&gt;<br>
Great! thank you very much Lars!!</p>
<p>Best regards,</p>
<p>Thomas</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>