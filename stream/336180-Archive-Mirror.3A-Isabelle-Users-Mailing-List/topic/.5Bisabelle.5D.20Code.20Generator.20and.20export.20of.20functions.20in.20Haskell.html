<html>
<head><meta charset="utf-8"><title>[isabelle] Code Generator and export of functions in Haskell · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Code.20Generator.20and.20export.20of.20functions.20in.20Haskell.html">[isabelle] Code Generator and export of functions in Haskell</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294306582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Code%20Generator%20and%20export%20of%20functions%20in%20Haskell/near/294306582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Code.20Generator.20and.20export.20of.20functions.20in.20Haskell.html#294306582">(Aug 19 2022 at 15:54)</a>:</h4>
<p>From: Moa Johansson &lt;<a href="mailto:moa.johansson@chalmers.se">moa.johansson@chalmers.se</a>&gt;<br>
Hi,</p>
<p>Updating the code for our Hipster system which relies on the code generator. I notice that the function ‘export_code’ has changed, and obtained an extra boolean argument ‘all_public’. I also notice that the generated code now differs, in that it now exports the functions given from Isabelle, so we get the module header:</p>
<p>module Main (Tree, tmap, mirror) where…</p>
<p>instead of as previously (in Isabelle2013-2):</p>
<p>module Main where…</p>
<p>I would have assumed that setting ‘all_public’ to false would have produced the same version of Isabelle2013-2, which is what our tool expects the Haskell file to look like. However, this does not appear to be the case. So:</p>
<ul>
<li>What does ‘all_public’ change? </li>
<li>Is there a possibility to get the code generator to produce the same header as in Isabelle2013-2, or do I have to work around the fact that it insist on exporting my functions? </li>
</ul>
<p>I’m aware that we’re probably not using the code generator for the same purpose as most users, but still… :)</p>
<p>Cheers,<br>
Moa</p>



<a name="294306598"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Code%20Generator%20and%20export%20of%20functions%20in%20Haskell/near/294306598" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Code.20Generator.20and.20export.20of.20functions.20in.20Haskell.html#294306598">(Aug 19 2022 at 15:54)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Moa,</p>
<blockquote>
<p>Updating the code for our Hipster system which relies on the code<br>
generator. I notice that the function ‘export_code’ has changed, and<br>
obtained an extra boolean argument ‘all_public’. I also notice that the<br>
generated code now differs, in that it now exports the functions given<br>
from Isabelle, so we get the module header:</p>
<p>module Main (Tree, tmap, mirror) where…</p>
<p>instead of as previously (in Isabelle2013-2):</p>
<p>module Main where…</p>
<p>I would have assumed that setting ‘all_public’ to false would have produced the same version of Isabelle2013-2, which is what our tool expects the Haskell file to look like. However, this does not appear to be the case. So:</p>
<ul>
<li>What does ‘all_public’ change? </li>
<li>Is there a possibility to get the code generator to produce the same header as in Isabelle2013-2, or do I have to work around the fact that it insist on exporting my functions? </li>
</ul>
</blockquote>
<p>see NEWS:</p>
<blockquote>
<ul>
<li>Code generator: minimize exported identifiers by default.  Minor<br>
INCOMPATIBILITY.</li>
</ul>
</blockquote>
<p>I.e. by default (not all_public) only the requested set of identifiers<br>
is exported, else (all_public) all are exported explicitly.</p>
<p>There is no way to get the pre-Isabelle2014 headers back.  I have no<br>
idea what your application is, but you can strip the export lists using<br>
e.g. a suitable perl script.</p>
<p>Hope this helps,<br>
    Florian<br>
<a href="/user_uploads/14278/myvFiFAVmTutH0y7u5mU1Gx8/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>