<html>
<head><meta charset="utf-8"><title>[isabelle] Conditional Parametricity and Types-To-Sets: i... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Conditional.20Parametricity.20and.20Types-To-Sets.3A.20i.2E.2E.2E.html">[isabelle] Conditional Parametricity and Types-To-Sets: i...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294767579"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Conditional%20Parametricity%20and%20Types-To-Sets%3A%20i.../near/294767579" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Conditional.20Parametricity.20and.20Types-To-Sets.3A.20i.2E.2E.2E.html#294767579">(Aug 22 2022 at 21:10)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I would like to ask a question in relation to one of the existing user<br>
packages: "conditional parametricity"<br>
(HOL-Library.Conditional_Parametricity). Nevertheless, the issue is<br>
slightly more fundamental, as it is concerned with the<br>
integration/duplication of the user-level Isabelle/ML code.</p>
<p>It appears that there is a substantial overlap between the functionality of<br>
one of the command tts_parametricity that is provided as part of the<br>
extension of Types-To-Sets (<a href="https://gitlab.com/mikhail.chekhov/tts_extension">https://gitlab.com/mikhail.chekhov/tts_extension</a>)<br>
and the existing command parametric_constant. Given that there have been<br>
some discussions about the possibility of adding the extension of<br>
Types-To-Sets to the AFP, I would like to ensure that the issue related to<br>
the duplication of functionality is resolved in the appropriate manner long<br>
before the potential submission (please note that the extension of<br>
Types-To-Sets is still under development).</p>
<p>Unfortunately, I was unaware of the existence of the package "conditional<br>
parametricity" while developing the code for the command tts_parametricity:<br>
I would like to think that I have done everything I could to avoid<br>
duplication. I have even asked a question about the possibility of the<br>
existence of such a package on the list a while ago. Also, it does not seem<br>
to appear anywhere in the standard documentation of Isabelle/HOL.</p>
<p>If my understanding of the functionality of the existing public interface<br>
and the functionality of the package "conditional parametricity" is<br>
correct, I cannot reuse the existing public interface effectively to<br>
provide the functionality that I seek for the command tts_parametricity.<br>
Firstly, tts_parametricity restricts the possible side conditions to<br>
right_total and bi_unique. Secondly, tts_parametricity makes an attempt to<br>
synthesize a new (parametrically related) constant if a given constant is<br>
found to be non-conditionally parametric. Nevertheless, if a given constant<br>
is found to be (conditionally) parametric, tts_parametricity provides the<br>
parametricity property, like the command parametric_constant. If I have not<br>
missed anything, the public interface of the "conditional parametricity"<br>
does not allow for the restriction of the possible side conditions and does<br>
not attempt to synthesize a new constant under any circumstances.</p>
<p>My primary question is what is the canonical solution to such a problem? I<br>
feel that it is my moral duty to make the developers of the "conditional<br>
parametricity" aware of my own development and allow them to decide the<br>
fate of tts_parametricity. Naturally, any input from the community would<br>
also be highly appreciated, as, I can imagine, similar problems arise in<br>
the development of almost every open source project and every community has<br>
some form of canonical procedures towards the resolution of such issues.</p>
<p>Would it be preferable for me to suggest amendments to the existing code<br>
base of "conditional parametricity", instead of providing a new command?<br>
Or, perhaps, on the contrary, the authors would prefer to keep our<br>
developments separate? In the case of the latter, how should I attribute<br>
your work?</p>
<p>Thank you,<br>
Mikhail Chekhov</p>



<a name="294767598"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Conditional%20Parametricity%20and%20Types-To-Sets%3A%20i.../near/294767598" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Conditional.20Parametricity.20and.20Types-To-Sets.3A.20i.2E.2E.2E.html#294767598">(Aug 22 2022 at 21:11)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear All,</p>
<p>Please accept my apologies: there are misprints in my previous post. The<br>
first sentence in the second paragraph should read:</p>
<p>It appears that there is a substantial overlap between the functionality of<br>
one of the commands (tts_parametricity) that are provided as part of the<br>
extension of Types-To-Sets (<a href="https://gitlab.com/mikhail.chekhov/tts_extension">https://gitlab.com/mikhail.chekhov/tts_extension</a>)<br>
and the existing command parametric_constant.</p>
<p>Thank you,<br>
Mikhail Chekhov</p>



<a name="294767621"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Conditional%20Parametricity%20and%20Types-To-Sets%3A%20i.../near/294767621" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Conditional.20Parametricity.20and.20Types-To-Sets.3A.20i.2E.2E.2E.html#294767621">(Aug 22 2022 at 21:11)</a>:</h4>
<p>From: Traytel  Dmitriy &lt;<a href="mailto:traytel@inf.ethz.ch">traytel@inf.ethz.ch</a>&gt;<br>
Dear Mikhail,</p>
<p>the parametric_constant command was introduced in Isabelle2018 and is mentioned in the corresponding section of NEWS. The command has a truly minimalistic interface, therefore we didn't consider it necessary to add it to isar-ref (the NEWS entry refers to an example file). Maybe there should be an isar-ref description nonetheless.</p>
<p>We had considered to provide the user a way to specify side conditions on the involved relations, but decided against this in favor of a simpler user interface. The idea was that parametric_constant can be used in 90% of the cases where the synthesized conditions are the ones one wants to have anyway and in the remaining 10% the user can write the statement manually.</p>
<p>I don't see it as problematic, if you add a command that has a similar functionality, but has a different/extended user interface to the AFP. If there is an easy way of reducing one tool to the other (e.g., your command sets up the parametricity goal and then invokes the tactics from parametric_constants to discharge it), that would definitely be nice, but requires additional work.</p>
<p>I am also not against adding this functionality directly to parametric constants, but then we should have some (off-this-list) discussions about in what form the side constraints are specified.</p>
<p>Dmitriy</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>