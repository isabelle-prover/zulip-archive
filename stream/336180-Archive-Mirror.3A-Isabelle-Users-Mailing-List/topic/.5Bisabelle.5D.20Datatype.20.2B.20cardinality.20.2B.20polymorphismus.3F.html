<html>
<head><meta charset="utf-8"><title>[isabelle] Datatype + cardinality + polymorphismus? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html">[isabelle] Datatype + cardinality + polymorphismus?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294645302"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645302" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645302">(Aug 22 2022 at 10:23)</a>:</h4>
<p>From: "Roger H." &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt;<br>
Hello,</p>
<ol>
<li>
<p>If i have datatype color = red | blue<br>
how do i write smth like <br>
-"is c in color"...meaning "is c an instance of color?"<br>
-"for all c in color: bla bla" ... whats the "in"? cause the "element of" symbol is wrong<br>
-length function..number of elements in the datatype .. so that it returns here length (color) = 2</p>
</li>
<li>
<p>How do i write a function which maps different instances of the datatype to subsets of different types(like nat and bool):<br>
f :: color -&gt; ??red |-&gt; {1,2}blue |-&gt; {True}<br>
cause range f = UNIV isnt right.<br>
Many thanks!</p>
</li>
</ol>



<a name="294645310"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645310" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645310">(Aug 22 2022 at 10:23)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Many of your questions are answered by the documentation. You will find it all in the documentation panel of an Isabelle session, or at the website <a href="http://isabelle.in.tum.de/documentation.html">http://isabelle.in.tum.de/documentation.html</a>.</p>
<p>Larry Paulson</p>



<a name="294645322"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645322" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645322">(Aug 22 2022 at 10:23)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
On Sa, 2015-06-27 at 13:06 +0200, Roger H. wrote:</p>
<p>Hi.</p>
<blockquote>
<p>Hello,<br>
1. If i have datatype color = red | blue<br>
how do i write smth like <br>
-"is c in color"...meaning "is c an instance of color?"<br>
  Exactly the c's of type color are in color. <br>
  The set of all colors is "UNIV :: color set".</p>
</blockquote>
<blockquote>
<p>-"for all c in color: bla bla" ... whats the "in"? cause the "element of" symbol is wrong<br>
  Just "ALL c::color. P c". Here, the ::color is a type constraint,<br>
which forces the bound variable "c" to have type color, but is not<br>
explicitly visible in the parsed term.</p>
</blockquote>
<blockquote>
<p>-length function..number of elements in the datatype .. so that it returns here length (color) = 2<br>
  It's "card( UNIV :: color set)", provided color is a finite type.</p>
</blockquote>
<blockquote>
<ol start="2">
<li>How do i write a function which maps different instances of the datatype to subsets of different types(like nat and bool):<br>
f :: color -&gt; ??red |-&gt; {1,2}blue |-&gt; {True}</li>
</ol>
</blockquote>
<p>This is not possible in HOL's type system. An approximation would be<br>
    f :: color =&gt; nat+bool</p>
<p>Here, nat+bool is the sum type, that has the <br>
  elements Inl (n::nat) and Inr (b::bool)</p>



<a name="294645464"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645464" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645464">(Aug 22 2022 at 10:24)</a>:</h4>
<p>From: "Roger H." &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt;</p>
<blockquote>
<p>-"is c in color"...meaning "is c an instance of color?" <br>
Exactly the c's of type color are in color.  &gt; The set of all colors is "UNIV :: color set". </p>
</blockquote>
<ol>
<li>
<p>My question is how can i write this kind of predicate:<br>
(red \in color)   .................which is of type bool<br>
I dont know it yet, since<br>
"red ∈ (UNIV :: color set)" doesnt seem the right way to write it, since for<br>
--datatype color = red | blue<br>
lemma "red ∈ (UNIV :: color set)" is proven true,--<br>
but also<br>
lemma "green ∈ (UNIV :: color set)" is also true..which should be false.  ??</p>
</li>
<li>
<p>Concerning the cardinality... how do i prove the following<br>
lemma "card( UNIV :: color set) = 2"<br>
Cause by simp, this just simplifies in :    "card UNIV = 2"<br>
Thank you!</p>
</li>
</ol>
<p>On Sa, 2015-06-27 at 13:06 +0200, Roger H. wrote: Hi. </p>
<blockquote>
<p>Hello, <br>
1. If i have datatype color = red | blue <br>
how do i write smth like <br>
-"is c in color"...meaning "is c an instance of color?" <br>
  Exactly the c's of type color are in color.   The set of all colors is "UNIV :: color set". </p>
</blockquote>
<blockquote>
<p>-"for all c in color: bla bla" ... whats the "in"? cause the "element of" symbol is wrong <br>
  Just "ALL c::color. P c". Here, the ::color is a type constraint, which forces the bound variable "c" to have type color, but is not explicitly visible in the parsed term. </p>
</blockquote>
<blockquote>
<p>-length function..number of elements in the datatype .. so that it returns here length (color) = 2 <br>
  It's "card( UNIV :: color set)", provided color is a finite type. </p>
</blockquote>
<blockquote>
<ol start="2">
<li>How do i write a function which maps different instances of the datatype to subsets of different types(like nat and bool): <br>
f :: color -&gt; ??red |-&gt; {1,2}blue |-&gt; {True} </li>
</ol>
</blockquote>
<p>This is not possible in HOL's type system. An approximation would be     f :: color =&gt; nat+bool   Here, nat+bool is the sum type, that has the   elements Inl (n::nat) and Inr (b::bool) &gt;</p>



<a name="294645471"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645471" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645471">(Aug 22 2022 at 10:24)</a>:</h4>
<p>From: "C. Diekmann" &lt;<a href="mailto:diekmann@in.tum.de">diekmann@in.tum.de</a>&gt;<br>
Probably you first want to define the type</p>
<p>datatype colors = Red | Blue | Green</p>
<p>The you want to reason about sets of this type</p>
<p>lemma "Red : {Blue, Red, Red}"</p>
<p>Otherwise, the manual provides good examples.<br>
  Cornelius</p>



<a name="294645489"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645489" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645489">(Aug 22 2022 at 10:24)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I assume that you are talking about Isabelle/HOL (rather than, say, Isabelle/ZF). This is a typed formalism. The property of having a certain type is not a boolean formula, but is part of what it means for a term to be well-formed.</p>
<p>Larry Paulson</p>



<a name="294645499"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645499" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645499">(Aug 22 2022 at 10:24)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
You should check out (eg in the manual) how the type system in<br>
Isabelle/HOL works. </p>
<p>Propositions like "x \&lt;in&gt; UNIV" are trivial, because x gets inferred<br>
some type, and UNIV is the set of all elements of this type. </p>
<p>If you write "green", then green is just a variable (of type color).</p>



<a name="294645513"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645513" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645513">(Aug 22 2022 at 10:24)</a>:</h4>
<p>From: "Roger H." &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt;</p>
<blockquote>
<p>I assume that you are talking about Isabelle/HOL (rather than, say, Isabelle/ZF). This is a typed formalism. The property of having a certain type is not a boolean formula, but is part of what it means for a term to be well-formed.</p>
</blockquote>
<p>Thank you Larry, this is a clear answer for one of my questions.<br>
My other questions were:</p>
<ol>
<li>
<p>Assume I have <br>
datatype color = red |blue<br>
fun f:: color =&gt; nat setf red = {1}f blue = {2}<br>
definition M :: "nat set" whereM = the union...over all x in color...of  f(x)     //the result should be M = {1} union {2} = {1,2}<br>
I dont know how to write the implementation of M in isabelle syntax.</p>
</li>
<li>
<p>card (color) = 2 ? or size (color) = 2  ?  I am looking for the name of the function that gets a type and returns its number of constructors  (for such simple finite non-recursive types)</p>
</li>
</ol>
<p>Thank you!</p>
<blockquote>
<p>Subject: Re: [isabelle] Datatype + cardinality + polymorphismus?<br>
From: <a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a><br>
Date: Sat, 27 Jun 2015 18:02:46 +0100<br>
CC: <a href="mailto:isabelle-users@cl.cam.ac.uk">isabelle-users@cl.cam.ac.uk</a><br>
To: <a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a></p>
<p>I assume that you are talking about Isabelle/HOL (rather than, say, Isabelle/ZF). This is a typed formalism. The property of having a certain type is not a boolean formula, but is part of what it means for a term to be well-formed.</p>
<p>Larry Paulson</p>
<p>On 27 Jun 2015, at 12:22, Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt; wrote:</p>
<blockquote>
<p>Many of your questions are answered by the documentation. You will find it all in the documentation panel of an Isabelle session, or at the website <a href="http://isabelle.in.tum.de/documentation.html">http://isabelle.in.tum.de/documentation.html</a>.</p>
<p>Larry Paulson</p>
<p>On 27 Jun 2015, at 12:06, Roger H. &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt; wrote:</p>
<blockquote>
<p>Hello,<br>
1. If i have datatype color = red | blue<br>
how do i write smth like <br>
-"is c in color"...meaning "is c an instance of color?"<br>
-"for all c in color: bla bla" ... whats the "in"? cause the "element of" symbol is wrong<br>
-length function..number of elements in the datatype .. so that it returns here length (color) = 2<br>
2. How do i write a function which maps different instances of the datatype to subsets of different types(like nat and bool):<br>
f :: color -&gt; ??red |-&gt; {1,2}blue |-&gt; {True}<br>
cause range f = UNIV isnt right.<br>
Many thanks!                     </p>
</blockquote>
</blockquote>
</blockquote>



<a name="294645556"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645556" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645556">(Aug 22 2022 at 10:25)</a>:</h4>
<p>From: "Roger H." &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt;<br>
Or rather<br>
1.datatype color = red |blue<br>
fun f:: color =&gt; nat setf red = {1}f blue = {2}<br>
how do i prove <br>
lemma "(⋃x. f x) = {1,2}"  ?<br>
Thank you.<br>
From: <a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a><br>
To: <a href="mailto:isabelle-users@cl.cam.ac.uk">isabelle-users@cl.cam.ac.uk</a><br>
Subject: RE: [isabelle] Datatype + cardinality + polymorphismus?<br>
Date: Sat, 27 Jun 2015 19:19:29 +0200</p>
<blockquote>
<p>I assume that you are talking about Isabelle/HOL (rather than, say, Isabelle/ZF). This is a typed formalism. The property of having a certain type is not a boolean formula, but is part of what it means for a term to be well-formed.</p>
</blockquote>
<p>Thank you Larry, this is a clear answer for one of my questions.<br>
My other questions were:</p>
<ol>
<li>
<p>Assume I have <br>
datatype color = red |blue<br>
fun f:: color =&gt; nat setf red = {1}f blue = {2}<br>
definition M :: "nat set" whereM = the union...over all x in color...of  f(x)     //the result should be M = {1} union {2} = {1,2}<br>
I dont know how to write the implementation of M in isabelle syntax.</p>
</li>
<li>
<p>card (color) = 2 ? or size (color) = 2  ?  I am looking for the name of the function that gets a type and returns its number of constructors  (for such simple finite non-recursive types)</p>
</li>
</ol>
<p>Thank you!</p>
<blockquote>
<p>Subject: Re: [isabelle] Datatype + cardinality + polymorphismus?<br>
From: <a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a><br>
Date: Sat, 27 Jun 2015 18:02:46 +0100<br>
CC: <a href="mailto:isabelle-users@cl.cam.ac.uk">isabelle-users@cl.cam.ac.uk</a><br>
To: <a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a></p>
<p>I assume that you are talking about Isabelle/HOL (rather than, say, Isabelle/ZF). This is a typed formalism. The property of having a certain type is not a boolean formula, but is part of what it means for a term to be well-formed.</p>
<p>Larry Paulson</p>
<p>On 27 Jun 2015, at 12:22, Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt; wrote:</p>
<blockquote>
<p>Many of your questions are answered by the documentation. You will find it all in the documentation panel of an Isabelle session, or at the website <a href="http://isabelle.in.tum.de/documentation.html">http://isabelle.in.tum.de/documentation.html</a>.</p>
<p>Larry Paulson</p>
<p>On 27 Jun 2015, at 12:06, Roger H. &lt;<a href="mailto:s57076@hotmail.com">s57076@hotmail.com</a>&gt; wrote:</p>
<blockquote>
<p>Hello,<br>
1. If i have datatype color = red | blue<br>
how do i write smth like <br>
-"is c in color"...meaning "is c an instance of color?"<br>
-"for all c in color: bla bla" ... whats the "in"? cause the "element of" symbol is wrong<br>
-length function..number of elements in the datatype .. so that it returns here length (color) = 2<br>
2. How do i write a function which maps different instances of the datatype to subsets of different types(like nat and bool):<br>
f :: color -&gt; ??red |-&gt; {1,2}blue |-&gt; {True}<br>
cause range f = UNIV isnt right.<br>
Many thanks!                     </p>
</blockquote>
</blockquote>
</blockquote>



<a name="294645563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Datatype%20%2B%20cardinality%20%2B%20polymorphismus%3F/near/294645563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Datatype.20.2B.20cardinality.20.2B.20polymorphismus.3F.html#294645563">(Aug 22 2022 at 10:25)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Sorry to repeat myself, but you really do need to read the documentation. Then you will be able to define f within Isabelle itself, and then you might find that Isabelle’s automation will make this example quite easy.</p>
<p>Larry Paulson</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>