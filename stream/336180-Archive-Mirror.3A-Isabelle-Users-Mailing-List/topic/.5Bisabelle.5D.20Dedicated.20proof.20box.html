<html>
<head><meta charset="utf-8"><title>[isabelle] Dedicated proof box · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html">[isabelle] Dedicated proof box</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294139192"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294139192" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294139192">(Aug 18 2022 at 17:54)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:gerwin.klein@nicta.com.au">gerwin.klein@nicta.com.au</a>&gt;<br>
Hi Palle,</p>
<p>in our experience, it is better to go for more powerful processors instead of more cores. Also go for lots of memory (24G rather than 16G, 32 if you can get it cheap). </p>
<p>A fast disk for image writing and reading (additional SSD maybe, if that is an option) can make a few minutes difference for large sessions, depending on how much use of images you make.</p>
<p>It depends on the Isabelle version, but 3-4 concurrent threads seems to be the optimum point at the moment. </p>
<p>Hyperthreading as such is not a problem, you can easily tell Isabelle the maximum number of threads it should use and we haven't seen any significant overhead associated with that. Also, I vaguely recall that hyperthreading seems to have similar performance to separate cores, but I could be wrong there.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="294139382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294139382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294139382">(Aug 18 2022 at 17:55)</a>:</h4>
<p>From: Palle Raabjerg &lt;<a href="mailto:palle.raabjerg@it.uu.se">palle.raabjerg@it.uu.se</a>&gt;<br>
I have considered this. And thank you for me reminding me. I need to <br>
look up how to do it.<br>
Unfortunately, we do frequently change stuff in the core theories, so I <br>
am not sure how well this would work out.</p>
<ul>
<li>Palle</li>
</ul>



<a name="294140000"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294140000" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294140000">(Aug 18 2022 at 17:58)</a>:</h4>
<p>From: Palle Raabjerg &lt;<a href="mailto:palle.raabjerg@it.uu.se">palle.raabjerg@it.uu.se</a>&gt;<br>
Thank you. I will take this into consideration.<br>
It does indeed sound like a smaller number of powerful Xeon cores is the <br>
best solution.</p>
<ul>
<li>Palle</li>
</ul>



<a name="294140207"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294140207" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294140207">(Aug 18 2022 at 17:59)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I have worked both with AMD Opteron and Intel Xeon -- the papers alternate <br>
in that respect without making it very explicit.  See also the more recent <br>
<a href="http://www4.in.tum.de/~wenzelm/papers/itp-smp.pdf">http://www4.in.tum.de/~wenzelm/papers/itp-smp.pdf</a> which is for Xeon again.</p>
<p>I find it much easier to get actual performance out of Xeon our setting, <br>
than with Opteron with nominally more cores. In practice that can mean a <br>
well-equippped Mac Pro, but you can also get cheaper Linux boxes with <br>
these CPUs, if you spend some time investigating the market.</p>
<p>It seems that the latest Intel Westmere is already replacing the <br>
established Nehalem line -- which was very good in the past 2 years.</p>
<p>Hyperthreading is not getting in the way.  Isabelle provides the soft <br>
Multithreading.max_threads option, instead of relying on raw number of <br>
CPUs reported by the operating system.  Mac OS X, and presumably Linux, <br>
are smart enough to map running threads on real cores, before using <br>
hyperthreading.  (Apple's Snow Leopard update on Leopard was a big <br>
performance improvement in this respect.)</p>
<p>After Isabelle2011 it is easier to saturate 8 cores, and memory <br>
requirements are descreasing a bit. So a midrange system with 2 sockets of <br>
6 core Xeon, and maybe 32 GB memory, should make a very good workstation <br>
for the next few years.</p>
<p>Makarius</p>



<a name="294140325"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294140325" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294140325">(Aug 18 2022 at 18:00)</a>:</h4>
<p>From: Palle Raabjerg &lt;<a href="mailto:palle.raabjerg@it.uu.se">palle.raabjerg@it.uu.se</a>&gt;<br>
Thank you. This has also been duly noted.<br>
If we can afford it, we might actually go for the two 6-cores then. I <br>
have been looking at such boxes, and the prices don't seem to be too steep.<br>
And yes, the efficiency of a single core is unlikely to improve <br>
drastically, as the focus today is on creating chips with more cores. So <br>
this setup should stay useful for quite a while.</p>
<ul>
<li>Palle</li>
</ul>



<a name="294141484"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294141484" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294141484">(Aug 18 2022 at 18:06)</a>:</h4>
<p>From: Palle Raabjerg &lt;<a href="mailto:palle.raabjerg@it.uu.se">palle.raabjerg@it.uu.se</a>&gt;<br>
Hi all,</p>
<p>In our research group, we are currently considering getting a dedicated <br>
machine for working on proofs. Our Psi-calculus theories are large <br>
enough to incur significant waiting times whenever we have to restart <br>
the proof process. And there is more than one of us now, so simply <br>
getting powerful laptops is looking like the more expensive option.</p>
<p>So I am trying to find out what kind of setup is most effective for <br>
cutting proof times, since a dedicated box gives us a few interesting <br>
options for costumisation.<br>
This paper presents some graphs that show performance benefits declining <br>
somewhat after the 4th core (as is also the case with many other <br>
parallel applications): <br>
<a href="http://www4.in.tum.de/~wenzelm/papers/parallel-isabelle.pdf">http://www4.in.tum.de/~wenzelm/papers/parallel-isabelle.pdf</a><br>
Since we are two Isabelle-guys now, and will probably be one or two more <br>
in the future, I am considering going for a box with 6-8 cores in total. <br>
And since I read from a previous post on this list that there is an <br>
additional memory-overhead for each core, that would likely put us at 16 <br>
or 24GB memory for those cores.<br>
We could also go for a single 8-12 core Opteron, but since it seems that <br>
Xeon cores are fewer in number, though more powerful, the better idea <br>
may be to go for two 4-core or one 6-core Xeon.</p>
<p>But one thing that worries me a bit in that case is Intel's <br>
hyperthreading. So even if we get a 4-core Xeon, it would likely happily <br>
run 8 threads at once, thus potentially doubling the memory requirement <br>
and at the same time flattening the multicore-benefit curve quicker.<br>
And in that case, maybe we should consider just having more real cores <br>
in a single Opteron?</p>
<p>Any thoughts on this would be appreciated. Particularly if someone has <br>
practical experience with running Isabelle on these architectures.</p>
<p>Best regards,<br>
Palle Raabjerg</p>



<a name="294141844"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Dedicated%20proof%20box/near/294141844" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Dedicated.20proof.20box.html#294141844">(Aug 18 2022 at 18:08)</a>:</h4>
<p>From: Simon Winwood &lt;<a href="mailto:sjw@cse.unsw.edu.au">sjw@cse.unsw.edu.au</a>&gt;<br>
As a side note, we get around this problem (somewhat, although it<br>
is still annoying) by building images for the theories that don't change much --- <br>
if you aren't changing your core definitions and proofs, this can save time.</p>
<p>Of course, if you are changing stuff all over your theories, this won't help.</p>
<p>Simon</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>