<html>
<head><meta charset="utf-8"><title>[isabelle] Defining a recursive function · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20a.20recursive.20function.html">[isabelle] Defining a recursive function</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294657116"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20a%20recursive%20function/near/294657116" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20a.20recursive.20function.html#294657116">(Aug 22 2022 at 11:41)</a>:</h4>
<p>From: 王淑灵 &lt;<a href="mailto:wangsl@ios.ac.cn">wangsl@ios.ac.cn</a>&gt;<br>
Dear Isabelle list,</p>
<p>I am defining a datatype and a recursive function as below:</p>
<p>typedecl Mat</p>
<p>datatype<br>
comm = Init "nat list" "nat"<br>
| Cond "comm list"</p>
<p>primrec denoFunDef::"comm⇒Mat⇒Mat" where<br>
"denoFunDef (Init m n) p=p"|<br>
"denoFunDef (Cond mcl) p = (case mcl of [] ⇒ p<br>
                        | ac#la ⇒(denoFunDef ac p)) "</p>
<p>An error “Extra variables on rhs: "denoFunDef"” occurs. I don’t know why this occurs since denoFunDef is the recursive function being defined. How should I define the function?<br>
Thanks in advance forsolving my question.</p>
<p>Best regards,<br>
Shuling Wang<br>
SKLCS, Institute of Software, Chinese Academy of Sciences</p>



<a name="294657285"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20a%20recursive%20function/near/294657285" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20a.20recursive.20function.html#294657285">(Aug 22 2022 at 11:42)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
In Isabelle 2015 I get</p>
<p>Invalid map function in "case_list p<br>
                          (λac la. denoFunDef ac p)"</p>
<p>This indicates that your recursion scheme is outside of what primrec can<br>
do.</p>
<p>Just replace "primrec" by "fun", and everything works.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>