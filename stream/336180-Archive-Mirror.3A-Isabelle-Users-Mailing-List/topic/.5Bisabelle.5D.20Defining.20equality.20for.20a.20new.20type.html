<html>
<head><meta charset="utf-8"><title>[isabelle] Defining equality for a new type · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20equality.20for.20a.20new.20type.html">[isabelle] Defining equality for a new type</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294223381"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20equality%20for%20a%20new%20type/near/294223381" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20equality.20for.20a.20new.20type.html#294223381">(Aug 19 2022 at 08:44)</a>:</h4>
<p>From: John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;<br>
Hi,</p>
<p>I'm trying to define a new type which is essentially a set of 3 pairs.<br>
Two objects of that type are equal iff 2 of the pairs are equal. I<br>
have a few questions:</p>
<p>1) If I declare that type using 'typedecl' then how do I express that<br>
it's essentially a set of 3 pairs? 'type_synonym' doesn't seem to be<br>
appropriate since the existing equality on sets of pairs conflicts<br>
with my notion of equality.</p>
<p>2) Even if I declare a new type, does my notion of equality conflict<br>
with any of the existing lemmas, creating a contradiction? Equality is<br>
polymorphic, so I should be able to define it whichever way I want,<br>
right?</p>
<p>Thanks a lot for your time in advance.</p>
<p>John</p>



<a name="294223402"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20equality%20for%20a%20new%20type/near/294223402" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20equality.20for.20a.20new.20type.html#294223402">(Aug 19 2022 at 08:44)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:jpw48@cam.ac.uk">jpw48@cam.ac.uk</a>&gt;<br>
Hi John,</p>
<p>I don't think that's a good notion of equality, because it's not transitive.</p>
<p>{(1,2);(3,4);(5,6)} = {(1,2);(3,4);(7,8)} = {(1,2);(5,6);(7,8)}</p>
<p>but </p>
<p>{(1,2);(3,4);(5,6)} =/= {(1,2);(5,6);(7,8)}</p>
<p>Best wishes,<br>
John</p>



<a name="294223405"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20equality%20for%20a%20new%20type/near/294223405" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20equality.20for.20a.20new.20type.html#294223405">(Aug 19 2022 at 08:44)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:jpw48@cam.ac.uk">jpw48@cam.ac.uk</a>&gt;<br>
Sorry, I messed up my counterexample. I meant:</p>
<p>{(1,2);(3,4);(5,6)} = {(1,2);(3,4);(7,8)} = {(1,2);(9,10);(7,8)}</p>
<p>but</p>
<p>{(1,2);(3,4);(5,6)} =/= {(1,2);(9,10);(7,8)}</p>
<p>John</p>



<a name="294223420"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Defining%20equality%20for%20a%20new%20type/near/294223420" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Defining.20equality.20for.20a.20new.20type.html#294223420">(Aug 19 2022 at 08:45)</a>:</h4>
<p>From: Elsa L Gunter &lt;<a href="mailto:egunter@illinois.edu">egunter@illinois.edu</a>&gt;<br>
Dear John,<br>
   Equality is not something you get to define. It already exists, at <br>
all types already introduce and those yet to be formally introduced.  <br>
Polymorphism doesn't mean you get to define it at each type whatever way <br>
you please.  It means that is has been defined, or otherwise introduced, <br>
in a way that is uniform at all types.  Among other things, it is a <br>
relation satisfying</p>
<p>HOL.subst: [|?s = ?t; ?P ?s |] ==&gt; ?P ?t</p>
<p>no matter what type ?s and ?t have.</p>
<p>If you create a new type (which is what I'm guessing you really want to <br>
do), then two elements in the new type are equal iff their <br>
representations in the underlying model are equal.  I don't quite <br>
understand the definition of the type you are trying to create, but it <br>
sounds to me like you really want to have an underlying model that <br>
starts with (some collection of) sets of something (pairs?) and that you <br>
then want to define an equivalence relation on those sets, and then your <br>
model would be (some of) the equivalence classes.<br>
---Elsa</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>