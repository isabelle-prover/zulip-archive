<html>
<head><meta charset="utf-8"><title>[isabelle] Easier quick PDF generation possible? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html">[isabelle] Easier quick PDF generation possible?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294318248"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294318248" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294318248">(Aug 19 2022 at 16:22)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Hi,</p>
<p>I just create a small theory to do a quick experiment, and I wanted to<br>
share it with someone. Isabelle can create pretty PDF output, so I<br>
wanted to share it as such, but this turns out to be a task that is<br>
unnecessary complicated.</p>
<p>Here is my log:</p>
<ol>
<li>run "isabelle mkroot"</li>
<li>notice that I ran it wrong, "rm ROOT"</li>
<li>run "isabelle mkroot -d"</li>
<li>
<p>add my theory to ROOT, removed the theories [document = false]<br>
   section, because empty sections are not allowed</p>
</li>
<li>
<p>run "isabelle build -D"</p>
</li>
<li>noticed that a few other theories were pulled in that I did not want</li>
<li>
<p>tried to add their theory names to the [document = false] section,<br>
   for which I first had to look up the syntax in another ROOT file</p>
</li>
<li>
<p>noticed that this did not work. Put in the theory path (i.e. <br>
   "~~/src/HOL/Library/Extended_Real") in there</p>
</li>
<li>
<p>adjusted document/root.txt to have a proper title and not disclose my<br>
   local username</p>
</li>
</ol>
<p>Here is what I would have liked to do:</p>
<ol>
<li>run "isabelle thy2pdf Foo.thy"</li>
</ol>
<p>So if anyone agrees that this would be useful, and is able to implement<br>
this minor feature suggestion, I’d appreciate that!</p>
<p>Thanks,<br>
Joachim<br>
<a href="/user_uploads/14278/UQMQ__BFKhHEwH4nTVCbfW0Q/signature.asc">signature.asc</a></p>



<a name="294318262"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294318262" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294318262">(Aug 19 2022 at 16:22)</a>:</h4>
<p>From: Andrew Butterfield &lt;<a href="mailto:Andrew.Butterfield@scss.tcd.ie">Andrew.Butterfield@scss.tcd.ie</a>&gt;<br>
Joachim, all,</p>
<p>Gets +1 from me !</p>
<p>Regards, Andrew</p>
<hr>
<p>Andrew Butterfield     Tel: +353-1-896-2517     Fax: +353-1-677-2204<br>
Lero@TCD, Head of Foundations &amp; Methods Research Group<br>
School of Computer Science and Statistics,<br>
Room G.39, O'Reilly Institute, Trinity College, University of Dublin<br>
<a href="http://www.scss.tcd.ie/Andrew.Butterfield/">http://www.scss.tcd.ie/Andrew.Butterfield/</a></p>
<hr>



<a name="294318309"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294318309" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294318309">(Aug 19 2022 at 16:22)</a>:</h4>
<p>From: Gergely Buday &lt;<a href="mailto:gbuday@gmail.com">gbuday@gmail.com</a>&gt;<br>
I could even imagine a button in Isabelle/JEdit to generate the<br>
document and place it in the Document tab on the right.</p>
<p>And, isabelle build seems to be slow, does it use the information from<br>
the continuous proof checking? I guess not. If it were part of<br>
Isabelle/JEdit, it would be much different.</p>



<a name="294320066"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294320066" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294320066">(Aug 19 2022 at 16:30)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This might require further explanations, apart from the small section <br>
"2.5 Scala console" in the Isabelle/jEdit manual.</p>
<p>The Scala toplevel is similar to really ancient ML toplevels, but to see <br>
the signature of some function one needs to provide some dummy argument. <br>
E.g. like this:</p>
<p><a href="http://Build.build">Build.build</a> _</p>
<p>The source for that is in $ISABELLE_HOME/src/Pure/Tools/build.scala which <br>
can be opened as plain-text file in Isabelle/jEdit precisely like that, <br>
but there is no particular IDE support.  Here is the full signature for <br>
that function in the source:</p>
<p>def build(<br>
     options: Options,<br>
     progress: Progress = Ignore_Progress,<br>
     requirements: Boolean = false,<br>
     all_sessions: Boolean = false,<br>
     build_heap: Boolean = false,<br>
     clean_build: Boolean = false,<br>
     dirs: List[Path] = Nil,<br>
     select_dirs: List[Path] = Nil,<br>
     session_groups: List[String] = Nil,<br>
     max_jobs: Int = 1,<br>
     list_files: Boolean = false,<br>
     no_build: Boolean = false,<br>
     system_mode: Boolean = false,<br>
     verbose: Boolean = false,<br>
     sessions: List[String] = Nil): Int</p>
<p>Scala allows positional and named arguments with default.  Here is a <br>
typical invocation:</p>
<p>Build.build(PIDE.options.value, new Build.Console_Progress, select_dirs = List(Path.explode("~/Papers/Isabelle_Workshop_2014")))</p>
<p>PIDE.options.value refers to the options of the Prover IDE, which are <br>
edited in the Plugin Options / Isabelle dialog.  It is also possible to <br>
provide separate options, taking Options.init() as a start.</p>
<p>Build.Progress objects need to be provided afresh for each invokation. <br>
Here it is connected to the enclosing console, which also allows to use <br>
the "Stop" button to interrupt the running job.</p>
<p>All other arguments are optional; select_dirs above corresponds to option <br>
-D in the shell command-line.</p>
<p>Bypassing the system shell and using the Scala loop directly saves some <br>
precious seconds in the edit-build cycle, which is particularly important <br>
to write papers, manuals, books etc.  I have done that routinely for <br>
recenr manual updates, notable the Isabelle/jEdit itself.  Together with <br>
the spell-checker in Isabelle2014 works already quite nicely.</p>
<p>In the next round of improvements, I hope to see full integration into the <br>
IDE: document preparation without funny build jobs, just some button to <br>
run Isabelle LaTeX on some theories.</p>
<p>Makarius</p>
<hr>
<p><a href="http://stop-ttip.org">http://stop-ttip.org</a>  787,983 people so far</p>
<hr>



<a name="294321330"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294321330" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294321330">(Aug 19 2022 at 16:36)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Thu, 23 Oct 2014, Joachim Breitner wrote:</p>
<blockquote>
<p>Here is my log:</p>
<ol>
<li>run "isabelle mkroot"</li>
<li>notice that I ran it wrong, "rm ROOT"</li>
<li>run "isabelle mkroot -d"</li>
<li>add my theory to ROOT, removed the theories [document = false]<br>
  section, because empty sections are not allowed</li>
<li>run "isabelle build -D"</li>
<li>noticed that a few other theories were pulled in that I did not want</li>
<li>tried to add their theory names to the [document = false] section,<br>
  for which I first had to look up the syntax in another ROOT file</li>
<li>noticed that this did not work. Put in the theory path (i.e.<br>
  "~~/src/HOL/Library/Extended_Real") in there</li>
<li>adjusted document/root.txt to have a proper title and not disclose my<br>
  local username</li>
</ol>
<p>Here is what I would have liked to do:</p>
<ol>
<li>run "isabelle thy2pdf Foo.thy"</li>
</ol>
</blockquote>
<p>Note that Isabelle command-line tools are very old-fashioned, and many new <br>
things don't have a shell wrapper anymore.  The direct way is via <br>
Isabelle/Scala.  It is also possible to invoke Scala functionality in <br>
Isabelle/jEdit with the Console/Scala plugin.</p>
<p>This older thread gives some hints about document preparation via <br>
<a href="http://Build.build">Build.build</a>: <br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2014-January/msg00021.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2014-January/msg00021.html</a> <br>
In Isabelle2014 this works a bit more smoothly, but there is still no <br>
direct IDE support.</p>
<blockquote>
<p>So if anyone agrees that this would be useful, and is able to implement<br>
this minor feature suggestion</p>
</blockquote>
<p>Above you describe too missing things in the current PIDE setup:</p>
<p>(1) management of "projects", i.e. sorting out ROOT files</p>
<p>(2) document-preparation within the IDE</p>
<p>These are not "minor" things, but quite important. Both of that is in the <br>
pipeline for a long time.  Last winter I tried hard to revisit point (2), <br>
but got entangled in old TTY / Proof General features.  Since the latter <br>
has been cleared out at last, some more progress is to be expected <br>
eventually.</p>
<p>Makarius</p>
<hr>
<p><a href="http://stop-ttip.org">http://stop-ttip.org</a>  777,071 people so far</p>
<hr>



<a name="294321509"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294321509" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294321509">(Aug 19 2022 at 16:37)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The perceived slowness of invoking "isabelle build" from the command-line <br>
is mainly the JVM startup and warmup time (to have the just-in-time <br>
compiler go through the massive amounts of byte code).</p>
<p>It is much faster if invoked directly from the running PIDE in the <br>
Console/Scala plugin of Isabelle/jEdit.  After 2-3 runs of <a href="http://Build.build">Build.build</a> the <br>
exploration of dependencies is actually quite fast.</p>
<p>Of course, exploration of dependencies for document preparation is a bit <br>
pointless in the first place.  It is a left-over from the old times of <br>
"make", and even until today people sometimes think they have to invoke <br>
that ancient tool to make something, although it slows downs things a lot.</p>
<p>Makarius</p>
<hr>
<p><a href="http://stop-ttip.org">http://stop-ttip.org</a>  777,087 people so far</p>
<hr>



<a name="294321730"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Easier%20quick%20PDF%20generation%20possible%3F/near/294321730" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Easier.20quick.20PDF.20generation.20possible.3F.html#294321730">(Aug 19 2022 at 16:38)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Great! I’m looking forward to that.</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/v0XWCzbqPRUmX1XtVu8LiWND/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>