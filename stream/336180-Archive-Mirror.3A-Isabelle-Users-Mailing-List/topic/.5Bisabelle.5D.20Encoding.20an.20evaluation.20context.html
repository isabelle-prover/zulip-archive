<html>
<head><meta charset="utf-8"><title>[isabelle] Encoding an evaluation context · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html">[isabelle] Encoding an evaluation context</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293905291"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Encoding%20an%20evaluation%20context/near/293905291" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html#293905291">(Aug 17 2022 at 14:16)</a>:</h4>
<p>From: Klaus Ostermann &lt;<a href="mailto:ostermann@informatik.tu-darmstadt.de">ostermann@informatik.tu-darmstadt.de</a>&gt;<br>
Hi there,</p>
<p>I am trying to formalize a programming language semantics.</p>
<p>Small-step semantics are frequently formalized by using an evaluation<br>
context which controls the order of evaluation. </p>
<p>What would be a good way to encode an evaluation context in Isabelle? Are<br>
there maybe existing examples that I could look at?</p>
<p>Regards,<br>
Klaus</p>



<a name="293905301"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Encoding%20an%20evaluation%20context/near/293905301" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html#293905301">(Aug 17 2022 at 14:16)</a>:</h4>
<p>From: <a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a><br>
Alternatively you can encode the evaluation contexts as congruence rules: for<br>
each pattern in the context grammar you define a rule</p>
<p>xi -&gt; xi'</p>
<hr>
<p>c x1 ... xn -&gt; c x1 .. xi' xn</p>
<p>This is very straightforward but does not please friends of  eval-contexts.</p>
<p>Tobias</p>



<a name="293905310"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Encoding%20an%20evaluation%20context/near/293905310" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html#293905310">(Aug 17 2022 at 14:16)</a>:</h4>
<p>From: Holger Gast &lt;<a href="mailto:gast@informatik.uni-tuebingen.de">gast@informatik.uni-tuebingen.de</a>&gt;<br>
Hallo Klaus,</p>
<p>Michael Norrish discusses one solution (for HOL)<br>
in Section 3.3.1 (and various further spots for extensions):</p>
<p>@PhdThesis{norrish98phd,<br>
  author =       {Norrish, Michael},<br>
  title =        {C formalised in {HOL}},<br>
  school =       {University of Cambridge},<br>
  year =         1998,<br>
  note =         {Technical Report UCAM-CL-TR-453}<br>
}</p>



<a name="293905314"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Encoding%20an%20evaluation%20context/near/293905314" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html#293905314">(Aug 17 2022 at 14:16)</a>:</h4>
<p>From: Norbert Schirmer &lt;<a href="mailto:norbert.schirmer@web.de">norbert.schirmer@web.de</a>&gt;<br>
Hello Klaus<br>
See for example the work of Stefan Berghofer for the Poplmark-Challenge:</p>
<p><a href="http://www4.in.tum.de/~berghofe/papers/Poplmark/index.html">http://www4.in.tum.de/~berghofe/papers/Poplmark/index.html</a></p>
<p>He uses a function E:: term =&gt; term to encode evalution contexts.<br>
An inductive definition "ctxt" restricts the E to sensible functions.</p>
<p>Norbert</p>



<a name="293905316"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Encoding%20an%20evaluation%20context/near/293905316" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Encoding.20an.20evaluation.20context.html#293905316">(Aug 17 2022 at 14:16)</a>:</h4>
<p>From: Michael Norrish &lt;<a href="mailto:michael.norrish@gmail.com">michael.norrish@gmail.com</a>&gt;<br>
The approach I took ends up being pretty similar to the approach where<br>
you have a context function that can span multiple levels of syntax,<br>
but it does keep the recursion in just one place (the basic reduction<br>
relation), rather than there, and also in the inductive<br>
characterisation of what it is to be a valid context.</p>
<p>So you end up with a rule like</p>
<p>e --&gt; e'   validctxt c</p>
<hr>
<p>c e --&gt; c e'</p>
<p>as well as a definition of valid_ctxt that looks like</p>
<p>valid_ctxt f == (\exists e2. f = \lambda e1. e1 + e2) \/<br>
                       (\exists e1. f = \lambda e2. e1 + e2) \/<br>
                       (f = unary_negation)</p>
<p>Michael</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>