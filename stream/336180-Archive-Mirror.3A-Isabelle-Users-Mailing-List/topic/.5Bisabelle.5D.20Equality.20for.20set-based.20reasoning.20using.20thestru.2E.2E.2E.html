<html>
<head><meta charset="utf-8"><title>[isabelle] Equality for set-based reasoning using thestru... ¬∑ Archive Mirror: Isabelle Users Mailing List ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Equality.20for.20set-based.20reasoning.20using.20thestru.2E.2E.2E.html">[isabelle] Equality for set-based reasoning using thestru...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294827280"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Equality%20for%20set-based%20reasoning%20using%20thestru.../near/294827280" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Equality.20for.20set-based.20reasoning.20using.20thestru.2E.2E.2E.html#294827280">(Aug 23 2022 at 08:57)</a>:</h4>
<p>From: Mikhail Chekhov &lt;<a href="mailto:mikhail.chekhov.w@gmail.com">mikhail.chekhov.w@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I have a technical question for those who are well versed in<br>
the formalizaton of applied mathematics in Isabelle/HOL using set-based<br>
reasoning in HOL-Algebra (or similar).</p>
<p>I am curious as to what is the canonical approach for dealing with the<br>
equality of algebraic structures (e.g. monoids). Suppose, a given monoid<br>
undergoes a sequence of transformations, the result of these<br>
transformations being an identical monoid (isomorphisms are not good<br>
enough).</p>
<p>I am aware of two different solutions, but I am not certain whether there<br>
exist (better) alternatives and which solution would be preferred/more<br>
canonical?</p>
<ol>
<li>(Partial) equivalence relation. For example,</li>
</ol>
<p>locale monoid_eq = monoid G + monoid F for G F +<br>
  assumes "carrier G = carrier F"<br>
    and "x ‚àà carrier G ‚üπ y ‚àà carrier G ‚üπ x ‚äó‚áòG‚áô y = x ‚äó‚áòF‚áô y"<br>
    and "ùü≠‚áòG‚áô = ùü≠‚áòF‚áô"</p>
<p>It should also be possible to define a partial quotient type based on<br>
monoid_eq. However, I can imagine that this could result in a substantial<br>
amount of boilerplate code (one would wish to transfer the entire<br>
HOL-Algebra to the new type(s)).</p>
<ol start="2">
<li>Augmentation of the monoid locale with an additional condition that<br>
mimics the restriction of the domain of the operation ‚äó to the carrier set<br>
via undefined. Once this is done, one can use the standard HOL's equality.</li>
</ol>
<hr>
<p>Here, I present more background information and describe my own experiences<br>
with the aforementioned approaches.</p>
<p>Having tried the second solution in a reasonably sizeable development, I<br>
found it to be very unwieldy. There seems to be a need to propagate this<br>
type of condition to almost every derived structure and function operating<br>
on such structures. At some point, I found myself spending more time<br>
dealing with 'undefined' than doing work towards the development of the<br>
theory that I was trying to develop.</p>
<p>Having recently tried the first solution, it seems to be more manageable:<br>
it is not difficult to transfer results among the members of the same<br>
equivalence class in an ad-hoc manner. Nonetheless, it does feel a little<br>
bit odd to have to deal with two different notions of the concept of<br>
equality and I have never seen anyone using this approach before.<br>
Therefore, I decided to make an attempt to seek advice from the list.</p>
<p>Kind Regards,<br>
Mikhail Chekhov</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>