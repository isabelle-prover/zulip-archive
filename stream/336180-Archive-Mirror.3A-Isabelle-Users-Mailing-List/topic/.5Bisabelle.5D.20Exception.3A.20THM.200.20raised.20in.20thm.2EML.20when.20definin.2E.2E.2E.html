<html>
<head><meta charset="utf-8"><title>[isabelle] Exception: THM 0 raised in thm.ML when definin... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Exception.3A.20THM.200.20raised.20in.20thm.2EML.20when.20definin.2E.2E.2E.html">[isabelle] Exception: THM 0 raised in thm.ML when definin...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294658933"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Exception%3A%20THM%200%20raised%20in%20thm.ML%20when%20definin.../near/294658933" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Exception.3A.20THM.200.20raised.20in.20thm.2EML.20when.20definin.2E.2E.2E.html#294658933">(Aug 22 2022 at 11:53)</a>:</h4>
<p>From: Dominic Mulligan via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hi,</p>
<p>I have a fairly large recursive function (~160 lines) that is causing<br>
problems, in when I try to get Isabelle to accept the function<br>
definition (using either the fun or function keyword) I am getting the<br>
following output:</p>
<p>* exception THM 0 raised (line 705 of "thm.ML"):<br>
  * implies_elim: major premise</p>
<p>followed by what looks like a lengthy internal proof state of some<br>
sort from the function package.  I have stepped through the function<br>
commenting out chunks of code and putting "undefined" everywhere, and<br>
it appears that the problem is in the final recursive call at the<br>
bottom of my definition.</p>
<p>How can I work around this other than trying to split my function up,<br>
or begin to try to find out what the problem is?  The error message is<br>
not very helpful in working out where the problem lies.  Is there a<br>
known common cause for this exception when defining functions?</p>
<p>Many thanks,<br>
Dominic</p>



<a name="294660965"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Exception%3A%20THM%200%20raised%20in%20thm.ML%20when%20definin.../near/294660965" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Exception.3A.20THM.200.20raised.20in.20thm.2EML.20when.20definin.2E.2E.2E.html#294660965">(Aug 22 2022 at 12:04)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Dominic,</p>
<p>I think the best what can be done at the moment is to provide a minimal<br>
example here on the mailing list.</p>
<p>All the best,<br>
    Florian<br>
<a href="/user_uploads/14278/JOLX0qd8rvKwHgWXy4knh8Nv/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>