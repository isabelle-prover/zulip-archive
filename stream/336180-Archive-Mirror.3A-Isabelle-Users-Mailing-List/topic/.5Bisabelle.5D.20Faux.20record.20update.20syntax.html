<html>
<head><meta charset="utf-8"><title>[isabelle] Faux record update syntax · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Faux.20record.20update.20syntax.html">[isabelle] Faux record update syntax</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294709071"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Faux%20record%20update%20syntax/near/294709071" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Faux.20record.20update.20syntax.html#294709071">(Aug 22 2022 at 15:19)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear list,</p>
<p>I stumbled over a funny thing today: Even if a value x is not of record<br>
type, record update syntax will still work. For example,</p>
<p>x (| v := t |)</p>
<p>works as long as a constant v_update with the appropriate type is in scope.</p>
<p>Should the datatype command be extended to produce these constants? It<br>
is quite convenient syntax (which can't be said of records in general).</p>
<p>Cheers<br>
Lars</p>



<a name="294709110"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Faux%20record%20update%20syntax/near/294709110" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Faux.20record.20update.20syntax.html#294709110">(Aug 22 2022 at 15:19)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Hi,</p>
<blockquote>
<p>By default, I'd say clearly no. The (co)datatype package already<br>
generates more than enough constants and theorems as it is.</p>
</blockquote>
<p>sure, that's true. If it were implemented I guess that'd go into a<br>
plugin anyway. (I have many things that should go into a plugin at some<br>
point ...)</p>
<blockquote>
<p>I suggest we just keep this as an idiom. If more than one person ends<br>
up using this, and the general parsing principle you describe is<br>
considered a feature of the system and not a bug, we could add a<br>
brief section to the manual.</p>
</blockquote>
<p>Right. I know very little about the record package apart from that it is<br>
not localized and does not register itself as a BNF (for which there is<br>
"copy_bnf" these days, luckily). I also don't know if someone still<br>
feels responsible for it.</p>
<p>I should probably motivate why this came up: Lem (the specification<br>
language) is able to generate records in Isabelle. I had to change some<br>
of them to datatypes and then realized that the syntax would still work.<br>
(Lem does not use extensible records so they should probably generate<br>
datatypes directly.)</p>
<p>But I'm happy to leave things as they are right now. Maybe somebody on<br>
this list has already done something like that.</p>
<p>Cheers<br>
Lars</p>



<a name="294709125"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Faux%20record%20update%20syntax/near/294709125" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Faux.20record.20update.20syntax.html#294709125">(Aug 22 2022 at 15:19)</a>:</h4>
<p>From: <a href="mailto:Thomas.Sewell@data61.csiro.au">Thomas.Sewell@data61.csiro.au</a><br>
Not directly relevant to this discussion, but:</p>
<p>This additional faux record syntax is used in a number of developments.</p>
<p>Cheers,<br>
     Thomas.</p>



<a name="294709143"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Faux%20record%20update%20syntax/near/294709143" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Faux.20record.20update.20syntax.html#294709143">(Aug 22 2022 at 15:19)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This was done on purpose many years ago, when this notation was<br>
introduced. A bit later, the record package turned out the canonical<br>
source of such update functions, but there are (very few) other<br>
applications found elsewhere.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>