<html>
<head><meta charset="utf-8"><title>[isabelle] Feature request modification · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20request.20modification.html">[isabelle] Feature request modification</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294637545"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20request%20modification/near/294637545" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20request.20modification.html#294637545">(Aug 22 2022 at 09:32)</a>:</h4>
<p>From: "W. Douglas Maurer" &lt;<a href="mailto:maurer@gwu.edu">maurer@gwu.edu</a>&gt;<br>
Oops -- typo at the end of the requested feature, and it also needs <br>
to start with m &lt;= n+1, not m &lt; n+1. So it should be (and the proof <br>
goes through, this way):<br>
lemma aux: "m &lt;= n+1 ==&gt; setsum f {m..n+1} = setsum f {m..n} + f (n+1 :: int)"<br>
   by (simp add: add.commute atLeastAtMostPlus1_int_conv)<br>
The case m = n+1 is necessary in order to interact properly with the <br>
base case, which is "setsum f {n+(1::int)..n} = 0" by simp . Setting <br>
m = n+1, we get:<br>
setsum f {n+1..n+1} [that is, setsum f {m..m}]<br>
= setsum f {n+1..n} [that is, 0, by the base case]</p>
<ul>
<li>f(n+1 :: int) [that is, f(m::int)]<br>
In other words, setsum f {m..m} = f(m::int), which is as it should <br>
be. Without the case m = n+1, you'd need a separate proof of that <br>
case. -Douglas</li>
</ul>



<a name="294643342"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20request%20modification/near/294643342" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20request.20modification.html#294643342">(Aug 22 2022 at 10:10)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
I considered this suggestion carefully but decided against it. Adding something <br>
that can be derived easily needs a strong argument, otherwise the library <br>
explodes. Here a single lemma does not do the job anyway: on type nat, +1 <br>
becomes Suc and floats to the top, at least in sums. This is not the case for <br>
type int, where "n+1" is not a canonical form. You will have to put that lemma <br>
into a basis theory for your students.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/Vr6oBYkB1y19x2-qppSIc-ln/smime.p7s">smime.p7s</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>