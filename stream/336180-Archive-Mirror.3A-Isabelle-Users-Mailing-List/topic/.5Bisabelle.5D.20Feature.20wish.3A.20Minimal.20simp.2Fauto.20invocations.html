<html>
<head><meta charset="utf-8"><title>[isabelle] Feature wish: Minimal simp/auto invocations · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html">[isabelle] Feature wish: Minimal simp/auto invocations</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294225912"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294225912" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294225912">(Aug 19 2022 at 09:06)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Dear Tobias,</p>
<p>Am Sonntag, den 18.11.2012, 09:31 +0100 schrieb Tobias Nipkow:</p>
<blockquote>
<p>We are planning to provide a much improved tracing facility for the simplifier<br>
which will certainly keep track of such things and will tell you, for example,<br>
if a rule you added explicitly was not used at all. We could also provide the<br>
list of all rules used.</p>
</blockquote>
<p>great!</p>
<blockquote>
<blockquote>
<p>The output window would then say something along the lines simplification<br>
used 5 lemmas. Use "apply (simp only: foo bar baz bam bang)" (12ms) to <br>
reproduce. and in the IDE I could click on that to replace the original<br>
invocation with this more explicit command.</p>
</blockquote>
<p>I doubt we want to go down that route. The simplifier often uses lots of<br>
rules, which would lead to a very long list if supplied explicitly, which is<br>
ugly. Moreover it would expose information we want to hide: how exactly a lot<br>
of basic computations are organized, especially rewriting on numbers. Your<br>
suggestion would create simplifier calls that hardwire that information and<br>
make such steps very brittle under change. I don't want to encourage that.</p>
</blockquote>
<p>I understand the rationale here, and it certainly makes sense when<br>
working with a theory that does, say, lots of arithmetic. But other<br>
applications may make very little use of basic stuff from Main; hardly<br>
more than just lists. I’d suggest that the call should be left to the<br>
user: If he sees lots of lemmas he did not write himself or does not<br>
know, he can leave the simp call as it is. But if the lemmas are roughly<br>
what he expected, why not allow him to make that explicit?</p>
<p>(The situation is not different with sledgehammer, which also<br>
occasionally produces internal lemmas, yet it is a useful feature that<br>
is mostly used in a “good” way.)</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/bDzXjqReOxzCpyAArkwSvx6Z/signature.asc">signature.asc</a></p>



<a name="294225930"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294225930" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294225930">(Aug 19 2022 at 09:06)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:eberlm@in.tum.de">eberlm@in.tum.de</a>&gt;<br>
What i would find more useful would be output in the form of 'Use "apply<br>
(simp add: foo bar baz bam bang)"', i. e. if it showed a list of the<br>
rewrite rules that it used and that are not in the simp set anyway.<br>
This, if I am not mistaken, would not lead to the problem of exposing<br>
any of these these internal details but still provide a similar<br>
functionality. I for one use "simp add:" much more often than "simp<br>
only:" and have often found myself removing rules from the "add" clause<br>
by trial and error to find out which of them are actually necessary.</p>
<p>Cheers,<br>
Manuel</p>



<a name="294225935"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294225935" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294225935">(Aug 19 2022 at 09:06)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
That is a version of the feedback we intend to give: which of the added rules<br>
were actually used.</p>
<p>Tobias</p>



<a name="294226134"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294226134" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294226134">(Aug 19 2022 at 09:08)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Am 18/11/2012 10:51, schrieb Joachim Breitner:</p>
<blockquote>
<p>Dear Tobias,</p>
<p>Am Sonntag, den 18.11.2012, 09:31 +0100 schrieb Tobias Nipkow:</p>
<blockquote>
<p>We are planning to provide a much improved tracing facility for the<br>
simplifier which will certainly keep track of such things and will tell<br>
you, for example, if a rule you added explicitly was not used at all. We<br>
could also provide the list of all rules used.</p>
</blockquote>
<p>great!</p>
<blockquote>
<blockquote>
<p>The output window would then say something along the lines<br>
simplification used 5 lemmas. Use "apply (simp only: foo bar baz bam<br>
bang)" (12ms) to reproduce. and in the IDE I could click on that to<br>
replace the original invocation with this more explicit command.</p>
</blockquote>
<p>I doubt we want to go down that route. The simplifier often uses lots of <br>
rules, which would lead to a very long list if supplied explicitly, which<br>
is ugly. Moreover it would expose information we want to hide: how<br>
exactly a lot of basic computations are organized, especially rewriting<br>
on numbers. Your suggestion would create simplifier calls that hardwire<br>
that information and make such steps very brittle under change. I don't<br>
want to encourage that.</p>
</blockquote>
<p>I understand the rationale here, and it certainly makes sense when working<br>
with a theory that does, say, lots of arithmetic. But other applications<br>
may make very little use of basic stuff from Main; hardly more than just<br>
lists. I’d suggest that the call should be left to the user: If he sees<br>
lots of lemmas he did not write himself or does not know, he can leave the<br>
simp call as it is. But if the lemmas are roughly what he expected, why not<br>
allow him to make that explicit?</p>
</blockquote>
<p>We don't forbid that at all. We just don't want to encourage it in general.</p>
<blockquote>
<p>(The situation is not different with sledgehammer, which also occasionally<br>
produces internal lemmas, yet it is a useful feature that is mostly used in<br>
a “good” way.)</p>
</blockquote>
<p>Sledgehammer (currently) has no alternative.</p>
<p>Tobias</p>
<blockquote>
<p>Greetings, Joachim<br>
</p>
</blockquote>



<a name="294226846"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294226846" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294226846">(Aug 19 2022 at 09:13)</a>:</h4>
<p>From: Timothy Bourke &lt;<a href="mailto:tim@tbrk.org">tim@tbrk.org</a>&gt;<br>
I wonder if such a feature would be more practical and useful if<br>
restricted to a particular theory (or set of theories):</p>
<p>apply (simp minimize: Invariants add: foo)</p>
<p>where rules from a theory called "Invariants" would be listed for<br>
possible one-click substitution.</p>
<p>During the verification of a model, for instance, it's certainly more<br>
efficient (for the user) to have most lemmas applied automatically,<br>
but afterward it would sometimes be nice to know exactly which lemmas<br>
(from a subset of interesting ones) were actually used. Both for<br>
refactoring, as already mentioned, and for better understanding the<br>
result.</p>
<p>But, perhaps this would be better in a separate "reporting tool"?</p>
<p>Tim.<br>
<a href="/user_uploads/14278/iBw8FOYLA8tq9NZnVbDfsgfn/signature.asc">signature.asc</a></p>



<a name="294226851"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294226851" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294226851">(Aug 19 2022 at 09:13)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Thanks for the suggestion, but this is getting a bit fine-grained and I can<br>
imagine (too) many variations on this idea.</p>
<p>Tobias</p>



<a name="294228287"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294228287" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294228287">(Aug 19 2022 at 09:24)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Dear Isabelle users (and devs, I guess),</p>
<p>I am using sledgehammer/metis more and more even for very simple and<br>
obvious lemmas that I could mostly also solve with simp or auto. The<br>
great thing about sledgehammer is that it searched a proof taking many<br>
lemmas into account, but then produces a command that explicitly<br>
mentions the lemmas that are required, which is very useful feedback to<br>
me, and helps, for example, in refactoring.</p>
<p>Is there a chance to get a similar feature for the simplifier? I could<br>
imagine that when I write<br>
        apply (simp minimize add: foo)<br>
the simplifier would run as usual, but it would also keep track of which<br>
simplification rules were actually used. The output window would then<br>
say something along the lines<br>
        simplification used 5 lemmas.<br>
        Use "apply (simp only: foo bar baz bam bang)" (12ms) to<br>
        reproduce.<br>
and in the IDE I could click on that to replace the original invocation<br>
with this more explicit command.</p>
<p>It could work similarly (but maybe harder to implement, I presume) for<br>
auto.</p>
<p>More generally, as I’m basically working with Isabelle fulltime these<br>
days, there are more usability improvement ideas cropping up. Is this<br>
the right forum and form to suggest them?</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/DwnXQFvKWEPVAOm2PEB41eh-/signature.asc">signature.asc</a></p>



<a name="294228336"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Feature%20wish%3A%20Minimal%20simp/auto%20invocations/near/294228336" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Feature.20wish.3A.20Minimal.20simp.2Fauto.20invocations.html#294228336">(Aug 19 2022 at 09:25)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Am 16/11/2012 23:25, schrieb Joachim Breitner:</p>
<blockquote>
<p>Dear Isabelle users (and devs, I guess),</p>
<p>I am using sledgehammer/metis more and more even for very simple and <br>
obvious lemmas that I could mostly also solve with simp or auto. The great<br>
thing about sledgehammer is that it searched a proof taking many lemmas<br>
into account, but then produces a command that explicitly mentions the<br>
lemmas that are required, which is very useful feedback to me, and helps,<br>
for example, in refactoring.</p>
<p>Is there a chance to get a similar feature for the simplifier? I could <br>
imagine that when I write apply (simp minimize add: foo) the simplifier<br>
would run as usual, but it would also keep track of which simplification<br>
rules were actually used.</p>
</blockquote>
<p>We are planning to provide a much improved tracing facility for the simplifier<br>
which will certainly keep track of such things and will tell you, for example,<br>
if a rule you added explicitly was not used at all. We could also provide the<br>
list of all rules used.</p>
<blockquote>
<p>The output window would then say something along the lines simplification<br>
used 5 lemmas. Use "apply (simp only: foo bar baz bam bang)" (12ms) to <br>
reproduce. and in the IDE I could click on that to replace the original<br>
invocation with this more explicit command.</p>
</blockquote>
<p>I doubt we want to go down that route. The simplifier often uses lots of<br>
rules, which would lead to a very long list if supplied explicitly, which is<br>
ugly. Moreover it would expose information we want to hide: how exactly a lot<br>
of basic computations are organized, especially rewriting on numbers. Your<br>
suggestion would create simplifier calls that hardwire that information and<br>
make such steps very brittle under change. I don't want to encourage that.</p>
<blockquote>
<p>It could work similarly (but maybe harder to implement, I presume) for <br>
auto.</p>
<p>More generally, as I’m basically working with Isabelle fulltime these days,<br>
there are more usability improvement ideas cropping up. Is this the right<br>
forum and form to suggest them?</p>
</blockquote>
<p>It is, thanks.</p>
<p>Tobias</p>
<blockquote>
<p>Greetings, Joachim<br>
</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>