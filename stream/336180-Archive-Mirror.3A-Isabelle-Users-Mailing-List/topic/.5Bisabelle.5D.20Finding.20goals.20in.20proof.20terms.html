<html>
<head><meta charset="utf-8"><title>[isabelle] Finding goals in proof terms · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finding.20goals.20in.20proof.20terms.html">[isabelle] Finding goals in proof terms</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294279780"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finding%20goals%20in%20proof%20terms/near/294279780" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finding.20goals.20in.20proof.20terms.html#294279780">(Aug 19 2022 at 14:39)</a>:</h4>
<p>From: "Farquhar, Colin I" &lt;<a href="mailto:cif30@hw.ac.uk">cif30@hw.ac.uk</a>&gt;<br>
Dear Isabelle List,</p>
<p>I'm having some trouble getting the information I need from some proof terms. Specifically, I'm trying to find the sub-goals generated by each rule application. Take for example the lemma below:</p>
<p>lemma test: "A ⟶ A ⟶ A ∧ A"<br>
  apply (rule impI)<br>
  apply (rule impI)<br>
  apply (rule conjI)<br>
  apply assumption<br>
  apply assumption<br>
  done</p>
<p>The "full_prf" command gives the proof term thm.HOL.impI ⋅ ?A ⋅ ?A ⟶ ?A ∧ ?A ∙ (ΛH: ?A. thm.HOL.impI ⋅ ?A ⋅ ?A ∧ ?A ∙ (ΛHa: ?A. conjI ⋅ ?A ⋅ ?A ∙ H ∙ H)). While this does show what I'm looking for, I'm trying to present it in a different format. I have already written functions which look at the nuts and bolts of a proof term and extract information about the rules used, but I can't find the equivalent information about the goals. I've looked at the construction of full_prf and followed the chain of functions back a few steps, but haven't had much luck. I believe the information I'm looking for is used in the reconstruction of the proof, but haven't found it yet. Am I looking in the right place? If not, can anyone give me a nudge in the right direction?</p>
<p>Thanks for any help you can offer.</p>
<p>Colin Farquhar</p>
<hr>
<p>Sunday Times Scottish University of the Year 2011-2013<br>
Top in the UK for student experience<br>
Fourth university in the UK and top in Scotland (National Student Survey 2012)</p>
<p>We invite research leaders and ambitious early career researchers to <br>
join us in leading and driving research in key inter-disciplinary themes. <br>
Please see <a href="http://www.hw.ac.uk/researchleaders">www.hw.ac.uk/researchleaders</a> for further information and how<br>
to apply.</p>
<p>Heriot-Watt University is a Scottish charity<br>
registered under charity number SC000278.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>