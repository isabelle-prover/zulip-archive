<html>
<head><meta charset="utf-8"><title>[isabelle] Finite set datatype? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html">[isabelle] Finite set datatype?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294118452"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118452" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118452">(Aug 18 2022 at 16:10)</a>:</h4>
<p>From: Palle Raabjerg &lt;<a href="mailto:palle.raabjerg@it.uu.se">palle.raabjerg@it.uu.se</a>&gt;<br>
Hi all,</p>
<p>I have a very short, possibly stupid question:<br>
Is there a finite set datatype in Isabelle?</p>
<p>I want to include a set type in the definition of a nominal datatype. <br>
But Isabelle's standard set datatype can express infinite sets, and <br>
since a requirement for a nominal datatype is a proof of finite support, <br>
they don't seem to work here.<br>
I figure there should at least be a theory, or notion of 'finite set' <br>
somewhere, as the 'set' function effectively guarantees the finiteness <br>
of the sets it converts from lists.</p>
<p>So yes, is there an actual finite set datatype, or would it be possible <br>
to define one?<br>
Or must I use lists in the nominal datatype to somehow emulate finite sets?</p>
<p>Regards,<br>
Palle Raabjerg</p>



<a name="294118466"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118466" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118466">(Aug 18 2022 at 16:10)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
There is the theory Fset in library which defines a finite set type.</p>
<p>-- Lars</p>



<a name="294118512"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118512" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118512">(Aug 18 2022 at 16:10)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Palle,</p>
<p>I actually must correct my quite misleading heading of this file: the<br>
type fset itself is indeed infinite.</p>
<p>Christian hints should indeed suffice.</p>
<p>Hope this helps,<br>
    Florian<br>
<a href="/user_uploads/14278/UotEsLNgHp_4cegtqkaSHu6r/signature.asc">signature.asc</a></p>



<a name="294118639"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118639" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118639">(Aug 18 2022 at 16:11)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Christian Urban wrote:<br>
Recently I contemplated defining a finite set type and also a type class <br>
which would have included finite sets and (unrestricted) sets, thus not <br>
having to repeat lots of definitions and theorems which already exist <br>
for sets.</p>
<p>But as I understood it (tell me if this is not so) the set type was <br>
removed from Isabelle a couple of years ago, so this would no longer be <br>
possible.</p>
<p>Jeremy</p>



<a name="294118737"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118737" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118737">(Aug 18 2022 at 16:12)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
On Wed, Oct 6, 2010 at 5:10 PM, Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt; wrote:</p>
<blockquote>
<p>Recently I contemplated defining a finite set type and also a type class<br>
which would have included finite sets and (unrestricted) sets, thus not<br>
having to repeat lots of definitions and theorems which already exist for<br>
sets.</p>
</blockquote>
<p>Type classes generalizing the standard set operations already exist;<br>
they are defined in Lattices.thy. The notations for union,<br>
intersection, {} and UNIV are now just type-specific abbreviations for<br>
the general lattice operations sup, inf, bot, and top, respectively.</p>
<p>The Quotient_Examples/FSet.thy library that Christian referred to<br>
already includes instances of the appropriate lattice classes, which<br>
lets you avoid repeating the existing generic theorems.</p>
<p>instantiation fset :: (type) "{bounded_lattice_bot, distrib_lattice, minus}"<br>
begin<br>
...</p>
<p>Of course, the Set.thy library also contains a lot of set-specific<br>
theorems that have no general counterpart. By generalizing more<br>
theorems from Set.thy to the appropriate lattice classes, we could<br>
make FSet.thy more useful.</p>
<blockquote>
<p>But as I understood it (tell me if this is not so) the set type was removed<br>
from Isabelle a couple of years ago, so this would no longer be possible.</p>
</blockquote>
<p>Indeed, the set type no longer exists; "'a set" is just an<br>
abbreviation for "'a =&gt; bool". But this doesn't mean that "'a set"<br>
can't be made an instance of a type class -- you just need to provide<br>
a generic instance for the function type. For example, the following<br>
declaration from Lattices.thy makes type "'a set" into a lattice,<br>
since type bool is already a lattice:</p>
<p>instantiation "fun" :: (type, lattice) lattice<br>
begin</p>
<p>definition<br>
  inf_fun_eq: "f \&lt;sqinter&gt; g = (\&lt;lambda&gt;x. f x \&lt;sqinter&gt; g x)"</p>
<p>definition<br>
  sup_fun_eq: "f \&lt;squnion&gt; g = (\&lt;lambda&gt;x. f x \&lt;squnion&gt; g x)"<br>
...</p>
<ul>
<li>Brian</li>
</ul>



<a name="294118755"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118755" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118755">(Aug 18 2022 at 16:12)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jlcaadawson@netspeed.com.au">jlcaadawson@netspeed.com.au</a>&gt;<br>
Brian,</p>
<p>Thanks for this - I'll have to look at it when I've got more time.</p>
<p>This "instantiation" command looks rather like the "instance" command - <br>
is that right?<br>
but it seems to have definitions following it rather than before it.</p>
<p>Do you know whether its use is documented anywhere (and if so where) (I <br>
can't find it now, probably because I only have Isabelle2005 installed <br>
here now).</p>
<p>So I can't really see how it would work - would you be able to define a <br>
type class that encompasses sets and finite sets, and enables you to <br>
define the power set function Pow, and get all the relevant theorems <br>
about it ?</p>
<p>Regards,</p>
<p>Jeremy</p>



<a name="294118785"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Finite%20set%20datatype%3F/near/294118785" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Finite.20set.20datatype.3F.html#294118785">(Aug 18 2022 at 16:12)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
Hi Jeremy,</p>
<blockquote>
<p>This "instantiation" command looks rather like the "instance" command - <br>
is that right?<br>
but it seems to have definitions following it rather than before it.</p>
<p>Do you know whether its use is documented anywhere (and if so where) (I <br>
can't find it now, probably because I only have Isabelle2005 installed <br>
here now).</p>
</blockquote>
<p>You can always find documentation on the latest release at<br>
<a href="http://isabelle.in.tum.de/documentation.html">http://isabelle.in.tum.de/documentation.html</a> . The document "Tutorial on <br>
Type Classes" documents the new (from 2006) class infrastructure from a <br>
user's point of view. Moreover, Section 5.6 of the Isar Reference Manual <br>
contains syntax diagrams etc. Technical details and background can be <br>
found in a paper by Haftmann and Wenzel: <br>
<a href="http://www4.informatik.tu-muenchen.de/~haftmann/pdf/constructive_type_classes_haftmann_wenzel.pdf">http://www4.informatik.tu-muenchen.de/~haftmann/pdf/constructive_type_classes_haftmann_wenzel.pdf</a></p>
<blockquote>
<p>So I can't really see how it would work - would you be able to define a <br>
type class that encompasses sets and finite sets, and enables you to <br>
define the power set function Pow, and get all the relevant theorems <br>
about it ?</p>
</blockquote>
<p>I think power sets cannot be defined, since there is no corresponding <br>
notion on functions... (I am not even completely sure how it would work <br>
if sets had their own type constructor...). But most other constructs <br>
and notation it works fine.</p>
<p>Alex</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>