<html>
<head><meta charset="utf-8"><title>[isabelle] Free variable dead horse beat; getting two equ... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html">[isabelle] Free variable dead horse beat; getting two equ...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294224318"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224318" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224318">(Aug 19 2022 at 08:52)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Christian,</p>
<p>I'm now ready to remain skeptical even though I'm safely assuming that <br>
you're right when you say that free variables are quantified with the <br>
"!!" operator. And somehow, my skepticism here is not the same thing as <br>
cognitive dissonance.</p>
<p>If you can tell me the ML file (or ML file folder) where "!!" is used to <br>
quantify the free variables, that would definitively put all this to <br>
rest, I think.</p>
<p>So, you would be at least the third person who has told me that free <br>
variables are implicitly quantified. I'm happy to take lessons in basic <br>
logic, but I think part of what's been leading me astray here is that <br>
with the examples I've been looking at, I logically get the same results <br>
by assuming that free variables aren't implicitly quantified. At the <br>
very least here, I could just switch all this to a question, "Do I get <br>
the same results if I assume free variables aren't quantified?" It might <br>
be a trivial question, with a trivial result. I don't know.</p>
<p>Here, I give two lemmas, one conjecture, and two axioms, which I think <br>
are representative of what I'm doing in my THY, and which ties into your <br>
reply.</p>
<p>Lemma1: (!q. P q) --&gt; (P q)<br>
Lemma2: (P q) --&gt; (!q. P q)</p>
<p>Conjecture1: (!q. P q) &lt;-&gt; (P q)</p>
<p>Axiom1: (!q. P q)<br>
Axiom2: (P q)</p>
<p>Essentially, I can get similar results as you describe below without <br>
assuming that free variables get quantified by "!!".</p>
<p>Prior to Axiom1 and Axiom2 being given, Lemma1 is trivially true, and <br>
Lemma2 is obviously false, so Conjecture 1 is obviously false.</p>
<p>(In this case, if I explicitly quantify Lemma1 and Lemma2 using (!q. <br>
(!q. P q) --&gt; (P q)) and (!q. (P q) --&gt; (!q. P q)), I get the same <br>
results, so it doesn't tell me I'm misguided.)</p>
<p>This result would be similar to my counterexample in my THY. I didn't <br>
actually substitute the values that Nitpick gave me into my formula. If <br>
I did the brainwork, it might show me that it would have to be the case <br>
that "!!" is quantifying the free variables.</p>
<p>Assume Axiom1. Lemma1 doesn't need Axiom1 to be true. For Lemma2, <br>
because of Axiom1, the right-hand side of Lemma2 is always true, thus <br>
Lemma2 is true. This result represents the result of using my first locale.</p>
<p>Assume Axiom2. Again, Lemma1 doesn't need it. For Lemma2, we would have <br>
the equivalent formula (True --&gt; (!q. True)), which is true. This result <br>
represents my result of using my second locale.</p>
<p>Okay, I could be saying the most stupidest of things here. Once I miss <br>
formally learning certain basics, it's hard to find time to go back and <br>
learn what I don't have to know.</p>
<p>It makes sense that free variables would be quantified by the software. <br>
On the other hand, when no one will point me to a formal document <br>
telling me that, I keep open the option that something different could <br>
be going on. "Makes sense" doesn't serve me well sometimes.</p>
<p><em>NOISE AND CLUTTER</em></p>
<p>Now on to your complaint about my creating noise and clutter in my THY.</p>
<p>Working on trying to better reduce noise and clutter is half of what I <br>
got out of sending off this email. The other half is learning about the <br>
usefulness of locales to do some preliminary proofs without globally <br>
injecting all the overhead into the THY.</p>
<p>Back to noise and clutter, the challenge is to find a way to mark up <br>
THYs in a way that is reasonably readable, and which can also be <br>
processed with scripts to generate other THY and TEX files to give <br>
people options on how they want to absorb the information.</p>
<p>For mathematical writing, I think there are four main components,</p>
<p>1) Section headings<br>
2) Text/discussion<br>
3) Statement of theorems, definitions, axioms, etc.<br>
4) Proofs</p>
<p>A big part of LaTeX is the newtheorem environment:</p>
<p>ftp://ftp.ams.org/pub/tex/doc/amscls/amsthdoc.pdf</p>
<p>I'm trying to duplicate a decent imitation of the newtheorem environment <br>
in the THY file, without creating too much clutter and noise, and not <br>
fall prey to the "gaudy web page syndrome".</p>
<p>It's not obvious how to use a limited set of tools to get something <br>
better than the traditional way of doing things.</p>
<p>Sometimes you don't get something better. There was Xerox. And there was <br>
Apple. It's the story of Apple taking new ideas and refining the new <br>
ideas in significant ways, and doing it with hardware limitations.</p>
<p><a href="http://www.folklore.org/index.py">http://www.folklore.org/index.py</a></p>
<p>I attach my newest attempt to edit my THY so that I can convert my cheap <br>
newtheorem imitations into the real thing with a script, among other <br>
processing. The source code of a marked up language isn't meant for <br>
public consumption, but if the public can consume the source code, <br>
that's a good thing, because then it means you can probably read your <br>
own source code.</p>
<p>Christian, thanks for the help.</p>
<p>Regards,<br>
GB<br>
<a href="/user_uploads/14278/59cS98rr7NPiGHD40Pcokdsg/a_sTs01_121027.thy">a_sTs01_121027.thy</a></p>



<a name="294224403"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224403" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224403">(Aug 19 2022 at 08:53)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Gottfried,</p>
<p>I wrote too much in my last email and thereby missed to convey my main <br>
point. Consider the following:</p>
<p>definition P :: "'a =&gt; bool" where<br>
     "P x == undefined" -- "the exact definition of P doesn't matter"</p>
<p>axiomatization where<br>
     Axiom2: "P x" and<br>
     Axiom2': "!!x::'a. P x"<br>
   thm Axiom2 Axiom2' -- "this shows that for Isabelle both axioms are <br>
the same"</p>
<p>I.e., the resulting theorem that is stored in the theorem database of <br>
Isabelle is exactly the same for Axiom2 and Axiom2', i.e., "P ?x" (where <br>
a schematic variable, the one with the question mark in front, is used <br>
to represent all-quantification, in the sense that we may substitute any <br>
term having the correct type for ?x).</p>
<p>By that reasoning, your Axiom2 is the same as my Axiom2'. Then in order <br>
to get a correct counterexample you would have to disprove</p>
<p>-- "here is a proof that your Axiom1 is equivalent to your Axiom2"<br>
   lemma Conjecture: "Trueprop (ALL x::'a. P x) == (!!x::'a. P x)"<br>
   proof<br>
     fix x::'a assume "ALL x::'a. P x" then show "P x" ..<br>
   next<br>
     assume "!!x::'a. P x" then show "ALL x::'a. P x" ..<br>
   qed<br>
   thm Conjecture</p>
<p>But that is not possible, since it is a theorem. Moreover consider</p>
<p>lemma Conjecture1: "(ALL x::'a. P x) &lt;-&gt; P x" sorry<br>
   lemma Conjecture1': "!! x. (ALL x::'a. P x) &lt;-&gt; P x" sorry<br>
   thm Conjecture1 Conjecture1'</p>
<p>which are two equivalent statements of your Conjecture1. This states <br>
something different from my Conjecture (just have a look at the result <br>
of the thm command).</p>
<p>So, everything else I said aside, your counterexample does not show what <br>
you think it does. That's my main point. Also you do not have to look <br>
into any ML code, just observe the results of the thm command ;)</p>
<p>cheers</p>
<p>chris</p>



<a name="294224415"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224415" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224415">(Aug 19 2022 at 08:53)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Gottfried,</p>
<p>My point here is that you are investing a lot of time to reinvent the <br>
wheel (moreover a somewhat square wheel that people won't put on their <br>
own cars; sorry for that ;)).</p>
<p>My suggestion (just my personal opinion): Keep the actual THY-file as <br>
clean and simple as possible.</p>
<p>For a proper presentation of theories there is already Isabelle's <br>
document preparation system which works very well for LaTeX. No need to <br>
cook up your own variant. (What people often do when they want to <br>
publish some Isabelle formalization is to start another theory that <br>
imports the actual formalization and write their paper/article in this <br>
new theory, referencing facts from the previous formalization. Of course <br>
it depends on the audience, what the best solution is. E.g., for <br>
mathematicians I would mostly hide Isabelle related stuff and instead of <br>
presenting the sourcecode of the actual formalization, just reference <br>
facts - using Isabelle's antiquotations - and give textual overviews of <br>
the formalized proofs which convey the main ideas.)</p>
<p>Concerning your markups in order to process THY files with scripts. In <br>
your example THY file I do not see what additional possibility your <br>
markups give, since they always accompany existing commands like <br>
"section", "subsection", "definition", ... which could as easily be <br>
recognized my scripts.</p>
<p>The most important question: What is your actual application anyway?</p>
<p>Maybe there is already existing infrastructure which could achieve the <br>
same goal more easily.</p>
<p>cheers</p>
<p>chris</p>



<a name="294224503"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224503" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224503">(Aug 19 2022 at 08:54)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Christian,</p>
<p>You say, "I wrote too much in my last email and thereby missed to convey <br>
my main point".</p>
<p>I've understood the point all along about implicit quantification, which <br>
Larry called "universal closure", and I knew that if that it was true, <br>
that I couldn't explicitly state certain formulas like I was trying to <br>
do. But you're the first one who explicitly told me that "!!" is where <br>
the quantification is occurring.</p>
<p>It is true that I forgot about the implicit quantification... Actually, <br>
it's becoming too much work to remember what it is I understood or <br>
didn't understand, or forgot once I went off on a tangent by treating <br>
things as unquantified propositions.</p>
<p>Fortunately, you thought I missed your point and went the extra step of <br>
giving me enough details to take everything from the abstract to the <br>
concrete.</p>
<p>You showed things several ways, but this is a very straightforward <br>
demonstration of the quantification that's occurring:</p>
<p>lemma Conjecture1: "(ALL x::'a. P x) &lt;-&gt; P x" sorry<br>
    lemma Conjecture1': "!! x. (ALL x::'a. P x) &lt;-&gt; P x" sorry</p>
<p>It seems to me that the documentation should point this out. A person <br>
can say that standard logic principles cover this, but it doesn't, <br>
because Isabelle/HOL is not standard logic.</p>
<p>Magical software is mysterious. Unless told otherwise (and <br>
substantiated), a person might be assuming the truth of "(ALL x::'a. P <br>
x) &lt;-&gt; P x" is being determined with a huge truth table retrieved from <br>
Google, which would allow the formula to be used in other formulas <br>
without quantification being forced on it like it is now.</p>
<p>This implicit quantification is all tied into schematic variables, so it <br>
appears it's not an easy subject to broach:</p>
<p><a href="http://article.gmane.org/gmane.science.mathematics.logic.isabelle.user/5396">http://article.gmane.org/gmane.science.mathematics.logic.isabelle.user/5396</a></p>
<p>At the top is where Lars told me about the implicit quantification, and <br>
then Makarius says:</p>
<p>But when you state lemma "!!x y. A x ==&gt;  B y" your result is schematic "A ?x ==&gt;  B ?y".</p>
<p>Your proof, using "==", shows you (probably) have to resort to <br>
meta-logic to be able to prove the equivalency without first assuming <br>
either Axiom1 or Axiom2.</p>
<p>Will I do that? No. For my current application, I'll stay away from the <br>
explicit use of meta-logic, if I can. Why? I don't explain that. All <br>
that would do is make this email longer.</p>
<p>Christian, thanks for the proof and documenting what's going on.</p>
<p>Regards,<br>
GB</p>



<a name="294224529"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224529" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224529">(Aug 19 2022 at 08:54)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
On 10/28/2012 11:58 PM, Christian Sternagel wrote:</p>
<p>Christian,</p>
<blockquote>
<p>The most important question: What is your actual application anyway?</p>
</blockquote>
<p>This was your second to the last question. You say it's the most <br>
important, so I move it up here, since I get wordy below.</p>
<p>The application is implementing certain mathematical textbooks in <br>
Isabelle, until I get to a level to where I use Isabelle to implement <br>
original research.</p>
<p>The style is educational, textbook writing. Discussion, example, <br>
theorem, proof, exercise, repeat. The original research part will be the <br>
hardest part to achieve, especially because it will be so time consuming <br>
to build up to that level. I at least try to end up having made an <br>
educational contribution.</p>
<p>"Hypothetical application" would be a better phrase to use. Applications <br>
require work, and I don't get paid for this. Financial incentive is one <br>
of the best motivators for working, where there would be two halves to <br>
"financial incentive", the reward of income for producing, and the fear <br>
of the loss of income for not producing. I have neither to motivate me.</p>
<blockquote>
<p>My point here is that you are investing a lot of time to reinvent the <br>
wheel (moreover a somewhat square wheel that people won't put on their <br>
own cars; sorry for that ;)).</p>
</blockquote>
<p>The wheel has largely been invented, but the wheel has been optimized <br>
for those who invented the wheel, and for those who have made <br>
significant technical contributions towards getting the wheel rolling.</p>
<p>Let us call this group of people Professional Software Developers (PGD). <br>
Given limited resources, we can say that the choices made so far by the <br>
PGD in optimizing the wheel have been the best choices made, seeing that <br>
the PGD are currently the primary users.</p>
<p>Myself, I'm not a PGD, so the wheel is not completely optimized for my <br>
needs. As to users, at times, I prioritize myself as the most important <br>
user.</p>
<blockquote>
<p>My suggestion (just my personal opinion): Keep the actual THY-file as <br>
clean and simple as possible.</p>
</blockquote>
<p>Well, it's not possible to tap into the power of LaTeX, or something <br>
similar, and have a primary source code file that's super clean.</p>
<p>You can achieve clean, but then there's cryptic, where, in my opinion, <br>
"cryptic" would currently describe almost all of the Isabelle/HOL <br>
distribution source, and the source on the <a href="http://afp.sourceforge.net/">http://afp.sourceforge.net/</a>. <br>
I'm not complaining here. I'm just talking.</p>
<p>However, as I said, I'm out to cater to the market. For you, in the <br>
future I will easily be able to give you a THY which is nothing but <br>
theorem code, proof code, theorem code, proof code, with some of my <br>
comments in the proofs. Will it turn out that you're annoyed by my <br>
comments? Not a problem. I'll strip them out and give it to you as <br>
cryptic as you want, or someone like you.</p>
<p>It's best not to annoy people who help me out.</p>
<blockquote>
<p>For a proper presentation of theories there is already Isabelle's <br>
document preparation system which works very well for LaTeX. No need <br>
to cook up your own variant. (What people often do when they want to <br>
publish some Isabelle formalization is to start another theory that <br>
imports the actual formalization and write their paper/article in this <br>
new theory, referencing facts from the previous formalization. Of <br>
course it depends on the audience, what the best solution is. E.g., <br>
for mathematicians I would mostly hide Isabelle related stuff and <br>
instead of presenting the sourcecode of the actual formalization, just <br>
reference facts - using Isabelle's antiquotations - and give textual <br>
overviews of the formalized proofs which convey the main ideas.)</p>
</blockquote>
<p>Last year I worked for a month on trying to switch over to Isabelle <br>
document processing. It didn't work out. I didn't figure out a way to <br>
put all THY Isar code in a verbatim environment. I don't explain why <br>
here why I want to do that.</p>
<p>It's my intent to make mathematicians my primary audience, but on your <br>
point of hiding things, my conclusion is the opposite of yours here. <br>
(With all this, opinion heavily comes into play, and my opinions are <br>
subject change, so feel to disregard anything I say here.)</p>
<p>Actually, what I say here is based on my own preferences, where I've <br>
been greatly influenced by the culture of mathematicians.</p>
<p>Proofs are everything, and as a symbol of rigor, a certain amount of <br>
detailed proofs are expected, and they're expected to be written in such <br>
a way that they can be read, where "be read" will vary with the <br>
audience, such as from 1st year university level to Ph.D.</p>
<p>If I'm hiding the details of all the proofs, then why am I even <br>
presenting the math by means of Isabelle? Why not just do things the <br>
traditional way? You may say, "Because if you prove something in <br>
Isabelle, it shows them it's legitimate for sure." But no. It'll prove <br>
nothing to them. What is not presented to mathematicians as literature <br>
with proofs that they can read, they will not be interested in.</p>
<p>Paul Erdos, <a href="https://en.wikipedia.org/wiki/Paul_Erd%C5%91s">https://en.wikipedia.org/wiki/Paul_Erd%C5%91s</a>, had no <br>
interest in the proof of the Four Color <br>
Theorem:<a href="https://en.wikipedia.org/wiki/Four_color_theorem">https://en.wikipedia.org/wiki/Four_color_theorem</a></p>
<blockquote>
<p>Concerning your markups in order to process THY files with scripts. In <br>
your example THY file I do not see what additional possibility your <br>
markups give, since they always accompany existing commands like <br>
"section", "subsection", "definition", ... which could as easily be <br>
recognized my scripts.</p>
</blockquote>
<p>When scrolling through a long document, for the major textual items, I <br>
want to answer 4 questions fast: What is it? What's it going to tell me? <br>
Where does it start? Where does it end?</p>
<p>With the Latex theorem environment, you can create your "Definition", <br>
"Theorem", "Postulate", etc, and the environment formatting helps <br>
separate things. Unlike with a Latex theorem environment, In the midst <br>
of lots of other Isar keywords, a Isar keyword like "theorem" doesn't <br>
stand out that well, and it doesn't always describe how it's being used.</p>
<p>(Yes, "theorem" could be used for a theorem, but where are keywords like <br>
"example", "exercise", "remark", "postulate". And you wouldn't want all <br>
those keywords in Isar. I made a very weak attempt to ask Makarius to <br>
allow us to define our own outer-syntax keywords in Isar. I decided that <br>
would be a bad idea. It's the limited number of keywords that <br>
standardize the language.)</p>
<p>Consider my COUNTERX. My COUNTERX is a conjecture for which I've found a <br>
counterexample. The keyword "theorem" doesn't accurately describe how <br>
I'm using "theorem". So suppose I say, "Okay, I have that counterexample <br>
above, and I need to scroll up and look at it again." Also suppose I <br>
have 8 theorems up above. Well, the keyword "theorem" does nothing to <br>
help me quickly locate my counterexample.</p>
<p>Suppose I have 4 counterexamples. The Isar keywords alone don't help me <br>
distinguish between them. Even a named theorem doesn't always tell me <br>
quickly what a theorem does. With the following, I get 4 pieces of <br>
information in the first two lines:</p>
<p>COUNTERX (Shows P is false with input z and y.)<br>
theorem false_p:<br>
   "a big long hard to read formula that would take me a long time to <br>
know what it's about"<br>
   --"Nitpick counterexamples that make it false"<br>
   oops</p>
<p>The capital bold COUNTERX helps me skip a whole lot of other stuff fast, <br>
like definitions, axioms, theorems, lemmas, etc.</p>
<p>The short description gives me a quick summary of what to expect.</p>
<p>Descriptive theorem names are desirable, but not if they're 10 words <br>
long, so I don't want:</p>
<p>theorem shows_P_is_false_with_input_z_and_y.</p>
<p>That's hard to read and would be even worse to reference in some other <br>
command.</p>
<p>All this is personal. If you work different, then you'll consider my <br>
tweaking a waste of time.</p>
<blockquote>
<p>Maybe there is already existing infrastructure which could achieve the <br>
same goal more easily.</p>
</blockquote>
<p>Sometimes, though, I just do what I've been doing, after making some <br>
initial attempt to make a change that didn't work out.</p>
<p>I know that there's a lot of power in Isabelle's document processing, <br>
but I consider it to be less risky to continue down my own non-standard <br>
route.</p>
<p>Thanks again for that proof, and documenting the low-level <br>
quantification that's occurring.</p>
<p>Regards,<br>
GB</p>
<blockquote>
<p>cheers</p>
<p>chris</p>
<p>On 10/28/2012 05:46 PM, Gottfried Barrow wrote:</p>
<blockquote>
<p><em>NOISE AND CLUTTER</em></p>
<p>Now on to your complaint about my creating noise and clutter in my THY.</p>
<p>Working on trying to better reduce noise and clutter is half of what I<br>
got out of sending off this email. The other half is learning about the<br>
usefulness of locales to do some preliminary proofs without globally<br>
injecting all the overhead into the THY.</p>
<p>Back to noise and clutter, the challenge is to find a way to mark up<br>
THYs in a way that is reasonably readable, and which can also be<br>
processed with scripts to generate other THY and TEX files to give<br>
people options on how they want to absorb the information.</p>
<p>For mathematical writing, I think there are four main components,</p>
<p>1) Section headings<br>
2) Text/discussion<br>
3) Statement of theorems, definitions, axioms, etc.<br>
4) Proofs</p>
<p>A big part of LaTeX is the newtheorem environment:</p>
<p>ftp://ftp.ams.org/pub/tex/doc/amscls/amsthdoc.pdf</p>
<p>I'm trying to duplicate a decent imitation of the newtheorem environment<br>
in the THY file, without creating too much clutter and noise, and not<br>
fall prey to the "gaudy web page syndrome".</p>
<p>It's not obvious how to use a limited set of tools to get something<br>
better than the traditional way of doing things.</p>
<p>Sometimes you don't get something better. There was Xerox. And there was<br>
Apple. It's the story of Apple taking new ideas and refining the new<br>
ideas in significant ways, and doing it with hardware limitations.</p>
<p><a href="http://www.folklore.org/index.py">http://www.folklore.org/index.py</a></p>
<p>I attach my newest attempt to edit my THY so that I can convert my cheap<br>
newtheorem imitations into the real thing with a s<br>
[message truncated]</p>
</blockquote>
</blockquote>



<a name="294224537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224537">(Aug 19 2022 at 08:54)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
I tried to achieve something very similar in my PhD-thesis (the content <br>
is not really textbook-like, but the presentation was intended for <br>
people that do not know Isabelle/HOL). Just ignoring the content you <br>
could have a look whether this way of presentation could be used in your <br>
case.</p>
<p><a href="http://www.jaist.ac.jp/~c-sterna/publications/PhD-thesis.pdf">http://www.jaist.ac.jp/~c-sterna/publications/PhD-thesis.pdf</a></p>
<p>However, it was a huge overhead over the actual formalization to present <br>
it this way ;). (And I found it necessary to explain at least a bit <br>
about Isabelle in the beginning.)</p>
<p>If you (or anyone else) are interested I can send you the sources later.</p>
<p>cheers</p>
<p>chris</p>



<a name="294224551"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224551" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224551">(Aug 19 2022 at 08:54)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
On 10/29/2012 8:21 PM, Christian Sternagel wrote:</p>
<blockquote>
<p>On 10/30/2012 03:51 AM, Gottfried Barrow wrote:</p>
<blockquote>
<p>...I at least try to end up having made an educational contribution.<br>
I tried to achieve something very similar in my PhD-thesis (the <br>
content is not really textbook-like, but the presentation was intended <br>
for people that do not know Isabelle/HOL). Just ignoring the content <br>
you could have a look whether this way of presentation could be used <br>
in your case.</p>
</blockquote>
<p><a href="http://www.jaist.ac.jp/~c-sterna/publications/PhD-thesis.pdf">http://www.jaist.ac.jp/~c-sterna/publications/PhD-thesis.pdf</a></p>
</blockquote>
<p>Okay, this ends up being a perfect example to tie into things I said, or <br>
could have said, and the essence of your complaint about noise and clutter.</p>
<p>You give me a document that you spent a lot of time on to make it a <br>
professional grade document, and you offer to give me the TEX source (or <br>
THY with a lot of LaTeX in it).</p>
<p>I open the PDF, and I think something that I don't plan on saying at the <br>
time, like, "Well, TEX files and TEX content are a dime a dozen on the <br>
web, and I've already made many of my LaTeX design decisions. Your blue <br>
text boxes look good, but I ruled out using colored boxes some time ago, <br>
though seeing how you do it might get me to think about it again."</p>
<p>You tell me to ignore the content, but then when I get to your Chapter <br>
2, I say, "Alright, another one of these PhD theses which provides a <br>
short tutorial on Isabelle. I need to read this Chapter 2."</p>
<p>In fact, your PhD thesis has been setting on my hard drive with <br>
documents from 13 other people, most of who I found on the TUM web site, <br>
and all of whose articles I ripped off of their sites. Those along with <br>
most if not all documents off of Wenzel's, Nipkow's, and Paulson's web <br>
pages.</p>
<p>As it turns out, I'm not interested in your source, I'm interested in <br>
your content. I gave you a THY, and you weren't interested in my <br>
involved system, you just wanted to see the pertinent content, which was <br>
obscured.</p>
<p>I think this describes most of us. We want to know what a person has to <br>
say, or what their code says. We're not normally interested in people's <br>
low-level methods of creating source code.</p>
<p>And now that my attention is brought to your tree in the forest, I see <br>
that on page 13 and 19, you say that implicit quantification is <br>
happening at the meta-logic level. Without the examples you gave me, it <br>
wouldn't have the same meaning that it does now.</p>
<blockquote>
<p>However, it was a huge overhead over the actual formalization to <br>
present it this way ;). (And I found it necessary to explain at least <br>
a bit about Isabelle in the beginning.)</p>
</blockquote>
<p>This brings up how we work with THY and TEX files. We read the PDF for <br>
the discussion of concepts, and we read the THY (if we have to, or to <br>
edit it) for the non-text{<em>...</em>} code.</p>
<p>I'm trying to get away from this two-document editing process. It's a <br>
pain. Edit, then compile to be able to read it and make sure it <br>
compiles. Do that again forever, hitting the compile button multiple <br>
times on many loops because of a LaTeX error.</p>
<p>REMARK: The continuous prover mode of jEdit makes errors immediate, <br>
which helps to get away from a "compile to make sure it compiles" type <br>
process of editing code. Thanks Makarius.</p>
<p>You talked about me reinventing the wheel. This huge overhead you talk <br>
about is something I want to do once, and then benefit from easily and <br>
repeatedly.</p>
<p>First, I do a lot of work to set up a THY document style that can be <br>
processed by a script, and I write a bunch of jEdit macros for text entry.</p>
<p>After that, I'm in "cheap imitation WYSIWYG word processor mode". I <br>
compile to PDF, not to see if it compiles (unless I had to resort to <br>
LaTeX), and not to read what I wrote, but to create a professional <br>
looking document to give to other people. The script also creates a <br>
bare-bones THY to give to other people like you who don't want any <br>
verbosity, or help from me to know what the code means. And the code <br>
that's in the bare-bones THY? It's also in a verbatim environment in the <br>
TEX file that gets compiled. (Any of this is subject to change.)</p>
<blockquote>
<p>If you (or anyone else) are interested I can send you the sources later.</p>
</blockquote>
<p>TEX sources? A dime a dozen. Pertinent, good instructional content on <br>
Isabelle that's generated from LaTeX, like your Chapter 2? A very, very <br>
small percentage of the content that is generated from the millions of <br>
lines of LaTeX in the world.</p>
<p>Thanks for bringing attention to your thesis.</p>
<p>Regards,<br>
GB</p>



<a name="294224568"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224568" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224568">(Aug 19 2022 at 08:54)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Gottfried,</p>
<p>On 10/30/2012 01:21 PM, Gottfried Barrow wrote:</p>
<blockquote>
<p>Okay, this ends up being a perfect example to tie into things I said, or<br>
could have said, and the essence of your complaint about noise and clutter.</p>
<p>You give me a document that you spent a lot of time on to make it a<br>
professional grade document, and you offer to give me the TEX source (or<br>
THY with a lot of LaTeX in it).<br>
I see your point ;) ... but still: a difference to your approach is that <br>
I have clean THY files for my main formalization separate from my <br>
presentation THY files and only reference those in my presentation THY <br>
as needed.</p>
</blockquote>
<blockquote>
<p>I open the PDF, and I think something that I don't plan on saying at the<br>
time, like, "Well, TEX files and TEX content are a dime a dozen on the<br>
web, and I've already made many of my LaTeX design decisions. Your blue<br>
text boxes look good, but I ruled out using colored boxes some time ago,<br>
though seeing how you do it might get me to think about it again."<br>
I did not want to advertise my design (such choices are just too <br>
subjective and maybe I do not even like my design anymore ;)). I was <br>
rather talking about the way of presenting formalized Isabelle/HOL <br>
theories safely (as in everything is still checked by Isabelle) as a <br>
readable PDF in principle. (The design can be arbitrarily chosen <br>
afterwards via your usual LaTeX setup.)</p>
</blockquote>
<blockquote>
<blockquote>
<p>However, it was a huge overhead over the actual formalization to<br>
present it this way ;). (And I found it necessary to explain at least<br>
a bit about Isabelle in the beginning.)</p>
</blockquote>
<p>This brings up how we work with THY and TEX files. We read the PDF for<br>
the discussion of concepts, and we read the THY (if we have to, or to<br>
edit it) for the non-text{<em>...</em>} code.<br>
Concerning my thesis, you do not have to do that, as it directly <br>
includes Isabelle proofs (only somewhat pepped up to look more familiar <br>
to non-Isabelle users) in the PDF. My goal was to have a PDF that <br>
includes all the content but was readable for non-Isabelle users (and <br>
Isar does help greatly here). So it should not be necessary to have a <br>
look at the THY files (but maybe someone who knows Isabelle, would <br>
prefer it and still can, without the THY file being cluttered by my <br>
presentation, since - as mentioned above - I use a separate THY file <br>
containing all the LaTeX stuff and so on).</p>
</blockquote>
<p>Of course, I'm not saying that this is the best solution (or even a good <br>
one, I was more or less experimenting) ... just one that I found useful <br>
some time ago. And sure, it would be nice to do something similar but <br>
with much less effort for the author.</p>
<blockquote>
<p>You talked about me reinventing the wheel. This huge overhead you talk<br>
about is something I want to do once, and then benefit from easily and<br>
repeatedly.<br>
I agree. I also think such an effort could (and maybe should) be <br>
integrated into Isabelle itself where we have much more control than <br>
with external scripts.</p>
</blockquote>
<p>Currently Isabelle document preparation "just" supports PDF (and to some <br>
extend HTML?) but I don't think that it is in principle restricted to it.</p>
<p>I'm sure that many people, especially on this list, have thoughts about <br>
how to properly present a formalization to non-experts. It would be nice <br>
to hear those ideas (also if its just a vision for the future).</p>
<blockquote>
<blockquote>
<p>If you (or anyone else) are interested I can send you the sources later.</p>
</blockquote>
<p>TEX sources? A dime a dozen. Pertinent, good instructional content on<br>
Isabelle that's generated from LaTeX, like your Chapter 2? A very, very<br>
small percentage of the content that is generated from the millions of<br>
lines of LaTeX in the world.<br>
I was not so much talking about TeX sources, but rather the theory file <br>
that in the end generates the TeX sources and then the PDF file (there <br>
is still another wrapper of TeX around the generated TeX sources, but <br>
that is just for the usual LaTeX setup you would do anyway when writing <br>
a paper).</p>
</blockquote>
<p>But thanks to our discussion I see that the subject is (as usual) more <br>
intricate than expected.</p>
<p>cheers</p>
<p>chris</p>
<p>@all: Having had a look at my thesis sources again after a long while, I <br>
noticed that most (if not all) of my "huge overhead" could have been <br>
avoided when syntax that was introduced with the notation command (or <br>
similarly) would also apply to the PDF representation of proofs <br>
themselves. The same issue has already been talked about here</p>
<p><a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2010-January/msg00037.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2010-January/msg00037.html</a></p>
<p>Maybe in the meanwhile there are more thoughts about it?</p>



<a name="294224583"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224583" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224583">(Aug 19 2022 at 08:55)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Christian,</p>
<p>Send me sources, please. As I mention below, it's hard to get excited <br>
about an offer when there's still work required by me, but I should at <br>
least look at what you got if you offer it to me, plus I might as well <br>
have it to be able to open up the THY to see the actual code. There's <br>
always something to be learned by looking at the actual code, rather <br>
than just the PDF.</p>
<p>On 10/30/2012 3:31 AM, Christian Sternagel wrote:</p>
<blockquote>
<p>I see your point ;) ... but still: a difference to your approach is <br>
that I have clean THY files for my main formalization separate from my <br>
presentation THY files and only reference those in my presentation THY <br>
as needed.</p>
</blockquote>
<p>It becomes a matter of personal preference. I'm trying to figure out a <br>
way to format things so that I can read a THY like I read a PDF.</p>
<p>My willingness to get verbose in my THYs, rather than cryptic/clean, is <br>
for me. I need to explain concepts to myself, and explain in plain <br>
language to myself the steps of my proofs, especially so I can go back <br>
months later and know what it is that I'm doing in a proof.</p>
<blockquote>
<p>I did not want to advertise my design (such choices are just too <br>
subjective and maybe I do not even like my design anymore ;)). I was <br>
rather talking about the way of presenting formalized Isabelle/HOL <br>
theories safely (as in everything is still checked by Isabelle) as a <br>
readable PDF in principle. (The design can be arbitrarily chosen <br>
afterwards via your usual LaTeX setup.)</p>
</blockquote>
<p>So partly, we're talking past each other, or talking about different <br>
things.</p>
<p>Partly, it's that to get someone really excited about what you offer <br>
them, it has to work by magic, and sometimes it helps if you're in their <br>
office, and they show you what they're talking about.</p>
<blockquote>
<blockquote>
<p>You talked about me reinventing the wheel. This huge overhead you talk<br>
about is something I want to do once, and then benefit from easily and<br>
repeatedly.<br>
I agree. I also think such an effort could (and maybe should) be <br>
integrated into Isabelle itself where we have much more control than <br>
with external scripts.</p>
</blockquote>
</blockquote>
<p>I completely agree, but I'm pretty much through asking for anything <br>
related to the interface. We talk. Makarius listens sometimes. He <br>
already has lots of ideas. We might give him some new ideas.</p>
<p>What do we really want? I don't know. Like Mathematica? I don't think <br>
so. Like <a href="http://lyx.org">http://lyx.org</a>? Sounds nice, but that would be a very different <br>
road. Using something like that in practice might be terrible, even <br>
though I've messed around with it.</p>
<p>Change is risky.</p>
<blockquote>
<p>Currently Isabelle document preparation "just" supports PDF (and to <br>
some extend HTML?) but I don't think that it is in principle <br>
restricted to it.</p>
<p>I'm sure that many people, especially on this list, have thoughts <br>
about how to properly present a formalization to non-experts. It would <br>
be nice to hear those ideas (also if its just a vision for the future).</p>
</blockquote>
<p>Again, I guess we've talking about different things. I'm not trying to <br>
depart radically from the current end result. I think the best way to <br>
present theories to people, whether experts or beginners, is the current <br>
way. You give them a THY that they can load or import, and for reading <br>
if they want, and you give them a PDF to provide them a more polished <br>
document that's meant to be read like a book.</p>
<p>I'm just trying to make my working THYs so that they're also meant for <br>
reading, even when they're loaded up with a ton of verbosity.</p>
<blockquote>
<p>But thanks to our discussion I see that the subject is (as usual) more <br>
intricate than expected.</p>
</blockquote>
<p>Giving you what I attach is premature, but I do it. If it could be <br>
months before my next question, that would be good, and maybe I'll have <br>
my scripts going by that time.</p>
<p>Like I said, I think the end result as it is now is good. For a theory, <br>
people get a THY and a PDF. That I'm doing something non-standard to <br>
produce the THY and the PDF is just a result of things evolving into <br>
something different for me. If there are any good ideas in it, that's <br>
good, but I'm not trying to change anything outside of what I'm doing.</p>
<p>I was taking notes on a tutorial, and the attached pimGreI.pdf was my <br>
experimenting at the time.</p>
<p>I was working through prog-tut.pdf, and the attached i12prI2_D.pdf was <br>
getting produced at the time.</p>
<p>You don't want to take either too seriously, but the content and layout <br>
is a consequence of certain key ideas of mine. Even then, a key idea of <br>
mine was that some people, like you, would want things uncluttered and <br>
free of the clutter that I put in for myself.</p>
<p>Regards,<br>
GB<br>
<a href="/user_uploads/14278/WP8f0V4600p6-sM7k8HNa8el/i12prI2_D.pdf">i12prI2_D.pdf</a><br>
<a href="/user_uploads/14278/LCqsxSUZjPlyI4ygriZ0XqqB/pimGreI.pdf">pimGreI.pdf</a></p>



<a name="294224606"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224606" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224606">(Aug 19 2022 at 08:55)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
I put an archive of the sources here:</p>
<p><a href="http://www.jaist.ac.jp/~c-sterna/phdthesis.zip">http://www.jaist.ac.jp/~c-sterna/phdthesis.zip</a></p>
<p>Note the sources were created for Isabelle2009-2 (see also COMPATIBILITY).</p>
<p>cheers</p>
<p>chris</p>



<a name="294224633"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294224633" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294224633">(Aug 19 2022 at 08:55)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Christian,</p>
<p>Alright. Thanks for putting it up. This will come in useful.</p>
<p>Regards,<br>
GB</p>



<a name="294225805"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294225805" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294225805">(Aug 19 2022 at 09:05)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Hi,</p>
<p>There may not be much to say about this. I'm looking for subtleties that <br>
I may not understand, about what the prover engine is doing with the <br>
free variables when I axiomatize a formula that contains free variables.</p>
<p>I attach the THY and a PDF printout of the THY. The PDF is about 1 and a <br>
1/2 pages long.</p>
<p>I have two formulas:</p>
<p>!q1.!q2.(!x. x ∈ q1 ⟷ x ∈q2) ⟷ (q1 = q2), and<br>
(!x. x ∈ q1 ⟷ x ∈q2) ⟷ (q1 = q2).</p>
<p>First, I show they're not equivalent with a counter example.</p>
<p>Using locales, I then show that if I axiomatize either one of them, then <br>
they're equivalent.</p>
<p>I then axiomatize both of them, and I explain why with my last sentence.</p>
<p>If anyone cares to comment, please do.</p>
<p>Thanks,<br>
GB<br>
<a href="/user_uploads/14278/oejr9Rajx73f0fXEEzj5VzMf/a_sTs01_121027.pdf">a_sTs01_121027.pdf</a><br>
<a href="/user_uploads/14278/1DM0ZVu40_OFwC9u1AOpeak2/a_sTs01_121027.thy">a_sTs01_121027.thy</a></p>



<a name="294225811"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Free%20variable%20dead%20horse%20beat%3B%20getting%20two%20equ.../near/294225811" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Free.20variable.20dead.20horse.20beat.3B.20getting.20two.20equ.2E.2E.2E.html#294225811">(Aug 19 2022 at 09:05)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Gottfried,</p>
<p>first of all, the way you are using symbols in comments is rather <br>
non-conventional and makes the THY file a bit cluttered with unnecessary <br>
noise. Since typical Isabelle users might prefer to consult the THY file <br>
over the generated PDF file that is unfortunate.</p>
<p>Concerning the counterexample: The theorem for which nitpick found a <br>
counterexample does not state equivalence of the two formulas.</p>
<p>To see why, you have to know how Isabelle treats free variables: they <br>
are implicitly all-quantified (using the all-quantifier of Pure, which <br>
is !!). Let "P(q1,q2)" stand for the formula "(!x. x : q1 &lt;-&gt; x : q2) <br>
&lt;-&gt; (q1 = q2)", then your first axiomatization is</p>
<p>!q1. !q2. P(q1,q2)</p>
<p>which stays as it is, since there are no free variables. The second one is</p>
<p>P(q1,q2)</p>
<p>and should be read as</p>
<p>!!q1 q1. P(q1,q2)</p>
<p>Now, if you write</p>
<p>(!q1. !q2. P(q1, q2)) &lt;-&gt; P(q1,q2)</p>
<p>the implicit Pure all-quantification is at the outermost position, i.e.,</p>
<p>!!q1 q2. (!q1. !q2. P(q1, q2)) &lt;-&gt; P(q1, q2)</p>
<p>For this formula nitpick found a counterexample. The think is, this <br>
formula does not state equivalence between your two axioms (since the <br>
quantifiers are at the "wrong" place).</p>
<p>Now for your locales. Since for any Q, "!x. Q x" is logically equivalent <br>
to "!!x. Q x" (in HOL) the locales are equivalent (and thus more or less <br>
identical for automated tools like blast, auto, metis).</p>
<p>Moreover the proofs are both trivial. If we have "!q1 q2. P(q1, q2)" we <br>
can of course specialize this to arbitrary q1 and q2, i.e., "P(q1, q2)". <br>
The other direction of the biimplication, where we have "P(q1, q2)" for <br>
some arbitrary but fixed q1 and q2 and have to show "!q1 q2. P(q1, q2)" <br>
just does not have to use the assumption at all, since the only axiom of <br>
the local is already what we have to prove.</p>
<p>In short: both axioms are indeed equivalent and the counterexample does <br>
not apply since it was generated for a different statement.</p>
<p>Take away: free variables in theorems are implicitly all-quantified.</p>
<p>hope that helps</p>
<p>chris</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>