<html>
<head><meta charset="utf-8"><title>[isabelle] Fun vs Primrec: difference? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html">[isabelle] Fun vs Primrec: difference?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294218147"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218147" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218147">(Aug 19 2022 at 08:00)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
Hi people out there,</p>
<p>New beginner here, and so beginner's questions :-P</p>
<p>My first one: what's the difference between “fun” and “primrec” please ?  <br>
Both looks similar or synonymous, but surprisingly, when Main is not  <br>
imported (yes, I know it should, but that's for testing), “fun” seems not  <br>
available.</p>



<a name="294218185"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218185" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218185">(Aug 19 2022 at 08:00)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Yannick,</p>
<p>this is not the first time this question is asked. Maybe it is best to <br>
read through the previous discussions and come back if still questions <br>
remain:</p>
<p>Search for "fun primrec" here:</p>
<p><a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/</a></p>
<p>cheers</p>
<p>chris</p>



<a name="294218236"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218236" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218236">(Aug 19 2022 at 08:00)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
OK, thanks Christian, found something via your link.</p>
<p>P.S. I am using this list via a Usenet reader, and I have not imported all  <br>
of the old messages when I suscribed to  <br>
gmane.science.mathematics.logic.isabelle.user. That's the reason why I  <br>
could not know.</p>



<a name="294218244"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218244" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218244">(Aug 19 2022 at 08:01)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
Additionally, “isabelle2012/doc/prog-prove.pdf” also says on page 18</p>
<p>The attribute simp declares theorems to be simplification rules, which  <br>
the<br>
   simplifier will use automatically. In addition, datatype and fun  <br>
commands im-<br>
   plicitly declare some simplification rules: datatype the distinctness  <br>
and injec-<br>
   tivity rules, fun the defining equations.</p>
<p>But this does not implies primrec don't too. Will check a later day.</p>



<a name="294218308"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218308" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218308">(Aug 19 2022 at 08:01)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Dear Yannick,</p>
<p>a very useful command to find out what theorems are newly added as part <br>
of some previous command (e.g., datatype, primrec, fun) is</p>
<p>print_theorems</p>
<p>(Just type it in your *.thy file directly after the command you are <br>
interested in).</p>
<p>It will give a list of all the new theorems. So you will see that when <br>
defining a function f via primrec or via fun, both times you will get <br>
g.simps (of course it is a different matter whether those new theorems <br>
are already included in automatic tools like 'simp', which is the case <br>
for g.simps from "fun" and "primrec").</p>
<p>cheers</p>
<p>chris</p>



<a name="294218315"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294218315" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294218315">(Aug 19 2022 at 08:01)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Sorry, typo: function g</p>



<a name="294221563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Fun%20vs%20Primrec%3A%20difference%3F/near/294221563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Fun.20vs.20Primrec.3A.20difference.3F.html#294221563">(Aug 19 2022 at 08:29)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
Answer is at “isar-ref.pdf”/10.3 (page 204 and 205)</p>
<p>“<br>
   primrec defines primitive recursive functions over datatypes<br>
   (see also datatype and rep datatype). The given equations<br>
   specify reduction rules […] At most one reduction rule for<br>
   each constructor can be given. […] The reduction rules are<br>
   declared as simp by default […]</p>
<p>function defines functions by general well‑founded recursion.<br>
   […] The function is specified by a set of (possibly conditional)<br>
   recursive equations with arbitrary pattern matching. The command<br>
   generates proof obligations for the completeness and the compatibility<br>
   of patterns. […] The termination command can then be used to establish<br>
   that the function is total.</p>
<p>fun is a shorthand notation for “function (sequential ), followed<br>
   by automated proof attempts regarding pattern matching and<br>
   termination.<br>
   ”</p>
<p>That's nearly all the basics one needs to know :-) After that, I feel it's  <br>
better to use Function only when Primrec is not enough and to use Fun only  <br>
when Function is not enough (especially if one wish to avoid to rely on  <br>
implicit automated proofs).</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>