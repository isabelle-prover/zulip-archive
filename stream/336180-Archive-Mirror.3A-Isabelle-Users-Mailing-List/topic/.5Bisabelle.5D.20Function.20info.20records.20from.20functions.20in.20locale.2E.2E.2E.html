<html>
<head><meta charset="utf-8"><title>[isabelle] Function info records from functions in locale... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Function.20info.20records.20from.20functions.20in.20locale.2E.2E.2E.html">[isabelle] Function info records from functions in locale...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294640119"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Function%20info%20records%20from%20functions%20in%20locale.../near/294640119" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Function.20info.20records.20from.20functions.20in.20locale.2E.2E.2E.html#294640119">(Aug 22 2022 at 09:49)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:eberlm@in.tum.de">eberlm@in.tum.de</a>&gt;<br>
Hallo,</p>
<p>given a function definition like this:</p>
<p>fun f :: "'a =&gt; 'a" where "f x = x"</p>
<p>the info record of the function can be obtained with the function constant</p>
<p>Function.get_info @{context} @{term "f"}</p>
<p>However, now consider the same definition in the context of a locale <br>
with a fixed parameter:</p>
<p>locale foo = fixes a :: 'a<br>
begin<br>
fun f :: "'a =&gt; 'a" where "f x = x"</p>
<p>Now "f" (or rather "local.f") is just an abbreviation for "foo.f a", and <br>
one would have to passe "foo.f a" into Function.get_info, not, as I <br>
would expect, "foo.f". This makes it very difficult to obtain the info <br>
record when given a function application like "f 2", i.e. "foo.f a 2", <br>
because there is no way of knowing how many arguments to strip away from <br>
"foo.f a 2".</p>
<p>When leaving the context with "end", I would have expected it to be <br>
exported in some way (e.g. by adding the locale assumptions to all the <br>
theorems). This does not happen – the function is deleted from the <br>
context completely.</p>
<p>Is this behaviour known?Is it intentional? Is there some reasonable way <br>
of changing it to what I described?</p>
<p>Cheers,</p>
<p>Manuel</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>