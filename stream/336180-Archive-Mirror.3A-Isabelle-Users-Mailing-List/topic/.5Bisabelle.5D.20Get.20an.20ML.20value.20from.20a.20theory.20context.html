<html>
<head><meta charset="utf-8"><title>[isabelle] Get an ML value from a theory context · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Get.20an.20ML.20value.20from.20a.20theory.20context.html">[isabelle] Get an ML value from a theory context</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294142296"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Get%20an%20ML%20value%20from%20a%20theory%20context/near/294142296" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Get.20an.20ML.20value.20from.20a.20theory.20context.html#294142296">(Aug 18 2022 at 18:11)</a>:</h4>
<p>From: Jonathan von Schroeder &lt;<a href="mailto:jonathan.von_schroeder@dfki.de">jonathan.von_schroeder@dfki.de</a>&gt;<br>
Hi Lukas,<br>
thanks for your response. It seems like I'm doing something wrong in "setting<br>
up" the Isabelle/ML level or maybe I'm not "within the HOL image"? - Anyways<br>
this is what I'm currently doing. Maybe someone can point out the mistake(s) I'm<br>
making:<br>
<br>
sternk@ubuntu:~/test$ wget<br>
<a href="http://www.cl.cam.ac.uk/research/hvg/Isabelle/dist/Isabelle2011_bundle_x86-linux.tar.gz">http://www.cl.cam.ac.uk/research/hvg/Isabelle/dist/Isabelle2011_bundle_x86-linux.tar.gz</a><br>
 sternk@ubuntu:~/test$ tar xzf Isabelle2011_bundle_x86-linux.tar.gz<br>
 sternk@ubuntu:~/test$ ./Isabelle2011/bin/isabelle-process HOL</p>
<blockquote>
<p>val it = (): unit<br>
 val commit = fn: unit -&gt; bool<br>
 ML&gt; Datatype_Data;<br>
 Error-Value or constructor (Datatype_Data) has not been declared<br>
 Found near Datatype_Data<br>
 Static Errors<br>
<br>
Jonathan<br>
</p>
</blockquote>
<p>Lukas Bulwahn &lt;<a href="mailto:bulwahn@in.tum.de">bulwahn@in.tum.de</a>&gt; hat am 4. August 2011 um 13:50 geschrieben:</p>
<blockquote>
<p>On 08/03/2011 12:57 PM, Jonathan von Schroeder wrote:</p>
<blockquote>
<p>Hello all,<br>
   I'm currently working on a way to export Isabelle/HOL type definitions<br>
and<br>
their attached (user defined) axioms/theorems from a given theory in<br>
Isabelle. I<br>
have already managed to get this workign by simply going through all the<br>
constants, axioms and theorems present in the theories' context. But<br>
unluckily I<br>
currently get more axioms / theorems than I'm interested in, because thep,<br>
theorems automatically generated by<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/</a><br>
are not really "user generated" and thus do not foll within the scope of<br>
theorems I wish to export.</p>
<p>Thus I'd really like to have (in the top-level raw ML loop) access to the<br>
structure<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML</a><br>
(which lives in the context of<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy</a><br>
from what i can tell) to be able to figure out which theorems were<br>
generated by<br>
the Datatype-Tool. Does anybody have any suggestions on how to do this,<br>
because<br>
the Manual <a href="http://isabelle.in.tum.de/doc/implementation.pdf">http://isabelle.in.tum.de/doc/implementation.pdf</a> only mentions<br>
on<br>
page 11 that "... [the function factorial] is not yet accessible in the<br>
preceding paragraph, nor in a different theory that is independent from the<br>
current one in the import hierarchy", but I wasn't able to find any<br>
information<br>
on how to "get" access to it (or for that matter to any ml functions /<br>
structures defined within a theory). I'd greatly appreciate any information<br>
anybody can provide on this matter.</p>
<p>If you work properly on the Isabelle/ML level, within the HOL image, the<br>
datatype package is loaded and set up.<br>
Hence, you can then access the structure simply by its name "Datatype_Data".</p>
</blockquote>
<p>Lukas</p>
<blockquote>
<p>Jonathan</p>
</blockquote>
</blockquote>



<a name="294142309"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Get%20an%20ML%20value%20from%20a%20theory%20context/near/294142309" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Get.20an.20ML.20value.20from.20a.20theory.20context.html#294142309">(Aug 18 2022 at 18:11)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
This gets you into the internal system toplevel, which is not suitable <br>
for most applications nowadays. Instead you want to write your ML <br>
literally inside a theory context like this:</p>
<p>theory Scratch<br>
imports Main<br>
begin</p>
<p>ML {*<br>
   Datatype.get_info @{theory} @{type_name nat}<br>
*}</p>
<p>end</p>
<p>Note the use of antiquotations @{theory} and @{type_name ...} to refer <br>
to formal entities from the context.</p>
<p>See also Chapter 0 of the Implementation manual for basic examples, as <br>
well as the Programming Tutorial (aka Cookbook).</p>
<p>Alex</p>



<a name="294142967"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Get%20an%20ML%20value%20from%20a%20theory%20context/near/294142967" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Get.20an.20ML.20value.20from.20a.20theory.20context.html#294142967">(Aug 18 2022 at 18:15)</a>:</h4>
<p>From: Jonathan von Schroeder &lt;<a href="mailto:jonathan.von_schroeder@dfki.de">jonathan.von_schroeder@dfki.de</a>&gt;<br>
Hello all,<br>
 I'm currently working on a way to export Isabelle/HOL type definitions and<br>
their attached (user defined) axioms/theorems from a given theory in Isabelle. I<br>
have already managed to get this workign by simply going through all the<br>
constants, axioms and theorems present in the theories' context. But unluckily I<br>
currently get more axioms / theorems than I'm interested in, because the<br>
theorems automatically generated by<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/</a><br>
are not really "user generated" and thus do not foll within the scope of<br>
theorems I wish to export.</p>
<p>Thus I'd really like to have (in the top-level raw ML loop) access to the<br>
structure<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML</a><br>
(which lives in the context of<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy</a><br>
from what i can tell) to be able to figure out which theorems were generated by<br>
the Datatype-Tool. Does anybody have any suggestions on how to do this, because<br>
the Manual <a href="http://isabelle.in.tum.de/doc/implementation.pdf">http://isabelle.in.tum.de/doc/implementation.pdf</a> only mentions on<br>
page 11 that "... [the function factorial] is not yet accessible in the<br>
preceding paragraph, nor in a different theory that is independent from the<br>
current one in the import hierarchy", but I wasn't able to find any information<br>
on how to "get" access to it (or for that matter to any ml functions /<br>
structures defined within a theory). I'd greatly appreciate any information<br>
anybody can provide on this matter.</p>
<p>Jonathan</p>



<a name="294143154"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Get%20an%20ML%20value%20from%20a%20theory%20context/near/294143154" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Get.20an.20ML.20value.20from.20a.20theory.20context.html#294143154">(Aug 18 2022 at 18:16)</a>:</h4>
<p>From: Lukas Bulwahn &lt;<a href="mailto:bulwahn@in.tum.de">bulwahn@in.tum.de</a>&gt;<br>
On 08/03/2011 12:57 PM, Jonathan von Schroeder wrote:</p>
<blockquote>
<p>Hello all,<br>
  I'm currently working on a way to export Isabelle/HOL type definitions and<br>
their attached (user defined) axioms/theorems from a given theory in Isabelle. I<br>
have already managed to get this workign by simply going through all the<br>
constants, axioms and theorems present in the theories' context. But unluckily I<br>
currently get more axioms / theorems than I'm interested in, because thep,<br>
theorems automatically generated by<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/</a><br>
are not really "user generated" and thus do not foll within the scope of<br>
theorems I wish to export.</p>
<p>Thus I'd really like to have (in the top-level raw ML loop) access to the<br>
structure<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Tools/Datatype/datatype_data.ML</a><br>
(which lives in the context of<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy">http://isabelle.in.tum.de/repos/isabelle/file/6d736d983d5c/src/HOL/Datatype.thy</a><br>
from what i can tell) to be able to figure out which theorems were generated by<br>
the Datatype-Tool. Does anybody have any suggestions on how to do this, because<br>
the Manual <a href="http://isabelle.in.tum.de/doc/implementation.pdf">http://isabelle.in.tum.de/doc/implementation.pdf</a> only mentions on<br>
page 11 that "... [the function factorial] is not yet accessible in the<br>
preceding paragraph, nor in a different theory that is independent from the<br>
current one in the import hierarchy", but I wasn't able to find any information<br>
on how to "get" access to it (or for that matter to any ml functions /<br>
structures defined within a theory). I'd greatly appreciate any information<br>
anybody can provide on this matter.</p>
<p>If you work properly on the Isabelle/ML level, within the HOL image, the <br>
datatype package is loaded and set up.<br>
Hence, you can then access the structure simply by its name "Datatype_Data".</p>
</blockquote>
<p>Lukas</p>
<blockquote>
<p>Jonathan<br>
</p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>