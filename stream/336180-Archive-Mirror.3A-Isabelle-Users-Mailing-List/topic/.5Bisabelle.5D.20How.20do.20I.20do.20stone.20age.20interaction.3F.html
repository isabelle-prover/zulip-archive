<html>
<head><meta charset="utf-8"><title>[isabelle] How do I do stone age interaction? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html">[isabelle] How do I do stone age interaction?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294120181"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120181" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120181">(Aug 18 2022 at 16:19)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
Hello all,</p>
<p>(I am a newcomer to Isabelle, so apologies for asking what is probably<br>
an incredibly trivial question.  I have installed Isabelle 2009 from<br>
source, and have already tried looking at bundled documents such as<br>
'intro.dvi', 'main.dvi', 'system.dvi' and 'tutorial.dvi', but to no<br>
avail.)</p>
<p>Is it possible to do basic ML top level interactive forward proofs in<br>
Isabelle HOL, in a style similar to basic forward proof in HOL Light,<br>
HOL4 and ProofPower?  I don't want to use Isar or Proof General, just<br>
the basic ML top level.  Starting Isabelle using 'isabelle tty',<br>
followed by entering 'exit' to drop out of Isar sounds promising, but<br>
what do I do then?  Just some examples of basic proofs (e.g. "Socrates<br>
is mortal") would be so helpful.  I'm not convinced that there is even<br>
the concept of term quotations in Isabelle's basic ML top level.  Am I<br>
right?  And what are the ML constructor functions for types and terms?</p>
<p>So here is my basic HOL4 forward proof:</p>
<p>(* First some declarations and definitions *)<br>
    new_type ("Person",0);<br>
    new_constant ("Socrates", <code>:Person</code>);<br>
    new_constant ("Man", <code>:Person-&gt;bool</code>);<br>
    new_constant ("Mortal", <code>:Person-&gt;bool</code>);<br>
    val ax1 = new_axiom ("Socrates Axiom 1", <code>Man Socrates</code>);<br>
    val ax2 = new_axiom ("Socrates Axiom 2", <code>! p. Man p ==&gt; Mortal
p</code>);</p>
<p>(* Now the proof itself *)<br>
    MP (SPEC <code>Socrates</code> ax2) ax1;</p>
<p>This gives me:</p>
<p>val it = |- Mortal Socrates : thm</p>
<p>Can anyone translate this into Isabelle HOL top level commands for me?</p>
<p>Thanks,</p>
<p>Mark Adams</p>



<a name="294120197"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120197" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120197">(Aug 18 2022 at 16:19)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Sat, 27 Nov 2010, <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a> wrote:</p>
<blockquote>
<p>Is it possible to do basic ML top level interactive forward proofs in <br>
Isabelle HOL, in a style similar to basic forward proof in HOL Light, <br>
HOL4 and ProofPower?  I don't want to use Isar or Proof General, just <br>
the basic ML top level.</p>
</blockquote>
<p>You can hardly do anything on the raw ML toplevel, since everything is <br>
managed by the Isar infrastructure theses days, notably the theory context <br>
and the ML toplevel environment.</p>
<blockquote>
<p>Starting Isabelle using 'isabelle tty'</p>
</blockquote>
<p>Fine.</p>
<blockquote>
<p>followed by entering 'exit' to drop out of Isar sounds promising</p>
</blockquote>
<p>Bad move. No ML bindings coming after the Pure bootstrap will be <br>
available, because the connection to the formal context is lost.</p>
<blockquote>
<p>I'm not convinced that there is even the concept of term quotations in <br>
Isabelle's basic ML top level.  Am I right?</p>
</blockquote>
<p>Isabelle/ML antiquotations are quite advanced, but you need to do things <br>
in the proper order: quote ML inside Isar, antiquote logical entities <br>
inside ML.  See also chapter 0 of <br>
<a href="http://www4.in.tum.de/~wenzelm/test/implementation.pdf">http://www4.in.tum.de/~wenzelm/test/implementation.pdf</a> which will be part <br>
of the next official release.</p>
<blockquote>
<p>So here is my basic HOL4 forward proof:</p>
<p>(* First some declarations and definitions *)<br>
   new_type ("Person",0);<br>
   new_constant ("Socrates", <code>:Person</code>);<br>
   new_constant ("Man", <code>:Person-&gt;bool</code>);<br>
   new_constant ("Mortal", <code>:Person-&gt;bool</code>);<br>
   val ax1 = new_axiom ("Socrates Axiom 1", <code>Man Socrates</code>);<br>
   val ax2 = new_axiom ("Socrates Axiom 2", <code>! p. Man p ==&gt; Mortal
p</code>);</p>
<p>(* Now the proof itself *)<br>
   MP (SPEC <code>Socrates</code> ax2) ax1;</p>
<p>This gives me:</p>
<p>val it = |- Mortal Socrates : thm</p>
<p>Can anyone translate this into Isabelle HOL top level commands for me?</p>
</blockquote>
<p>Here is my version for Isabelle2009-2:</p>
<p>theory A imports Main begin;</p>
<p>example_proof;<br>
   fix socrates :: 'person;<br>
   fix man :: "'person =&gt; bool";<br>
   fix mortal :: "'person =&gt; bool";</p>
<p>assume ax1: "man socrates";<br>
   assume ax2: "!!p. man p ==&gt; mortal p";</p>
<p>ML_val {*<br>
     val th = @{thm ax2} OF [@{thm ax1}];<br>
     writeln (Display.string_of_thm @{context} th);<br>
   *};</p>
<p>end;</p>
<p>The old-fashioned semicolons are there for your convenience in the tty. <br>
Myself I composed this quickly with Isabelle/jEdit and than pasted it into <br>
the terminal.</p>
<p>The th result above is pretty-printed without a proper context, unlike the <br>
full version with writeln and Display.string_of_thm.</p>
<p>In order to be productive with Isabelle/ML you should build up your <br>
context in Isar source notation and the experiment with it via small ML <br>
snippets.  What is your application anyway?  Serious use of Isabelle <br>
outside the Isar system infrastructure is hard to imagine.</p>
<p>Makarius</p>



<a name="294120207"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120207" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120207">(Aug 18 2022 at 16:19)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
You might consider downloading an older version from here: <a href="http://www.cl.cam.ac.uk/~lp15/archive/">http://www.cl.cam.ac.uk/~lp15/archive/</a></p>
<p>Until around 2005, ML level interaction was still supported.</p>
<p>Larry Paulson</p>



<a name="294120359"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120359" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120359">(Aug 18 2022 at 16:20)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
on 27/11/10 11:25 AM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>In order to be productive with Isabelle/ML you should build up your<br>
context in Isar source notation and the experiment with it via small ML<br>
snippets.  What is your application anyway?  Serious use of Isabelle<br>
outside the Isar system infrastructure is hard to imagine.</p>
</blockquote>
<p>Unlike other users, I'm not aiming to use Isabelle for performing proofs as<br>
such.  Rather I'm looking to gain a deep understanding of how Isabelle<br>
works.  But thanks for the Isar example for Socrates, which will help me<br>
understand Isar.</p>
<p>on 27/11/10 11:55 AM, Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt; wrote:</p>
<blockquote>
<p>You might consider downloading an older version from here:<br>
<a href="http://www.cl.cam.ac.uk/~lp15/archive/">http://www.cl.cam.ac.uk/~lp15/archive/</a></p>
<p>Until around 2005, ML level interaction was still supported.</p>
</blockquote>
<p>Thanks.  I've got Isabelle 2005 with HOL up and running now (curiously, this<br>
required a handful of changes to the Isabelle ML source code to get it<br>
through what purports to be Poly/ML 4.1.4).  But how do I enter HOL term and<br>
type quotations into the session?  And what are the HOL term and type<br>
constructor functions?</p>
<p>Mark.</p>



<a name="294120383"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120383" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120383">(Aug 18 2022 at 16:20)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The you should study the "implementation" manual, although it is still <br>
only half through the main concepts.  Again see <br>
<a href="http://www4.in.tum.de/~wenzelm/test/implementation.pdf">http://www4.in.tum.de/~wenzelm/test/implementation.pdf</a></p>
<p>It also tells you about datatypes for types and terms etc.</p>
<p>Makarius</p>



<a name="294120430"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120430" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120430">(Aug 18 2022 at 16:20)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Probably you should look at the papers at <a href="http://www.cl.cam.ac.uk/~lp15/papers/isabelle.html">http://www.cl.cam.ac.uk/~lp15/papers/isabelle.html</a></p>
<p>Look particularly at the papers under the tab “of historical interest".<br>
Larry</p>



<a name="294120484"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120484" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120484">(Aug 18 2022 at 16:21)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
These documents I'm sure will be very useful, and Makarius's implementation<br>
manual looks especially useful for my purposes.  But I also want to carry<br>
out basic interaction - this is just the way I go about learning about the<br>
innards of a system - I like to construct my own terms and experiment.  So<br>
can I enter HOL term quotations in Isabelle 2005?  And can I use ML<br>
constructor functions to create HOL terms?</p>
<p>Mark.</p>
<p>on 28/11/10 1:26 PM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>The you should study the "implementation" manual, although it is still<br>
only half through the main concepts.  Again see<br>
<a href="http://www4.in.tum.de/~wenzelm/test/implementation.pdf">http://www4.in.tum.de/~wenzelm/test/implementation.pdf</a></p>
<p>It also tells you about datatypes for types and terms etc.</p>
<p>Makarius</p>
</blockquote>
<p>on 28/11/10 1:42 PM, Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt; wrote:</p>
<blockquote>
<p>Probably you should look at the papers at<br>
<a href="http://www.cl.cam.ac.uk/~lp15/papers/isabelle.html">http://www.cl.cam.ac.uk/~lp15/papers/isabelle.html</a></p>
<p>Look particularly at the papers under the tab “of historical interest".<br>
Larry</p>
</blockquote>



<a name="294120528"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120528" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120528">(Aug 18 2022 at 16:21)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The most productive way to do this is to use Isabelle2009-2 with <br>
Isabelle/jEdit, which happens to be part of that distribution as sneak <br>
preview.  You can then use it as simple "IDE" for ML: it provides tooltips <br>
for inferred ML types and hyperlinks to the sources (using CONTROL/COMMAND <br>
with mouse hovering).</p>
<p>In the next release this mode of interaction will work even more smoothly. <br>
At some later stage I might also provide a raw ML console for the <br>
low-level tinkering below Isabelle itself, but that is a different story.</p>
<p>Makarius</p>



<a name="294120661"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120661" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120661">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Note that in the early days, there was no form of antiquotation. You could create a term by parsing the corresponding string or (painfully) using constructor functions.<br>
Larry</p>



<a name="294120725"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120725" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120725">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Not so - my own TPHOLs papers in 2002, 2007 and 2009, plus my track B<br>
presentations in 2002 and 2007, and several other papers presented<br>
elsewhere, all describe work proving things in different areas, all<br>
using Isabelle, none using Isar.</p>
<p>Jeremy</p>



<a name="294120734"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120734" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120734">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Mark,</p>
<p>If I understand the question in your last sentence correctly, the<br>
information you want is in the reference manual, sections 6.5 (terms)<br>
and 6.8 (types, which are contained in terms).  (this is applies to the<br>
Isabelle2005 reference manual - it may have been changed since).</p>
<p>../Isabelle2005/doc/ref.dvi</p>
<p>Jeremy</p>



<a name="294120800"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120800" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120800">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Burkhart Wolff &lt;<a href="mailto:Burkhart.Wolff@lri.fr">Burkhart.Wolff@lri.fr</a>&gt;<br>
Dear Larry,</p>
<p>Am 29.11.2010 um 12:49 schrieb Lawrence Paulson:</p>
<blockquote>
<p>I must give this a try sometime. Does even the standard version of jEdit have this ML mode?</p>
</blockquote>
<p>What do you mean exactly ?</p>
<p>You certainly know the ML-environment in Default-ISAR:</p>
<p>ML{*<br>
fun fac x = if x = 0 then 1 else x * fac(x-1)<br>
*}</p>
<p>If you use jEdit, and press the shift- button while hovering,<br>
for example, over the "x" in the ML code, you get directly<br>
type "int" in the display. Makarius demonstrated this already<br>
in the Isabelle developper days in Cambridge, but it may well <br>
be that you missed this session.</p>
<p>It is planned that future versions of jEdit (which we will call Pide<br>
in the future because thats the project that finances Makarius<br>
work here) will do that for any part of inner syntax.</p>
<p>Hhm, I intended to send my mail to Isabelle-users - in case I <br>
adressed this only to you, could you please forward it ?</p>
<p>bu</p>
<blockquote>
<p>Larry</p>
<p>On 29 Nov 2010, at 08:25, Burkhart Wolff wrote:</p>
<blockquote>
<p>Hmm, i'm one of these dinosaurs that program Isabelle on the ml - level myself. These days, I'll do that inside isar in the ML{} environment which is, I believe, now the best ml environment out there - in jEdit, you can even hover over ml expressions and get the type information. It speeds up ml development even if you do not even target isabelle. You can even try to program without antiquotations, sometimes this is instructive to see what they actually do. However, since they offer a certain infra-structure and discipline to handle proof and theory contexts, they help to avoid the common error to reuse a stale context, which the kernel must avoid in order to become a purely functional transaction machine.<br>
</p>
</blockquote>
</blockquote>



<a name="294120814"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120814" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120814">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
You can try the jEdit-based Prover IDE (PIDE) in Isabelle2009-2 (from the <br>
Isabelle download website) by invoking "isabelle jedit" on the command <br>
line. Their is also a newer (totally adhoc) snapshot at <br>
<a href="http://www.lri.fr/~wenzel/Isar2010-Orsay/download.html">http://www.lri.fr/~wenzel/Isar2010-Orsay/download.html</a> which makes <br>
"Isabelle" start the IDE immediately, without Proof General legacy.</p>
<p>In the next official release we will have both side-by side, but Proof <br>
General still the default.  It will take quite some time to get such a <br>
substantial change from TTY-based proving to full-scale IDE support into <br>
everyday practice.</p>
<p>Makarius</p>



<a name="294120841"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294120841" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294120841">(Aug 18 2022 at 16:22)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The following file might help with the quickstart: <br>
<a href="http://www.lri.fr/~wenzel/Isar2010-Orsay/Editor.thy">http://www.lri.fr/~wenzel/Isar2010-Orsay/Editor.thy</a></p>
<p>jEdit is able to open the URL directly, but you cannot save it back in the <br>
same place for obvious reasons.</p>
<p>Makarius</p>



<a name="294122991"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294122991" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294122991">(Aug 18 2022 at 16:33)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
For Isabelle 2005, just use the included documentation. I hope that it is reasonably complete.</p>
<p>You will find lots of useful “read" functions in the files sign.ML and thm.ML.<br>
Larry</p>



<a name="294123382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123382">(Aug 18 2022 at 16:35)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
There is also a lot of confusion here, because Isabelle2005 features about <br>
2 or 3 versions of basic things like syntax layers, goal modules etc.<br>
The "read" function is an odd leftover from much earlier times.</p>
<p>If you really want to learn about "stone age" Isabelle, I recommend <br>
something like Isabelle98, or even 89.  If you want to learn about current <br>
Isabelle, then use the current release Isabelle2009-2.  The <br>
impracticability of using the raw ML loop in contemporay Isabelle is not <br>
accidental, but an integral part of the system.  By dropping out of it, <br>
you won't learn the most important things.</p>
<p>Makarius</p>



<a name="294123640"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123640" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123640">(Aug 18 2022 at 16:36)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
on 6/12/10 2:32 PM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<p>Hmm, not sure whether you're understanding my requirements fully.  When I<br>
say "stone age", I don't mean "early version".  What I mean is "basic ML<br>
toplevel interaction, like what exists in other classic LCF-style theorem<br>
provers, such as HOL90, HOL4, ProofPower HOL, HOL Light".  So can I do this<br>
in Isabelle2005?  If so, I'd like to, because this is closer to the<br>
contemporary system than Isabelle98.</p>
<p>Please understand that I am not coming at this as a normal user - I am<br>
looking to understand the basic Isabelle HOL system itself, rather than to<br>
understand how to use advanced Isabelle HOL most effectively to perform<br>
proofs.  To do this I will be examining Isabelle source code and interacting<br>
with the ML top level, constructing and/or parsing terms and types,<br>
examining how they get pretty printed, applying basic inference rules and<br>
writing my own basic inference rules.  I imagine that interacting with Proof<br>
General, Isar, etc involves various layers of processing.  What I want is to<br>
interact with the basic system, avoiding these layers (but still being able<br>
to parse/print expressions).</p>
<p>By the way, I am getting somewhere on all of this by reading "Isabelle<br>
Logics: HOL" (referred to but not included in the Isabelle2005<br>
documentation), and by using "read" (if there is a more appropriate way to<br>
parse HOL expressions in the ML toplevel, please tell me how).  I have a<br>
description of the syntax in the above document, but there appears to be no<br>
detailed description of the lex.</p>
<p>Mark</p>



<a name="294123656"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123656" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123656">(Aug 18 2022 at 16:36)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Mon, 6 Dec 2010, <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a> wrote:</p>
<blockquote>
<p>on 6/12/10 2:32 PM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>The impracticability of using the raw ML loop in contemporay Isabelle <br>
is not accidental, but an integral part of the system.  By dropping out <br>
of it, you won't learn the most important things.</p>
</blockquote>
<p>Hmm, not sure whether you're understanding my requirements fully.  When <br>
I say "stone age", I don't mean "early version".  What I mean is "basic <br>
ML toplevel interaction, like what exists in other classic LCF-style <br>
theorem provers, such as HOL90, HOL4, ProofPower HOL, HOL Light".  So <br>
can I do this in Isabelle2005?  If so, I'd like to, because this is <br>
closer to the contemporary system than Isabelle98.</p>
<p>Please understand that I am not coming at this as a normal user - I am <br>
looking to understand the basic Isabelle HOL system itself, rather than <br>
to understand how to use advanced Isabelle HOL most effectively to <br>
perform proofs.  To do this I will be examining Isabelle source code and <br>
interacting with the ML top level, constructing and/or parsing terms and <br>
types, examining how they get pretty printed, applying basic inference <br>
rules and writing my own basic inference rules.  I imagine that <br>
interacting with Proof General, Isar, etc involves various layers of <br>
processing.  What I want is to interact with the basic system, avoiding <br>
these layers (but still being able to parse/print expressions).</p>
</blockquote>
<p>My understanding was that you want to see the "proof technologies" behind <br>
the Isabelle system :-)  I still maintain that the best way to do it is to <br>
use Isabelle/ML through the Isar toplevel, either with Proof General or <br>
the more recent Isabelle/jEdit, which also gives you quick links to the <br>
sources.</p>
<p>The naked ML toplevel lacks the formal Isabelle context, which means you <br>
can hardly do anything useful, e.g. being able to parse/print expressions <br>
always requires a proper context.</p>
<p>Above you say "Isabelle HOL" as if that would be the system, but in <br>
reality HOL is a big library within the general Isabelle framework. <br>
Dropping out of the Isar loop, you won't see anything of the HOL name <br>
space, and thus cannot use Isabelle/HOL.</p>
<p>The reason why Larry mentioned Isabelle2005 is because that is the last <br>
release that still happens to have some old layers side-by-side with the <br>
current context management that was originally introduced for the Isar <br>
proof language in 1999.  E.g. the "read" function refers to the implicit <br>
"goal context" of the old goal package that has finally been deleted this <br>
year.  There is yet another theory context accessed via "the_context()" <br>
which later became a running gag in internal circles, until it was deleted <br>
as well.</p>
<p>Isabelle2005 is a rock solid distribution, but also a particularly <br>
confusing one due to many old layers being still in there.  This is why I <br>
mentioned the more basic Isabelle98, although it lacks the main concepts <br>
of contempory Isabelle.</p>
<p>Anyway, when I want to understand Linux, I also stay within the normal <br>
user space, instead of booting into single user mode with the init process <br>
running a single instance of bash.</p>
<blockquote>
<p>By the way, I am getting somewhere on all of this by reading "Isabelle <br>
Logics: HOL" (referred to but not included in the Isabelle2005 <br>
documentation), and by using "read" (if there is a more appropriate way <br>
to parse HOL expressions in the ML toplevel, please tell me how).  I <br>
have a description of the syntax in the above document, but there <br>
appears to be no detailed description of the lex.</p>
</blockquote>
<p>The old HOL manual has hardly ever been maintained in the past 10 years. <br>
The term syntax is defined in library space in the context.  The <br>
print_syntax command will tell you some aspects of it.</p>
<p>Makarius</p>



<a name="294123759"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123759" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123759">(Aug 18 2022 at 16:37)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
On 06/12/10 16:19, Makarius wrote:</p>
<blockquote>
<p>On Mon, 6 Dec 2010, <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a> wrote:</p>
<blockquote>
<p>on 6/12/10 2:32 PM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>The impracticability of using the raw ML loop in contemporay<br>
Isabelle is not accidental, but an integral part of the system.  By<br>
dropping out of it, you won't learn the most important things.</p>
</blockquote>
<p>Hmm, not sure whether you're understanding my requirements fully. <br>
When I say "stone age", I don't mean "early version".  What I mean is<br>
"basic ML toplevel interaction, like what exists in other classic<br>
LCF-style theorem provers, such as HOL90, HOL4, ProofPower HOL, HOL<br>
Light".  So can I do this in Isabelle2005?  If so, I'd like to,<br>
because this is closer to the contemporary system than Isabelle98.</p>
<p>Mark,</p>
</blockquote>
</blockquote>
<p>You can certainly do ML interaction effectively in Isabelle2005 - it's<br>
the way I normally use Isabelle.</p>
<blockquote>
<blockquote>
<p>Please understand that I am not coming at this as a normal user - I<br>
am looking to understand the basic Isabelle HOL system itself, <br>
I regard, this as pretty normal actually.<br>
rather than to understand how to use advanced Isabelle HOL most<br>
effectively to perform proofs.  To do this I will be examining </p>
</blockquote>
</blockquote>
<p>The ML layer certainly helps you perform proofs effectively - just by<br>
way of example here is something I wrote this afternoon, which I<br>
understand cannot be done in Isar</p>
<p>fun in_tac sg st = (rtac insertI1 ORELSE' (rtac insertI2 THEN' in_tac))<br>
sg st ;</p>
<p>val _ = qed_goalw "inv_rule_aidps" CI_Rls.thy<br>
  (rule_defs @ rule_lists) "inv_rule_set  (PC ` aidps)"<br>
  (fn _ =&gt; [ Simp_tac 1, rewtac inv_rule_set_def, Safe_tac,<br>
    (TRYALL (EVERY' [rtac exI, rtac conjI, rtac refl])),<br>
    (TRYALL (EVERY' [rtac drl.singleI, in_tac])),</p>
<p>(this last step reduces 13 subgoals to 1)</p>
<blockquote>
<blockquote>
<p>Isabelle source code and interacting with the ML top level,<br>
constructing and/or parsing terms and types, examining how they get<br>
pretty printed, applying basic inference rules and writing my own<br>
basic inference rules.  I imagine that interacting with Proof<br>
General, Isar, etc involves various layers of processing.  What I<br>
want is to interact with the basic system, avoiding these layers (but<br>
still being able to parse/print expressions).</p>
</blockquote>
<p>My understanding was that you want to see the "proof technologies"<br>
behind the Isabelle system :-)  I still maintain that the best way to<br>
do it is to use Isabelle/ML through the Isar toplevel, either with<br>
Proof General or the more recent Isabelle/jEdit, which also gives you<br>
quick links to the sources.</p>
<p>The naked ML toplevel lacks the formal Isabelle context, which means<br>
you can hardly do anything useful, e.g. being able to parse/print<br>
expressions always requires a proper context.<br>
If "proper context" means something of the type Proof.context, then this<br>
isn't so - the "read" function implicitly uses an old style "theory<br>
context" only</p>
<p>Above you say "Isabelle HOL" as if that would be the system, but in<br>
reality HOL is a big library within the general Isabelle framework.<br>
Dropping out of the Isar loop, you won't see anything of the HOL name<br>
space, and thus cannot use Isabelle/HOL.</p>
<p>I'm not sure if I understand this right, but at the ML level I certainly<br>
get all the HOL syntax and theorems - note, though, if you're using<br>
"new-style" theory files, then to get theorems derived from the theory<br>
file as ML identifiers you need to use the "use_legacy_bindings" function.</p>
<p>The reason why Larry mentioned Isabelle2005 is because that is the<br>
last release that still happens to have some old layers side-by-side<br>
with the current context management that was originally introduced for<br>
the Isar proof language in 1999.  E.g. the "read" function refers to<br>
the implicit "goal context" of the old goal package that has finally<br>
been deleted this year.  There is yet another theory context accessed<br>
via "the_context()" which later became a running gag in internal<br>
circles, until it was deleted as well.</p>
<p>Isabelle2005 is a rock solid distribution, but also a particularly<br>
confusing one due to many old layers being still in there.  This is<br>
why I mentioned the more basic Isabelle98, although it lacks the main<br>
concepts of contempory Isabelle.</p>
<p>I don't recall from earlier emails in this thread whether you actually<br>
have got Isabelle2005 running.  As far as I can see it requires an old<br>
version of PolyML - namely 4.1.4.  I don't know whether that is easily<br>
available now, but I can give you a copy (for x86_linux) if required.</p>
</blockquote>
<p>Jeremy</p>
<blockquote>
<p>Anyway, when I want to understand Linux, I also stay within the normal<br>
user space, instead of booting into single user mode with the init<br>
process running a single instance of bash.</p>
<blockquote>
<p>By the way, I am getting somewhere on all of this by reading<br>
"Isabelle Logics: HOL" (referred to but not included in the<br>
Isabelle2005 documentation), and by using "read" (if there is a more<br>
appropriate way to parse HOL expressions in the ML toplevel, please<br>
tell me how).  I have a description of the syntax in the above<br>
document, but there appears to be no detailed description of the lex.</p>
</blockquote>
<p>The old HOL manual has hardly ever been maintained in the past 10<br>
years. The term syntax is defined in library space in the context. <br>
The print_syntax command will tell you some aspects of it.</p>
<p>Makarius<br>
</p>
</blockquote>



<a name="294123774"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123774" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123774">(Aug 18 2022 at 16:37)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
Thanks for you replies everyone.  It sounds like I need to take a look at<br>
Isar in Isabelle2009 then.  I'll also be looking at Isabelle98.</p>
<p>on 6/12/10 4:20 PM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>My understanding was that you want to see the "proof technologies" behind<br>
the Isabelle system :-)</p>
</blockquote>
<p>Aha I see! :)</p>
<blockquote>
<p>Isabelle2005 is a rock solid distribution, but also a particularly<br>
confusing one due to many old layers being still in there.  This is why I<br>
mentioned the more basic Isabelle98, although it lacks the main concepts<br>
of contempory Isabelle.</p>
</blockquote>
<p>I'll be taking a look at Isabelle98 then.  Basic stone age is what I need.<br>
Thanks.</p>
<blockquote>
<p>Anyway, when I want to understand Linux, I also stay within the normal<br>
user space, instead of booting into single user mode with the init process<br>
running a single instance of bash.</p>
</blockquote>
<p>Therein lies the difference between us.  To understand HOL4 I first look at<br>
HOL90 in detail!</p>
<blockquote>
<p>The old HOL manual has hardly ever been maintained in the past 10 years.<br>
The term syntax is defined in library space in the context.  The<br>
print_syntax command will tell you some aspects of it.</p>
</blockquote>
<p>In which document can I find a comprehensive description of the (presumably<br>
ASCII) lex (any version of Isabelle will do for starters)?   And does the<br>
lex vary between logics?</p>
<p>Mark.</p>



<a name="294123780"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123780" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123780">(Aug 18 2022 at 16:37)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
Jeremy, thanks for the reply.</p>
<p>on 6/12/10 6:10 PM, Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt; wrote:</p>
<blockquote>
<p>On 06/12/10 16:19, Makarius wrote:</p>
<blockquote>
<p>On Mon, 6 Dec 2010, <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a> wrote:</p>
</blockquote>
</blockquote>
<blockquote>
<p>You can certainly do ML interaction effectively in Isabelle2005 - it's<br>
the way I normally use Isabelle.</p>
</blockquote>
<p>Hmm.  I'll carry on looking into Isabelle2005 too then.</p>
<blockquote>
<p>The ML layer certainly helps you perform proofs effectively - just by<br>
way of example here is something I wrote this afternoon, which I<br>
understand cannot be done in Isar</p>
<p>fun in_tac sg st = (rtac insertI1 ORELSE' (rtac insertI2 THEN' in_tac))<br>
sg st ;</p>
<p>....</p>
</blockquote>
<p>Excellent, thanks.</p>
<blockquote>
<blockquote>
<p>Dropping out of the Isar loop, you won't see anything of the HOL name<br>
space, and thus cannot use Isabelle/HOL.</p>
</blockquote>
<p>I'm not sure if I understand this right, but at the ML level I certainly<br>
get all the HOL syntax and theorems - note, though, if you're using<br>
"new-style" theory files, then to get theorems derived from the theory<br>
file as ML identifiers you need to use the "use_legacy_bindings" function.</p>
</blockquote>
<p>Yes, so do I...  Maybe they are talking about Isabelle2009-2?</p>
<blockquote>
<p>I don't recall from earlier emails in this thread whether you actually<br>
have got Isabelle2005 running.  As far as I can see it requires an old<br>
version of PolyML - namely 4.1.4.  I don't know whether that is easily<br>
available now, but I can give you a copy (for x86_linux) if required.</p>
</blockquote>
<p>Thanks for the offer, but I have already managed to install Isabelle2005<br>
(with Poly/ML 4.1.4) and Isabelle2009 (with Poly/ML 5.2.1) from source.  I'm<br>
now building Isabelle 2009-2 (with Poly/ML 5.2.1) from source.</p>
<p>Incidentally, Isabelle2005 required a few source code changes to get it<br>
through Poly/ML 4.1.4.  This seems strange to me, and sounds like a<br>
configuration management problem with either the precise version of<br>
Isabelle2005 or the precise version of Poly/ML 4.1.4 source code that<br>
appears on the web.  I can provide details of the changes required if anyone<br>
is interested..</p>
<p>Mark.</p>



<a name="294123808"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123808" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123808">(Aug 18 2022 at 16:37)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
If "lex" means the lexical syntax here, see the two sections called <br>
"Lexical matters" in the isar-ref manual.  There are two, since Isabelle <br>
has outer and inner syntax layers.</p>
<p>Isabelle does not use ASCII code, but "Isabelle symbol" notation which <br>
provides an infinite alphabet of basic text entities.  See the section <br>
"Strings of symbols" in the implementation manual.</p>
<p>This refers both to the current official release Isabelle2009-2.  If you <br>
want to hear a longer story over 10-20 years of history, I can also do <br>
that.</p>
<p>Makarius</p>



<a name="294123821"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123821" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123821">(Aug 18 2022 at 16:37)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Mon, 6 Dec 2010, Jeremy Dawson wrote:</p>
<blockquote>
<p>The ML layer certainly helps you perform proofs effectively - just by<br>
way of example here is something I wrote this afternoon, which I<br>
understand cannot be done in Isar</p>
<p>fun in_tac sg st = (rtac insertI1 ORELSE' (rtac insertI2 THEN' in_tac))<br>
sg st ;</p>
<p>val _ = qed_goalw "inv_rule_aidps" CI_Rls.thy<br>
 (rule_defs @ rule_lists) "inv_rule_set  (PC ` aidps)"<br>
 (fn _ =&gt; [ Simp_tac 1, rewtac inv_rule_set_def, Safe_tac,<br>
   (TRYALL (EVERY' [rtac exI, rtac conjI, rtac refl])),<br>
   (TRYALL (EVERY' [rtac drl.singleI, in_tac])),</p>
</blockquote>
<p>As a general rule of thumb, you can do always do more in Isar than in the <br>
stone age -- in the same way, you can do more with a computer that runs <br>
Linux or Mac OS X, compared to the bare metal.  This does not mean that <br>
Linus Torvalds or Apple will let you poke around in hardware registers, <br>
though.</p>
<p>See the "tactic" proof method in the isar-ref manual how to embed ML <br>
tactic expressions into Isar source text.</p>
<p>BTW, old Simp_tac and Safe_tac refer to "the_context()" which is not <br>
always the same as your goal context, i.e. CI_Rls.thy above.  This is why <br>
I have called it a running gag from many years ago.</p>
<blockquote>
<blockquote>
<p>The naked ML toplevel lacks the formal Isabelle context, which means<br>
you can hardly do anything useful, e.g. being able to parse/print<br>
expressions always requires a proper context.<br>
If "proper context" means something of the type Proof.context, then this<br>
isn't so - the "read" function implicitly uses an old style "theory<br>
context" only</p>
</blockquote>
</blockquote>
<p>An old style "theory context" is not a proper context.  You are also <br>
subject to "the_context()" confusion here, i.e. you can never be quite <br>
sure what you get.  Good that we got rid of the "read" function long ago.</p>
<blockquote>
<p>I'm not sure if I understand this right, but at the ML level I certainly <br>
get all the HOL syntax and theorems - note, though, if you're using <br>
"new-style" theory files, then to get theorems derived from the theory <br>
file as ML identifiers you need to use the "use_legacy_bindings" <br>
function.</p>
</blockquote>
<p>Hardly anybody on the mailing list will remember "old-style" theories. <br>
This is just historical cruft, even in Isabelle2005.  Gladly this has been <br>
deleted long ago.</p>
<p>Makarius</p>



<a name="294123877"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123877" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123877">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
On 06/12/10 20:17, Makarius wrote:</p>
<blockquote>
<p>On Mon, 6 Dec 2010, Jeremy Dawson wrote:<br>
</p>
</blockquote>
<blockquote>
<p>See the "tactic" proof method in the isar-ref manual how to embed ML<br>
tactic expressions into Isar source text.</p>
<p>A warning, though - this often doesn't work.  One of the reasons is<br>
described in the following paragraph.</p>
<p>BTW, old Simp_tac and Safe_tac refer to "the_context()" which is not<br>
always the same as your goal context, i.e. CI_Rls.thy above.  This is<br>
why I have called it a running gag from many years ago.</p>
<p>I think this is a legitimate criticism, but that the sensible solution<br>
would have been to change these tactics so that they use the theory<br>
context of the theorem representing the proof underway.</p>
<blockquote>
<blockquote>
<p>The naked ML toplevel lacks the formal Isabelle context, which means<br>
you can hardly do anything useful, e.g. being able to parse/print<br>
expressions always requires a proper context.<br>
If "proper context" means something of the type Proof.context, then this<br>
isn't so - the "read" function implicitly uses an old style "theory<br>
context" only</p>
</blockquote>
</blockquote>
<p>An old style "theory context" is not a proper context.  You are also<br>
subject to "the_context()" confusion here, i.e. you can never be quite<br>
sure what you get.  Good that we got rid of the "read" function long ago.</p>
</blockquote>
<p>As for the general issue of using an implicit, rather than explicit,<br>
context, well, it isn't so long ago that someone thought it was a _good_<br>
idea to introduce the "Goal" command as an alternative to "goal" (for<br>
this discussion, Goal = goal (the_context ())).  That is, different<br>
people have different opinions on this sort of issue.</p>
<p>Anyway what I mean is that "read", as I understand it, uses only a<br>
"theory context", not a "proper context" (which, as I understand it,<br>
doesn't exist unless you're using Isar).</p>
<p>I think that another legitimate criticism of the ML interface is that<br>
"read" and "prin" refer to the context of the most recent interactive<br>
proof, rather than the_context (), but that fixing this doesn't require<br>
chucking out the entire ML interface.</p>
<p>as for never being quite sure of what [theory context] you get, I found<br>
this problem a good deal worse using Isar, because (I think) the theory<br>
context keeps changing while an Isar file is being processed</p>
<blockquote>
<blockquote>
<p>I'm not sure if I understand this right, but at the ML level I<br>
certainly get all the HOL syntax and theorems - note, though, if<br>
you're using "new-style" theory files, then to get theorems derived<br>
from the theory file as ML identifiers you need to use the<br>
"use_legacy_bindings" function.</p>
</blockquote>
<p>Hardly anybody on the mailing list will remember "old-style" theories.<br>
This is just historical cruft, even in Isabelle2005.  Gladly this has<br>
been deleted long ago.</p>
<p>whatever the relative merits of new-style theories versus old-style<br>
theories, the fact is that massive amounts of proofs using old-style<br>
theories exist, and people are currently developing further proofs build<br>
upon them.  So what make you glad makes recent versions of Isabelle<br>
unusable for other people</p>
</blockquote>
<p>Jeremy</p>
<blockquote>
<p>Makarius</p>
</blockquote>



<a name="294123892"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123892" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123892">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Dear Jeremy &amp; Co,</p>
<p>May I kindly suggest to make this a private thread among stone age<br>
users? Probably only a handful of people know what you are talking about<br>
and even fewer are interested in the details of ML level interaction. If<br>
anybody else, apart from the participants of this thread, is interested<br>
in the details, they should speak up now and I take back what I wrote.</p>
<p>Thanks<br>
Tobias</p>
<p>Jeremy Dawson schrieb:</p>



<a name="294123953"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123953" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123953">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
I, for one, would be interested in hearing the rest of this discussion.</p>
<ul>
<li>Brian</li>
</ul>



<a name="294123970"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123970" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123970">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Michael Norrish &lt;<a href="mailto:Michael.Norrish@nicta.com.au">Michael.Norrish@nicta.com.au</a>&gt;<br>
I'm quite interested in the details.</p>
<p>Michael</p>



<a name="294123993"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294123993" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294123993">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
Dear stone age enthusiasts and others,</p>
<p>In the present discussions, there seem to be some misunderstandings<br>
due to conflating two meanings of the word 'Isar'. It means two<br>
things: a) the language in which most users write specifications and<br>
proofs, and b) the management layer that interprets the above<br>
language, but also deals with contexts, data management, system state<br>
and transactions, theory management etc. Maybe for the latter meaning<br>
one could read 'Isar' as '<em>Is</em>abelle <em>ar</em>chitecture'. It was initially<br>
introduced to support the language, but it is now central to the whole<br>
system.</p>
<p>While it is perfectly reasonable not to use Isar-the-language (in fact<br>
automated proof tools typically don't, yet they produce specifications<br>
and proofs similar to the ones written by users), in recent Isabelle<br>
versions (starting with ca. 2007/8) there is no way of circumventing<br>
Isar-the-architecture. Like every architecture, it has its pros and<br>
cons, but there is no way of ignoring its existence.</p>
<p>Isar-the-architecture provides the full SML programming language,<br>
extended with antiquotations to refer to logical entities from static<br>
(compile time) contexts. To use this, ML code must obey some<br>
structuring principles, and the most important one is that contexts<br>
(i.e. values of type Proof.context, theory, or local_theory, depending<br>
on the application) must be passed around explicitly. Anyone familiar<br>
with the notion of pure functional programming should find this very<br>
natural. For example, a theorem declaration (in the global theory) is<br>
a function of type "theory -&gt; theory", and most tactics that do<br>
something interesting must depend on a context. So does parsing and<br>
pretty printing. Jeremy's example looks like it is very easy to port<br>
to current Isabelle by using explicit context passing. Many people on<br>
this list will be happy to demonstrate this on self-contained<br>
examples. Implicit context passing is only provided by<br>
Isar-the-language.</p>
<p>As it was said, Isabelle 2005 still supported unmanaged interaction to<br>
some extent, and this is what Jeremy is using. I personally don't know<br>
of any other (active) user of this model, but I would be curious to<br>
hear about any.</p>
<p>In other words, the current model is roughly</p>
<p>(4) Isabelle/ML embedded into Isar</p>
<hr>
<p>(3) Isar language</p>
<hr>
<p>(2) Isar infrastructure</p>
<hr>
<p>(1) Raw ML toplevel (provided by compiler)</p>
<p>(4) is where you actually work in when interacting in ML, and if you<br>
want to ignore (3), you can do so by using the embedded language only.<br>
 From (1) you hardly get anything useful. From what Mark wrote, I<br>
assume that he is more interested in the logical part of the<br>
internals, not so much the management part. IMHO the easiest way to<br>
explore this in Isabelle2009-2 is using (4). In Isabelle2005, you can<br>
still use (1), but what you get is, of course, an impression of how<br>
Isabelle2005 worked.</p>
<p>I think that much confusion comes from confusing (1) and (4). Maybe<br>
reimlementing (1) in LISP (as in Edinburgh LCF) could solve this<br>
problem :-)).</p>
<p>Alex</p>



<a name="294124015"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294124015" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294124015">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Steven Obua &lt;<a href="mailto:steven.obua@googlemail.com">steven.obua@googlemail.com</a>&gt;<br>
On 08.12.2010, at 10:19, Alexander Krauss wrote:</p>
<blockquote>
<p>To use this, ML code must obey some<br>
structuring principles, and the most important one is that contexts<br>
(i.e. values of type Proof.context, theory, or local_theory, depending<br>
on the application) must be passed around explicitly. Anyone familiar<br>
with the notion of pure functional programming should find this very<br>
natural.</p>
</blockquote>
<p>I think that this point is a good one and deserves special attention. <br>
a) You need to pass contexts around in purely functional programming.<br>
b) Most of the time, you don't want to deal with this passing around explicitly. <br>
A purely functional programming language should deal with this in a natural and pretty way <br>
(nope, monads are not natural; and they are ugly). If there just were such a language ...</p>
<blockquote>
<p>I think that much confusion comes from confusing (1) and (4). Maybe<br>
reimlementing (1) in LISP (as in Edinburgh LCF) could solve this<br>
problem :-)).<br>
</p>
</blockquote>
<p>Why not try Babel-17 instead of LISP? A new and much refined version of it will come out this Friday, together with a Netbeans plugin :-)</p>
<ul>
<li>Steven</li>
</ul>



<a name="294124049"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294124049" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294124049">(Aug 18 2022 at 16:38)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Very nice explanation -- including all your other text from above that I <br>
have suppressed for brevity.  I did not know the wording of Isar as <br>
<em>Is</em>abelle <em>ar</em>chitecture' so far.</p>
<p>There is little left to add, apart from (5) Isabelle/Scala and (6) Prover <br>
IDE.  The latter already helps a lot in exploring Isabelle/ML right now, <br>
and at a later stage raw ML access will return for bare bones system <br>
maintenance, but that is not very signifant compared to many other things <br>
that are still missing.</p>
<p>Makarius</p>



<a name="294124068"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294124068" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294124068">(Aug 18 2022 at 16:39)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Historically, I see it like this. By 1989, we had the basics: higher-order unification as the inference mechanism and higher-order logic as the logical framework. A couple of years later, we had order-sorted polymorphism. By around 2000, with innovations such as axiomatic type classes, inductive and datatype definitions and the classical reasoner, classic Isabelle could be described as mature. Isar represents a new departure, but what is particularly nice is how well it fits on the old logical framework infrastructure. One might imagine that everything had been foreseen at the start, but this isn't true at all. All this is to say that “to understand Isabelle" could refer to many very different things.<br>
Larry</p>



<a name="294124581"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20do%20stone%20age%20interaction%3F/near/294124581" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20do.20stone.20age.20interaction.3F.html#294124581">(Aug 18 2022 at 16:41)</a>:</h4>
<p>From: <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a><br>
(apologies for a week of absence...)</p>
<p>on 28/11/10 8:54 PM, Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt; wrote:</p>
<blockquote>
<p>Note that in the early days, there was no form of antiquotation. You could<br>
create a term by parsing the corresponding string or (painfully) using<br>
constructor functions.<br>
Larry</p>
</blockquote>
<p>I see, so would I be right in saying that the "read" function is the<br>
appropriate ML function for parsing a string into a HOL term?  Is there a<br>
corresponding function for HOL types?  And where is the best place to find a<br>
complete description of the lex/syntax of Isabelle HOL terms and types (for<br>
Isabelle 2005)?</p>
<p>on 29/11/10 10:24 AM, Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt; wrote:</p>
<blockquote>
<p>If I understand the question in your last sentence correctly, the<br>
information you want is in the reference manual, sections 6.5 (terms)<br>
and 6.8 (types, which are contained in terms).  (this is applies to the<br>
Isabelle2005 reference manual - it may have been changed since).</p>
</blockquote>
<p>That's one of the two things I was looking for.  Thanks that helps.</p>
<p>Mark.</p>
<blockquote>
<p>On 28/11/10 14:32, <a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a> wrote:</p>
<blockquote>
<p>But I also want to carry out basic interaction - this is just the way I<br>
go<br>
about learning about the innards of a system - I like to construct my<br>
own terms and experiment.  So can I enter HOL term quotations in<br>
Isabelle 2005?  And can I use ML constructor functions to create<br>
HOL terms?</p>
<p>Mark.</p>
</blockquote>
</blockquote>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>