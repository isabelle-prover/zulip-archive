<html>
<head><meta charset="utf-8"><title>[isabelle] How do I write the sequent |- P in Isar using ... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html">[isabelle] How do I write the sequent |- P in Isar using ...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294243740"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294243740" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294243740">(Aug 19 2022 at 11:21)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Hi,</p>
<p>I'm trying to make some connections between logic vocabulary and Isar.</p>
<p>From <a href="https://en.wikipedia.org/wiki/Sequent">https://en.wikipedia.org/wiki/Sequent</a>, I get the sentence</p>
<p>On the other hand an empty antecedent is assumed to be true, i.e.,<br>
    |- Sigma means that Sigma follows without any assumptions...</p>
<p>I'm trying to determine the right connection between sequent assumptions <br>
and the meta-logic operator "==&gt;", and how to restate a proved theorem <br>
with Isar, THM, to accurately represent the sequent ( |- THM).</p>
<p>Say I have a sequent (A, B |- C), then I'm wanting to say that the <br>
following Isar is a correct translation of that sequent:</p>
<p>theorem<br>
   assumes A and B<br>
   shows C</p>
<p>For any theorem THM I've proved in Isar, I'm trying to trivially restate <br>
it as a sequent,  |- THM, but have the restatement have some meaning, <br>
not be an exact restatement.</p>
<p>For example, say I prove this:</p>
<p>theorem iffIi_1:<br>
   assumes "A --&gt; B" and "B --&gt; A"<br>
   shows "A =  B"<br>
&lt;proof&gt;</p>
<p>I'd like to restate the theorem using the identifier iffIi_1, but as I <br>
said above, I don't know how, so I restate it like this:</p>
<p>theorem iffIi_2:<br>
   "(A --&gt; B) ==&gt; (B --&gt; A) ==&gt; (A = B)"<br>
by(rule iffIi)</p>
<p>Here, I want to say that this represents the sequent ( |- "(A --&gt; B) ==&gt; <br>
(B --&gt; A) ==&gt; (A = B)" ).</p>
<p>I've been thinking that the statements of iffIi_1 and iffIi_2 must be <br>
exactly the same, but now I try the following and it doesn't work:</p>
<p>theorem<br>
   assumes "A --&gt; B" and "B --&gt; A"<br>
   shows "A = B"<br>
by(rule iffIi)</p>
<p>I had started thinking  <code>assumes "A --&gt; B" and "B --&gt; A"</code> was synonymous <br>
with "(A --&gt; B) ==&gt; (B --&gt; A)".</p>
<p>Regards,<br>
GB</p>



<a name="294243760"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294243760" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294243760">(Aug 19 2022 at 11:21)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Basically, I'm trying to sync up sequents notation with equivalent Isar <br>
syntax being used with Isabelle/HOL. I wouldn't care about sequents, but <br>
sequents are something that's resorted to a lot in many logic textbooks.</p>
<p>This is where a textbook would come in handy: "Sequents as Implemented <br>
in Isabelle/HOL using Isar Syntax, Along with Many Tedious Examples, <br>
Both Trivial and Advanced, and Likewise for Natural Deduction as <br>
Implemented in Isar, for the Working Unprofessional."</p>
<p>It would say, "Here's a sequent, and here's its equivalent form using <br>
Isar in Isabelle/HOL. Here's another sequent, but this sequent is <br>
difficult to state in Isar. Here's yet another sequent, and you really <br>
can't express this sequent in Isar in Isabelle/HOL."</p>
<p>There's a 3 page section in isar-ref.pdf titled "The sequent caclulus", <br>
page 201, which I guess will help me eventually figure it out.</p>
<p>It says,</p>
<p>For certain proofs in classical logic, it can not be called natural.<br>
    The sequent calculus, a generalization of natural deduction, is<br>
    easier to automate.</p>
<p>If Isabelle/HOL is completely formulated as natural deduction, then I <br>
guess every Isar statement of Isabelle/HOL can be expressed as a sequent.</p>
<p>But then on page 203, there's a section titled "Simulating sequents by <br>
natural deduction",  and it says,</p>
<p>Isabelle can represent sequents directly, as in the object-logic LK.<br>
    But natural deduction is easier to work with, and most object-logics<br>
    employ it. Fortunately, we can simulate the sequent P1, ..., Pm |-<br>
    Q1, ..., Qn by the Isabelle formula P1 ==&gt; ... ==&gt; Pm ==&gt; ~Q2 ==&gt;<br>
    ... ==&gt; ~Qn ==&gt; Q1 where the order of the assumptions and the choice<br>
    of Q1 are arbitrary.</p>
<p>Here, the fact that the word "simulating" is being used, and the use of <br>
the phrase "Fortunately, we can simulate the sequent...", makes me think <br>
that I can't simulate certain sequents in Isabelle/HOL using Isar.</p>
<p>Maybe the discussion on page 202 explaining the sequent analogue to the <br>
(--&gt;I) will help me figure it out. It gives the rule as</p>
<p>P, Lambda |- Delta, Q<br>
--------------------------------- (--&gt;R)<br>
Lambda |- Delta, P --&gt; Q</p>
<p>For any proved HOL theorem THM, I'm trying to figure out how to restate <br>
THM as a sequent which requires no assumptions, and do it using Isar.</p>
<p>I start with something trivial:</p>
<p>theorem TrueTrue:<br>
   "True"<br>
by(rule TrueI)</p>
<p>There doesn't appear to be any assumptions in TrueTrue, but there must <br>
be some assumptions because TrueTrue has to be proved by TrueI, which is <br>
not an exact restatement of TrueI, where TrueI resorts to using the <br>
axiom refl:</p>
<p>lemma TrueI: "True"<br>
   unfolding True_def by (rule refl)</p>
<p>If TrueTrue is a theorem, then I say, "Surely I can express it as a <br>
sequent. But what is the sequent, and what is it in Isar?"</p>
<p>I make an attempt to answer the question, but I use the sequent rule <br>
(--&gt;R) as a template.</p>
<p>I'm tempted to say the sequent is "|- True", but I say it's "|- True, <br>
TrueI". In Isar I say the sequent is</p>
<p>theorem TrueTrue_Restate:<br>
   "True"<br>
by(rule TrueTrue)</p>
<p>So I decide that TrueTrue_Restate is the sequent "|- True, TrueTrue", <br>
with there being a subtle difference between "|- True, TrueTrue" and "|- <br>
True, TrueI", with the difference being that TrueTrue_Restate is <br>
TrueTrue proving itself, which means it's using no assumptions. Using <br>
theorem names, it would be "|- TrueTrue, TrueI" versus "|- TrueTrue, <br>
TrueTrue_Restate" == "|- TrueTrue".</p>
<p>But I'm jumping through hoops to try and fit sequent notation with Isar <br>
syntax. I'm trying to use "theorem" along with "by" or "proof" to prove <br>
that a theorem THM is a sequent of the form "|- P", meaning that it <br>
doesn't require any assumptions to be true. If I can do that, it's <br>
important. If I can't, it's not important.</p>
<p>Regards,<br>
GB</p>



<a name="294243806"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294243806" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294243806">(Aug 19 2022 at 11:21)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
And saying things like that are best only said to one's self. Moving <br>
sets of assumptions back and forth from the LHS and  RHS of the <br>
turnstile would indicate a fundamental misunderstanding of basic logic, <br>
of which the remembering of former textbook quotes can sometimes help <br>
correct. It might be better to modify the notation and say something like:</p>
<p>Please consider |- &lt;i(conjI),a,a&gt; =&gt; "[|A;B|] ==&gt; A &amp; B"...</p>
<p>But that's the basic idea. Trying to tie into standard notation without <br>
abusing it any more than necessary. If it's still messed up, I should be <br>
eventually figure out how to make it acceptable.</p>
<p>Regards,<br>
GB</p>



<a name="294244630"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294244630" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294244630">(Aug 19 2022 at 11:26)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
The right search words are "sequent style natural deduction", or <br>
something similar, and throw in an "isabelle" to find what's specific to <br>
Isabelle, or ":</p>
<p>(Isabelle specific)<br>
<a href="http://www.inf.ed.ac.uk/teaching/courses/ar/slides/index.html">http://www.inf.ed.ac.uk/teaching/courses/ar/slides/index.html</a></p>
<p>(Rules of the Game link)<br>
<a href="http://www.cogsys.wiai.uni-bamberg.de/teaching/ss07/hs_rc/">http://www.cogsys.wiai.uni-bamberg.de/teaching/ss07/hs_rc/</a></p>
<p>(Natural Deduction in ISABELLE: Single-step proofs based on Sequent <br>
Notation link)<br>
<a href="http://www.gdi.uni-bamberg.de/personnel/aguado/publications.htm">http://www.gdi.uni-bamberg.de/personnel/aguado/publications.htm</a></p>
<p>(Natural Deduction with Gentzen Sequents)<br>
<a href="http://www.ling.ohio-state.edu/~scott/teaching/2012/winter/280/">http://www.ling.ohio-state.edu/~scott/teaching/2012/winter/280/</a></p>
<p>(Section 2.2 A sequent calculus for natural deduction)<br>
<a href="http://books.google.com/books/about/Logic_and_Computation.html?id=8cyTbKWDKqgC">http://books.google.com/books/about/Logic_and_Computation.html?id=8cyTbKWDKqgC</a></p>
<p>I think HOL4 notation corrupted my mind with things like this: "|- !f g <br>
x. (f o g) x = f(g x)"</p>
<p>And then from a 1990 Isabelle user's manual it says:</p>
<p>"Theorems and axioms can be regarded as rules with no premises, so<br>
    let us speak just of rules."</p>
<p>So if we can speak of theorems as things without premises, I should be <br>
able to combine sequent notation with Isar syntax, like writing</p>
<p>|- "A ==&gt; B ==&gt; (A &amp; B)", ConjI</p>
<p>and get away with it, so I can emphasize the things I want to emphasize, <br>
where because by(intro conjI) is the single proof command needed, then <br>
ConjI must be qualified to representative the premises needed to prove <br>
"A ==&gt; B ==&gt; (A &amp; B)".</p>
<p>You gotta have those basic logic books to keep you from going astray too <br>
far, when you have to answer most of your own questions. I finally found <br>
what must have been vaguely in my mind:</p>
<p>"Remark 1.12 Indeed, this example indicates that we may transform<br>
    any proof of /phi1, phi2, ..., phi_n |- psi/ in such a way into a<br>
    proof of the theorem<br>
    |- phi1 --&gt; (phi2 --&gt;..."</p>
<p><a href="http://www.cs.bham.ac.uk/research/projects/lics/">http://www.cs.bham.ac.uk/research/projects/lics/</a></p>
<p>I think I saw someone from the HOL4 group say something like that on <br>
this list over a year ago, probably Ramana.</p>
<p>Regards,<br>
GB</p>



<a name="294245538"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294245538" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294245538">(Aug 19 2022 at 11:32)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Isabelle/Pure has sequents in the manner of Natural Deduction (with single <br>
conclusion) built-in, but they only serve foundational and implementation <br>
purposes.</p>
<p>When you state</p>
<p>theorem<br>
     assumes A and B<br>
     show C</p>
<p>you are claiming A, B |- C.  The proof may refer to A and B in that <br>
context as local theorems.</p>
<p>Alternatively, you can play with local contexts and sequents derived <br>
within them more directly (and without global goals getting in the way) <br>
using Isar notepad:</p>
<p>notepad<br>
   begin<br>
     {<br>
       assume A and B<br>
       have C sorry<br>
     }<br>
   end</p>
<p>The following versions lets you peek at the internal sequent (using <br>
postfix notation for the "antecedent" due to Larry); the slightly nested <br>
proof fragment ensures that the hypothetical facts actually show up in the <br>
result:</p>
<p>notepad<br>
begin<br>
   note [[show_hyps]]<br>
   {<br>
     assume A and B<br>
     then have C apply - sorry<br>
     thm this  -- "C [A, B]"<br>
   }<br>
   note <code>A ⟹ B ⟹ C</code><br>
end</p>
<p>After closing the block, the internal sequent is exported into the <br>
enclosing context, discharging the assumptions and turning them into <br>
visible Pure rule structure using ==&gt;.</p>
<p>Likewise, the initial "theorem assumes A and B shows C" gives you the <br>
exported rule "A ==&gt; B ==&gt; C", not its sequent.</p>
<p>As a user of Isabelle/Pure (and HOL as application within it), you should <br>
never encounter the hypotheses of the internal sequents, only the exported <br>
versions with explicit rule structure.</p>
<p>Makarius</p>



<a name="294245680"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294245680" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294245680">(Aug 19 2022 at 11:33)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That is a slightly different thing: "Sequent calculus" is meant here in <br>
the classic sense, with multiple conclusions and rules that allow shifting <br>
between assumptions and conclusions in the classic dual fashion.  (Don't <br>
show this to constructivists, they will find it unintuitive despite <br>
Wikipedia saying "other intuitive explanations are possible, which are <br>
classically equivalent".)</p>
<p>What Larry explains in that chapter is how to use Pure rules (with their <br>
!! / ==&gt; structure and single conclusion) to represent the idea behind <br>
classical sequent calculus naturally.  It all works out rather nicely in <br>
the end, leading to proof tools like "fast" and "best" that where a big <br>
thing in the early 1990-ies (with minimal implementation effort).  A bit <br>
later came "blast", with the same rule representation, but different <br>
inferencing engine.</p>
<p>Nowadays people tend to appeal to more heavy gear: sledgehammer and metis <br>
for reconstruction, but that is quite different technology and unrelated <br>
to this thread.</p>
<p>Makarius</p>



<a name="294245855"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20do%20I%20write%20the%20sequent%20%7C-%20P%20in%20Isar%20using%20.../near/294245855" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20do.20I.20write.20the.20sequent.20.7C-.20P.20in.20Isar.20using.20.2E.2E.2E.html#294245855">(Aug 19 2022 at 11:34)</a>:</h4>
<p>From: Gottfried Barrow &lt;<a href="mailto:gottfried.barrow@gmx.com">gottfried.barrow@gmx.com</a>&gt;<br>
Makarius,</p>
<p>Thanks for the explanation, and the tips. It sounds complicated, and <br>
like we wouldn't want to be writing sequents that reflect accurately <br>
what's happening at the low level.</p>
<p>I'll be using "using [[show_hyps]]" to look at what the assumptions are <br>
for a given fact.</p>
<p>I'm interested in sequents notation as a means to add some concise, <br>
high-level, more-explicit notation to natural deduction notation, one of <br>
those notations being Fitch diagrams, but, in general, mixing sequent <br>
notation with natural deduction notation as shown by the docs linked to <br>
my last email.</p>
<p>So I start with the sequent conjunction introduction rule on page 38 of <br>
Larry's "Logic and Computation":</p>
<p>The conjunction introduction rule becomes</p>
<p>Gamma |- A  Delta |- B<br>
    -------------------------------<br>
    Gamma, Delta |- A &amp; B</p>
<p>The conclusion depends upon every assumption of A and of B.</p>
<p>I try to stay as true as I can, but staying true becomes relative to the <br>
Isar syntax available, and the fact that there are multiple ways to <br>
state a theorem.</p>
<p>I define &lt;i(conjI,a,a&gt; to be a list in the manner of Gamma and Delta. <br>
The onus is on the interested reader to figure out the details. After <br>
all, Gamma and Delta aren't exactly loaded with details. It turns that <br>
&lt;i(conjI,a,a&gt; also conveniently corresponds with the sequence of Isar <br>
commands apply(intro conjI), apply(assumption), by(assumption).</p>
<p>At least to myself, I can now say things like, "Please consider |- <br>
"[|A;B|] ==&gt; A &amp; B", &lt;i(conjI,a,a&gt;..."</p>
<p>Instead of, "Please consider the theorem "[|A;B|] ==&gt; A &amp; B" which is <br>
proved by the sequence of commands apply(intro conjI), <br>
apply(assumption), by(assumption).</p>
<p>That's the idea. The implementation will never be perfect, but it could <br>
be useful as a part of other things, at least for a while. Backward <br>
proofs are very concise, so this kind of things looks like it's matching <br>
up very nicely with short backwards proofs. Forward, structured proofs <br>
aren't that concise, so it wouldn't work for that. But it could work for <br>
proof steps within a structured proof, and a backward proof also can <br>
tell a person how to do a forward proof.</p>
<p>I attached a screen shot and a PDF showing my notation experiments.</p>
<p>Regards,<br>
GB<br>
<a href="/user_uploads/14278/UybgWdOLlYJqOM9qPzG5vkCY/130701_sequent_stuff.png">130701_sequent_stuff.png</a><br>
<a href="/user_uploads/14278/EwqfvBQRH4OzM7ka3Ms9PgBW/130701_sequent_stuff.pdf">130701_sequent_stuff.pdf</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/UybgWdOLlYJqOM9qPzG5vkCY/130701_sequent_stuff.png" title="130701_sequent_stuff.png"><img src="/user_uploads/14278/UybgWdOLlYJqOM9qPzG5vkCY/130701_sequent_stuff.png"></a></div>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>