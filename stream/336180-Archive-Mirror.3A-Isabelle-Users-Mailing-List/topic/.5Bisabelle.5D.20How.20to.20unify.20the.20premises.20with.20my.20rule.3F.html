<html>
<head><meta charset="utf-8"><title>[isabelle] How to unify the premises with my rule? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20unify.20the.20premises.20with.20my.20rule.3F.html">[isabelle] How to unify the premises with my rule?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293904997"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20unify%20the%20premises%20with%20my%20rule%3F/near/293904997" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20unify.20the.20premises.20with.20my.20rule.3F.html#293904997">(Aug 17 2022 at 14:14)</a>:</h4>
<p>From: chen kun &lt;<a href="mailto:coolchenice81@gmail.com">coolchenice81@gmail.com</a>&gt;<br>
Hello<br>
  I am a newbie in isabelle ,and now I am stucked with a proof which looks<br>
somewhat trivial. I am using Isabelle2005/HOL with ProofGeneral, the proof<br>
is :<br>
  !! v s1 s2 .<br>
  [| Subject_user v s1 \&lt;in&gt; Users v ; Subject_user v s2 \&lt;in&gt; Users v ;<br>
Subject_user v s1 = Subject_user v s2<br>
    Subject_role v s1 \&lt;in&gt; tRoles v \/ Subject_role v s1 \&lt;in&gt; nRoles v ;<br>
    Subject_role v s2 \&lt;in&gt; tRoles v \/ Subject_role v s2 \&lt;in&gt; nRoles v ;<br>
    s1 \&lt;in&gt; tSubjects v \/ s1 \&lt;in&gt; nSubjects v;<br>
    s2 \&lt;in&gt; tSubjects v \/ s2 \&lt;in&gt; nSubjects v;<br>
    s1 \&lt;noteq&gt; s2;<br>
    (Subject_user v s1 , Subject_role v s1) \&lt;in&gt; URs v;<br>
    (Subject_user v s2 , Subject_role v s2) \&lt;in&gt; URs v;</p>
<p>\&lt;forall&gt; u r1 r2 .<br>
     u \&lt;in&gt; Users v /\<br>
     (r1 \&lt;in&gt; tRoles v \/ r1 \&lt;in&gt; nRoles v) /\<br>
     (r2 \&lt;in&gt; tRoles v \/ r2 \&lt;in&gt; nRoles v) /\<br>
     (EX s1. (s1 \&lt;in&gt; tSubjects v \/ s1 \&lt;in&gt; nSubjects v) /\<br>
             (EX s2. (s2 \&lt;in&gt; tSubjects v \/ s2 \&lt;in&gt; nSubjects v) /\<br>
                     s1 \&lt;noteq&gt; s2 /\<br>
                     u = Subject_user v s1 /\ u = Subject_user v s2 /\<br>
                     r1 = Subject_role v s1 /\ r2 = Subject_role v s2 /\<br>
                     (u, r1) \&lt;in&gt; URs v /\ (u, r2) \&lt;in&gt; URs v)) --&gt;<br>
      (r1, r2) \&lt;notin&gt; DMRs v /\ (r2, r1) \&lt;notin&gt; DMRs v;<br>
 |]<br>
 ==&gt; (Subject_role v s1, Subject_role v s2) \&lt;notin&gt; DMRs v /\ (Subject_role<br>
v s2, Subject_role v s1) \&lt;notin&gt; DMRs v</p>
<p>Sorry for the extreme long proof .Here is some explanation on the notations<br>
:<br>
1 . v is a record<br>
2 . (Subject_role v) is a fuction which takes a subject and return its role<br>
3 . (Subject_user v) is a function which takes a subject and return its user<br>
4 . (Users v) ,(tRoles v) , (nRoles v) , (tSubjects v) , (nSubjects v) ,<br>
(URs v) , (DMRs v) are all sets of the record v</p>
<p>You can see the last one of the premises is a derivation rule, and the<br>
others could satisfy the assumption of the rule.<br>
So it is supposed to prove the conclusion ,but I failed to unify the<br>
premises with the rule in the premises.<br>
Could anyone give me some help on this ? IF POSSIBLE , could you show the<br>
proof step by step?</p>
<p>Thanks in advance</p>
<p>Kun  Chen<br>
                                                            Foundation<br>
Software Engineer Center<br>
                                                            Institute of<br>
Software<br>
                                                            Chinese  Academy<br>
of  Science</p>



<a name="293905007"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20unify%20the%20premises%20with%20my%20rule%3F/near/293905007" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20unify.20the.20premises.20with.20my.20rule.3F.html#293905007">(Aug 17 2022 at 14:14)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Thanks for your question. The problem here is that you aren't using  <br>
Isabelle in the way it's designed to be used, specifically with  <br>
regard to unification. Your problem would be trivial for first-order  <br>
automatic provers. It is perhaps easy enough for Isabelle to prove  <br>
with its "meson" method, but not using its basic tools.</p>
<p>To simplify your example considerably, if you have a formula like</p>
<p>ALL x. P x &amp; (EX y. Q(x,y)) --&gt; R x</p>
<p>then its natural Isabelle form is</p>
<p>[| P(x); Q(x,y) |] ==&gt; R(x)</p>
<p>and this can trivially be used to reduce subgoals of the form R(...).  <br>
That is, you need to express your big quantified formula as shown  <br>
above and give it to the "rule" method.</p>
<p>Larry Paulson</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>