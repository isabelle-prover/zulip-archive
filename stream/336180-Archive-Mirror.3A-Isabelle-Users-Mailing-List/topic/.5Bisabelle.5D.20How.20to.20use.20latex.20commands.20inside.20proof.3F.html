<html>
<head><meta charset="utf-8"><title>[isabelle] How to use latex commands inside proof? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html">[isabelle] How to use latex commands inside proof?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294291185"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294291185" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294291185">(Aug 19 2022 at 15:38)</a>:</h4>
<p>From: Holden Lee &lt;<a href="mailto:hl422@cam.ac.uk">hl422@cam.ac.uk</a>&gt;<br>
I'd like to put in some comments like so:</p>
<p>proof -<br>
...<br>
-- "some typeset math here like $a \in A$"<br>
...</p>
<p>but it seems like \ can't be used, and \\ doesn't escape it. What's the<br>
correct way?</p>
<p>-Holden</p>



<a name="294291205"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294291205" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294291205">(Aug 19 2022 at 15:38)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Holden,</p>
<p>if you use the delimiters {* and *} instead of " " for the LaTeX text, then antiquotations <br>
and escaping work as expected. In Isabelle2014, you can alternatively use the cartouche <br>
\&lt;open&gt; and \&lt;close&gt;. Instead of an inline comment introduced by --, you can also use <br>
regular text blocks with txt as in</p>
<p>proof<br>
   ...<br>
   txt {* $a \in A$ *}<br>
   ..<br>
end</p>
<p>Best,<br>
Andreas</p>



<a name="294291222"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294291222" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294291222">(Aug 19 2022 at 15:38)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Yes.  Moreover, there is usually little need to produce actual LaTeX math <br>
in Isabelle documents.  You can just use interpreted or uninterpreted <br>
antiquotations like this:</p>
<p>txt {* @{prop "a \&lt;in&gt; A"} *}</p>
<p>txt {* @{text "a \&lt;in&gt; A"} *}</p>
<p>This has the advantage that the input and typeset output is uniform <br>
according to Isabelle standards, although the pseudo-math mode of <br>
isabelle.sty is a bit weaker than actual math mode.</p>
<p>Makarius</p>



<a name="294291351"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294291351" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294291351">(Aug 19 2022 at 15:39)</a>:</h4>
<p>From: "W. Douglas Maurer" &lt;<a href="mailto:maurer@gwu.edu">maurer@gwu.edu</a>&gt;<br>
I have also had problems with comments starting with -- which is why <br>
I always use comments contained in (* and *) (this has always worked <br>
for me, including backslashes).</p>



<a name="294308382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294308382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294308382">(Aug 19 2022 at 16:03)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
There is a common misunderstanding of "formal comments" within the Isar <br>
language versus "source comments" (* *) that suppress certain parts of the <br>
input for the document preparation system. The latter corresponds to % in <br>
latex, i.e. you use it mainly to "comment-out" material that is not part <br>
of the proper document.</p>
<p>So the problem of (* *) within actual Isabelle documents is not just a <br>
conceptual mismatch, but also odd extra white space in unexpected <br>
situations, instead of informative text.</p>
<p>As a rule of thumb, a proper Isabelle document contains little (* *), but <br>
interjects the formally-checked and pretty-printed Isar source with <br>
commands for semi-formal pieces as follows:</p>
<p>section ‹Foo›</p>
<p>subsection ‹Bar›</p>
<p>text ‹Blah blah blub.›</p>
<p>lemma "a = a" .. -- ‹Foo bar blah.›</p>
<p>The "isar-ref" and "system" manuals tell more about Isabelle document <br>
preparation.</p>
<p>Makarius</p>



<a name="294308919"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294308919" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294308919">(Aug 19 2022 at 16:06)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That was the thread "How to use latex commands inside proof?" from August <br>
2014.  It was answered exhaustively by Andreas Lochbihler and myself, e.g. <br>
see here <br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2014-August/msg00257.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2014-August/msg00257.html</a></p>
<p>Makarius</p>



<a name="294309005"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20latex%20commands%20inside%20proof%3F/near/294309005" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20latex.20commands.20inside.20proof.3F.html#294309005">(Aug 19 2022 at 16:06)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This is because the argument to the formal comment "--" needs to be an <br>
atomic item in Isar token syntax.  As already shown in earlier examples it <br>
can be done</p>
<p>-- {* like this *}</p>
<p>or</p>
<p>-- ‹like this›</p>
<p>which uses the new cartouche syntax of Isabelle2014.</p>
<p>In general, you have two possibilities:</p>
<p>(1) read the isar-ref manual carefully what the syntax really is</p>
<p>(2) read existing examples and applications carefully how things are<br>
       usually done.</p>
<p>If you just make a meta-comment to yourself, without any formal <br>
significance, the (* *) form might be actually what you want, but that is <br>
relatively rare.</p>
<p>Makarius</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>