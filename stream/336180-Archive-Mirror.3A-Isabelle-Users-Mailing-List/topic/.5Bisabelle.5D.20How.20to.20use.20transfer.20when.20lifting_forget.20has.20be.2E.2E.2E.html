<html>
<head><meta charset="utf-8"><title>[isabelle] How to use transfer when lifting_forget has be... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20transfer.20when.20lifting_forget.20has.20be.2E.2E.2E.html">[isabelle] How to use transfer when lifting_forget has be...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294276870"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20transfer%20when%20lifting_forget%20has%20be.../near/294276870" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20transfer.20when.20lifting_forget.20has.20be.2E.2E.2E.html#294276870">(Aug 19 2022 at 14:24)</a>:</h4>
<p>From: Mathieu Giorgino &lt;<a href="mailto:mathieu.giorgino@gmail.com">mathieu.giorgino@gmail.com</a>&gt;<br>
Ok, Great !</p>
<p>I didn't know bundles, can we define and use them for anything ? For<br>
example can we make a bundle containing specific intro, elim and<br>
simplifications rules ? Looks like a convenient feature.</p>
<p>Thanks a lot,</p>
<p>-- Mathieu</p>



<a name="294276884"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20transfer%20when%20lifting_forget%20has%20be.../near/294276884" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20transfer.20when.20lifting_forget.20has.20be.2E.2E.2E.html#294276884">(Aug 19 2022 at 14:24)</a>:</h4>
<p>From: Mathieu Giorgino &lt;<a href="mailto:mathieu.giorgino@gmail.com">mathieu.giorgino@gmail.com</a>&gt;<br>
Ok, I have now seen that "includ*" are given in isar-ref, both in the<br>
section 5.3 (Bundled declarations) and 12.3 (Lifting package).</p>
<p>This looks really useful, thanks to the Isabelle/devs !</p>
<p>-- Mathieu</p>



<a name="294278879"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20transfer%20when%20lifting_forget%20has%20be.../near/294278879" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20transfer.20when.20lifting_forget.20has.20be.2E.2E.2E.html#294278879">(Aug 19 2022 at 14:34)</a>:</h4>
<p>From: Mathieu Giorgino &lt;<a href="mailto:mathieu.giorgino@gmail.com">mathieu.giorgino@gmail.com</a>&gt;<br>
Hi all,</p>
<p>I am using the library "Library/FSet" and I wanted to add this missing<br>
lemma:</p>
<p>lemma fcard_fimage:"inj_on f (fset xs) ⟹ fcard (f |`| xs) = fcard xs"<br>
  by transfer (auto intro:card_image)</p>
<p>I still haven't digged in the details of Transfer and Lifting and don't<br>
know exactly how they work, and I have simply mimicked what was already<br>
done in FSet.</p>
<p>This lemma can easily be proved by using Transfer (as given above) as long<br>
as it is before the call "lifting_forget fset.lifting", ie once Lifting and<br>
Transfer have been un-setup for fset, which is totally expected. However, I<br>
haven't been able to restore the lifting bundle for FSet afterwards either<br>
using lifting_setup or lifting_update and I am then forced to either remove<br>
lifting_forget from FSet or add this lemma before it.</p>
<p>Is there a mean to restore the bundle, and if it is the case, how ?</p>
<p>Thanks,</p>
<p>-- Mathieu</p>



<a name="294278897"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20How%20to%20use%20transfer%20when%20lifting_forget%20has%20be.../near/294278897" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20How.20to.20use.20transfer.20when.20lifting_forget.20has.20be.2E.2E.2E.html#294278897">(Aug 19 2022 at 14:34)</a>:</h4>
<p>From: Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt;<br>
Hi Mathieu.<br>
Bundles can be imported by three different means:<br>
1)<br>
context<br>
includes fset.lifting<br>
begin<br>
...<br>
end<br>
2)<br>
lemma "..."<br>
proof -<br>
   include fset.lifting<br>
...<br>
qed<br>
3)<br>
lemma "..."<br>
apply ...<br>
including fset.lifting<br>
apply ...<br>
done</p>
<p>Your lemma can be proved for example like this:<br>
lemma fcard_fimage:"inj_on f (fset xs) ⟹ fcard (f |`| xs) = fcard xs"<br>
including fset.lifting by transfer (auto intro:card_image)</p>
<p>Best,<br>
Ondrej</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>