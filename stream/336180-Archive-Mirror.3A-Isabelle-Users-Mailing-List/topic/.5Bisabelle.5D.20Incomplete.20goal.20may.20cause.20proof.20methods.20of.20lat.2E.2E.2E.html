<html>
<head><meta charset="utf-8"><title>[isabelle] Incomplete goal may cause proof methods of lat... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html">[isabelle] Incomplete goal may cause proof methods of lat...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294273714"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273714" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273714">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Without reopening the “what is a bug” debate, I need to say that this sort of thing is inevitable with the approach taken by Isabelle/jEdit, in attempting to process everything, parsing errors and all. If you type in a syntactically incorrect proof, it tries to recover as best it can. In this case, it ignores the syntactically incorrect “show” command, causing the behaviour you observe. An alternative would be to silently insert “sorry” in order to complete the previous proof, preventing that behaviour but having other undesirable consequences.</p>
<p>The best overall approach to all such situations is to fix syntax errors as soon as they are flagged. If I am working on a proof and notice that processing power is being wasted processing some proof text down below, I delete or disable this material. Inserting “sorry” beforehand should always do the trick. Needless to say, your work isn't done until every “sorry” has been removed again.</p>
<p>Larry Paulson</p>



<a name="294273732"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273732" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273732">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
What I sometimes wished for (in interactive mode) was a way to limit the<br>
resources (in particular cpu-time) consumed by the proof tools. I almost<br>
never write proofs where a single method call takes longer than a<br>
second; so a single proof method which takes more than say 10s is a sure<br>
indication of a broken proof (for me). But this is of course hard to<br>
codify in a robust and system-independent manner ...</p>



<a name="294273762"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273762" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273762">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
IIRC, you have reported massive waste of CPU cycles and unresponsiveness <br>
before.</p>
<p>This can certainly happen, and the system could be smarter in the <br>
scheduling of tasks.  Such improvements are on the TODO list of <br>
improvements (neither "issues" nor "bugs") for several years.  The reason <br>
why it is still not done, is lack of priority: I simply don't see really <br>
bad effects so often.</p>
<p>Maybe it is just a problem of adjusting Isabelle multi-threading <br>
parameters to your hardware.  The above description sounds like you have <br>
either very few cores (only 2) or a lot of virtual cores (due to <br>
hyperthreading).</p>
<p>Makarius</p>



<a name="294273767"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273767" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273767">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
("Bug" is indeed a meangingless word, and I can't imagine anybody <br>
attaching that label to this thread.)</p>
<p>The general problem here is how to recover from errors (or <br>
non-termination) while the user is editing some unfinished proof text. <br>
(Really proof <em>text</em> and not proof <em>script</em> because we are in the lucky <br>
situation that Isar proofs have a lot of explicit structure.)</p>
<p>The current implementation is still very crude in this respect.  It does <br>
not even "try as best as it can". It merely ignores failed commands, and <br>
often makes a mess while bumping into later parts of the text.  An obvious <br>
approach is to take syntactic proof structure into account, using implicit <br>
'sorry' as sketched above (and in fact making 'sorry' obsolete for <br>
end-users).</p>
<p>This is not totally trivial, since a proof might be so broken that the <br>
system cannot guess its structure anymore.  So this important reform of <br>
the PIDE document model in that respect is related to proper indendation <br>
support in the editor, which is also lacking from the very start of <br>
Isabelle/jEdit.  (It will be probably also the notable point in history, <br>
where hard tabulators are discontinued as "blanks", because they make the <br>
indentation unclear.)</p>
<p>A few months before every release in the past 3 years, I routinely check <br>
if it is now feasible to open that can of interactive structured error <br>
recovery.  But again, I don't see it happining for the coming release, <br>
because so many changes in PIDE interaction have already accumulated that <br>
will take months to consolidate and polish.</p>
<p>Makarius</p>



<a name="294273790"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273790" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273790">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
I can't imagine a situation where I would like Isabelle/jEdit to recover <br>
from a syntax error by ignoring a single show command. I'd rather expect <br>
it to ignore everything from the syntax error until the next "save" <br>
place e.g. a theorem.</p>
<p>I'm also very much against the "insert a sorry" approach. I'd embrace an <br>
"oops" version discarding the last goal.</p>
<p>Best<br>
     Benedikt</p>



<a name="294273797"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273797" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273797">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Why this?  Proofs are conceptually irrelevant in various respects.  Local <br>
skips are done in many situations already, with increasing tendency in the <br>
past 7 years.</p>
<p>What is missing in the PIDE model is a global checkpoint to summarise the<br>
degree of "finishedness" of the overall project, or rather an overview of <br>
the inevitably unfinished parts.  Right now, users have to do this via <br>
eye-balling on the Theories dockable.</p>
<p>Makarius</p>



<a name="294273811"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273811" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273811">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
When inserting my previous example 6 times I get no feedback in the <br>
sixth version. (The first four loop the fifth yields feedback the sixth <br>
doesn't. I have two cores with four threads, I've set parallel proofs to <br>
two.)</p>
<p>I'd tag a single looping thread as undesirable and would understand <br>
tagging thins with "meaningless" words as artistic freedom.</p>
<p>I just reported this to make sure it's on such a list and maybe increase <br>
it's relative priority a little.</p>
<p>Best<br>
     Benedikt</p>



<a name="294273826"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273826" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273826">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Time limits indeed introduce erratic behaviour.  Nonetheless, I have <br>
something like this on my list of further improvements of PIDE document <br>
processing for a long time.  It might be even done in a manner of <br>
"iterative deepening", with 2-3 rounds of attempts to check some piece of <br>
text with increasing timeout.  Doing that with a few milliseconds in the <br>
first round might even have a big impact on overall reactivity of the <br>
proof checking game, although that is pure speculation at the moment.</p>
<p>Makarius</p>



<a name="294273842"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273842" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273842">(Aug 19 2022 at 14:07)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Am 22.04.14 14:15, schrieb Makarius:</p>
<blockquote>
<p>On Tue, 22 Apr 2014, bnord wrote:</p>
<blockquote>
<p>I'm also very much against the "insert a sorry" approach. I'd embrace <br>
an "oops" version discarding the last goal.</p>
</blockquote>
<p>Why this?<br>
Because they're insufficiently highlighted and not tracked through later <br>
proofs.<br>
  Proofs are conceptually irrelevant in various respects.  Local skips <br>
are done in many situations already, with increasing tendency in the <br>
past 7 years.</p>
<p>What is missing in the PIDE model is a global checkpoint to summarise the<br>
degree of "finishedness" of the overall project, or rather an overview <br>
of the inevitably unfinished parts.  Right now, users have to do this <br>
via eye-balling on the Theories dockable.</p>
<p>Makarius</p>
</blockquote>



<a name="294273893"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273893" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273893">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
So far this does not disprove my reasing.</p>
<p>Just the standard game:</p>
<p>* What is your hardware precisely?</p>
<p>* What is your operating system?</p>
<p>* What is your Isabelle version?</p>
<p>* What are your Isabelle options for "threads" and "parallel_proofs"?</p>
<p>Makarius</p>



<a name="294273916"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273916" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273916">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 22 Apr 2014, bnord wrote:</p>
<blockquote>
<p>Am 22.04.14 14:15, schrieb Makarius:</p>
<blockquote>
<p>On Tue, 22 Apr 2014, bnord wrote:</p>
<blockquote>
<p>I'm also very much against the "insert a sorry" approach. I'd embrace an <br>
 "oops" version discarding the last goal.</p>
</blockquote>
<p>Why this?<br>
Because they're insufficiently highlighted and not tracked through later <br>
proofs.</p>
</blockquote>
</blockquote>
<p>OK.  That is subsumed by:</p>
<blockquote>
<blockquote>
<p>What is missing in the PIDE model is a global checkpoint to summarise the<br>
 degree of "finishedness" of the overall project</p>
</blockquote>
</blockquote>
<p>Makarius</p>



<a name="294273927"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273927" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273927">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Am 22.04.14 14:28, schrieb Makarius:</p>
<blockquote>
<p>So far this does not disprove my reasing.<br>
Wasn't meant to disprove anything.</p>
<p>Just the standard game:</p>
<p>* What is your hardware precisely?<br>
Macbook Pro with 2.4GHz Core i5 (2 Cores with 4 Threads) and 8GB of Ram<br>
  * What is your operating system?<br>
OS X 10.9.2<br>
  * What is your Isabelle version?<br>
2013_2<br>
  * What are your Isabelle options for "threads" and "parallel_proofs"?<br>
0 and 2<br>
    Makarius</p>
</blockquote>



<a name="294273935"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273935" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273935">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That is a relatively weak CPU, but Intel makes it appear stronger via <br>
hyperthreading, thus it gets somewhat overloaded and burns a lot of CPU <br>
cycles (literally, by turning them into heat).</p>
<p>So lets try the following parameters:</p>
<p>threads = 2</p>
<p>and in $ISABELLE_HOME_USER/etc/settings:</p>
<p>ML_OPTIONS="-H 500 --gcthreads 2"</p>
<p>This requires a "reboot" of Isabelle.</p>
<p>The above will be morally the default in the next Isabelle release, <br>
because David Matthews now uses explicit information about virtual CPU <br>
cores.</p>
<p>For mobile systems it could also make sense to use only half of the number <br>
of real CPU cores, although for 2 cores that gives an unexciting 1 with<br>
quite different interactive behaviour in sequential mode.</p>
<p>Makarius</p>



<a name="294273947"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273947" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273947">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Thanks, this helped with the responsiveness.</p>



<a name="294273957"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273957" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273957">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
You have now often recommended reducing the number of threads to the<br>
number of real physical cores. Does this hold for interactive mode only?<br>
Because on my machine (a quadcore with 8 virtual cores), there are<br>
several theories in the AFP with a speedup factor around 5 or even 6; so<br>
at least raw throughput sometimes profits from the virtual cores on<br>
Isabelle workload.</p>
<p>-- Lars</p>



<a name="294273979"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294273979" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294273979">(Aug 19 2022 at 14:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I also do systematic "overburning" of CPU cycles in batch mode, it gives <br>
me (real) warp factor 9.6 for 8 real cores (Intel Xeon from 2009) -- <br>
hyperthreading actually has a purpose.  Concerning the "factor" one needs <br>
to be careful, though: the figure given in Isabelle build on the spot is <br>
merely the relative burn-factor of CPU cycles, and that is a quite <br>
distorted version of the true speed-up factor compared to sequential mode.</p>
<p>So yes, one could probably make this a general rule of thumb: interactive <br>
mode refers to physical CPU cores and batch more to the maximum number of <br>
virtual CPU cores, even more.</p>
<p>I usually get that effect by having the persistent default options as <br>
described before, which will be also the default in the next release. <br>
For batch builds I then give a generous -j4 to the implicit -o threads=4. <br>
In this "4x4" mode (which means "4-wheel drive" in French), I get the <br>
"sound of speed" in my office from the CPU fans, and Isabelle + AFP built <br>
quite fast.</p>
<p>Makarius</p>



<a name="294274091"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274091" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274091">(Aug 19 2022 at 14:09)</a>:</h4>
<p>From: Thomas Sewell &lt;<a href="mailto:thomas.sewell@nicta.com.au">thomas.sewell@nicta.com.au</a>&gt;<br>
I'd just like to add that this problem can be compounded by some other <br>
issues, such as one we mentioned before where a diverging "blast" can <br>
slow down jEdit. On rare occasions I've had to go hunting for blasts and <br>
fastforces in the future part of my theory just to get enough CPU back <br>
to work on the problem I have.</p>
<p>Not sure what else to say about it, but if some improvement to the <br>
prioritising of these speculative calculations could be made, I'd be all <br>
for it.</p>
<p>Cheers,<br>
     Thomas.</p>



<a name="294274108"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274108" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274108">(Aug 19 2022 at 14:09)</a>:</h4>
<p>From: "Yannick Duchêne (Hibou57 )" &lt;<a href="mailto:yannick_duchene@yahoo.fr">yannick_duchene@yahoo.fr</a>&gt;<br>
I remember Coq has a different way to handle this: there are explicit  <br>
forward and backward (in proof state) commands. The processed part of a  <br>
proof is not editable and one have to go backward to edit it, then go  <br>
forward again and resume up to the last proof statement. This is sometime  <br>
tedious, while clean.</p>
<p>That's a way too much different compared to what Isabelle users are  <br>
accustomed to. Personally, it happens I think about the Coq way when I  <br>
feel Isabelle process too much of invalid text during editing, while in  <br>
other cases, I enjoy the reactivity of feedback from Isabelle while  <br>
editing.</p>
<p>May be an idea could be to have a keystroke to quickly enable/disable  <br>
“Continuous checking”… a keystroke, so that this would remain handy while  <br>
editing: no need to leave the keyboard to go from and to the mouse to  <br>
check/uncheck the option and no need to have the theories panel always  <br>
visible (otherwise needed, as the option is located on this panel).</p>



<a name="294274121"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274121" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274121">(Aug 19 2022 at 14:09)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
You seem to be describing Proof General, which is still available for Isabelle, but no longer supported. </p>
<p>We have to live with the problems of a radically new interaction paradigm that’s still being fleshed out. Maple, for example, offers a superficially similar document model, but you can’t tell whether what you are looking at has been evaluated or not, and even Maple itself doesn’t seem to know. That approach is efficient but has many of its own limitations.</p>
<p>Larry Paulson</p>



<a name="294274134"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274134" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274134">(Aug 19 2022 at 14:09)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 23.04.2014 05:27, Yannick Duchêne (Hibou57) wrote:</p>
<blockquote>
<p>I remember Coq has a different way to handle this: there are explicit<br>
forward and backward (in proof state) commands. The processed part of<br>
a proof is not editable and one have to go backward to edit it, then<br>
go forward again and resume up to the last proof statement. This is<br>
sometime tedious, while clean.<br>
This is the classic way of Proof General, which also was the main<br>
Isabelle UI till ~3 years ago.</p>
<p>May be an idea could be to have a keystroke to quickly enable/disable<br>
“Continuous checking”… a keystroke, so that this would remain handy<br>
while editing: no need to leave the keyboard to go from and to the<br>
mouse to check/uncheck the option and no need to have the theories<br>
panel always visible (otherwise needed, as the option is located on<br>
this panel).<br>
In 2013-2, this is bound to C+e ENTER.</p>
</blockquote>
<p>BTW, there are many actions in the Isabelle plugin which can be<br>
potentially bound to a shortcut, but aren't by default. To see them, go to</p>
<p>Utilities / Global Options / jEdit / Shortcuts</p>
<p>and select "Plugin: Isabelle" in the "Edit Shortcuts" dropdown.</p>
<p>-- Lars</p>



<a name="294274215"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274215" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274215">(Aug 19 2022 at 14:10)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Funny that you see the difference of Coq vs. Isabelle today like that, as <br>
someone who did not know Isabelle about 3 years ago, when Proof General <br>
was still the default.</p>
<p>In 1998, David Aspinall started an important pan-European prover interface <br>
project called "Proof General".  He asked several prover experts to help <br>
him connect their particular system to that still emerging and <br>
revolutionary front-end.  I was the one to do the Isabelle/Isar <br>
connection, when Isar itself was just about to emerge.</p>
<p>Note that "... while clean" above does not really apply, especially for <br>
Coq.  The real prover syntax is too complex for Proof General and its <br>
modest elisp code to guess what the text means to the prover process. <br>
The Coq toplevel also has some legacy operations from the pre-Proof <br>
General era that make this harder than in Isabelle, and some Coq users are <br>
actually still using the TTY loop (which normally does not happen for <br>
Isabelle, because the Isar language makes this hard).</p>
<p>15 years ago there were also various internal discussions about the key <br>
concepts how the prover front-end and back-end processes should <br>
communicate, and certain fundamental limitations were already <br>
well-understood, imposed by accidental side-conditions of existing <br>
provers and the Emacs LISP machine.</p>
<p>Much of that is forgotten to outsiders now, and many Proof General users <br>
think of it as something that has to be exactly like it is, because they <br>
have never seen anything else.  This lack of imagination and stagnation is <br>
escpecially frustrating for me when I see the Proof General clone n + 1, <br>
with excactly the same limitations, and just some change in colors and <br>
icons.</p>
<p>The PIDE project came out of this more about 6 years ago, and it has <br>
required a bit longer than expected to make it all ready for prime time. <br>
Today it is hard to imagine anybody still using Isabelle Proof General, <br>
and de-facto there has been nobody else maintaining it for about 3 years.</p>
<p>Makarius</p>



<a name="294274236"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294274236" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294274236">(Aug 19 2022 at 14:10)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That is unrealated to thread scheduling.  It is merely the oldest trick <br>
that tools can play on the front-end to bomb it, by emitting vast amounts <br>
of "potentially useful" tracing information.</p>
<p>That is already resolved for the coming release, see also<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2013-December/msg00138.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2013-December/msg00138.html</a><br>
<a href="https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2013-December/004919.html">https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2013-December/004919.html</a></p>
<p>A prover that is running efficiently on more and more cores poses extra <br>
challenges on the front-end.  But even with single-threaded Proof General, <br>
the danger had been there all the time.  When I discovered an easy <br>
workaround with "nice" on Unix in 2006, it was too late: the single-core <br>
era had already ended and that crude process priority trick was useless, <br>
except on my last 1-core laptop.</p>
<p>Makarius</p>



<a name="294276740"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Incomplete%20goal%20may%20cause%20proof%20methods%20of%20lat.../near/294276740" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Incomplete.20goal.20may.20cause.20proof.20methods.20of.20lat.2E.2E.2E.html#294276740">(Aug 19 2022 at 14:24)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
I'd expect the following issue to be well known but didn't find it in <br>
the "known issues".</p>
<p>When inserting a new goal (have ...) into a proof, proof methods <br>
belonging to later goals seem to be applied wrongly sometimes causing <br>
them to loop and make my PC noisy after a while. ;)</p>
<p>Here's a small example:</p>
<p>lemma assumes "m ∈ M" and "M ⊆ N" shows "m ∈ N" proof -<br>
have P(* incomplete goal *)<br>
show "m ∈ N" using assms by (metis in_mono) (* loops *)<br>
qed</p>
<p>The "show" already produces a syntax error but the later "by" is applied <br>
anyhow yet to the wrong goal causing it to loop.</p>
<p>A student of mine is highly skilled in producing such situations in many <br>
theorems simultaneously causing the editor to become very unresponsive.</p>
<p>Best Benedikt</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>