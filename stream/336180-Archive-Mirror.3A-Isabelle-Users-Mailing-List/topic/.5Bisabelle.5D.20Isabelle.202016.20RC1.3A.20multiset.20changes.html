<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle 2016 RC1: multiset changes · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html">[isabelle] Isabelle 2016 RC1: multiset changes</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294662430"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662430" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662430">(Aug 22 2022 at 12:13)</a>:</h4>
<p>From: Bertram Felgenhauer via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hi,</p>
<p>in commit f8a513fedb31, multiset inclusion was changed from an instance<br>
of order to a set of custom orders. I'm wondering why this was done.<br>
(This is not a complaint, but I didn't find any discussion about this.)</p>
<p>I noticed that the NEWS entry mentions that \&lt;subset&gt; and \&lt;subseteq&gt;<br>
were changed to \&lt;subset&gt;# and \&lt;subseteq&gt;#; I believe the former<br>
should be #\&lt;subset&gt;# and #\&lt;subseteq&gt;#.</p>
<p>Would it be possible to add abbreviations &gt;#, &gt;=# and \&lt;ge&gt;# corresponding<br>
to the existing (in Isabelle 2015) abbreviations &gt;, &gt;= and \&lt;ge&gt; for ord?</p>
<p>Cheers,</p>
<p>Bertram</p>



<a name="294662455"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662455" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662455">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Fleury Mathias &lt;<a href="mailto:mathias.fleury12@gmail.com">mathias.fleury12@gmail.com</a>&gt;<br>
Hi Bertram,</p>
<p>2016-01-20 15:52 GMT+01:00 Bertram Felgenhauer via Cl-isabelle-users &lt;<br>
<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;:</p>
<blockquote>
<p>Hi,</p>
<p>in commit f8a513fedb31, multiset inclusion was changed from an instance<br>
of order to a set of custom orders. I'm wondering why this was done.<br>
(This is not a complaint, but I didn't find any discussion about this.)<br>
</p>
</blockquote>
<p>There were some discussions 10 months ago:<br>
<a href="http://fa.isabelle.narkive.com/Lv0NWbCa/isabelle-multiset-ordering-vs-subset-syntax">http://fa.isabelle.narkive.com/Lv0NWbCa/isabelle-multiset-ordering-vs-subset-syntax</a><br>
&lt;<a href="http://fa.isabelle.narkive.com/Lv0NWbCa/isabelle-multiset-ordering-vs-subset-syntax">http://fa.isabelle.narkive.com/Lv0NWbCa/isabelle-multiset-ordering-vs-subset-syntax</a>&gt;</p>
<blockquote>
<p>I noticed that the NEWS entry mentions that \&lt;subset&gt; and \&lt;subseteq&gt;<br>
were changed to \&lt;subset&gt;# and \&lt;subseteq&gt;#; I believe the former<br>
should be #\&lt;subset&gt;# and #\&lt;subseteq&gt;#.<br>
</p>
</blockquote>
<p>So far, there are two different orders over multisets: the multiset<br>
inclusion (Isabelle2015: ⊂, Isabelle2016: ⊂#) and the multiset ordering<br>
 (since Isabelle2015: #⊂#). The long-term goal is to swap the symbols: ⊂<br>
should be the multiset ordering and not as previously the multiset<br>
inclusion. We did not want to swap the two ordering in a single release<br>
(too hard for users).</p>
<blockquote>
<p>Would it be possible to add abbreviations &gt;#, &gt;=# and \&lt;ge&gt;# corresponding<br>
to the existing (in Isabelle 2015) abbreviations &gt;, &gt;= and \&lt;ge&gt; for ord?</p>
</blockquote>
<p>You can re-instantiate the multiset to be of sort ord (see for example<br>
~~/src/HOL/UNITY/Follows.thy where this is done for the multiset ordering).<br>
However, I do not think that introducing abbreviations would be a good idea<br>
(issues would appear after the next release).</p>
<p>Cheers,<br>
Mathias</p>
<blockquote>
<p>Cheers,</p>
<p>Bertram</p>
</blockquote>



<a name="294662494"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662494" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662494">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Fleury Mathias &lt;<a href="mailto:mathias.fleury12@gmail.com">mathias.fleury12@gmail.com</a>&gt;<br>
Hi Bertram,</p>
<p>I am sorry I misread your second question.</p>
<p>To be more clear about the symbols (in red the changes compared to previous year):</p>
<p>multiset inclusion    multiset ordering<br>
2014         &lt;  and ⊂                   &lt;# and  ⊂#<br>
2015         &lt; and ⊂                    #&lt;# and #⊂#<br>
2016        &lt;# and ⊂#                #&lt;# and #⊂#<br>
2016.1     &lt;# and ⊂#                 &lt; and ⊂  (expected)</p>
<p>So it is not a mistake in the NEWS file.</p>
<p>About your second question, it is an oversight: we completely forget the &gt; symbols. Jasmin will add them soon (before the next RC).</p>
<p>Sorry about my misreading,<br>
Mathias</p>



<a name="294662513"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662513" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662513">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Bertram Felgenhauer via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Hi Matthias,</p>
<p>Thanks for your reply. I had not found the earlier discussion in my<br>
search (I only checked back to May 2015; I should have dug a little<br>
deeper). So the motivation for the change is to make the multiset<br>
extension of an order on the elements the standard order for multisets.</p>
<blockquote>
<blockquote>
<p>I noticed that the NEWS entry mentions that \&lt;subset&gt; and \&lt;subseteq&gt;<br>
were changed to \&lt;subset&gt;# and \&lt;subseteq&gt;#; I believe the former<br>
should be #\&lt;subset&gt;# and #\&lt;subseteq&gt;#.</p>
</blockquote>
</blockquote>
<p>My mistake, \&lt;subset&gt;# is just an alias for &lt;#... so perhaps the former<br>
two symbols should be &lt; and \&lt;ge&gt;. The point is that \&lt;subset&gt; and<br>
\&lt;subseteq&gt; do not work for multisets in Isabelle2015; they are<br>
restricted to sets. This also applies to your next paragraph:</p>
<blockquote>
<p>So far, there are two different orders over multisets: the multiset<br>
inclusion (Isabelle2015: ⊂, Isabelle2016: ⊂#) and the multiset ordering<br>
 (since Isabelle2015: #⊂#). The long-term goal is to swap the symbols: ⊂<br>
should be the multiset ordering and not as previously the multiset<br>
inclusion. We did not want to swap the two ordering in a single release<br>
(too hard for users).</p>
</blockquote>
<blockquote>
<blockquote>
<p>Would it be possible to add abbreviations &gt;#, &gt;=# and \&lt;ge&gt;# corresponding<br>
to the existing (in Isabelle 2015) abbreviations &gt;, &gt;= and \&lt;ge&gt; for ord?</p>
</blockquote>
<p>You can re-instantiate the multiset to be of sort ord (see for example<br>
~~/src/HOL/UNITY/Follows.thy where this is done for the multiset ordering).<br>
However, I do not think that introducing abbreviations would be a good idea<br>
(issues would appear after the next release).</p>
</blockquote>
<p>What are those issues? As far as I understand, the relations &lt;#, &lt;=#<br>
and \&lt;le&gt;# will not be touched again. To be clear, I'm talking about<br>
adding</p>
<p>abbreviation (input)<br>
  supseteq_mset (infix "&gt;#" 50)<br>
  where "x &gt;# y == y &lt;# x"</p>
<p>etc.</p>
<p>Cheers,</p>
<p>Bertram</p>



<a name="294662521"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662521" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662521">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@inria.fr">jasmin.blanchette@inria.fr</a>&gt;<br>
Hi Bertram,</p>
<p>I'll take over, together with Mathias, to avoid further confusion (hopefully). ;)</p>
<blockquote>
<p>So the motivation for the change is to make the multiset extension of an order on the elements the standard order for multisets.</p>
</blockquote>
<p>That's the main motivation, to allow nested multiset orders gracefully, among others. In addition, several people found the old (pre-Isabelle2014) notations confusing (especially \&lt;subset&gt;# for the multiset order).</p>
<blockquote>
<p>My mistake, \&lt;subset&gt;# is just an alias for &lt;#... so perhaps the former<br>
two symbols should be &lt; and \&lt;ge&gt;.</p>
</blockquote>
<p>(We don't entirely understand the last part of this sentence. "Former" and "should be" can mean many things.)</p>
<blockquote>
<p>The point is that \&lt;subset&gt; and \&lt;subseteq&gt; do not work for multisets in Isabelle2015;</p>
</blockquote>
<p>We take this as meaning that the NEWS item is wrong. Indeed, it refers to some operators that don't exist in Isabelle2015. This will be fixed in the next release candidate.</p>
<blockquote>
<blockquote>
<p>You can re-instantiate the multiset to be of sort ord (see for example<br>
~~/src/HOL/UNITY/Follows.thy where this is done for the multiset ordering).<br>
However, I do not think that introducing abbreviations would be a good idea<br>
(issues would appear after the next release).</p>
</blockquote>
<p>What are those issues? As far as I understand, the relations &lt;#, &lt;=#<br>
and \&lt;le&gt;# will not be touched again. To be clear, I'm talking about<br>
adding</p>
</blockquote>
<p>See Mathias's second email.</p>
<p>Unfortunately, his little table, which we had concocted together based on our recollection, was slightly wrong. Here is an updated one.</p>
<p>multiset inclusion    multiset ordering<br>
2014                    &lt;                     &lt;# ⊂#<br>
2015                    ⊂# &lt;# &lt;               #&lt;# #⊂#<br>
2016                    ⊂# &lt;#                 #&lt;# #⊂#<br>
2016-1 (expected)       ⊂# (and &lt;#?)          &lt;</p>
<p>I hope this clears up the confusion. One of our goals is that people who know what &lt; and \&lt;subset&gt; mean for sets can reuse that knowledge with multisets, but with the usual # suffix.</p>
<p>Cheers,</p>
<p>Jasmin &amp; Mathias</p>



<a name="294662562"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%202016%20RC1%3A%20multiset%20changes/near/294662562" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.202016.20RC1.3A.20multiset.20changes.html#294662562">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Bertram Felgenhauer via Cl-isabelle-users &lt;<a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>
Jasmin Blanchette wrote:<br>
Thanks for the clarification, and also for adding the superset<br>
versions of &lt;# and ⊂# (in ad43b3ab06e4)!</p>
<p>Cheers,</p>
<p>Bertram</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>