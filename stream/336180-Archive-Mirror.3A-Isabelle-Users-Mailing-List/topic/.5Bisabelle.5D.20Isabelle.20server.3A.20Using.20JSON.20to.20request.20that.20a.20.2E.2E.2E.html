<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle server: Using JSON to request that a ... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.20server.3A.20Using.20JSON.20to.20request.20that.20a.20.2E.2E.2E.html">[isabelle] Isabelle server: Using JSON to request that a ...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294760253"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%20server%3A%20Using%20JSON%20to%20request%20that%20a%20.../near/294760253" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.20server.3A.20Using.20JSON.20to.20request.20that.20a.20.2E.2E.2E.html#294760253">(Aug 22 2022 at 20:13)</a>:</h4>
<p>From: Yakoub Nemouchi &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
Dear users(ccing other interested users),</p>
<p>I am trying to use Isabelle client to talk to Isabelle server. I want to<br>
send a JSON request to Isabelle server saying  that a given top-level<br>
command in my theory was edited.</p>
<p>What is the corresponding JSON request? I imagine, to do such a request, I<br>
need the Isabelle server command that somehow takes as argument the ID of<br>
the top-level command !</p>
<p>In the sequel is a successfully tested example  from<br>
<a href="https://sketis.net/2018/the-isabelle-server-responsive-control-of-prover-sessions">https://sketis.net/2018/the-isabelle-server-responsive-control-of-prover-sessions</a></p>
<p>Best wishes,</p>
<p>Yakoub</p>
<p><strong><em><strong><em><strong><em><strong><em>EXAMPLE</em></strong></em></strong></em></strong></em></strong><strong>*</strong>*<br>
isabelle client<br>
server "isabelle" = 127.0.0.1:34329 (password<br>
"e64b1abe-1b8a-4c61-b4c5-fbe7eb04b350")<br>
OK {"isabelle_id":"91162dd89571","isabelle_version":"Isabelle2018: August<br>
2018"}<br>
session_start {"session": "HOL"}<br>
OK {"task":"8b1d25b4-dc1e-420d-b377-72d419fdded0"}<br>
NOTE {"kind":"writeln","message":"Starting HOL<br>
...","task":"8b1d25b4-dc1e-420d-b377-72d419fdded0"}<br>
177<br>
FINISHED<br>
{"session_id":"b11041f2-ac33-43c0-94ac-715d6f26fd41","tmp_dir":"/tmp/isabelle-yakoubn/server_session1411428207973312821","task":"8b1d25b4-dc1e-420d-b377-72d419fdded0"}<br>
use_theories {"session_id": "b11041f2-ac33-43c0-94ac-715d6f26fd41",<br>
"theories":["~~/src/HOL/ex/Seq"]}<br>
OK {"task":"70b9abee-bfa2-428c-b8b2-b5b08119be0c"}<br>
133<br>
NOTE<br>
{"task":"70b9abee-bfa2-428c-b8b2-b5b08119be0c","session":"","theory":"Draft.Seq","message":"theory<br>
Draft.Seq","kind":"writeln"}<br>
838<br>
FINISHED<br>
{"ok":true,"errors":[],"nodes":[{"messages":[{"kind":"writeln","message":"Found<br>
termination order: \"(\\&lt;lambda&gt;p. size (fst p)) &lt;<em>mlex</em>&gt;<br>
{}\"","pos":{"line":13,"offset":163,"end_offset":166,"file":"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy"}},{"kind":"writeln","message":"Found<br>
termination order: \"size &lt;<em>mlex</em>&gt;<br>
{}\"","pos":{"line":18,"offset":276,"end_offset":279,"file":"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy"}}],"theory_name":"Draft.Seq","node_name":"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy","exports":[],"status":{"unprocessed":0,"initialized":true,"running":0,"finished":29,"failed":0,"total":29,"consolidated":true,"ok":true,"warned":0}}],"task":"70b9abee-bfa2-428c-b8b2-b5b08119be0c"}<br>
session_stop {"session_id":"70b9abee-bfa2-428c-b8b2-b5b08119be0c"}<br>
OK {"task":"4f792742-0f98-4b94-bc63-c048bc9e3d82"}<br>
132<br>
FAILED {"kind":"error","message":"No session<br>
'70b9abee-bfa2-428c-b8b2-b5b08119be0c'","task":"4f792742-0f98-4b94-bc63-c048bc9e3d82"}<br>
session_stop {"session_id":"b11041f2-ac33-43c0-94ac-715d6f26fd41"}<br>
OK {"task":"3330a613-28cd-4d17-aa70-d42a15ee0575"}<br>
FINISHED<br>
{"ok":true,"return_code":0,"task":"3330a613-28cd-4d17-aa70-d42a15ee0575"}<br>
shutdown<br>
OK</p>



<a name="294760584"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%20server%3A%20Using%20JSON%20to%20request%20that%20a%20.../near/294760584" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.20server.3A.20Using.20JSON.20to.20request.20that.20a.20.2E.2E.2E.html#294760584">(Aug 22 2022 at 20:15)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
As explained in the documentation ("system" manual chapter 4), the<br>
Isabelle server takes document content from the file-system, e.g. a<br>
temporary directory provided by the session context. PIDE edits are<br>
derived from that for each use_theories protocol command (section 4.4.8).</p>
<p>Fine-grained PIDE command IDs are not directly involved here. The server<br>
protocol imitates old-style REPL interaction in some sense.</p>
<p>Makarius</p>



<a name="294760628"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%20server%3A%20Using%20JSON%20to%20request%20that%20a%20.../near/294760628" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.20server.3A.20Using.20JSON.20to.20request.20that.20a.20.2E.2E.2E.html#294760628">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Yakoub Nemouchi &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
I thought that Isabelle server is the future for developing Isabelle apps<br>
in a very clean way.<br>
But, if it does not support all the features of PIDE protocol, it does not<br>
make sens to me to use it now!<br>
Maybe it is too early to start using it.<br>
Any further development in the future for Isabelle server or it is meant<br>
for something else?</p>
<p>I have one more question, will the usage of the non fine grained command<br>
"use_theories" affect the the performance of the application?<br>
How scalable it is with regard the fine grained PIDE commands?<br>
The amazing feature of Isabelle is its parallel infrastructure and fine<br>
grained PIDE protocol commands allows to take full advantage of that.<br>
What is the best way to use "use_theories"  to take advantage of the<br>
parallel infrastructure of Isabelle?</p>
<p>It is very important to me to have some numbers on "use_theories", and know<br>
its limitations, in order I take the right decision to develop my next<br>
application.</p>
<p>Best wishes,</p>
<p>Yakoub.</p>



<a name="294760645"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle%20server%3A%20Using%20JSON%20to%20request%20that%20a%20.../near/294760645" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.20server.3A.20Using.20JSON.20to.20request.20that.20a.20.2E.2E.2E.html#294760645">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 15/07/2019 11:52, Yakoub Nemouchi wrote:</p>
<blockquote>
<p>I thought that Isabelle server is the future for developing Isabelle<br>
apps in a very clean way.<br>
But, if it does not support all the features of PIDE protocol, it does<br>
not make sens to me to use it now!<br>
Maybe it is too early to start using it.<br>
Any further development in the future for Isabelle server or it is meant<br>
for something else?</p>
</blockquote>
<p>Have you studied the documentation ("system" manual chapter 4)?</p>
<p>The server does support full PIDE, but presents it in a more<br>
conventional way, with a directory of your choice as local scratchpad.<br>
The main PIDE application (Isabelle/jEdit) does that on its own account,<br>
using the builtin file-system view of the jEdit text editor (which is by<br>
itself not an IDE).</p>
<blockquote>
<p>I have one more question, will the usage of the non fine grained command<br>
"use_theories" affect the the performance of the application?</p>
</blockquote>
<p>It depends how you do it. You can present the server updated files and<br>
repeated use_theories protocol commands. The headless PIDE session<br>
should do the right thing about it, i.e. derive edits from the implicit<br>
change of files and re-check what needs to be re-checked, in the same<br>
manner.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>