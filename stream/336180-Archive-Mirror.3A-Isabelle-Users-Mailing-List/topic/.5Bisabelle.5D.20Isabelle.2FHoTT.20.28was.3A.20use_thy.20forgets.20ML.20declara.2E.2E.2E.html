<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle/HoTT (was: use_thy forgets ML declara... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html">[isabelle] Isabelle/HoTT (was: use_thy forgets ML declara...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294739950"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/HoTT%20%28was%3A%20use_thy%20forgets%20ML%20declara.../near/294739950" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html#294739950">(Aug 22 2022 at 17:59)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Great to see such work.</p>
<p>Note that Isabelle/HOL is just one (big and important) library in<br>
Isabelle. Other libraries can be done at any time, without requiring<br>
mutation of the system: it is sufficiently flexible by design.</p>
<p>Historically, one of the first Isabelle applications was actually<br>
Martin-Löf Type Theory (in an early version): see Isabelle/CTT.</p>
<p>Makarius</p>



<a name="294739979"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/HoTT%20%28was%3A%20use_thy%20forgets%20ML%20declara.../near/294739979" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html#294739979">(Aug 22 2022 at 17:59)</a>:</h4>
<p>From: Dominique Unruh &lt;<a href="mailto:unruh@ut.ee">unruh@ut.ee</a>&gt;<br>
Hi,</p>
<p>I have been wondering about how well Isabelle can be used for reasoning<br>
using type theory.<br>
Of course, it is possible in principle as Isabelle/CTT shows.<br>
But looking at Isabelle/CTT, I see that typing judgments are encoded as<br>
assumptions of axioms/lemmas<br>
(instead of being handled by the Isabelle core as in Isabelle/HOL).<br>
I see now way around this because the type system integrated in the<br>
Isabelle core does not support dependent types.</p>
<p>I wonder how well this can be used in practice?<br>
For example, pattern matching (e.g. in simp, or simply in rule) in HOL will<br>
automatically check/instantiate all types.<br>
But if type judgments are propositions, this needs to be handled using<br>
explicit subgoals.<br>
(For comparison: type classes are integrated into the Isabelle core even<br>
though it would, as far as I can see, be totally fine to just use a single<br>
sort and add preconditions of the form "bla_class TYPE('a)" to all lemmas.<br>
But I would expect that this is much more cumbersome. Yet this is what we<br>
essentially do in Isabelle/CTT.)</p>
<p>Now, I haven't used Isabelle/CTT myself, so I may be overestimating the<br>
difficulties arising from the above.<br>
But my feeling is that it will be difficult to get a nicely usable system<br>
(comparable to what we can do in Isabelle/HOL).</p>
<p>Does anyone have experiences in this direction? I would be interested in<br>
hearing about them (especially if I'm wrong :) ).</p>
<p>Best wishes,<br>
Dominique.</p>



<a name="294740005"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/HoTT%20%28was%3A%20use_thy%20forgets%20ML%20declara.../near/294740005" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html#294740005">(Aug 22 2022 at 17:59)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 17/08/18 15:47, Dominique Unruh wrote:</p>
<blockquote>
<p>I have been wondering about how well Isabelle can be used for reasoning<br>
using type theory.<br>
Of course, it is possible in principle as Isabelle/CTT shows.<br>
But looking at Isabelle/CTT, I see that typing judgments are encoded as<br>
assumptions of axioms/lemmas<br>
(instead of being handled by the Isabelle core as in Isabelle/HOL).<br>
I see now way around this because the type system integrated in the<br>
Isabelle core does not support dependent types.</p>
</blockquote>
<p>Isabelle/Pure was invented to support dependent types, but they are<br>
formally just terms. The types of Pure are just abstract syntactic<br>
categories: it is merely accidental that HOL uses these directly as types.</p>
<blockquote>
<p>I wonder how well this can be used in practice?<br>
For example, pattern matching (e.g. in simp, or simply in rule) in HOL will<br>
automatically check/instantiate all types.<br>
But if type judgments are propositions, this needs to be handled using<br>
explicit subgoals.</p>
</blockquote>
<p>This touches old questions about "soft type systems" in Isabelle/Pure.<br>
More than 10 years ago, I have added explicit programming interfaces for<br>
that, but they are not yet used as ambitiously as the idea behind it.</p>
<p>Since John Harrison has recently proclaimed (again) that we should "make<br>
set theory great again" <a href="http://aitp-conference.org/2018/slides/JH.pdf">http://aitp-conference.org/2018/slides/JH.pdf</a><br>
some colleagues have started to re-open such obvious issues.</p>
<p>In the same line of thought, I have recently proposed to develop<br>
something for set-theory that is analogous to TypeScript as soft<br>
type-system over JavaScript:<br>
<a href="https://sketis.net/2018/isabelle-vscode-and-the-language-server-protocol-at-curry-club-augsburg">https://sketis.net/2018/isabelle-vscode-and-the-language-server-protocol-at-curry-club-augsburg</a></p>
<p>See page 3 of the Slides, minute 6:20 in the Video (in German); there is<br>
also a brief discussion concerning HoTT.</p>
<p>Makarius</p>



<a name="294740021"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/HoTT%20%28was%3A%20use_thy%20forgets%20ML%20declara.../near/294740021" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html#294740021">(Aug 22 2022 at 17:59)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I'm the author of Isabelle/CTT, and I see it is adhering to the spirit of Martin-Löf's original calculus. He didn't imagine any "core" to deal with types, which in any case, play the role of logical formulas and therefore cannot be dealt with automatically.</p>
<p>It's clear that modern type theory systems implement a lot of support for the types that behave like types, to such an extent that the idea of propositions as types is somewhat obscured. This seems to be necessary in order to cope with proofs of reasonable size. Nothing has been done with Isabelle CTT since 1986 or so, so there is a lot of catching up to do.<br>
Larry</p>



<a name="294740462"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/HoTT%20%28was%3A%20use_thy%20forgets%20ML%20declara.../near/294740462" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FHoTT.20.28was.3A.20use_thy.20forgets.20ML.20declara.2E.2E.2E.html#294740462">(Aug 22 2022 at 18:02)</a>:</h4>
<p>From: Joshua Chen &lt;<a href="mailto:joshua.chen@uni-bonn.de">joshua.chen@uni-bonn.de</a>&gt;<br>
I'm the author of the previously-mentioned HoTT object <br>
logic, and though I'm still quite unfamiliar with many <br>
aspects of both HoTT and Isabelle I thought I could share <br>
what I've found so far.</p>
<p>The state of things is just about as you describe: due to <br>
the lack of native support for dependent types we cannot <br>
embed the HoTT types on the meta-level, hence everything <br>
has to be on the object level.<br>
This means that every term appearing in a statement does <br>
indeed yield typing judgments which need to be proved <br>
explicitly as ancillary subgoals, cluttering the goal <br>
state.<br>
In the current version of my HoTT logic, this issue is <br>
alleviated slightly with somewhat rudimentary Eisbach <br>
methods that are able to perform type inference for most <br>
of the simpler cases, although one must still call such <br>
methods explicitly.<br>
But this means one can usually focus on proving the core <br>
subgoals, leaving the ancillary typing subgoals to the end <br>
to be taken care of automatically.<br>
Isabelle/CTT handles such type inferences in a very <br>
similar manner, there things are sometimes easier due to <br>
extensionality of equality and the lack of universe types.</p>
<p>An interesting difficulty for HoTT that I've faced arises <br>
in relation to proving inhabitation of a type.<br>
If one already knows from "paper" work the form of such a <br>
proof term, this is usually straightforward.<br>
However arguably much of the utility of a proof assistant <br>
arises from its aid in deriving such a proof term in the <br>
first place, and as far as I can tell the only way to do <br>
this is with <code>schematic_goal</code>.<br>
Such derivations often require fixing specific variables <br>
in order to apply an instantiated elimination rule, while <br>
ensuring the variable we want to derive for stays <br>
schematic, in order to continue derivation in a <br>
"sub-schematic goal".<br>
But so far I have not been able to find a way to do this; <br>
we cannot nest <code>schematic_goal</code> commands, nor does <br>
<code>subgoal</code> help because it converts all schematic variables <br>
to fixed free variables.</p>
<p>It's certainly safe to say that using any of the type <br>
theory object logics will at this stage not be as smooth <br>
as using Isabelle/HOL, though I would hope at some point <br>
to see how to write better methods to interface more <br>
directly with the ML and make the proof process in HoTT <br>
easier.</p>
<p>Still very much a work in progress! :)</p>
<p>Best wishes,<br>
Josh</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>