<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle/ML - function for automatic generatio... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FML.20-.20function.20for.20automatic.20generatio.2E.2E.2E.html">[isabelle] Isabelle/ML - function for automatic generatio...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294756223"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/ML%20-%20function%20for%20automatic%20generatio.../near/294756223" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FML.20-.20function.20for.20automatic.20generatio.2E.2E.2E.html#294756223">(Aug 22 2022 at 19:46)</a>:</h4>
<p>From: mailing-list anonymous &lt;<a href="mailto:mailing.list.anonymous@gmail.com">mailing.list.anonymous@gmail.com</a>&gt;<br>
Dear All,</p>
<p>This may be another naive question in relation to Isabelle/ML sources.</p>
<p>[1] contains the following statement in section 6:</p>
<p>"The relation between the two constants is obtained purely syntactically:<br>
we start with the type (e.g., (β → γ) → bool for inj) and replace every<br>
type that does not change (γ and bool) by the identity relation =, every<br>
nonnullary type constructor by its corresponding relator (→ by ==&gt; and list<br>
by list_all2) and every type that changes by the corresponding transfer<br>
relation (β by T)"</p>
<p>Essentially, the statement above outlines a simple procedure for the<br>
automatic construction of the parametricity relations based on the types of<br>
terms for which they need to be derived (under some mild assumptions). It<br>
should enable the design of a function similar to</p>
<p>"fun typ_to_pr T Tts : typ -&gt; (typ * term) list -&gt; term"</p>
<p>that converts a given type T into a parametricity relation, under the<br>
assumptions that Tts provides a lookup table that maps the types that<br>
change to the terms that represent appropriate relations (of course, side<br>
conditions can be introduced later, as required).</p>
<p>I would like to understand if there exists an implementation of a similar<br>
function somewhere in the Isabelle/ML source code. I did look around before<br>
asking the question, but I am still not familiar with the entire<br>
Isabelle/ML code base. This seems like a very likely candidate for<br>
something that I cannot seem to notice and, I thought that there would be<br>
many regular users of the mailing list who could point me in the<br>
right direction without having to do any investigation.</p>
<p>Also, if this function exists, I am curious to know whether/why it is not<br>
available to the end users. It would be useful to be able to generate a<br>
parametricity relation given two terms of matching types automatically.</p>
<p>[1] O. Kunčar and A. Popescu, “From Types to Sets by Local Type Definitions<br>
in Higher-Order Logic,” in Interactive Theorem Proving, J. C. Blanchette<br>
and S. Merz, Eds. Cham: Springer International Publishing, 2016, vol. 9807,<br>
pp. 200–218.</p>



<a name="294764774"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle/ML%20-%20function%20for%20automatic%20generatio.../near/294764774" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle.2FML.20-.20function.20for.20automatic.20generatio.2E.2E.2E.html#294764774">(Aug 22 2022 at 20:50)</a>:</h4>
<p>From: mailing-list anonymous &lt;<a href="mailto:mailing.list.anonymous@gmail.com">mailing.list.anonymous@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I would like to provide a reply to one of my own old questions. Apparently,<br>
there are two files in the Isabelle/HOL Library that provide the<br>
functionality that I was seeking: "HOL-Library.Conditional_Parametricity.ML"<br>
and "HOL-Library.Conditional_Parametricity.thy". Moreover, the<br>
parametricity property is also proven automatically. Annoyingly, until<br>
recently, I was not aware of the existence of these files and, by now, I<br>
have written my own module that provides the functionality that is nearly<br>
identical to the functionality of the aforementioned theories :-). I am<br>
writing this reply, primarily, to minimize the risk of someone else getting<br>
into the same trap. I am also curious as to why this module has not been<br>
used anywhere in the source files of Isabelle/HOL. In my opinion, it would<br>
be useful to update the existing source files to raise the awareness of the<br>
existence of the module and minimize the boilerplate code. Also, in my<br>
view, it would be useful is someone could integrate it with the Transfer<br>
package.</p>
<p>Thank you</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>