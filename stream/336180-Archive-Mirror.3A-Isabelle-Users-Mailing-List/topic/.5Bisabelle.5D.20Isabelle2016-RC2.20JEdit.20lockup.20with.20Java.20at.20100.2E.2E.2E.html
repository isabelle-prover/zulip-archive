<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2016-RC2 JEdit lockup with Java at 100... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2016-RC2.20JEdit.20lockup.20with.20Java.20at.20100.2E.2E.2E.html">[isabelle] Isabelle2016-RC2 JEdit lockup with Java at 100...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294664014"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2016-RC2%20JEdit%20lockup%20with%20Java%20at%20100.../near/294664014" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2016-RC2.20JEdit.20lockup.20with.20Java.20at.20100.2E.2E.2E.html#294664014">(Aug 22 2022 at 12:23)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
I apologize if I am spamming the list with problems: I am just trying to respond to<br>
Makarius' admonition to test.</p>
<p>The issue I just experienced with Isabelle2016-RC2 is a lockup of JEdit in which<br>
Java is now consuming 100% of CPU.  It started with a "try" typed in the edit<br>
window, and for awhile Java had 50% of CPU and poly had (a little less than) the other 50%,<br>
but now it is all Java.  FWIW, here is the "ps" output showing that the Java process<br>
is actually Isabelle2016-RC2, as opposed to some random other thing running on my system:</p>
<p>% ps wwuax | fgrep java<br>
gene      1009  243 11.8 6501292 2891344 pts/0 Sl   18:00  66:32<br>
/opt/Isabelle2016-RC2/contrib/jdk/x86_64-linux/jre/bin/java -Disabelle.root=/opt/Isabelle2016-RC2 -server<br>
-Dfile.encoding=UTF-8 -Disabelle.threads=0 -Duser.language=en -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true<br>
-Dapple.laf.useScreenMenuBar=true -Dapple.awt.application.name=Isabelle -Xms512m -Xmx2560m -Xss8m<br>
-Disabelle.jedit_server=Isabelle2016-RC2 -classpath<br>
/opt/Isabelle2016-RC2/lib/classes/Pure.jar:/opt/Isabelle2016-RC2/contrib/jfreechart-1.0.14-1/lib/iText-2.1.5.jar:/opt/Isabelle2016-RC2/contrib/jfreechart-1.0.14-1/lib/jcommon-1.0.18.jar:/opt/Isabelle2016-RC2/contrib/jfreechart-1.0.14-1/lib/jfreechart-1.0.14.jar:/opt/Isabelle2016-RC2/contrib/jortho-1.0-2/jortho.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/akka-actor_2.11-2.3.10.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/config-1.2.1.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/jline-2.12.1.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-actors-2.11.0.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-actors-migration_2.11-1.1.0.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-compiler.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-continuations-library_2.11-1.0.2.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-continuations-plugin_2.11.7-1.0.2.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-library.jar:/opt/Isabell<br>
 e<br>
2016-RC2/contrib/scala-2.11.7/lib/scalap-2.11.7.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-parser-combinators_2.11-1.0.4.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-reflect.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-swing_2.11-1.0.2.jar:/opt/Isabelle2016-RC2/contrib/scala-2.11.7/lib/scala-xml_2.11-1.0.4.jar:/opt/Isabelle2016-RC2/contrib/xz-java-1.2-1/lib/xz.jar:/opt/Isabelle2016-RC2/src/Tools/jEdit/dist/jedit.jar<br>
-splash:/opt/Isabelle2016-RC2/lib/logo/isabelle.gif isabelle.Main</p>
<p>I've attached a screenshot showing results from "top".  As you can see it has been<br>
some time and it has not recovered.  The JEdit window is unresponsive, but the rest<br>
of the system is OK (no problem writing this mail).</p>
<p>I tried using Eclipse/JVM Monitor to connect to the JVM and see what is going on in there,<br>
but it reports that Hotspot is not enabled for that process.  So not much other information<br>
I can provide, other than that it has occurred.  Normally, if I get lockups, it is poly<br>
that consumes all the CPU and JEdit stays responsive.  This seems like something new.</p>
<p>My system:</p>
<p>Linux <a href="http://home.starkeffect.com">home.starkeffect.com</a> 3.13.0-74-generic #118-Ubuntu SMP Thu Dec 17 22:52:10 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</p>
<p>It is an Ubuntu 14.04 LTS with pretty much up-to-date patches.</p>
<p>- Gene<br>
<a href="/user_uploads/14278/vYk0N3Hzn_lmhvte6Pxp6s4u/Screenshot-from-2016-01-29-182034.png">Screenshot from 2016-01-29 18:20:34.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/14278/vYk0N3Hzn_lmhvte6Pxp6s4u/Screenshot-from-2016-01-29-182034.png" title="Screenshot from 2016-01-29 18:20:34.png"><img src="/user_uploads/14278/vYk0N3Hzn_lmhvte6Pxp6s4u/Screenshot-from-2016-01-29-182034.png"></a></div>



<a name="294664031"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2016-RC2%20JEdit%20lockup%20with%20Java%20at%20100.../near/294664031" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2016-RC2.20JEdit.20lockup.20with.20Java.20at.20100.2E.2E.2E.html#294664031">(Aug 22 2022 at 12:23)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Fri, 29 Jan 2016, Eugene W. Stark wrote:</p>
<blockquote>
<p>The issue I just experienced with Isabelle2016-RC2 is a lockup of JEdit in which<br>
Java is now consuming 100% of CPU.</p>
</blockquote>
<blockquote>
<p>-Xms512m -Xmx2560m -Xss8m</p>
<p>I've attached a screenshot showing results from "top".  As you can see <br>
it has been some time and it has not recovered.  The JEdit window is <br>
unresponsive, but the rest of the system is OK.</p>
</blockquote>
<p>Top shows resident memory for "java" above 2.7g, so the JVM is in normal <br>
crisis situation of full heap space (specified as -Xmx2560m above).</p>
<p>Depending how much total memory you have, you can make this a bit more <br>
generous, e.g. in the file Isabelle2016-RC2.options64 (if you use the <br>
toplevel application).</p>
<p>I have 32GB and usually give -Xmx4096m to java, which is sufficient for <br>
all practical situations in Isabelle + AFP.</p>
<blockquote>
<p>I tried using Eclipse/JVM Monitor to connect to the JVM and see what is <br>
going on in there, but it reports that Hotspot is not enabled for that <br>
process.  So not much other information I can provide, other than that <br>
it has occurred.</p>
</blockquote>
<p>I don't know anything about Eclipse, and normally use the simple <br>
"jconsole" tool that is included in the JDK distribution.  It sometimes <br>
helps to push the "GC" button there, but probably not in this situation.</p>
<blockquote>
<p>Normally, if I get lockups, it is poly that consumes all the CPU and <br>
JEdit stays responsive.</p>
</blockquote>
<p>You should make double sure that Poly/ML runs in x86 (32bit) mode, to <br>
reduce memory requirements by a factor of 2.  (I think you have that, <br>
guessing from the "top" output, but just make sure anyway.) You can see <br>
that in the output of "isabelle build -?" for example.</p>
<p>The general question remains, if your application is really that large, or <br>
if there are other problems (e.g. memory holes).</p>
<p>Otherwise I would say it is a matter of normal Harley-Davidson tuning to <br>
make the best of limited resources.</p>
<p>Makarius</p>



<a name="294664168"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2016-RC2%20JEdit%20lockup%20with%20Java%20at%20100.../near/294664168" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2016-RC2.20JEdit.20lockup.20with.20Java.20at.20100.2E.2E.2E.html#294664168">(Aug 22 2022 at 12:24)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
Sorry about the subject mess-up.  I don't know how that happened.<br>
I changed the subject for this follow-up -- I hope I did it in a reasonable way.</p>
<p>I have not changed any throttling options.</p>
<p>The "Enter MATCH ..." messages are produced in reasonably frequent situations when<br>
I invoke Sledgehammer by typing "try" into the main edit window.  I was aware that<br>
they were usually throttled, but in this situation it seemed that they were not.<br>
So maybe there is some way that the throttling gets circumvented in some situations.</p>
<p>- Gene Stark</p>



<a name="294664178"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2016-RC2%20JEdit%20lockup%20with%20Java%20at%20100.../near/294664178" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2016-RC2.20JEdit.20lockup.20with.20Java.20at.20100.2E.2E.2E.html#294664178">(Aug 22 2022 at 12:24)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That is interesting to know.</p>
<p>In principle, the 'try' command tries to suppress such messages, but <br>
something might be wrong in connection to sledgehammer.  Maybe Jasmin <br>
wants to take a quick look himself.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>