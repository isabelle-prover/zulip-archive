<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2019-RC2 NullPointerException on Cygwi... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html">[isabelle] Isabelle2019-RC2 NullPointerException on Cygwi...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294755508"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294755508" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294755508">(Aug 22 2022 at 19:41)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Do you mean the regular maximize button, or the jEdit action<br>
toggle-full-screen (F11)?</p>
<p>Trying F11, I did get the exception once and then it showed up<br>
continuously e.g. when resizing the window. This "exception" mode is not<br>
realiable, though, it only happens sporadically.</p>
<p>Since it is repeatable for you: Can you try with the<br>
Isabelle2019-RC2.exe desktop application and check the exception trace<br>
in the activity log? See menu Utilities / Trouble Shooting / Activity Log.</p>
<p>Makarius</p>



<a name="294755534"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294755534" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294755534">(Aug 22 2022 at 19:41)</a>:</h4>
<p>From: Fabian Immler &lt;<a href="mailto:immler@in.tum.de">immler@in.tum.de</a>&gt;<br>
On 5/22/2019 11:15 AM, Makarius wrote:</p>
<blockquote>
<p>On 22/05/2019 07:58, Fabian Immler wrote:</p>
<blockquote>
<p>I still get them reliably. But, as I just realized, only when the<br>
Isabelle/jEdit window is maximized.</p>
</blockquote>
<p>Do you mean the regular maximize button, or the jEdit action<br>
toggle-full-screen (F11)?<br>
The regular maximize button.</p>
</blockquote>
<blockquote>
<p>Trying F11, I did get the exception once and then it showed up<br>
continuously e.g. when resizing the window. This "exception" mode is not<br>
realiable, though, it only happens sporadically.</p>
<p>Since it is repeatable for you: Can you try with the<br>
Isabelle2019-RC2.exe desktop application and check the exception trace<br>
in the activity log? See menu Utilities / Trouble Shooting / Activity Log.<br>
Yes, I've attached the activity.log. Looks like the NPE always occurs <br>
together with<br>
[debug] EditBus: <br>
ViewUpdate[what=VIEW_ACTIVATED,source=org.gjt.sp.jedit.View[active]]<br>
[debug] jEdit: checkBufferStatus for all buffers<br>
[debug] EditBus: DynamicMenuChanged[menu=recent-files,source=null]</p>
</blockquote>
<p>Fabian<br>
<a href="/user_uploads/14278/9RW--4ZXH2PRyWqoF2f31gSO/activity.log">activity.log</a><br>
<a href="/user_uploads/14278/SlpHK9y2wk6iVGJsA0tYvcSr/smime.p7s">smime.p7s</a></p>



<a name="294755757"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294755757" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294755757">(Aug 22 2022 at 19:43)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I did not change anything for Isabelle2019-RC3 here: the exception is so<br>
rare on my test machines that I cannot get hold of it.</p>
<p>Is this more than an aesthetic problem? Is there really a slowdown of<br>
interaction when printing many exceptions, as you mentioned earlier?</p>
<p>Makarius</p>



<a name="294756012"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294756012" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294756012">(Aug 22 2022 at 19:45)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Looking again more carefully, it is easy to reproduce -- and in fact<br>
occurs both with Java 8 and Java 11. See also<br>
<a href="https://sourceforge.net/p/jedit/bugs/4082">https://sourceforge.net/p/jedit/bugs/4082</a></p>
<p>Consequently, it happens in Isabelle2018 and Isabelle2019-RC3 alike, and<br>
is formally not a regression.</p>
<p>There is nothing else we can do at the moment, unless someone on the<br>
jEdit project is very quick in isolating the problem.</p>
<p>Makarius</p>



<a name="294756754"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294756754" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294756754">(Aug 22 2022 at 19:50)</a>:</h4>
<p>From: Fabian Immler &lt;<a href="mailto:immler@in.tum.de">immler@in.tum.de</a>&gt;<br>
When I start Isabelle2019-RC2 on the Cygwin-Terminal (Windows 10), I see <br>
lots of NullPointerExceptions like the following (all with the same trace).<br>
It feels like their printing (?) makes the UI slightly less responsive.</p>
<p>Fabian</p>
<p>Exception in thread "AWT-EventQueue-0"<br>
5:02:35 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0: <br>
java.lang.NullPointerException<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/sun.awt.windows.WInputMethod$1.run(WInputMethod.java:597)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.base/java.security.AccessController.doPrivileged(Native Method)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.base/java.security.AccessController.doPrivileged(Native Method)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)<br>
5:02:39 PM [AWT-EventQueue-0] [error] AWT-EventQueue-0:  at <br>
java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)<br>
<a href="/user_uploads/14278/3S8K4K7zHToPAMdMK8BkT-XM/smime.p7s">smime.p7s</a></p>



<a name="294757027"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294757027" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294757027">(Aug 22 2022 at 19:52)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Strange. I have never seen anything like that -- testing on various<br>
virtual and real Windows installations.</p>
<p>Looking at<br>
Isabelle2019-RC2/contrib/jdk-11.0.3+7/x86_64-windows/lib/src.zip file<br>
java.desktop/sun/awt/windows/WInputMethod.java like 597 does not yield<br>
anything particular, just some low-level operations:</p>
<p>Rectangle rc =<br>
inputContext.getTextLocation(TextHitInfo.leading(0));<br>
                            x = rc.x;<br>
                            y = rc.y + rc.height;</p>
<p>If these sources have the correct line numbers, the NPE happens at rc.x,<br>
i.e. the Rectangle rc is somehow invalid.</p>
<p>I have no further clues at the moment.</p>
<p>Makarius</p>



<a name="294757407"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294757407" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294757407">(Aug 22 2022 at 19:55)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Now I did see this exception on a virtual Windows 10 installation, but<br>
only once: it is not directly repeatable.</p>
<p>Makarius</p>



<a name="294757415"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294757415" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294757415">(Aug 22 2022 at 19:55)</a>:</h4>
<p>From: Fabian Immler &lt;<a href="mailto:immler@in.tum.de">immler@in.tum.de</a>&gt;<br>
I still get them reliably. But, as I just realized, only when the <br>
Isabelle/jEdit window is maximized.</p>
<p>Fabian<br>
<a href="/user_uploads/14278/k_BczO29um1d-JhpAkD01DOa/smime.p7s">smime.p7s</a></p>



<a name="294757429"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2019-RC2%20NullPointerException%20on%20Cygwi.../near/294757429" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2019-RC2.20NullPointerException.20on.20Cygwi.2E.2E.2E.html#294757429">(Aug 22 2022 at 19:55)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
I am getting the same exception. It seems to occur reliably when the<br>
Isabelle window is resized or moved, but also very often when it obtains<br>
focus.</p>
<p>Alex</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>