<html>
<head><meta charset="utf-8"><title>[isabelle] Isabelle2020-RC2: Many &quot;kodkodi&quot; files accumul... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2020-RC2.3A.20Many.20.22kodkodi.22.20files.20accumul.2E.2E.2E.html">[isabelle] Isabelle2020-RC2: Many &quot;kodkodi&quot; files accumul...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294824169"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2020-RC2%3A%20Many%20%22kodkodi%22%20files%20accumul.../near/294824169" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2020-RC2.3A.20Many.20.22kodkodi.22.20files.20accumul.2E.2E.2E.html#294824169">(Aug 23 2022 at 08:33)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Kodkodi belongs to Nitpick (by Jasmin Blanchette). He is producing tmp files<br>
here:<br>
<a href="https://isabelle.sketis.net/repos/isabelle-release/annotate/Isabelle2020-RC3/src/HOL/Tools/Nitpick/kodkod.ML#l1011">https://isabelle.sketis.net/repos/isabelle-release/annotate/Isabelle2020-RC3/src/HOL/Tools/Nitpick/kodkod.ML#l1011</a></p>
<p>That is not 100% bullet-proof concerning spurious failures or interrupts, but<br>
it should not have changed recently. I.e. I would expect roughly the same<br>
behaviour in Isabelle2019, Isabelle2018 etc. --- there can always be<br>
unexpected effects from totally different changes elsewhere.</p>
<p>Attached is a small adhoc change to use Jasmin's remove_temporary_files more<br>
robustly in the face of interrupts or other exceptions.</p>
<p>To try that out, you merely need to change this single line manually in<br>
$ISABELLE_HOME/src/Tools/Nitpick/kodkod.ML and restart Isabelle/jEdit to let<br>
it rebuild the HOL image.</p>
<p>Makarius<br>
<a href="/user_uploads/14278/UZgxUeXJdmLrA8ur98FNxvec/ch">ch</a></p>



<a name="294824310"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2020-RC2%3A%20Many%20%22kodkodi%22%20files%20accumul.../near/294824310" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2020-RC2.3A.20Many.20.22kodkodi.22.20files.20accumul.2E.2E.2E.html#294824310">(Aug 23 2022 at 08:34)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
I added this patch (to Isabelle2020-RC2) and tried it over a few-hour session of my normal use.<br>
I did not notice any ill effects, and I also did not see any "kodkodi" files at all accumulating<br>
in /tmp, which is a significant improvement.  Thank you.</p>
<p>- Gene Stark</p>



<a name="294824385"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2020-RC2%3A%20Many%20%22kodkodi%22%20files%20accumul.../near/294824385" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2020-RC2.3A.20Many.20.22kodkodi.22.20files.20accumul.2E.2E.2E.html#294824385">(Aug 23 2022 at 08:35)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
OK, this is now on isabelle-release and will thus be in the next release<br>
candidate (in &gt; 1 week):<br>
<a href="https://isabelle.sketis.net/repos/isabelle-release/rev/1f3d9a9dd42a">https://isabelle.sketis.net/repos/isabelle-release/rev/1f3d9a9dd42a</a></p>
<p>Makarius</p>



<a name="294825271"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Isabelle2020-RC2%3A%20Many%20%22kodkodi%22%20files%20accumul.../near/294825271" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Isabelle2020-RC2.3A.20Many.20.22kodkodi.22.20files.20accumul.2E.2E.2E.html#294825271">(Aug 23 2022 at 08:41)</a>:</h4>
<p>From: "Eugene W. Stark" &lt;<a href="mailto:isabelle-users@starkeffect.com">isabelle-users@starkeffect.com</a>&gt;<br>
I am running Isabelle2020-RC2 under Ubuntu 18.04.  I have had the same session going for a couple of days now,<br>
and I started to see warnings about disk space filling up.  When I looked in /tmp, I see 1.4GB of "kodkodi" files<br>
that have accumulated there (see partial listing below).</p>
<p>I vaguely recall that these come from Sledgehammer invocations.  I am a heavy Sledgehammer user (mostly via "try").<br>
I did not have the same kind of problem with these files building up with Isabelle2019, although in some cases<br>
when exiting Jedit there would be a stack trace printed with complaints about not being able to remove such<br>
files.</p>
<p>I think these might have to do with invocations of cvc4, z3, etc. that are killed when a use of Sledgehammer<br>
is cancelled.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>