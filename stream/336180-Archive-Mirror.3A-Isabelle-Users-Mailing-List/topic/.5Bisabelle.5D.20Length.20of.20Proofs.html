<html>
<head><meta charset="utf-8"><title>[isabelle] Length of Proofs · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html">[isabelle] Length of Proofs</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294226005"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226005" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226005">(Aug 19 2022 at 09:06)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
As I see it, there are advantages to both interfaces. And everything is accessible from ML simply because it is the implementation language, although of course this access may not be very convenient. I think it's generally accepted these days that the ML level really is more appropriate for development than for ordinary reasoning. It isn't realistic to support both Isar and the ML level as the day-to-day user interface; even with unlimited resources, such duplication wouldn't be very elegant.</p>
<p>Isabelle has undergone very rapid change over the years, and this has meant leaving a lot of old practices behind. I know that it has caused users difficulties in the past, and it's unfortunate, but maintaining upwards compatibility is also very difficult. As one of the earliest Isabelle users, you naturally feel this much more than others do.</p>
<p>Larry</p>



<a name="294226017"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226017" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226017">(Aug 19 2022 at 09:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Actually, the Prover IDE supports both Isabelle/Isar and Isabelle/ML <br>
pretty well -- note that Isabelle/ML needs to be distinguished from the ML <br>
bootstrapping environment to get the Isabelle/Pure/Isar implementation up <br>
and running.</p>
<p>You can even imitate the proof style from the 1990-ies like this:</p>
<p>apply (tactic {* my_tac @{context} 7 *})</p>
<p>Its definitely not elegant, and there is little reason to use this form <br>
today.  It is better to use method_setup to define your own application <br>
specific proof methods first, and then use them in the proofs.</p>
<p>Makarius</p>



<a name="294226062"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226062" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226062">(Aug 19 2022 at 09:07)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Larry,</p>
<p>I take your first point, that "everything is accessible from ML",  but <br>
in a practical sense, I would say it's not because the code is so <br>
difficult to understand.  (Much more difficult than either Isabelle as <br>
it was in 1997, or HOL, to give examples within my experience.)</p>
<p>In a way, my first contribution to this thread was to make it clear that <br>
both "development" and "ordinary reasoning" are intertwined - there was <br>
quite a lot of "development" involved in getting the right combination <br>
of compound tactics and proof steps to avoid a proof script which would <br>
have been 10000 lines long.</p>
<p>The bigger issue is that pen and paper proofs I do and publish in a <br>
journal will be available as long as people want to read them.  The <br>
Isabelle proofs I do are in Isabelle 2005, and include theory and ML <br>
files from 1997, and so will in the future be inaccessible to anyone who <br>
doesn't (or can't) install Isabelle 2005  (which only seems to work with <br>
one particular version of PolyML).  Given the philosophy of Isabelle <br>
developers, prospective users need to be warned that if they want to <br>
write proofs which will be accessible to future researchers, they need <br>
to be done in print.</p>
<p>Finally, it's worth pointing out that no one in this thread has actually <br>
come up with a suggestion about how to do the sort of proof which was <br>
the subject of my original post other than using Standard ML (which, I <br>
understand, was designed for exactly that purpose).</p>
<p>Jeremy</p>
<p>Lawrence Paulson wrote:</p>



<a name="294226084"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226084" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226084">(Aug 19 2022 at 09:07)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 20 Nov 2012, Jeremy Dawson wrote:</p>
<blockquote>
<p>In a way, my first contribution to this thread was to make it clear that <br>
both "development" and "ordinary reasoning" are intertwined - there was <br>
quite a lot of "development" involved in getting the right combination <br>
of compound tactics and proof steps to avoid a proof script which would <br>
have been 10000 lines long.</p>
</blockquote>
<p>This is why I have never separated Isabelle/Isar and Isabelle/ML in that <br>
sense, they are just two different languages of the Isabelle user-space. <br>
My first command implemented on the Isar toplevel was 'ML'.</p>
<p>Isabelle/ML happens to be used much less in applications these days, <br>
though, and this is no problem, merely an indication that the abstractions <br>
of Isar do most of your work already without extra tinkering in ML.</p>
<p>Anyway, I've pointed to the Isar command 'method_setup' already.  If you <br>
look it up in the isar-ref or implementation manual, and then look at 5-10 <br>
examples in the library, you should rather quickly get an idea how to <br>
define your own basic proof tools, like in the old ML-only times of <br>
Isabelle in the 1990-ies.</p>
<blockquote>
<p>The bigger issue is that pen and paper proofs I do and publish in a <br>
journal will be available as long as people want to read them.  The <br>
Isabelle proofs I do are in Isabelle 2005, and include theory and ML <br>
files from 1997, and so will in the future be inaccessible to anyone who <br>
doesn't (or can't) install Isabelle 2005 (which only seems to work with <br>
one particular version of PolyML).  Given the philosophy of Isabelle <br>
developers, prospective users need to be warned that if they want to <br>
write proofs which will be accessible to future researchers, they need <br>
to be done in print.</p>
</blockquote>
<p>Users just need to be told about AFP, to preserve things in the longer <br>
term.  (AFP does not accept ancient 1900-style scripts.)</p>
<blockquote>
<p>Finally, it's worth pointing out that no one in this thread has actually <br>
come up with a suggestion about how to do the sort of proof which was <br>
the subject of my original post other than using Standard ML (which, I <br>
understand, was designed for exactly that purpose).</p>
</blockquote>
<p>We will come back to this on-topic on the original thread.  So far I've <br>
skimmed a little over these theories by Christoph Lange, and it looks <br>
mostly like a conventional "Isar deflation" job, not old-style ML <br>
tinkering.</p>
<p>Makarius</p>



<a name="294226108"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226108" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226108">(Aug 19 2022 at 09:07)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I think it's a great pity that you are using such an elderly version of Isabelle.</p>
<p>If you have a lot of legacy code that simply can't be ported, or an application where it works really well, okay. But for general proofs, there is simply no comparison between the Isabelle of today and one that is seven years old. Sledgehammer, counterexample finding, a very powerful function definition package, lots and lots of AFP theories… You shouldn't forego all of those.</p>
<p>Larry</p>



<a name="294226131"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226131" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226131">(Aug 19 2022 at 09:07)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Larry,</p>
<p>I don't suppose the legacy code simply can't be ported, any more than it <br>
can't be translated into HOL.  But when I started to port it from <br>
Isabelle2005 to Isabelle2007 (still using ML tactics) I quickly gave <br>
up.  I expect it would be much worse now.</p>
<p>And although it seems as though the documentation is more extensive now <br>
than it was then, to learn Isar I would anticipate having some <br>
questions.  And the sort of answers I've had in the past to questions <br>
("look at Makarius's thesis") aren't encouraging.  The point is that to <br>
contemplate converting everything to Isar I need to _know_ that help <br>
will be available.</p>
<p>And anyway, what is the point of a system where you write tactics and <br>
then wrap them up as required to give them the type required by <br>
method_setup, rather than just write tactics? (This is of course a <br>
question to which the answer might be apparent if there was a more <br>
accessible description of the structure of an Isar proof than Makarius's <br>
thesis). Or learning something as totally weird as the grammar of the <br>
Isar language?</p>
<p>Cheers,</p>
<p>Jeremy</p>
<p>Lawrence Paulson wrote:</p>



<a name="294226208"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226208" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226208">(Aug 19 2022 at 09:08)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
There is no doubt that the APIs have changed rapidly over the years, in large part to accommodate user requests (in particular, for all declarations to work within locales). It certainly does make life difficult for developers.</p>
<p>There is a significant philosophical difference between Isabelle and HOL. I had always intended (perhaps even in 1986) that users should not have to write code in order to prove theorems. So I had no difficulty with a non-programmable notation for proofs, especially structured proofs, which (once you get the hang of them) make complicated proofs easier to write, understand and modify.</p>
<p>Mike Gordon expressed the difference between HOL and Isabelle succinctly: HOL can be seen as an API for coding proof procedures, while Isabelle is an interactive theorem prover that you use right out of the box. I know that this doesn't help at all with your situation.</p>
<p>Larry</p>



<a name="294226218"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226218" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226218">(Aug 19 2022 at 09:08)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Lawrence Paulson wrote:</p>
<blockquote>
<p>There is no doubt that the APIs have changed rapidly over the years, in large part to accommodate user requests (in particular, for all declarations to work within locales). It certainly does make life difficult for developers.</p>
<p>There is a significant philosophical difference between Isabelle and HOL. I had always intended (perhaps even in 1986) that users should not have to write code in order to prove theorems. So I had no difficulty with a non-programmable notation for proofs, especially structured proofs, which (once you get the hang of them) make complicated proofs easier to write, understand and modify.</p>
<p>Larry,</p>
</blockquote>
<p>This being so, it's very fortunate that you did such a good job of <br>
producing a programmable notation for proofs, in which one can write <br>
code in order to prove theorems, when necessary (granted that it's <br>
mostly not necessary).</p>
<blockquote>
<p>Mike Gordon expressed the difference between HOL and Isabelle succinctly: HOL can be seen as an API for coding proof procedures, while Isabelle is an interactive theorem prover that you use right out of the box. I know that this doesn't help at all with your situation.</p>
<p>Given that in HOL (as in Isabelle, both pre and post Isar) one can <br>
always use proof procedures coded by someone else, this seems to sum up <br>
to saying that Isabelle/Isar is like HOL, minus the capacity to code <br>
one's own proof procedures, plus -- what ??</p>
</blockquote>
<p>Jeremy</p>
<blockquote>
<p>Larry</p>
<p>On 21 Nov 2012, at 02:50, Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt; wrote:</p>
<blockquote>
<p>Larry,</p>
<p>I don't suppose the legacy code simply can't be ported, any more than it can't be translated into HOL.  But when I started to port it from Isabelle2005 to Isabelle2007 (still using ML tactics) I quickly gave up.  I expect it would be much worse now.</p>
<p>And although it seems as though the documentation is more extensive now than it was then, to learn Isar I would anticipate having some questions.  And the sort of answers I've had in the past to questions ("look at Makarius's thesis") aren't encouraging.  The point is that to contemplate converting everything to Isar I need to _know_ that help will be available.</p>
<p>And anyway, what is the point of a system where you write tactics and then wrap them up as required to give them the type required by method_setup, rather than just write tactics? (This is of course a question to which the answer might be apparent if there was a more accessible description of the structure of an Isar proof than Makarius's thesis). Or learning something as totally weird as the grammar of the Isar language?</p>
<p>Cheers,</p>
<p>Jeremy</p>
<p>Lawrence Paulson wrote:</p>
<blockquote>
<p>I think it's a great pity that you are using such an elderly version of Isabelle.</p>
<p>If you have a lot of legacy code that simply can't be ported, or an application where it works really well, okay. But for general proofs, there is simply no comparison between the Isabelle of today and one that is seven years old. Sledgehammer, counterexample finding, a very powerful function definition package, lots and lots of AFP theories… You shouldn't forego all of those.</p>
<p>Larry</p>
</blockquote>
</blockquote>
</blockquote>



<a name="294226236"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226236" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226236">(Aug 19 2022 at 09:08)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
You still have the capacity to code your own proof procedures; ML is just one level down. And you get a much more readable proof language.</p>
<p>Some years ago, I translated a lot of proofs from HOL to Isabelle. The HOL proofs were opaque blocks of tactics, while in the corresponding structure proof you could see (even if you knew little of the Isar language) which local facts were available for use and what had to be proved. And almost certainly, creating those opaque blocks of tactics required much more effort, because the old ML style (whether in HOL or Isabelle) isn't very good at forward reasoning.</p>
<p>Larry</p>



<a name="294226262"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226262" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226262">(Aug 19 2022 at 09:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I've pointed to the method_setup command of Isabelle/Isar already.  It is <br>
document in the "isar-ref" manual, as all other Isar commands.  The <br>
"implementation" manual has further documentation about what proof methods <br>
are, compared to bare-bones tactics (which are also documented there).</p>
<p>The "plus" is much more than be discussed on such a mail thread.  It also <br>
depends on the imagination of users, what they make out of the vast formal <br>
environment that Isabelle gives you today (as of current Isabelle2012).</p>
<p>Makarius</p>



<a name="294226278"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226278" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226278">(Aug 19 2022 at 09:09)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The situation is a bit more general than this, and it is hard to arrange <br>
Isar vs. ML in "levels" in particular.  Both are intertwined, cf. my <br>
explanation of Isabelle/Isar and Isabelle/ML as as the Yin and Yang of <br>
Isabelle <br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2012-April/msg00066.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2012-April/msg00066.html</a></p>
<p>In general Isar vs. its embedded languages works like this:</p>
<p>* Isar is the main framework of Isabelle to integrate many<br>
     other languages.</p>
<p>* The Isar languages for specifications (e.g. 'theorem', 'definition',<br>
     'function') and proofs (e.g. 'fix', 'assume', 'show' ...) are the<br>
     primary applications of the Isar framework.</p>
<p>* The logical language (Pure types/terms/propositions with specific HOL<br>
     notation) is another important embedded language, cf. the quotes that<br>
     have been around this language even in the ancient ML-only times of<br>
     Isabelle in the 1990-ies.</p>
<p>* ML is embedded into Isar in a similar manner, but at the same<br>
     time it is the implementation language of Isar.  Moreover, ML quoted<br>
     inside Isar can antiquote logic/Isar expressions.  So the image for<br>
     that is <a href="http://en.wikipedia.org/wiki/File:Yin_and_Yang.svg">http://en.wikipedia.org/wiki/File:Yin_and_Yang.svg</a></p>
<p>In everyday life you don't use the ML inside Isar a lot, but you can <br>
whenever you need to.  It is more convenient than the ancient ML toplevel <br>
ever was.  In Isabelle/jEdit you also have substantial IDE integration for <br>
this ML inside Isar.</p>
<p>Makarius</p>



<a name="294226457"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226457" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226457">(Aug 19 2022 at 09:10)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
On 11/22/2012 10:32 PM, Lawrence Paulson wrote:</p>
<blockquote>
<p>You still have the capacity to code your own proof procedures; ML is just one level down. And you get a much more readable proof language.</p>
<p>Larry,</p>
</blockquote>
<p>While this is true, I did a lot of it a few years ago, and kept finding <br>
things not working.  Mostly to do with theories - in one way or another. <br>
  Impossible (for me or, in one case, for the developer I spoke to) to <br>
work out exactly what was going on.</p>
<blockquote>
<p>Some years ago, I translated a lot of proofs from HOL to Isabelle. The HOL proofs were opaque blocks of tactics, while in the corresponding structure proof you could see (even if you knew little of the Isar language) which local facts were available for use and what had to be proved. And almost certainly, creating those opaque blocks of tactics required much more effort, because the old ML style (whether in HOL or Isabelle) isn't very good at forward reasoning.</p>
<p>You're certainly right about opaque blocks of tactics - but having to <br>
execute a proof to see the intermediate steps has got to be the price <br>
you pay for not having to write down all those intermediate steps. This <br>
whole thread started with the topic of an (I assume) Isar proof which <br>
was too long to be readable.</p>
</blockquote>
<p>I don't know what local facts (or indeed facts generally) are.  I <br>
suspect it's part of the larger question of what the state of a part <br>
completed Isar proof consists of, and how it related to what you see on <br>
the screen.  I understood (a year or two ago) that this was not documented.</p>
<p>Jeremy</p>
<blockquote>
<p>Larry</p>
<p>On 21 Nov 2012, at 22:31, Jeremy Dawson&lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;  wrote:</p>
<blockquote>
<p>Given that in HOL (as in Isabelle, both pre and post Isar) one can always use proof procedures coded by someone else, this seems to sum up to saying that Isabelle/Isar is like HOL, minus the capacity to code one's own proof procedures, plus -- what ??<br>
</p>
</blockquote>
</blockquote>



<a name="294226466"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226466" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226466">(Aug 19 2022 at 09:10)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
On 11/22/2012 11:42 PM, Makarius wrote:</p>
<blockquote>
<p>On Thu, 22 Nov 2012, Jeremy Dawson wrote:</p>
<blockquote>
<p>Given that in HOL (as in Isabelle, both pre and post Isar) one can<br>
always use proof procedures coded by someone else, this seems to sum<br>
up to saying that Isabelle/Isar is like HOL, minus the capacity to<br>
code one's own proof procedures, plus -- what ??</p>
</blockquote>
<p>From where did you get the "minus"? Certainly not from this thread,<br>
where I've pointed to the method_setup command of Isabelle/Isar already.<br>
It is document in the "isar-ref" manual, as all other Isar commands. The<br>
"implementation" manual has further documentation about what proof<br>
methods are, compared to bare-bones tactics (which are also documented<br>
there).</p>
<p>Makarius,</p>
</blockquote>
<p>In another post I alluded to the fact that trying to mix ML and Isar so <br>
frequently made things not work.  But I acknowledge that it may be a <br>
useful feature for someone that understands the system (in particular, I <br>
think, how Isar handles theories).</p>
<p>I see that the "implementation" manual has had a section on proof <br>
methods added since 2009 - I think that was a good thing to do.  I <br>
haven't got to studying it yet.</p>
<blockquote>
<p>The "plus" is much more than be discussed on such a mail thread. It also<br>
depends on the imagination of users, what they make out of the vast<br>
formal environment that Isabelle gives you today (as of current<br>
Isabelle2012).</p>
<p>There is an ambiguity here between Isar (the language and its grammar) <br>
and Isar (the design/structure, ie, methods, facts, etc). Obviously, <br>
nothing that has been implemented in Standard ML couldn't be packaged in <br>
a way to make it convenient for users to use by calling Standard ML <br>
functions.  The fact that the developers have not done so doesn't add to <br>
the merits of Isar (the language and its grammar).</p>
<p>Jeremy</p>
</blockquote>
<blockquote>
<p>Makarius</p>
</blockquote>



<a name="294226731"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226731" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226731">(Aug 19 2022 at 09:12)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Fri, 23 Nov 2012, Jeremy Dawson wrote:</p>
<blockquote>
<blockquote>
<p>The "plus" is much more than be discussed on such a mail thread. It also<br>
depends on the imagination of users, what they make out of the vast<br>
formal environment that Isabelle gives you today (as of current<br>
Isabelle2012).</p>
<p>There is an ambiguity here between Isar (the language and its grammar) <br>
and Isar (the design/structure, ie, methods, facts, etc).</p>
</blockquote>
</blockquote>
<p>There is indeed an ambiguity: "Isar" can mean several things at several <br>
scales looking at it.  And the "Isar framework" is still more vast and <br>
spacious than the things mentioned in the paragraph above.</p>
<blockquote>
<p>Obviously, nothing that has been implemented in Standard ML couldn't be <br>
packaged in a way to make it convenient for users to use by calling <br>
Standard ML functions.  The fact that the developers have not done so <br>
doesn't add to the merits of Isar (the language and its grammar).</p>
</blockquote>
<p>The Isar proof method called "tactic" actually presents the ML name space <br>
to the user in a way that you can write nostalgic tactic expressions right <br>
into your Isar proofs.  E.g. like this:</p>
<p>lemma "A &amp; B --&gt; B &amp; A"<br>
   apply (tactic "rtac impI 1")<br>
   apply (tactic "etac conjE 1")<br>
   apply (tactic "rtac conjI 1")<br>
   apply (tactic "ALLGOALS atac")<br>
   done</p>
<p>So it is basically the same like in 1993, just with some extra boiler <br>
plate.  There is no practical point to use the above in reality, though.</p>
<p>Makarius</p>



<a name="294226805"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226805" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226805">(Aug 19 2022 at 09:13)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Makarius,</p>
<p>On 11/24/2012 02:25 AM, Makarius wrote:</p>
<blockquote>
<p>On Fri, 23 Nov 2012, Jeremy Dawson wrote:</p>
<blockquote>
<p>Obviously, nothing that has been implemented in Standard ML couldn't<br>
be packaged in a way to make it convenient for users to use by calling<br>
Standard ML functions. The fact that the developers have not done so<br>
doesn't add to the merits of Isar (the language and its grammar).</p>
</blockquote>
<p>The Isar proof method called "tactic" actually presents the ML name<br>
space to the user in a way that you can write nostalgic tactic<br>
expressions right into your Isar proofs. E.g. like this:</p>
<p>lemma "A &amp; B --&gt; B &amp; A"<br>
apply (tactic "rtac impI 1")<br>
apply (tactic "etac conjE 1")<br>
apply (tactic "rtac conjI 1")<br>
apply (tactic "ALLGOALS atac")<br>
done</p>
<p>Another misunderstanding, I'm afraid.  The above is about using ML from <br>
within Isar.  I'm referring to the theoretical possibility of calling <br>
features of the Isar structure/framework from within ML. Such as, for <br>
example, as discussed in Feb 2010 in the thread called</p>
</blockquote>
<p>Giving a name to a tactics-expression,</p>
<p>I would want the ML code that does something like</p>
<p>val meth4 = EVERY [(TRY (REPEAT1 meth1)), meth2, meth3 ] ;</p>
<p>made accessible.</p>
<blockquote>
<p>So it is basically the same like in 1993, just with some extra boiler<br>
plate. There is no practical point to use the above in reality, though.</p>
<p>No practical point ?? I think this email thread is getting too long - my <br>
first post was of stuff that I asserted (and still do) that you can't <br>
imagine how to do it sensibly other than in Standard ML.  (And the only <br>
suggestion that has been contributed at all was from you, in previous <br>
emails, to wrap Standard ML in Isar via method-setup)</p>
</blockquote>
<p>Jeremy</p>
<blockquote>
<p>Makarius</p>
</blockquote>



<a name="294226878"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226878" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226878">(Aug 19 2022 at 09:13)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The thread is indeed getting long and tedious, and it is unclear if it <br>
ever ends.  When I say "ML" or "Isabelle/ML", it practically always means <br>
the ML that is embedded into Isar.  This is what you use for professional <br>
applications these days.</p>
<p>There is also a raw ML bootstrap environment to get the Isabelle/Pure <br>
implementation to the point where it can run the Isar toplevel with this <br>
embedded ML.  In the 1990-ies, the user would continue with that raw ML <br>
toplevel to do proofs, but hardly anybody on the mailing list would <br>
remember that today.</p>
<p>Insisting to work with the raw ML toplevel is like traveling on a train <br>
like this: <a href="http://gehcrew.blogspot.fr/2010_03_01_archive.html">http://gehcrew.blogspot.fr/2010_03_01_archive.html</a></p>
<p>This technique works for a tramway to some extent, but not on the <br>
high-speed train that Isabelle has become in recent years, where you <br>
better sit comfortably inside.  And to get on such a train you merely <br>
purchase a ticket, you don't come with its technical manuals and take the <br>
engine apart while it is moving.</p>
<p>Makarius</p>



<a name="294226959"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294226959" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294226959">(Aug 19 2022 at 09:14)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Makarius,</p>
<p>I'm not clear on the significance of your discussion about the meaning <br>
of "ML" but when I say Standard ML I mean any use of it.</p>
<p>Thanks for the link to (apparently) a German travelogue - it's a change <br>
to the tedium, if nothing else.</p>
<p>I'm left guessing what the discussion about trams and high-speed trains <br>
is really about, but it may be worth noting that there is an <br>
intermediate level of awareness which can actually be quite useful, such <br>
as timetables, route maps, destination signs on trains and so forth.</p>
<p>But if you like railway analogies - have you ever been to Karlsruhe? <br>
The city trams and high-speed trains actually use the same tracks.</p>
<p>Cheers,</p>
<p>Jeremy</p>



<a name="294227782"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294227782" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294227782">(Aug 19 2022 at 09:21)</a>:</h4>
<p>From: Jens Doll &lt;<a href="mailto:jd@cococo.de">jd@cococo.de</a>&gt;<br>
Hello all,</p>
<p>when viewing the file Vickrey.thy from Tim I almost fell from my chair. <br>
It has 22 pages of code and that seems to be a normal length for Isabelle.</p>
<p>Does anyone know how to shorten these artefacts or could someone explain <br>
to me why proofs have to be that long?</p>
<p>Jens</p>



<a name="294227946"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294227946" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294227946">(Aug 19 2022 at 09:22)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Jens,</p>
<p>I don't know if this is a factor in this particular set of proofs, but <br>
often a particular sequence of proof steps is reused repeatedly. </p>
<p>In such a case it is advantageous not to have to write them all down <br>
repeatedly, but to reuse them. </p>
<p>The Standard ML interface to Isabelle is ideally suited to this <br>
purpose.  Unfortunately its use has become actively discouraged in <br>
recent years.</p>
<p>To illustrate, here are some bits of a proof script of mine which makes <br>
good use of the Standard ML interface.</p>
<p>fun mctrtac sg st = FIRST [ atac sg, (match_tac [mstrctr.ctr] sg),<br>
  ((resolve_tac [mstrctr.Comma, mstrctr.Star] THEN_ALL_NEW mctrtac) sg),<br>
  (rtac mstrctr.same sg) ] st ;</p>
<p>fun dvi_ctr_tacs dths = [<br>
  (rtac ex_conjI), (rtac mseqctr.I), mctrtac, mctrtac,<br>
  (eresolve_tac [der_asm, dd1th] THEN_ALL_NEW<br>
    resolve_tac dths THEN_ALL_NEW ssai_tac) ] ;</p>
<p>fun init_dvi_ctr_tacs dths = [<br>
  (* ensure only desired occurrence of rule is expanded *)<br>
  Clarsimp_tac, dtac trans, (clarsimp_tac (cesimps rule_defs)),<br>
  rtac refl, Clarsimp_tac,<br>
  (SELECT_GOAL (EVERY [<br>
    (* split up say F delible from (X,Y),Z |- W into cases:<br>
      F (with stars) is X,Y or Z, or F is delible from X,Y,Z or W *)<br>
    (REPEAT_SOME (eresolve_tac [mseqctr.elim,<br>
        mstrctr_CommaR, mstrctr_StarR, mstrctr_IR]<br>
      THEN_ALL_NEW Clarsimp_tac)),<br>
    (* when deletion to substituted variable in rule *)<br>
    TRYALL (EVERY' (dvi_ctr_tacs dths)) ])) ] ;</p>
<p>fun xstacs th = [<br>
  (rtac ex_conjI 1), (etac dd1th 2),<br>
  ((rtac th THEN_ALL_NEW ssai_tac) 2),<br>
  (rtac mseqctr.I 1), mctrtac 1, mctrtac 1 ] ;</p>
<p>val th = rdp (tn [dca1, dppsA, dica1, dassoc]) ;</p>
<p>in the above, each additional theorem in the list of arguments to tn <br>
involves several proof steps</p>
<p>val ctr_assoc_tacs = [<br>
  (EVERY' (init_dvi_ctr_tacs [dassoc]) 1),<br>
  (EVERY (xstacs ([dassoc, dassoc] MRS duA2))),<br>
  (EVERY (xstacs th)) ] ;</p>
<p>(and twelve more rather like ctr_assoc_tacs, just a bit different)</p>
<p>val ctr_tacs = [ EVERY init_ctr_tacs,<br>
  EVERY ctr_assoc_tacs,<br>
  EVERY ctr_ica1_tacs, EVERY ctr_ica2_tacs,<br>
  EVERY ctr_ics1_tacs, EVERY ctr_ics2_tacs,<br>
  (EVERY' (init_dvi_ctr_tacs [dastars]) 1),<br>
  (EVERY' (init_dvi_ctr_tacs [dassA]) 1),<br>
  EVERY ctr_ca1_tacs, EVERY ctr_ca2_tacs,<br>
  EVERY ctr_cs1_tacs, EVERY ctr_cs2_tacs,<br>
  EVERY ctr_rstars_tacs, EVERY ctr_rssA_tacs ] ;</p>
<p>If I had written this out in the modern style (using Isar) the above <br>
would expand to thousands, probably tens of thousands, of lines of code.</p>
<p>Cheers,</p>
<p>Jeremy Dawson</p>
<p>Jens Doll wrote:</p>



<a name="294228060"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294228060" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294228060">(Aug 19 2022 at 09:23)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c-sterna@jaist.ac.jp">c-sterna@jaist.ac.jp</a>&gt;<br>
Almost always, it is possible to considerably shorten proofs by use (and <br>
proper setup) of automated techniques (maybe even more so when using <br>
Isabelle/ML). The other extreme is to explicitly write every single step <br>
in Isar (as I know from myself and many students I taught, mostly <br>
beginners use this kind of proofs... of course it also depends on your <br>
intended audience).</p>
<p>In my opinion both extremes are bad. It is an art (as is often pointed <br>
out in Isar related manuals) to write Isar proofs that are readable yet <br>
not too verbose. But if you master this art, the gain is that others can <br>
actually read your proofs and follow the steps without even starting <br>
Isabelle (which is definitely not the case with the technique shown by <br>
Jeremy; so I would rather use that technique that are considered <br>
"trivial" by humans... but then again humans are often wrong in their <br>
initial judgment of what is trivial ;)).</p>
<p>I guess what I want to say is that no, proofs do not have to be <br>
exceedingly long in many cases, but sometimes long versions (or rather <br>
versions of appropriate length) are much better to read and maintain.</p>
<p>cheers</p>
<p>chris</p>



<a name="294228266"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294228266" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294228266">(Aug 19 2022 at 09:24)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
As far as I am concerned, I never discouraged the use of Isabelle/ML, it <br>
merely came out of use as proof scripting languages, because there are <br>
better ways these days.  Christian Sternagel has already hinted at the <br>
fine art to combine structured Isar proof elements, and an assorted <br>
collection with proof tools.</p>
<p>If you still want to have hard-core quick script hacking, the community <br>
for that is centered around SSReflect, which is continuing traditions of <br>
APL for proof recording.  The scripts then come out very tight and terse, <br>
by experts for experts.</p>
<p>I am still keen to seen such a quick-hacking approach turned into proper <br>
use for an advanced Prover IDE: instead of recording the gesticulation of <br>
the author in the script, it would produce a nice structured, readable, <br>
maintainable proof document.</p>
<p>Makarius</p>



<a name="294228303"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Length%20of%20Proofs/near/294228303" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Length.20of.20Proofs.html#294228303">(Aug 19 2022 at 09:25)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
Makarius,</p>
<p>My understanding has been that you - or someone - introduced new <br>
features in Isabelle which were accessible only from Isar, not from the <br>
Standard ML interface.</p>
<p>In my book this discourages the use of Standard ML, and also provides an <br>
explanation for it having "come out of use", regardless of its relative <br>
merits as a user interface language.</p>
<p>I don't understand your reference to SSReflect.  How would that help me <br>
do Isabelle proofs?</p>
<p>Jeremy</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>