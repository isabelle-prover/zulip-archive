<html>
<head><meta charset="utf-8"><title>[isabelle] Linear Ordering for nat list · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html">[isabelle] Linear Ordering for nat list</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294157069"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294157069" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294157069">(Aug 18 2022 at 19:40)</a>:</h4>
<p>From: "Aaron W. Hsu" &lt;<a href="mailto:arcfide@sacrideo.us">arcfide@sacrideo.us</a>&gt;<br>
I want to do something like "Max {[0,1],[1,0]}" but I think that I need <br>
to somehow define a linear ordering on "nat list", am I right?  Is there <br>
somewhere that I can read about how to do this?</p>



<a name="294157204"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294157204" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294157204">(Aug 18 2022 at 19:41)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:jpw48@cam.ac.uk">jpw48@cam.ac.uk</a>&gt;<br>
I reckon this is a job for isabelle's "type classes". You should make an instantiation of the "linorder" class (defined in <a href="http://isabelle.in.tum.de/library/HOL/Orderings.html">http://isabelle.in.tum.de/library/HOL/Orderings.html</a>) for nat lists.</p>



<a name="294157362"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294157362" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294157362">(Aug 18 2022 at 19:42)</a>:</h4>
<p>From: "Aaron W. Hsu" &lt;<a href="mailto:arcfide@sacrideo.us">arcfide@sacrideo.us</a>&gt;<br>
Thank you!  I have not used type classes before, but after reading about <br>
them, I think I can make it work.</p>



<a name="294157698"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294157698" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294157698">(Aug 18 2022 at 19:45)</a>:</h4>
<p>From: Peter Gammie &lt;<a href="mailto:peteg42@gmail.com">peteg42@gmail.com</a>&gt;<br>
Before you do, have a poke around the Isabelle sources. There are a few theories about list orders already in there (e.g. "Length Lexicographic Ordering" in src/HOL/List.thy and probably a prefix order somewhere).</p>
<p>cheers<br>
peter</p>



<a name="294158536"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294158536" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294158536">(Aug 18 2022 at 19:50)</a>:</h4>
<p>From: "Aaron W. Hsu" &lt;<a href="mailto:arcfide@sacrideo.us">arcfide@sacrideo.us</a>&gt;<br>
Maybe I am going about this the wrong way.  What I really want to do is <br>
to be able to talk about the greatest element in the domain of a function <br>
whose domain is finite. I want this for two reasons, but one of them is <br>
because I want to state that a property that defines a subset of these <br>
functions that map their domains completely.  The way I was thinking of <br>
doing this was getting the Max element of the domain and then saying <br>
something like "domain f = {x. low domain f &lt;= x &lt; max domain f}" or some <br>
such.</p>
<p>Am I completely off base here?</p>



<a name="294159453"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294159453" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294159453">(Aug 18 2022 at 19:56)</a>:</h4>
<p>From: Peter Gammie &lt;<a href="mailto:peteg42@gmail.com">peteg42@gmail.com</a>&gt;<br>
On 02/05/2012, at 1:58 PM, Aaron W. Hsu wrote:</p>
<blockquote>
<p>On Wed, 02 May 2012 11:14:33 +1000, Peter Gammie wrote:</p>
<blockquote>
<p>Before you do, have a poke around the Isabelle sources. There are a few<br>
theories about list orders already in there (e.g. "Length Lexicographic<br>
Ordering" in src/HOL/List.thy and probably a prefix order somewhere).</p>
</blockquote>
<p>Maybe I am going about this the wrong way.  What I really want to do is <br>
to be able to talk about the greatest element in the domain of a function <br>
whose domain is finite.</p>
</blockquote>
<p>The greatest element of a finite set? Take a look at the Finite_Set theory - max is commutative so you can use the fold combinator for finite sets.</p>
<blockquote>
<p>I want this for two reasons, but one of them is <br>
because I want to state that a property that defines a subset of these <br>
functions that map their domains completely.  The way I was thinking of <br>
doing this was getting the Max element of the domain and then saying <br>
something like "domain f = {x. low domain f &lt;= x &lt; max domain f}" or some <br>
such.</p>
<p>Am I completely off base here?</p>
</blockquote>
<p>I don't know.</p>
<p>One approach is simply to carry around a predicate that indicates where the function is defined.</p>
<p>You can see another approach in HOLCF, where the "('a, 'b) cfun" type constructor identifies the subset of HOL functions that are continuous. Coarsely put all lemmas that require continuity then have it as a side condition, e.g. beta_cfun.</p>
<p>See also Alex Krauss's descriptions of his fun package, which has some treatment of partially-defined functions.</p>
<p>It depends on how your domains and functions are parameterised. Perhaps you can give us more information on what you're trying to do.</p>
<p>cheers<br>
peter</p>



<a name="294160271"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294160271" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294160271">(Aug 18 2022 at 20:01)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Warning: HOL functions are total, there is no notion of a domain. That is, the<br>
domain is always the whole type. If you want to express that the function is<br>
partial, you need to do so explicitly. Peter already suggested carrying the<br>
domain around explicitly or using HOLCF. Making it a function to type "option"<br>
is another option ;-)</p>
<p>Tobias</p>



<a name="294160282"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294160282" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294160282">(Aug 18 2022 at 20:01)</a>:</h4>
<p>From: "Aaron W. Hsu" &lt;<a href="mailto:arcfide@sacrideo.us">arcfide@sacrideo.us</a>&gt;<br>
I am trying to come up with a basic notion of multi-dimensional arrays <br>
that I can use to model some things. Specifically, these arrays should <br>
map indices to specific values, be finite, and should be dense. The most <br>
basic thing I want to do with them is to get the shape. This, I want to <br>
have functions with the following type:</p>
<p>f :: "'a array =&gt; 'a array" </p>
<p>And similar. The property of density is the one I am having trouble with <br>
right now.  I want to state that for an array of a given shape, all of <br>
the indices of the given shape from [0,...,0] to [n_1-1,...,n_r-1] are <br>
defined, but no others, assuming that the array is of rank r, where n_i <br>
is the size of the array in dimension i, with 1 &lt;= i &lt;= r.</p>
<p>Any suggestions on the best way to model this would be appreciated.  <br>
Right now I am using Map.</p>



<a name="294160302"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Linear%20Ordering%20for%20nat%20list/near/294160302" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Linear.20Ordering.20for.20nat.20list.html#294160302">(Aug 18 2022 at 20:01)</a>:</h4>
<p>From: Ramana Kumar &lt;<a href="mailto:rk436@cam.ac.uk">rk436@cam.ac.uk</a>&gt;<br>
One simplistic approach to modelling those arrays would be to represent an<br>
array as a triple (or, better, a record) of a size (of type nat) a<br>
dimension (of type nat) and a function (of type nat list =&gt; 'a option).<br>
Then define a predicate isArray :: 'a array_record =&gt; bool, which is<br>
something along the lines of<br>
isArray a = forall ls. (length ls = a.dimension) and (forall x. member x ls<br>
==&gt; x &lt; a.size) &lt;=&gt; not (a.f ls = NONE)<br>
which says that the function is equal to some value exactly when the index<br>
list is valid.<br>
(sorry I don't know the exact Isabelle syntax for that statement above - I<br>
usually use a different theorem prover. hopefully my pseudocode is clear.)</p>
<p>You could then either carry that isArray predicate as a precondition on<br>
most everything you prove (you could use locales to make that easier, i.e.<br>
you wouldn't have to keep typing it out), or you could use isArray to<br>
actually define a new array type, where all of those arrays would be valid,<br>
but that may make it harder to reason about them, depending on what kind of<br>
reasoning you need to do.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>