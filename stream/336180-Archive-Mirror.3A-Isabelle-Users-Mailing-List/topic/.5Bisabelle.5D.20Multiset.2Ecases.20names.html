<html>
<head><meta charset="utf-8"><title>[isabelle] Multiset.cases names · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Multiset.2Ecases.20names.html">[isabelle] Multiset.cases names</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294271736"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Multiset.cases%20names/near/294271736" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Multiset.2Ecases.20names.html#294271736">(Aug 19 2022 at 13:57)</a>:</h4>
<p>From: René Thiemann &lt;<a href="mailto:rene.thiemann@uibk.ac.at">rene.thiemann@uibk.ac.at</a>&gt;<br>
Dear all,</p>
<p>I was wondering about the case-names of multiset_cases in Multiset.thy:</p>
<p>lemma multiset_cases [cases type, case_names empty add]:<br>
assumes em:  "M = {#} ==&gt; P"<br>
assumes add: "!! N x. M = N + {#x#} ==&gt; P"<br>
shows "P"<br>
  sorry</p>
<p>lemma "foo = {#}"<br>
proof (cases foo)<br>
  print_cases<br>
  (* case names 1 and 2 *)<br>
oops</p>
<p>So, the names "add" and "empty" for cases are not used at all.</p>
<p>If however, one would have declared </p>
<p>lemma multiset_cases [cases type, case_names empty add]:<br>
assumes em:  "M = {#} ⟹ P"<br>
assumes add: "!! N x. M = N + {#x#} ⟹ P"<br>
shows "P"<br>
  sorry</p>
<p>then everything works as expected</p>
<p>lemma "foo = {#}"<br>
proof (cases foo)<br>
  print_cases<br>
  (* case names empty and add *)<br>
oops</p>
<p>Perhaps this should be changed in a future release.<br>
Kind regards,<br>
René</p>



<a name="294271780"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Multiset.cases%20names/near/294271780" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Multiset.2Ecases.20names.html#294271780">(Aug 19 2022 at 13:57)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 03.03.2014 09:43, René Thiemann wrote:</p>
<blockquote>
<p>Dear all,</p>
<p>I was wondering about the case-names of multiset_cases in Multiset.thy:</p>
<p>lemma multiset_cases [cases type, case_names empty add]:<br>
assumes em:  "M = {#} ==&gt; P"<br>
assumes add: "!! N x. M = N + {#x#} ==&gt; P"<br>
shows "P"<br>
  sorry</p>
<p>lemma "foo = {#}"<br>
proof (cases foo)<br>
  print_cases<br>
  (* case names 1 and 2 *)<br>
oops</p>
<p>So, the names "add" and "empty" for cases are not used at all.</p>
<p>If however, one would have declared </p>
<p>lemma multiset_cases [cases type, case_names empty add]:<br>
assumes em:  "M = {#} ⟹ P"<br>
assumes add: "!! N x. M = N + {#x#} ⟹ P"<br>
shows "P"<br>
  sorry<br>
I guess you meant [case_names empty add, cases type]?<br>
Perhaps this should be changed in a future release.<br>
Indeed.</p>
</blockquote>



<a name="294271831"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Multiset.cases%20names/near/294271831" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Multiset.2Ecases.20names.html#294271831">(Aug 19 2022 at 13:57)</a>:</h4>
<p>From: René Thiemann &lt;<a href="mailto:rene.thiemann@uibk.ac.at">rene.thiemann@uibk.ac.at</a>&gt;<br>
Ah, indeed, bad copy &amp; paste mistake.</p>



<a name="294271937"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Multiset.cases%20names/near/294271937" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Multiset.2Ecases.20names.html#294271937">(Aug 19 2022 at 13:58)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Before there are more copy-paste accidents, just note that such <br>
elimination rules can be written in a more structured way:</p>
<p>lemma multiset_cases [cases type]:<br>
     obtains (empty) "M = {#}"<br>
       | (add) N x where "M = N + {#x#}"</p>
<p>Here the case_names are already included, and the chance for mistakes <br>
reduced.  (There is no such form for induction rules, though.)</p>
<p>Further fine-points of ongoing Multiset library changes should probably be <br>
discussed on isabelle-dev.  Tobias has already applied some of your <br>
patches, so it has become part of the development process.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>