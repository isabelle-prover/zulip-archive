<html>
<head><meta charset="utf-8"><title>[isabelle] Nat theory proofs · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Nat.20theory.20proofs.html">[isabelle] Nat theory proofs</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294070126"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Nat%20theory%20proofs/near/294070126" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Nat.20theory.20proofs.html#294070126">(Aug 18 2022 at 12:47)</a>:</h4>
<p>From: TIMOTHY KREMANN &lt;<a href="mailto:twksoa262@verizon.net">twksoa262@verizon.net</a>&gt;<br>
I am trying to prove:</p>
<p>lemma nataba: "\&lt;forall&gt; a b. (b::nat) &lt; a --&gt; a * a - (2 * b * a - b * b) = <br>
                              a * a - 2 * a * b + b * b"</p>
<p>But Isabelle returns this text when I enter the above:</p>
<p>proof (prove): step 0</p>
<p>goal (1 subgoal):</p>
<ol>
<li>\&lt;forall&gt; a b.<br>
       b &lt; a --&gt;<br>
       a * a - (2 * b * a - b * b) =<br>
       a * a - 2 * a * b + b * b</li>
</ol>
<p>Counterexample found:</p>
<p>a = Suc (Suc (Suc 0))<br>
b = Suc (Suc 0)</p>
<p>Can someone explain to me how 1 = 1 is a counterexample?</p>
<p>Thanks,<br>
Tim</p>



<a name="294070137"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Nat%20theory%20proofs/near/294070137" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Nat.20theory.20proofs.html#294070137">(Aug 18 2022 at 12:47)</a>:</h4>
<p>From: TIMOTHY KREMANN &lt;<a href="mailto:twksoa262@verizon.net">twksoa262@verizon.net</a>&gt;<br>
Sorry, the 2 had type 'a. <br>
Tim</p>



<a name="294070146"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Nat%20theory%20proofs/near/294070146" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Nat.20theory.20proofs.html#294070146">(Aug 18 2022 at 12:48)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
Hi Tim,</p>
<p>Your confusion is probably caused by a misunderstanding about how  <br>
subtraction is defined on type nat. If you subtract a larger number  <br>
from a smaller, the result is defined to be zero. For example, at type  <br>
nat, 3 - 5 = 0.</p>
<p>In your example, with a = 3 and b = 2, the left hand side evaluates to<br>
a * a - (2 * b * a - b * b) = 3 * 3 - (2 * 2 * 3 - 2 * 2) = 9 - (12 -  <br>
4) = 9 - 8 = 1</p>
<p>while the right hand side evaluates to<br>
(a * a - 2 * a * b) + b * b = (3 * 3 - 2 * 3 * 2) + 2 * 2 = (9 - 12) +  <br>
4 = 0 + 4 = 4</p>
<p>So this is indeed a counterexample.</p>
<p>You might be able to prove your lemma if you add more side conditions  <br>
to ensure that a * a is always greater than or equal to 2 * a * b, so  <br>
the subtraction won't underflow to zero. I think that a &lt;= 2 * b would  <br>
probably work.</p>
<p>Hope this helps,</p>
<ul>
<li>Brian</li>
</ul>
<p>Quoting TIMOTHY KREMANN &lt;<a href="mailto:twksoa262@verizon.net">twksoa262@verizon.net</a>&gt;:</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>