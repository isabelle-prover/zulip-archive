<html>
<head><meta charset="utf-8"><title>[isabelle] Non-ASCII characters and unsupported text stru... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html">[isabelle] Non-ASCII characters and unsupported text stru...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294757912"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294757912" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294757912">(Aug 22 2022 at 19:58)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Hello!</p>
<p>What is the recommended way of embedding non-ASCII characters in<br>
ordinary text (headlines and paragraph contents)? In actual Isabelle<br>
code, I have access to the “infinite number of non-ASCII symbols” but<br>
not in ordinary text as far as I can see.</p>
<p>I know that I can embed LaTeX source code that produces the desired<br>
symbols, but that seems too low-level to me. Is there a way to enter<br>
characters like no-break spaces and proper quotation marks (“ and ”)<br>
directly?</p>
<p>Another thing are structures that aren’t currently supported by<br>
Isabelle’s markup language. In particular I wonder how to properly embed<br>
citations. Sure, I can use LaTeX source code again, but I’m wondering<br>
whether it’s also possible to have an Isabelle construct, perhaps user-<br>
defined, like <code>\&lt;cite&gt;‹…›</code>.</p>
<p>Regarding LaTeX source code, I discovered that it is possible to embed<br>
it directly into the contents of <code>text</code>, <code>section</code>, and such. Is this<br>
intentional or is it just that it happens to work with the current<br>
Isabelle implementation? On the other hand, there is the <code>\&lt;latex&gt;‹…›</code><br>
construct, which doesn’t seem to be documented (I found it via the IDE’s<br>
completion mechanism). Is this construct preferred over just embedding<br>
LaTeX source code? Does it differ from plain embedding?</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294759363"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294759363" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294759363">(Aug 22 2022 at 20:07)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Hi!</p>
<p>I’d be glad if anyone could answer at least some of the questions I<br>
raised in my e-mail below. I’d like to write the documentation of my<br>
Isabelle code properly, for which feedback on these matters would be<br>
necessary. Thanks in advance.</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294759988"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294759988" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294759988">(Aug 22 2022 at 20:11)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Am Montag, den 01.07.2019, 10:48 +1000 schrieb Peter Gammie:</p>
<blockquote>
<p>Wolfgang,</p>
<p>I don’t know what the state of the art is, or where documentation<br>
things are headed, but I’ll try to give you some pointers anyway.</p>
</blockquote>
<p>Dear Peter,</p>
<p>thanks a lot for your explanations. Below are my responses to them.</p>
<blockquote>
<blockquote>
<p>What is the recommended way of embedding non-ASCII characters in<br>
ordinary text (headlines and paragraph contents)? In actual Isabelle<br>
code, I have access to the “infinite number of non-ASCII symbols”<br>
but not in ordinary text as far as I can see.</p>
</blockquote>
<p>The Isabelle docs suggest that UTF-8 is OK in these contexts. See (I<br>
think) the Isabelle/jEdit manual.</p>
<blockquote>
<p>I know that I can embed LaTeX source code that produces the desired<br>
symbols, but that seems too low-level to me. Is there a way to enter<br>
characters like no-break spaces and proper quotation marks (“ and ”)<br>
directly?</p>
</blockquote>
<p>I don’t know anything about entering these characters. I’d suggest you<br>
use your favourite editor on the thy file directly. I get the<br>
impression that modern LaTeX can eat UTF8 OK.</p>
</blockquote>
<p>Hmm, when I enter a non-ASCII character into an Isabelle/jEdit buffer, I<br>
cannot be sure that it will make it into the file in UTF-8-encoded form<br>
when saving. I think it works in practice for symbols like “ and ”.<br>
However, if I enter the Greek letter γ, for example, it will be saved to<br>
the file as <code>\&lt;gamma&gt;</code>. If it appears in documentation text, outside of<br>
actual Isabelle code, this <code>\&lt;gamma&gt;</code> will end up verbatim in the<br>
generated LaTeX source code, causing an error.</p>
<p>So apparently it would work to place a symbol like “ or ” into the<br>
documentation part of an Isabelle file and having it transferred to the<br>
generated LaTeX file and finally processed correctly by LaTeX using some<br>
sort of LaTeX UTF-8 support. However, this would work only because<br>
symbols like “ and ” don’t have an Isabelle encoding in the form <code>\&lt;…&gt;</code>.<br>
As soon as they’d get one, we would run into the same problem as with<br>
the γ above.</p>
<blockquote>
<blockquote>
<p>Another thing are structures that aren’t currently supported by<br>
Isabelle’s markup language. In particular I wonder how to properly<br>
embed citations. Sure, I can use LaTeX source code again, but I’m<br>
wondering whether it’s also possible to have an Isabelle construct,<br>
perhaps user-defined, like <code>\&lt;cite&gt;‹…›</code>.</p>
</blockquote>
<p>There is a <code>cite</code> antiquotation. Try completing on <code>print_</code> in<br>
Isabelle/jEdit. One of those will give you a list of antiquotations. </p>
</blockquote>
<p>Amazing! I had looked for antiquotations in the Isabelle/Isar Reference<br>
Manual but somehow overlooked the part that talks about <code>\&lt;^cite&gt;</code>.<br>
Strangely enough, <code>\&lt;^cite&gt;</code> doesn’t appear in the auto-completion list<br>
(in Isabelle2018 at least).</p>
<blockquote>
<p>To figure out their arguments you can trawl the docs, grep the<br>
Isabelle source code, or grep the AFP. Once you get to some steady-<br>
state the NEWS file is handy.</p>
</blockquote>
<p>Hmm, so far I had assumed that all antiquotations are documented in the<br>
Isabelle/Isar Reference Manual, but apparently there are some that<br>
aren’t.</p>
<blockquote>
<blockquote>
<p>Regarding LaTeX source code, I discovered that it is possible to<br>
embed it directly into the contents of <code>text</code>, <code>section</code>, and such.<br>
Is this intentional or is it just that it happens to work with the<br>
current Isabelle implementation?</p>
</blockquote>
<p>AFAIK this is what everyone has always done and will be doing for a<br>
while yet. Makarius appears to be steadily adding more semi-formal<br>
markup (? - I might be misusing that term) — \&lt;^item&gt; being one thing<br>
that sticks in my mind, and the absence so far of a \label{..}<br>
replacement.</p>
</blockquote>
<p>I really like this trend of having more and more markup for<br>
documentation text.</p>
<blockquote>
<blockquote>
<p>On the other hand, there is the <code>\&lt;latex&gt;‹…›</code> construct, which<br>
doesn’t seem to be documented (I found it via the IDE’s<br>
completion mechanism). Is this construct preferred over just<br>
embedding LaTeX source code? Does it differ from plain embedding?</p>
</blockquote>
<p>I don’t know. Perhaps try to find uses of <code>\&lt;latex&gt;</code> in the AFP or<br>
HOL.</p>
</blockquote>
<p>There seems to be absolutely no occurrence of <code>\&lt;latex&gt;</code> in the Isabelle<br>
standard library.</p>
<blockquote>
<p>I wonder why you found this construct but not the <code>cite</code><br>
antiquotation. Perhaps that would be useful feedback on feature<br>
discovery / the utility of the documentation.</p>
</blockquote>
<p>I found <code>\&lt;latex&gt;</code> only by accident in the completion pop-up window when<br>
looking for something else. As I mentioned above, <code>\&lt;^cite&gt;</code> doesn’t<br>
appear in the completion list, and the list of antiquotations in the<br>
Isabelle/Isar Reference Manual is incomplete.</p>
<blockquote>
<p>cheers,<br>
peter</p>
</blockquote>
<p>All the best,<br>
Wolfgang</p>



<a name="294760007"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760007" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760007">(Aug 22 2022 at 20:11)</a>:</h4>
<p>From: Peter Gammie &lt;<a href="mailto:peteg42@gmail.com">peteg42@gmail.com</a>&gt;<br>
Wolfgang,</p>
<p>I don’t know what the state of the art is, or where documentation things are headed, but I’ll try to give you some pointers anyway.</p>
<blockquote>
<p>On 12 Jun 2019, at 05:13, Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt; wrote:</p>
<p>What is the recommended way of embedding non-ASCII characters in<br>
ordinary text (headlines and paragraph contents)? In actual Isabelle<br>
code, I have access to the “infinite number of non-ASCII symbols” but<br>
not in ordinary text as far as I can see.</p>
</blockquote>
<p>The Isabelle docs suggest that UTF-8 is OK in these contexts. See (I think) the Isabelle/jEdit manual.</p>
<blockquote>
<p>I know that I can embed LaTeX source code that produces the desired<br>
symbols, but that seems too low-level to me. Is there a way to enter<br>
characters like no-break spaces and proper quotation marks (“ and ”)<br>
directly?</p>
</blockquote>
<p>I don’t know anything about entering these characters. I’d suggest you use your favourite editor on the thy file directly. I get the impression that modern LaTeX can eat UTF8 OK.</p>
<blockquote>
<p>Another thing are structures that aren’t currently supported by<br>
Isabelle’s markup language. In particular I wonder how to properly embed<br>
citations. Sure, I can use LaTeX source code again, but I’m wondering<br>
whether it’s also possible to have an Isabelle construct, perhaps user-<br>
defined, like <code>\&lt;cite&gt;‹…›</code>.</p>
</blockquote>
<p>There is a <code>cite</code> antiquotation. Try completing on <code>print_</code> in Isabelle/jEdit. One of those will give you a list of antiquotations. To figure out their arguments you can trawl the docs, grep the Isabelle source code, or grep the AFP. Once you get to some steady-state the NEWS file is handy.</p>
<p>Here’s an example: @{cite [cite_macro=citet] "Winskel:1993”}. Note that <code>citet</code> is a LaTeX macro — in this case a natbib one.</p>
<p>It seems that loading the corresponding BibTeX file into Isabelle/jEdit enables hyperlinks.</p>
<blockquote>
<p>Regarding LaTeX source code, I discovered that it is possible to embed<br>
it directly into the contents of <code>text</code>, <code>section</code>, and such. Is this<br>
intentional or is it just that it happens to work with the current<br>
Isabelle implementation?</p>
</blockquote>
<p>AFAIK this is what everyone has always done and will be doing for a while yet. Makarius appears to be steadily adding more semi-formal markup (? - I might be misusing that term) — \&lt;^item&gt; being one thing that sticks in my mind, and the absence so far of a \label{..} replacement.</p>
<blockquote>
<p>On the other hand, there is the <code>\&lt;latex&gt;‹…›</code><br>
construct, which doesn’t seem to be documented (I found it via the IDE’s<br>
completion mechanism). Is this construct preferred over just embedding<br>
LaTeX source code? Does it differ from plain embedding?</p>
</blockquote>
<p>I don’t know. Perhaps try to find uses of <code>\&lt;latex&gt;</code> in the AFP or HOL. Historically there were things like <code>text_raw</code> that suppressed the default Isabelle armour. See e.g. the possibly-obsolete <a href="https://isabelle.in.tum.de/community/Generate_TeX_Snippets">https://isabelle.in.tum.de/community/Generate_TeX_Snippets</a></p>
<p>I wonder why you found this construct but not the <code>cite</code> antiquotation. Perhaps that would be useful feedback on feature discovery / the utility of the documentation.</p>
<p>cheers,<br>
peter</p>



<a name="294760091"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760091" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760091">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: Peter Gammie &lt;<a href="mailto:peteg42@gmail.com">peteg42@gmail.com</a>&gt;<br>
Wolfgang,</p>
<blockquote>
<p>On 5 Jul 2019, at 03:07, Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt; wrote:</p>
<p>Hmm, when I enter a non-ASCII character into an Isabelle/jEdit buffer, I<br>
cannot be sure that it will make it into the file in UTF-8-encoded form<br>
when saving. I think it works in practice for symbols like “ and ”.<br>
However, if I enter the Greek letter γ, for example, it will be saved to<br>
the file as <code>\&lt;gamma&gt;</code>. If it appears in documentation text, outside of<br>
actual Isabelle code, this <code>\&lt;gamma&gt;</code> will end up verbatim in the<br>
generated LaTeX source code, causing an error.</p>
</blockquote>
<p>Err, right. So I think you’re supposed to say @{text “\&lt;gamma&gt;”} or even better, use @{const “…”} or @{term “…”} etc. for symbols that Isabelle knows about. There’s a list in the Isabelle repo/distribution <code>etc/symbols</code>.</p>
<p>Yes, you’d probably struggle to write Greek words in a <code>text</code> block.</p>
<blockquote>
<p>So apparently it would work to place a symbol like “ or ” into the<br>
documentation part of an Isabelle file and having it transferred to the<br>
generated LaTeX file and finally processed correctly by LaTeX using some<br>
sort of LaTeX UTF-8 support. However, this would work only because<br>
symbols like “ and ” don’t have an Isabelle encoding in the form <code>\&lt;…&gt;</code>.<br>
As soon as they’d get one, we would run into the same problem as with<br>
the γ above.</p>
</blockquote>
<p>Indeed. You could define your own Isabelle symbols for these, but I’m not sure it’ll look great. How about the standard LaTeX `` ‘'?</p>
<p>I think it’s clear what needs doing from the <code>symbols</code> file and the LaTeX errors you’ll get.</p>
<blockquote>
<p>Hmm, so far I had assumed that all antiquotations are documented in the<br>
Isabelle/Isar Reference Manual, but apparently there are some that<br>
aren’t.</p>
</blockquote>
<p>I’d get used to spelunking the source code. You can try in Isabelle/jEdit (try CMD/Ctrl-click on promising things) and follow it up with grep…</p>
<p>cheers,<br>
peter</p>



<a name="294760108"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760108" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760108">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Am Samstag, den 06.07.2019, 20:32 +1000 schrieb Peter Gammie:</p>
<blockquote>
<blockquote>
<p>Hmm, when I enter a non-ASCII character into an Isabelle/jEdit<br>
buffer, I cannot be sure that it will make it into the file in<br>
UTF-8-encoded form when saving. I think it works in practice for<br>
symbols like “ and ”. However, if I enter the Greek letter γ, for<br>
example, it will be saved to the file as <code>\&lt;gamma&gt;</code>. If it appears<br>
in documentation text, outside of actual Isabelle code, this<br>
<code>\&lt;gamma&gt;</code> will end up verbatim in the generated LaTeX source code,<br>
causing an error.</p>
</blockquote>
<p>Err, right. So I think you’re supposed to say @{text “\&lt;gamma&gt;”} or<br>
even better, use @{const “…”} or @{term “…”} etc. for symbols that<br>
Isabelle knows about.</p>
</blockquote>
<p>That would be correct only when these symbols are Isabelle identifiers.<br>
For writing something like “π-calculus” or “η-expansion”, it would be<br>
semantically incorrect (although it would produce the correct output).</p>
<blockquote>
<blockquote>
<p>So apparently it would work to place a symbol like “ or ” into the<br>
documentation part of an Isabelle file and having it transferred to<br>
the generated LaTeX file and finally processed correctly by LaTeX<br>
using some sort of LaTeX UTF-8 support. However, this would work<br>
only because symbols like “ and ” don’t have an Isabelle encoding in<br>
the form <code>\&lt;…&gt;</code>. As soon as they’d get one, we would run into the<br>
same problem as with the γ above.</p>
</blockquote>
<p>Indeed. You could define your own Isabelle symbols for these, but I’m<br>
not sure it’ll look great. How about the standard LaTeX `` ''?</p>
</blockquote>
<p>I think that’s the way to go for now.</p>
<p>So my conclusion is:</p>
<p>* Use antiquotations whenever you embed Isabelle code into the<br>
    documentation text.</p>
<p>* Use antiquotations for markup (for example, for lists and URLs).</p>
<p>* Use LaTeX source code otherwise, particularly for non-ASCII symbols<br>
    in text (for example, ~ for no-break spaces and '' for ”).</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294760661"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760661" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760661">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 04/07/2019 19:07, Wolfgang Jeltsch wrote:</p>
<blockquote>
<p>Hmm, when I enter a non-ASCII character into an Isabelle/jEdit buffer, I<br>
cannot be sure that it will make it into the file in UTF-8-encoded form<br>
when saving. I think it works in practice for symbols like “ and ”.<br>
However, if I enter the Greek letter γ, for example, it will be saved to<br>
the file as <code>\&lt;gamma&gt;</code>. If it appears in documentation text, outside of<br>
actual Isabelle code, this <code>\&lt;gamma&gt;</code> will end up verbatim in the<br>
generated LaTeX source code, causing an error.</p>
<p>So apparently it would work to place a symbol like “ or ” into the<br>
documentation part of an Isabelle file and having it transferred to the<br>
generated LaTeX file and finally processed correctly by LaTeX using some<br>
sort of LaTeX UTF-8 support. However, this would work only because<br>
symbols like “ and ” don’t have an Isabelle encoding in the form <code>\&lt;…&gt;</code>.<br>
As soon as they’d get one, we would run into the same problem as with<br>
the γ above.</p>
</blockquote>
<p>(I am rather late on this thread, and most things have been answered<br>
already. Here are just a few side-remarks.)</p>
<p>A quick hypersearch (not grep) over $ISABELLE_HOME/src/Doc for<br>
"utf|unicode" as insensitive regexp reveals the following explanation in<br>
the Isabelle/jEdit manual:</p>
<p>The appendix of @{cite "isabelle-isar-ref"} gives an overview of the<br>
  standard interpretation of finitely many symbols from the infinite<br>
  collection. Uninterpreted symbols are displayed literally, e.g.\<br>
  ``▩‹\&lt;foobar&gt;›''. Overlap of Unicode characters used in symbol<br>
  interpretation with informal ones (which might appear e.g.\ in comments)<br>
  needs to be avoided. Raw Unicode characters within prover source files<br>
  should be restricted to informal parts, e.g.\ to write text in non-latin<br>
  alphabets in comments.</p>
<p>The correct conclusion has already been drawn on this thread: do not<br>
lean out of the window too far. Non-latin characters for Eurepean<br>
languages (excluding Greek) are fine. Odd quotation or punctuation marks<br>
are better avoided: they are somehow fragile and non-portable, even<br>
without Isabelle symbol interpretation getting in the way. (Recall that<br>
"Unicode" is not as universal and stable as its name might suggest.)</p>
<blockquote>
<blockquote>
<p>There is a <code>cite</code> antiquotation. Try completing on <code>print_</code> in<br>
Isabelle/jEdit. One of those will give you a list of antiquotations. </p>
</blockquote>
<p>Amazing! I had looked for antiquotations in the Isabelle/Isar Reference<br>
Manual but somehow overlooked the part that talks about <code>\&lt;^cite&gt;</code>.<br>
Strangely enough, <code>\&lt;^cite&gt;</code> doesn’t appear in the auto-completion list<br>
(in Isabelle2018 at least).</p>
</blockquote>
<p>I see "cite" in the index of isar-ref, and documentation on \&lt;^latex&gt; in<br>
section "3.3.5 Document comments" -- both in current Isabelle2019 and<br>
old Isabelle2018.</p>
<blockquote>
<blockquote>
<blockquote>
<p>Regarding LaTeX source code, I discovered that it is possible to<br>
embed it directly into the contents of <code>text</code>, <code>section</code>, and such.<br>
Is this intentional or is it just that it happens to work with the<br>
current Isabelle implementation?</p>
</blockquote>
<p>AFAIK this is what everyone has always done and will be doing for a<br>
while yet. Makarius appears to be steadily adding more semi-formal<br>
markup (? - I might be misusing that term) — \&lt;^item&gt; being one thing<br>
that sticks in my mind, and the absence so far of a \label{..}<br>
replacement.</p>
</blockquote>
<p>I really like this trend of having more and more markup for<br>
documentation text.</p>
</blockquote>
<p>Yes, the document source is becoming more an more formal. (Everything is<br>
somehow "source text" for different languages of Isabelle. There is no<br>
"code", unless you want to call the input program text for LaTeX like that.)</p>
<p>At some point there will be also an HTML backend to the document<br>
language, not just LaTeX. This means that hardcore LaTeX hacking might<br>
no longer work uniformly, unless restricted to small snippets in<br>
\&lt;^latex&gt;‹…› (which could be rendered via KaTeX in HTML/CSS/JS). This is<br>
still a bit speculative, though: we are not there yet.</p>
<blockquote>
<p>I found <code>\&lt;latex&gt;</code> only by accident in the completion pop-up window when<br>
looking for something else. As I mentioned above, <code>\&lt;^cite&gt;</code> doesn’t<br>
appear in the completion list, and the list of antiquotations in the<br>
Isabelle/Isar Reference Manual is incomplete.</p>
</blockquote>
<p>Generally not that \&lt;^NAME&gt; (control symbol) with a cartouche often<br>
works as replacement for old @{NAME ...}, but only if there is a single<br>
argument that is a cartouche.</p>
<p>The control symbol notation has turned out so convenient and popular,<br>
that I am tempted to discontinue the old form at some point in the<br>
future. This requires to change the syntax of various older<br>
antiquotations, notably @{cite ...}, @{thm ...}, @{lemma ...}. Almost<br>
everything else is already in proper shape: @{typ ...}, @{term ...},<br>
@{const_name ...}.</p>
<p>Makarius</p>



<a name="294760681"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760681" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760681">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 06/07/2019 12:32, Peter Gammie wrote:</p>
<blockquote>
<p>Err, right. So I think you’re supposed to say @{text “\&lt;gamma&gt;”} or even better, use @{const “…”} or @{term “…”} etc. for symbols that Isabelle knows about. There’s a list in the Isabelle repo/distribution <code>etc/symbols</code>.</p>
</blockquote>
<p>The standard way to typeset formal text (without checking) inside<br>
informal document source is just a cartouche, e.g. ‹α›. That is a short<br>
form for \&lt;^cartouche&gt; with a single cartouche argument, it abbreviates<br>
@{cartouche ...}, which in turn is an alias for the older @{text ...}.</p>
<p>As a general principle, each embedded language in Isabelle that uses<br>
antiquotations as "one shot free" for such an implicit cartouche<br>
operator. For example, the generated source in<br>
$ISABELLE_HOME/src/Tools/Haskell uses that to refer to an ML expression<br>
(of type string) that is meant to be inlined into the generated Haskell<br>
source. e.g. ‹Markup.nameN›.</p>
<blockquote>
<p>Yes, you’d probably struggle to write Greek words in a <code>text</code> block.</p>
</blockquote>
<p>Yes, this is because Unicode is a bit fragile: there are official math<br>
greek slots, but using them is too ambitious. It is outside the 16-bit<br>
range of UTF-16 (requiring surrogates that often cause problems). It<br>
also means you would hardly ever see the correct glyphs outside the<br>
Isabelle font context (e.g. in a mail client or on Stackoverflow).</p>
<p>It is a concession to quasi-portability to trade greek text for greek as<br>
mathematical symbols.</p>
<p>Makarius</p>



<a name="294760691"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760691" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760691">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
This snippet of an Isabelle comment reminds me of another question I<br>
wanted to ask: Is my assumption correct that a backslash followed by<br>
either a space or a newline with optionally some spaces afterwards is<br>
Isabelle’s representation of a no-break space and thus translated to a<br>
tilde when producing a LaTeX file?</p>
<p>All the best,<br>
Wolfgang</p>



<a name="294760703"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760703" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760703">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The Isabelle document source language merely uses plain (La)TeX<br>
conventions here: backslash-space and tilde occur like that in the<br>
generated .tex output, their meaning is defined by Knuth and Lamport.<br>
(You can use option isabelle build -o document_output=output to see the<br>
result in the "output" directory relative to the session.)</p>
<p>Whenever the update of the Isabelle document preparation system to<br>
HTML/CSS/JS happens, it will interpret these special sequences in the<br>
same manner, i.e. as some HTML non-breaking space.</p>
<p>In source text you should refrain from using Unicode space variations:<br>
it is just too confusing / fragile / non-portable.</p>
<p>Makarius</p>



<a name="294760714"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Non-ASCII%20characters%20and%20unsupported%20text%20stru.../near/294760714" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Non-ASCII.20characters.20and.20unsupported.20text.20stru.2E.2E.2E.html#294760714">(Aug 22 2022 at 20:16)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
So the backslash–tilde combination is not that Markdown extension that<br>
means a no-break space but the good old LaTeX command. Well, as a LaTeX<br>
command it only means an ordinary space; so for getting a no-break space<br>
I should use the tilde then.</p>
<p>All the best,<br>
Wolfgang</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>