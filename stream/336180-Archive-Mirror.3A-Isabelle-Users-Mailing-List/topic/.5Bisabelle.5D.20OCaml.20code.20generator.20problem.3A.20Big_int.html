<html>
<head><meta charset="utf-8"><title>[isabelle] OCaml code generator problem: Big_int · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OCaml.20code.20generator.20problem.3A.20Big_int.html">[isabelle] OCaml code generator problem: Big_int</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294090784"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OCaml%20code%20generator%20problem%3A%20Big_int/near/294090784" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OCaml.20code.20generator.20problem.3A.20Big_int.html#294090784">(Aug 18 2022 at 14:09)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt;<br>
Hi,<br>
the Ocaml code generator generates the following lines of (invalid)<br>
OCaml-Code. Note that I'm using Efficient_Nat:</p>
<p>module Integer =<br>
struct</p>
<p>let rec suc n = Big_int.add_big_int n 1;;</p>
<p>OCaml complains:</p>
<p>File "generated/Ta.ml", line 31, characters 38-39:<br>
Error: This expression has type int but an expression was expected of type<br>
         Big_int.big_int</p>
<p>I do not know much about OCaml, but I suspect there is some missing<br>
type-coercion.</p>
<p>Is there any fix to get correct generated code?</p>
<p>Many thanks in advance and regards,<br>
  Peter lammich</p>



<a name="294090812"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OCaml%20code%20generator%20problem%3A%20Big_int/near/294090812" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OCaml.20code.20generator.20problem.3A.20Big_int.html#294090812">(Aug 18 2022 at 14:09)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Peter,</p>
<blockquote>
<p>the Ocaml code generator generates the following lines of (invalid)<br>
OCaml-Code. Note that I'm using Efficient_Nat:</p>
</blockquote>
<p>this deficiency did not come to surface before the release of Isabelle<br>
2009.  A solution is to replace src/HOL/Library/Efficient_Nat.thy by<br>
<a href="http://www4.in.tum.de/~haftmann/resources/Efficient_Nat.thy">http://www4.in.tum.de/~haftmann/resources/Efficient_Nat.thy</a>.</p>
<p>Hope this helps<br>
    Florian<br>
<a href="/user_uploads/14278/57mT-5SZxiRz_dgQ75QQaEcz/signature.asc">signature.asc</a></p>



<a name="294090823"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OCaml%20code%20generator%20problem%3A%20Big_int/near/294090823" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OCaml.20code.20generator.20problem.3A.20Big_int.html#294090823">(Aug 18 2022 at 14:09)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt;<br>
Florian Haftmann wrote:<br>
Thank you very much, this helped!<br>
The generated Ocaml code now compiles.</p>
<p>Regards<br>
  Peter</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>