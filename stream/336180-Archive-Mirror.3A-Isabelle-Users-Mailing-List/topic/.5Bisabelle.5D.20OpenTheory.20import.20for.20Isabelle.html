<html>
<head><meta charset="utf-8"><title>[isabelle] OpenTheory import for Isabelle · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html">[isabelle] OpenTheory import for Isabelle</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294725387"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725387" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725387">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
If it is just for testing, how about a much smaller test case?</p>
<p>Tobias<br>
<a href="/user_uploads/14278/XfmvSNSk4O7iradpeQXLBLhW/smime.p7s">smime.p7s</a></p>



<a name="294725403"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725403" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725403">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>If it is just for testing, how about a much smaller test case?</p>
</blockquote>
<p>I have now measured what I assume is "the bare minimum". That's about<br>
3.7 MB uncompressed, and less than 750 KB compressed. That should be<br>
manageable. It includes some basic proofs on bools, naturals, lists and<br>
relations.</p>
<p>Cheers<br>
Lars</p>



<a name="294725421"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725421" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725421">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: Brandon Bohrer &lt;<a href="mailto:bbohrer@cs.cmu.edu">bbohrer@cs.cmu.edu</a>&gt;<br>
Being able to use the CakeML definitions in Isabelle via OpenTheory would<br>
be very useful to us at CMU as well, allowing us to do all our work in<br>
Isabelle instead of pulling in HOL4 as well with all the obvious<br>
implications on trusted computed base size.</p>
<p>I have no opinion whether it should go in AFP vs. somewhere else.</p>
<p>My impression from talking to Chalmers folks though is that what is really<br>
needed is someone who is willing to put in the maintenance effort and avoid<br>
bitrot like Lars says. The CakeML definitions are, unsurprisingly, complex<br>
enough that tools which haven't been maintained in years won't cut it.</p>
<p>On Thu, Feb 22, 2018 at 4:14 AM, &lt;<a href="mailto:cl-isabelle-users-request@lists.cam.ac.uk">cl-isabelle-users-request@lists.cam.ac.uk</a>&gt;<br>
wrote:</p>
<blockquote>
<p>Date: Wed, 21 Feb 2018 17:46:17 +0100<br>
From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Subject: [isabelle] OpenTheory import for Isabelle<br>
To: <a href="mailto:isabelle-users@cl.cam.ac.uk">isabelle-users@cl.cam.ac.uk</a><br>
Cc: Ramana Kumar &lt;<a href="mailto:ramana.kumar@gmail.com">ramana.kumar@gmail.com</a>&gt;<br>
Message-ID: &lt;<a href="mailto:f4dffe9e-4c4a-3e38-c5e5-ea040be0d99c@in.tum.de">f4dffe9e-4c4a-3e38-c5e5-ea040be0d99c@in.tum.de</a>&gt;<br>
Content-Type: text/plain; charset=utf-8</p>
<p>Dear list,</p>
<p>some people here might have heard of this project:</p>
<p>&lt;<a href="https://github.com/xrchz/isabelle-opentheory">https://github.com/xrchz/isabelle-opentheory</a>&gt;</p>
<p>Originally implemented by Brian Huffman for Isabelle2011 [5] it sat<br>
around for a long time, until it's been picked up by Ramana Kumar again,<br>
who thankfully ported it to Isabelle2016.</p>
<p>The current state is that it works for Isabelle2017 and can also import<br>
a lot of existing library theories form the OpenTheory repository [0].</p>
<p>Today I've updated that repository to add a ROOT file and a script to<br>
download the necessary .art file. [1]</p>
<p>I'm posting this here because that importer appears to be quite<br>
bitrot-prone. It is in a state where it is "working", but many things<br>
are unidiomatic, e.g. pervasive use of global theories and lack of<br>
parallelism. It would be a pity if it would stop working after 1–2 more<br>
Isabelle releases with nobody around to fix it.</p>
<p>I wanted to ask around what people would feel about having this importer<br>
in the AFP (I don't think it's ready for the distribution).</p>
<p>Some points for consideration:<br>
- The CakeML folks at Chalmers and apparently at Data61 are interested<br>
in using it to work with the "real" (i.e. the one in HOL4) CakeML<br>
specification in Isabelle.<br>
- Submitting CakeML to the AFP will require this (likely, eventually) [4].<br>
- The importer reads ".art" files as produced by a separate "opentheory"<br>
executable. This is related to the other thread [2] I posted here today,<br>
because something needs to produce these files.<br>
- ".art" files are relatively large. Mercurial can cope but doesn't like<br>
it very much [3]. The entirety of the required files for the test cases<br>
in the repository can be compressed by Mercurial (i.e. gzip) to ~80 MB.<br>
That's hefty. Maybe it should be an Isabelle component instead?</p>
<p>There's no particular rush for any of this. In fact, the code should<br>
probably be cleaned up a bit before it goes anywhere "official".</p>
<p>Cheers<br>
Lars</p>
<p>[0] &lt;<a href="http://opentheory.gilith.com/">http://opentheory.gilith.com/</a>&gt;</p>
<p>[1] Instructions: &lt;<a href="https://github.com/xrchz/isabelle-opentheory/pull/1">https://github.com/xrchz/isabelle-opentheory/pull/1</a>&gt;</p>
<p>[2]<br>
&lt;<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2018-February/msg00089.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2018-February/msg00089.html</a></p>
<p>[3] You'll get messages like:</p>
<p><a href="http://hol-words-1.2.art">hol-words-1.2.art</a>: up to 266 MB of RAM may be required to manage this file<br>
(use 'hg revert <a href="http://hol-words-1.2.art">hol-words-1.2.art</a>' to cancel the pending addition)</p>
<p>[4] In the short term, this is better solved by submitting the<br>
Lem-generated .thy files.</p>
<p>[5]<br>
&lt;<br>
<a href="http://telperion.gilith.com/pipermail/opentheory-users/2011-April/000099.html">http://telperion.gilith.com/pipermail/opentheory-users/2011-April/000099.html</a></p>
</blockquote>



<a name="294725437"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725437" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725437">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: <a href="mailto:Gerwin.Klein@data61.csiro.au">Gerwin.Klein@data61.csiro.au</a><br>
I agree with Tobias in that don’t think the importer is a good match for the AFP. </p>
<p>How about putting the importer and/or a minimal set of .art files into the distribution? Downloading might work for the distribution, in the sense that this minimal set of .art files could be a component.</p>
<p>Making sure that the larger collection of .art files works could be handled separately. It sounds like there is a bunch of interested parties (we are one of them), and we (Data61) can possibly provide a regression test infrastructure (need to check). If there are a few groups who are willing to maintain the collection and keep it up to date, that approach might work. </p>
<p>Cheers,<br>
Gerwin</p>



<a name="294725454"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725454" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725454">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>How about putting the importer and/or a minimal set of .art files into the distribution? Downloading might work for the distribution, in the sense that this minimal set of .art files could be a component.</p>
</blockquote>
<p>Right. Today I've been doing some digging into the implementation and I<br>
think it should be possible to clean it up with modest effort to make it<br>
ready for inclusion.</p>
<blockquote>
<p>Making sure that the larger collection of .art files works could be handled separately. It sounds like there is a bunch of interested parties (we are one of them), and we (Data61) can possibly provide a regression test infrastructure (need to check). If there are a few groups who are willing to maintain the collection and keep it up to date, that approach might work. </p>
</blockquote>
<p>Sure, that would work, I guess. But keep in mind that the distinction<br>
between what should be tested and what shouldn't is pretty much<br>
arbitrary. My starting point was the repository by Brian <a href="http://et.al">et.al</a>. For<br>
example, Maksym Bortin has put some .art files about ARM machine code in<br>
there. (Is there a good reason why we don't try to import the entirety<br>
of the OpenTheory database? In some sense, that database serves a<br>
similar purpose as the AFP. There are 54 packages as of this writing.)</p>
<p>Cheers<br>
Lars</p>



<a name="294725479"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725479" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725479">(Aug 22 2022 at 16:37)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Nice to hear that you're also interested in this! Keep in mind though<br>
that there are currently some technical issues preventing CakeML to be<br>
exported to OpenTheory (&lt;<a href="https://github.com/CakeML/cakeml/issues/321">https://github.com/CakeML/cakeml/issues/321</a>&gt;).</p>
<p>Cheers<br>
Lars</p>



<a name="294725537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294725537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294725537">(Aug 22 2022 at 16:38)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
In the Isabelle distribution the quality standards are even higher than<br>
for AFP.</p>
<p>I would welcome a proper version of the OpenTheory importer for<br>
Isabelle, but it needs to be done properly, as usual.</p>
<p>Makarius</p>



<a name="294728126"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294728126" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294728126">(Aug 22 2022 at 16:51)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear list,</p>
<p>some people here might have heard of this project:</p>
<p>&lt;<a href="https://github.com/xrchz/isabelle-opentheory">https://github.com/xrchz/isabelle-opentheory</a>&gt;</p>
<p>Originally implemented by Brian Huffman for Isabelle2011 [5] it sat<br>
around for a long time, until it's been picked up by Ramana Kumar again,<br>
who thankfully ported it to Isabelle2016.</p>
<p>The current state is that it works for Isabelle2017 and can also import<br>
a lot of existing library theories form the OpenTheory repository [0].</p>
<p>Today I've updated that repository to add a ROOT file and a script to<br>
download the necessary .art file. [1]</p>
<p>I'm posting this here because that importer appears to be quite<br>
bitrot-prone. It is in a state where it is "working", but many things<br>
are unidiomatic, e.g. pervasive use of global theories and lack of<br>
parallelism. It would be a pity if it would stop working after 1–2 more<br>
Isabelle releases with nobody around to fix it.</p>
<p>I wanted to ask around what people would feel about having this importer<br>
in the AFP (I don't think it's ready for the distribution).</p>
<p>Some points for consideration:</p>
<ul>
<li>
<p>The CakeML folks at Chalmers and apparently at Data61 are interested<br>
in using it to work with the "real" (i.e. the one in HOL4) CakeML<br>
specification in Isabelle.</p>
</li>
<li>
<p>Submitting CakeML to the AFP will require this (likely, eventually) [4].</p>
</li>
<li>
<p>The importer reads ".art" files as produced by a separate "opentheory"<br>
executable. This is related to the other thread [2] I posted here today,<br>
because something needs to produce these files.</p>
</li>
<li>
<p>".art" files are relatively large. Mercurial can cope but doesn't like<br>
it very much [3]. The entirety of the required files for the test cases<br>
in the repository can be compressed by Mercurial (i.e. gzip) to ~80 MB.<br>
That's hefty. Maybe it should be an Isabelle component instead?</p>
</li>
</ul>
<p>There's no particular rush for any of this. In fact, the code should<br>
probably be cleaned up a bit before it goes anywhere "official".</p>
<p>Cheers<br>
Lars</p>
<p>[0] &lt;<a href="http://opentheory.gilith.com/">http://opentheory.gilith.com/</a>&gt;</p>
<p>[1] Instructions: &lt;<a href="https://github.com/xrchz/isabelle-opentheory/pull/1">https://github.com/xrchz/isabelle-opentheory/pull/1</a>&gt;</p>
<p>[2]<br>
&lt;<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2018-February/msg00089.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2018-February/msg00089.html</a>&gt;</p>
<p>[3] You'll get messages like:</p>
<p><a href="http://hol-words-1.2.art">hol-words-1.2.art</a>: up to 266 MB of RAM may be required to manage this file<br>
(use 'hg revert <a href="http://hol-words-1.2.art">hol-words-1.2.art</a>' to cancel the pending addition)</p>
<p>[4] In the short term, this is better solved by submitting the<br>
Lem-generated .thy files.</p>
<p>[5]<br>
&lt;<a href="http://telperion.gilith.com/pipermail/opentheory-users/2011-April/000099.html">http://telperion.gilith.com/pipermail/opentheory-users/2011-April/000099.html</a>&gt;</p>



<a name="294728138"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294728138" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294728138">(Aug 22 2022 at 16:51)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
I do not like the idea of putting something in the AFP because it is not ready <br>
for the distribution. And 80 MB of compressed, generated files is unappealing as <br>
well and likely to create trouble. I am guessing that .art files are opentheory <br>
files. If that is the case, can't they reside in the opentheory repository?</p>
<p>Tobias<br>
<a href="/user_uploads/14278/PZmFNLl6u24niAiIx_9DtkbT/smime.p7s">smime.p7s</a></p>



<a name="294728151"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20OpenTheory%20import%20for%20Isabelle/near/294728151" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20OpenTheory.20import.20for.20Isabelle.html#294728151">(Aug 22 2022 at 16:51)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Yes, they are OpenTheory files. The "isabelle-opentheory" session reads<br>
them in (as test cases, essentially) during regular "isabelle build" or<br>
when opening them in Isabelle/jEdit. So they need to be somewhere<br>
Isabelle can find them. I'm assuming that downloading them on-the-fly is<br>
not an option. In principle the OpenTheory import for Isabelle can be<br>
built without reading any .art files, but then there's nothing testing<br>
that it actually works.</p>
<p>Cheers<br>
Lars</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>