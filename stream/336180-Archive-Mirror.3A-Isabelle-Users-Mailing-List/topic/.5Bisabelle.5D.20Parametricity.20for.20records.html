<html>
<head><meta charset="utf-8"><title>[isabelle] Parametricity for records · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Parametricity.20for.20records.html">[isabelle] Parametricity for records</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294647389"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Parametricity%20for%20records/near/294647389" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Parametricity.20for.20records.html#294647389">(Aug 22 2022 at 10:37)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Dear all,</p>
<p>I wonder whether there is any support for parametricity for records in Isabelle/HOL. In <br>
particular, suppose I have a record</p>
<p>record 'a test = test :: "'a =&gt; 'a list"</p>
<p>Then, I would like to get a relator</p>
<p>rel_test_ext ::<br>
    "('a =&gt; 'b =&gt; bool) =&gt; ('m1 =&gt; 'm2 =&gt; bool)<br>
    =&gt; ('a, 'm1) test_ext =&gt; ('b, 'm2) test =&gt; bool"</p>
<p>and appropriate parametricity rules for the constants generated by the record command. For <br>
example,</p>
<p>test_parametric: "(rel_test_ext A B ==&gt; A ==&gt; list_all2 A) test test"</p>
<p>Do I have to derive the setup manually or is there some tool support available?</p>
<p>Best,<br>
Andreas</p>



<a name="294647615"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Parametricity%20for%20records/near/294647615" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Parametricity.20for.20records.html#294647615">(Aug 22 2022 at 10:38)</a>:</h4>
<p>From: "<a href="mailto:traytel@in.tum.de">traytel@in.tum.de</a>" &lt;<a href="mailto:traytel@in.tum.de">traytel@in.tum.de</a>&gt;<br>
Hi Andreas,</p>
<p>there is a command in the making that will lift BNFs through typedefs (given that the predicate is closed under map functions). Since records are type copies this will give you the relator. Proving parametricity of selectors would be then a next step.</p>
<p>Dmitriy</p>



<a name="294647657"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Parametricity%20for%20records/near/294647657" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Parametricity.20for.20records.html#294647657">(Aug 22 2022 at 10:39)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Dmitriy,</p>
<p>That's good to hear. I am looking forward to trying this new command. In the meantime, <br>
I'll just define the relator myself.</p>
<p>How do you plan to handle the extensibility of records? Do you lift the BNF over the _ext <br>
types and use normal composition or do you plan to introduce constants for _scheme, too? <br>
This might also affect the selector issue in my other thread<br>
<a href="https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2015-July/msg00109.html">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2015-July/msg00109.html</a></p>
<p>Best,<br>
Andreas</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>