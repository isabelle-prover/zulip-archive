<html>
<head><meta charset="utf-8"><title>[isabelle] Presenting theories without running a session · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html">[isabelle] Presenting theories without running a session</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294129050"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294129050" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294129050">(Aug 18 2022 at 17:02)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
There is a misunderstanding here.  There is no option for help or usage, <br>
but you get the latter whenever the command line is syntactically <br>
malformed.  Passing "-?" provokes such a syntax error, so you get the <br>
usage of the command line as advertized.  This was part of my minimalistic <br>
design when I did this many years ago.</p>
<p>You can understand it as an instance of the original Unix attitude to <br>
avoid extra features if the same can be achieved as a consequence of <br>
existing functionality.  Or as an instance of the principle in logic that <br>
redundant axioms are avoided in favour of lemmas.</p>
<p>Anyway, I have now tried it myself with zsh (from Mac Ports).  The shell <br>
clearly reports:</p>
<p>zsh: no matches found: -?</p>
<p>The reading of this message should be obvious to seasoned users of the <br>
shell.  And it also works directly when I pass "-?" for tool specific <br>
help, with the literal quotes.</p>
<p>Makarius</p>



<a name="294129166"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294129166" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294129166">(Aug 18 2022 at 17:03)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
On Tue, Feb 15, 2011 at 11:52 AM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>On Mon, 14 Feb 2011, Robert Lamar wrote:</p>
<blockquote>
<blockquote>
<p>But you did get the usage, right?  The error is a known feature,<br>
because "?" is not an option.</p>
</blockquote>
<p>With all due respect, if 'isabelle' (without any arguments) tells me<br>
that I should add '-?' to a command to find out more, I should not get<br>
an error message when I follow the instructions.  If usage info is a<br>
feature, the command-line option should exist.  Otherwise it is<br>
confusing, as a user.</p>
</blockquote>
<p>There is a misunderstanding here.  There is no option for help or usage,<br>
but you get the latter whenever the command line is syntactically<br>
malformed.  Passing "-?" provokes such a syntax error, so you get the<br>
usage of the command line as advertized.  This was part of my minimalistic<br>
design when I did this many years ago.</p>
<p>You can understand it as an instance of the original Unix attitude to<br>
avoid extra features if the same can be achieved as a consequence of<br>
existing functionality.  Or as an instance of the principle in logic that<br>
redundant axioms are avoided in favour of lemmas.</p>
</blockquote>
<p>Yes, I clearly misunderstood.  When I ran 'isabelle' with no<br>
arguments, it told me,</p>
<p>Start Isabelle tool NAME with ARGS; pass "-?" for tool specific help.</p>
<p>And I assumed that "-?" had a special status, where it is simply one<br>
of many strings which will cause the command line arguments to be<br>
malformed.  My mistake.</p>
<p>I perceived that there was some inconsistency in the documentation,<br>
and was mentioning these things in a helpful effort to provide a bug<br>
report.  But I can see that my understanding of the system design was<br>
flawed, so there is no bug and nothing to fix.</p>
<blockquote>
<p>Anyway, I have now tried it myself with zsh (from Mac Ports).  The shell<br>
clearly reports:</p>
<p>zsh: no matches found: -?</p>
<p>The reading of this message should be obvious to seasoned users of the<br>
shell.  And it also works directly when I pass "-?" for tool specific<br>
help, with the literal quotes.</p>
</blockquote>
<p>I would not yet call myself a 'seasoned' user of zsh, but I did<br>
understand the above meaning for the message.  I deeply regret not<br>
saying so in my initial email.  I got that error, and it did not<br>
confuse me: I mentioned it because the choice of "-?" caused different<br>
behaviors in different shells, and I thought that the developers might<br>
like to know this so that users could have a more uniform experience<br>
across systems.  I really expressed this poorly.</p>
<p>But as we established above, "-?" does not actually have a<br>
distinguished status, so I can use any of the following, so long as<br>
there is no filename match:</p>
<p>isabelle usedir "-?"<br>
  isabelle usedir -h<br>
  isabelle usedir --help<br>
  isabelle usedir help<br>
  isabelle usedir foobarbaz</p>



<a name="294129172"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294129172" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294129172">(Aug 18 2022 at 17:03)</a>:</h4>
<p>From: Timothy McKenzie &lt;<a href="mailto:tjm1983@gmail.com">tjm1983@gmail.com</a>&gt;<br>
Is guess this partly depends on what you mean by "feature", and <br>
more specifically, whether you consider error messages to be <br>
ordinary features.  It seems strange to me that you're inviting <br>
users to obtain usage information by provoking an error, rather <br>
than by invoking a help or usage option.  You said yourself that <br>
"There is no option for help or usage".  I think this is what <br>
seemed strange to Robert, too.</p>
<p>Of course, it's not a big problem, because the usage information <br>
is available, but it could easily confuse users who are not used <br>
to having computer programs invite them to deliberately provoke <br>
errors.</p>
<p>Tim<br>
&lt;&gt;&lt;<br>
<a href="/user_uploads/14278/aiAjWil7pvvJ9WTKb_xkdW5H/signature.asc">signature.asc</a></p>



<a name="294131354"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131354" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131354">(Aug 18 2022 at 17:15)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
Hello, Isabelle users,</p>
<p>I am curious about converting .thy files to .tex files without running a<br>
session to verify the document (with Isabelle 2011).  Is this possible?  I<br>
have been looking at the documentation for 'isabelle make', 'isabelle<br>
usedir', 'isabelle document', and 'isabelle latex', but I cannot conclude if<br>
producing LaTeX code depends on processing the documents, producing the<br>
heap, and so on.  Clearly, running the following is sufficient to produce<br>
the .tex files.  What is necessary?</p>
<p>isabelle usedir -D generated HOL Foo<br>
&gt;</p>
<p>As an aside, here is something I noticed about the behavior of the isabelle<br>
command line tool.  I can work around it, I am just sharing it for your<br>
information as a possible bug: typing 'isabelle' at a command prompt gives<br>
usage information, and includes the message 'pass "-?" for tool specific<br>
help.'  But if I type, say, 'isabelle usedir -?', it gives the following<br>
message along with the expected usage info for usedir:</p>
<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?<br>
&gt;</p>
<p>That is in bash.  In my favored shell, zsh, the shell gives an error because<br>
it thinks the ? is a wildcard.</p>
<p>Take care,<br>
Robert</p>



<a name="294131370"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131370" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131370">(Aug 18 2022 at 17:15)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
Hi Robert,</p>
<p>Due to the possibility of document antiquotations like @{thm foo},<br>
generating the .tex file for a given .thy file is not trivial, and<br>
depends on having access to the current theory database. So you will<br>
need to run an Isabelle session.</p>
<p>You can speed things up a bit by running Isabelle in "skip proofs"<br>
mode. Try adding commands to set the following two references before<br>
"use_thys" in ROOT.ML:</p>
<p>quick_and_dirty := true;<br>
Toplevel.skip_proofs := true;<br>
use_thys ["MyTheory"];</p>
<p>This will cut running time by a fair amount. I do not know whether<br>
there is a command-line option to do the same thing. (Although you can<br>
make a separate copy of ROOT.ML file and select it with a "-f"<br>
option.)</p>
<p>You can also save time by not saving a heap image. Run isabelle usedir<br>
without the "-b" option (note that you may have to run "isabelle<br>
usedir" from the parent directory for this to work).</p>
<ul>
<li>Brian</li>
</ul>



<a name="294131486"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131486" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131486">(Aug 18 2022 at 17:16)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
Hello Brian,</p>
<p>Very interesting.  Thank you for your thoughts on the matter.</p>
<p>As I think about it, the Isabelle session will also determine the<br>
dependencies between theories, and thus the order that they will appear in<br>
session.tex.  I am not suprised to hear that the document preparation system<br>
relies heavily on the results of an Isabelle session; I suppose I was just<br>
writing in to confirm that this was the case.</p>
<p>Robert</p>



<a name="294131519"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131519" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131519">(Aug 18 2022 at 17:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I've seen this effect for the last time with tcsh, many many years ago.</p>
<p>The usage message of the Isabelle scripts is correct in asking for "-?" <br>
but it depends on the context how you need to produce that externally. <br>
Here the context is prose English, so I have some quotes around it.  Bash <br>
will accept it without quotes.  Other shells will have there own idea.</p>
<p>Makarius</p>



<a name="294131528"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131528" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131528">(Aug 18 2022 at 17:16)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The main idea behind the Isabelle document preparation system is to <br>
produce a pinted "proof" of your formal development, using standard <br>
typesetting technology.  This explains some biases towards properly <br>
checked sources, although there are numerous ways to print anything you <br>
want, rearrange the order of theories etc.  There are open-ended <br>
possibilities that some users have turned this into an art in itself.</p>
<p>There are alternative ways to make simple draft printouts of the sources, <br>
notable the 'display_drafs' command (the the isar-ref manual) or the <br>
standard File/Print operation of Isabelle/jEdit.  The latter works <br>
surpringly well together with the IsabelleText font.</p>
<p>Makarius</p>



<a name="294131575"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131575" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131575">(Aug 18 2022 at 17:16)</a>:</h4>
<p>From: Matthew Fernandez &lt;<a href="mailto:matthew.fernandez@nicta.com.au">matthew.fernandez@nicta.com.au</a>&gt;<br>
-\? does the trick in zsh, Robert.</p>
<p>Matthew.</p>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294131635"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131635" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131635">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 13.02.2011 15:16, Makarius wrote:</p>
<blockquote>
<p>On Thu, 10 Feb 2011, Robert Lamar wrote:</p>
<blockquote>
<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?</p>
<p>That is in bash. In my favored shell, zsh, the shell gives an error<br>
because it thinks the ? is a wildcard.</p>
</blockquote>
</blockquote>
<p>It is a wildcard, so you will get strange effects if you've got a file <br>
named e.g. "-b" in your current directory ;)</p>
<blockquote>
<p>I've seen this effect for the last time with tcsh, many many years ago.</p>
</blockquote>
<p>I can reproduce this error message with bash 4.1.5(1); on a Debian <br>
system. This is a warning output by getopts, as "?" is not in the list <br>
of valid arguments (nor ":" is given as first element in the optstring, <br>
to enable silent error reporting).</p>
<p>-- Lars</p>



<a name="294131645"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131645" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131645">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
But you did get the usage, right?  The error is a known feature, because <br>
"?" is not an option.</p>
<p>Over many years Isabelle shell scripts have converged towards a certain <br>
standard form that minimizes various real problems, like spaces or unicode <br>
in directory names.  It all has become surprisingly complex, and indeed <br>
the semantics of bash is very complicated.  Any adhoc changes in the <br>
scripts to do not really make a fundamental difference are likely to <br>
increase the entropy.</p>
<p>Generally, there is a tendency to reduce traditional shell exposure of <br>
Isabelle more and more, as the Isabelle/Scala layer takes over the main <br>
responsibility of system integration.  (Many users on Mac OS X and Windows <br>
do not even know what a command-line based shell is and even failed to <br>
do the "tar" invokations on the download site.)</p>
<p>Makarius</p>



<a name="294131672"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131672" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131672">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
Thanks, but actually I realized that. (I had been getting around it by<br>
using double-quotes: "-?".)  I suppose that my point was, implicitly,<br>
that it might be better to use a character which is never used as a<br>
wildcard.  For instance, '-h' is common for many commands in the Linux<br>
userspace.  I will acknowledge that if you are coming from the Windows<br>
command shell, '-?' makes good sense.</p>
<p>Alternatively, Isabelle could use a scheme like certain version<br>
control systems use: type "isabelle help" for general guidance and<br>
"isabelle help TOOL" for guidance on the tool mentioned.  (Subversion<br>
is an example of such a system.)</p>



<a name="294131675"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131675" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131675">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
On Mon, Feb 14, 2011 at 10:11 AM, Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt; wrote:</p>
<blockquote>
<p>On Mon, 14 Feb 2011, Christian Sternagel wrote:</p>
<blockquote>
<p>I think what Robert finds strange (and me too, by the way), is that even<br>
if using an (due to the message) existing flag like "-?", Isabelle<br>
produces an error message before giving the usage information. Typing<br>
either of</p>
<p>isabelle usedir -?<br>
isabelle usedir "-?"<br>
isabelle usedir '-?'</p>
<p>in bash, using Isabelle2011 (down to at least Isabelle2007), I always<br>
get the error message "illegal option -- ?".</p>
</blockquote>
</blockquote>
<p>This was exactly the point I was trying to bring up.</p>
<blockquote>
<p>But you did get the usage, right?  The error is a known feature, because<br>
"?" is not an option.</p>
</blockquote>
<p>With all due respect, if 'isabelle' (without any arguments) tells me<br>
that I should add '-?' to a command to find out more, I should not get<br>
an error message when I follow the instructions.  If usage info is a<br>
feature, the command-line option should exist.  Otherwise it is<br>
confusing, as a user.</p>
<p>In the case of 'usedir', for instance, there is already a branch in<br>
the case statement.  If '\?' was passed in as the value of '$OPT' on<br>
line 95 of $ISABELLE_HOME/lib/Tools/usedir, it will be caught at line<br>
171 and invoke the usage() function.  It looks to me that the<br>
following is sufficient to make the error message disappear (Thanks to<br>
Lars for pointing out that the error comes from getopts):</p>
<p>--- lib/Tools/usedir.OLD        2011-02-14 15:17:05.000000000 +0000<br>
+++ lib/Tools/usedir    2011-02-14 15:18:20.000000000 +0000<br>
@@ -90,7 +90,7 @@<br>
 function getoptions()<br>
 {<br>
   OPTIND=1</p>
<ul>
<li>while getopts "C:D:M:P:T:V:bd:f:g:i:m<span aria-label="p" class="emoji emoji-1f17f" role="img" title="p">:p:</span>q:rs:t:v:" OPT</li>
<li>while getopts "C:D:M:P:T:V:bd:f:g:i:m<span aria-label="p" class="emoji emoji-1f17f" role="img" title="p">:p:</span>q:rs:t:v:\?" OPT<br>
   do<br>
     case "$OPT" in<br>
       C)</li>
</ul>
<p>Many of the other tool scripts are in the same state, while others<br>
(dimacs2hol, doc, env, make, makeall, and unsymbolize) handle the '-?'<br>
option properly.</p>
<blockquote>
<p>Over many years Isabelle shell scripts have converged towards a certain<br>
standard form that minimizes various real problems, like spaces or unicode<br>
in directory names.  It all has become surprisingly complex, and indeed<br>
the semantics of bash is very complicated.  Any adhoc changes in the<br>
scripts to do not really make a fundamental difference are likely to<br>
increase the entropy.</p>
</blockquote>
<p>I certainly understand that this is not an easy problem, and must be<br>
secondary to developments in more interesting proof assistant work.<br>
However, I humbly suggest, as I wrote in reply to Matthew, that<br>
choosing an option like '-h' instead of '-?' might make the standard<br>
form of expressions even more robust.  (Not to mention more consistent<br>
with typical Linux command-line options.)</p>
<blockquote>
<p>Generally, there is a tendency to reduce traditional shell exposure of<br>
Isabelle more and more, as the Isabelle/Scala layer takes over the main<br>
responsibility of system integration.  (Many users on Mac OS X and Windows<br>
do not even know what a command-line based shell is and even failed to<br>
do the "tar" invokations on the download site.)</p>
</blockquote>
<p>If command line users are in the minority (and shrinking), then the<br>
status quo is probably fine.  I can certainly use the software right<br>
now without too much trouble.  Thank you very much for your thoughts<br>
on the situation!</p>
<p>-- Robert</p>



<a name="294131692"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131692" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131692">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
On Mon, Feb 14, 2011 at 9:17 AM, Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt; wrote:</p>
<blockquote>
<p>On 13.02.2011 15:16, Makarius wrote:</p>
<blockquote>
<p>On Thu, 10 Feb 2011, Robert Lamar wrote:</p>
<blockquote>
<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?</p>
<p>That is in bash. In my favored shell, zsh, the shell gives an error<br>
because it thinks the ? is a wildcard.</p>
</blockquote>
</blockquote>
<p>It is a wildcard, so you will get strange effects if you've got a file<br>
named e.g. "-b" in your current directory ;)</p>
</blockquote>
<p>Indeed!  I was merely suggesting that it would be <em>even better</em> to use<br>
a character that is not a wildcard.  :c)  I propos '-h', as it does<br>
not seem to be used as an option by any of the tools.</p>
<blockquote>
<blockquote>
<p>I've seen this effect for the last time with tcsh, many many years ago.</p>
</blockquote>
<p>I can reproduce this error message with bash 4.1.5(1); on a Debian<br>
system. This is a warning output by getopts, as "?" is not in the list<br>
of valid arguments (nor ":" is given as first element in the optstring,<br>
to enable silent error reporting).</p>
</blockquote>
<p>Very interesting.  I had not dug quite that deeply.  It looks to me<br>
that appending '\?' to the lists of getopts options (for instance,<br>
line 93 in lib/Tools/usedir) would make the error go away.  Can you<br>
see any problem with this?</p>



<a name="294131709"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Presenting%20theories%20without%20running%20a%20session/near/294131709" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Presenting.20theories.20without.20running.20a.20session.html#294131709">(Aug 18 2022 at 17:17)</a>:</h4>
<p>From: Robert Lamar &lt;<a href="mailto:rlamar@stetson.edu">rlamar@stetson.edu</a>&gt;<br>
Thank you very much for these pointers. I will give them a closer look.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>