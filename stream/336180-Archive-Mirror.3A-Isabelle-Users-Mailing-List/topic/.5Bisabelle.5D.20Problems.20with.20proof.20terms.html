<html>
<head><meta charset="utf-8"><title>[isabelle] Problems with proof terms · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Problems.20with.20proof.20terms.html">[isabelle] Problems with proof terms</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294238957"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Problems%20with%20proof%20terms/near/294238957" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Problems.20with.20proof.20terms.html#294238957">(Aug 19 2022 at 10:48)</a>:</h4>
<p>From: Colin Farquhar &lt;<a href="mailto:cif30@hw.ac.uk">cif30@hw.ac.uk</a>&gt;<br>
Hi,</p>
<p>I’m currently trying to do some experiments using proof terms in Isabelle,<br>
but I’m having some difficulty getting it to work. I’m working in the<br>
HOL-Proofs heap. To illustrate, if I have the simple lemma:</p>
<p>theory ProofTermTest</p>
<p>imports Main</p>
<p>begin</p>
<p>lemma t: "A ∧ B --&gt; A"</p>
<p>apply (rule impI)</p>
<p>apply (elim conjE)</p>
<p>apply assumption</p>
<p>done</p>
<p>Then</p>
<p>prf t</p>
<p>full_prf t</p>
<p>gives the error message “reconstruct_proof: minimal proof object”.</p>
<p>I also had a go at the ML level, but</p>
<p>ML{*</p>
<p>val prf = Proofterm.proof_of (Proofterm.strip_thm (Thm.proof_body_of @{thm<br>
"t"};));</p>
<p>Pretty.writeln (Proof_Syntax.pretty_proof @{context} prf);</p>
<p>*}</p>
<p>only prints `?’.</p>
<p>Does anyone have any experience working with proof terms and if so, can you<br>
point out where I’m going wrong?</p>
<p>Thanks,</p>
<p>Colin Farquhar</p>
<p>PhD Student</p>
<p>Dependable Systems Group</p>
<p>School of Mathematical and Computer Sciences</p>
<p>Heriot-Watt University</p>
<hr>
<p>Sunday Times Scottish University of the Year 2011-2013<br>
Top in the UK for student experience<br>
Fourth university in the UK and top in Scotland (National Student Survey 2012)</p>
<p>We invite research leaders and ambitious early career researchers to <br>
join us in leading and driving research in key inter-disciplinary themes. <br>
Please see <a href="http://www.hw.ac.uk/researchleaders">www.hw.ac.uk/researchleaders</a> for further information and how<br>
to apply.</p>
<p>Heriot-Watt University is a Scottish charity<br>
registered under charity number SC000278.</p>



<a name="294238978"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Problems%20with%20proof%20terms/near/294238978" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Problems.20with.20proof.20terms.html#294238978">(Aug 19 2022 at 10:48)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Colin,</p>
<p>you must both<br>
a) base your work in HOL-Proofs rather than HOL<br>
b) and, at the beginning of your theory, tun proof recording on using</p>
<p>ML_val {* proofs := 2 *}</p>
<p>See the section on proof terms in the (old) Isabelle reference manual<br>
available by</p>
<p>isabelle doc ref</p>
<p>Hope this helps,<br>
    Florian<br>
<a href="/user_uploads/14278/oVMhPRyLYG_xQ1Gp4io5MA4j/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>