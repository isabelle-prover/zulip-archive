<html>
<head><meta charset="utf-8"><title>[isabelle] Proof failed for datatype · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proof.20failed.20for.20datatype.html">[isabelle] Proof failed for datatype</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294682321"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proof%20failed%20for%20datatype/near/294682321" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proof.20failed.20for.20datatype.html#294682321">(Aug 22 2022 at 14:05)</a>:</h4>
<p>From: <a href="mailto:Corey.Lewis@data61.csiro.au">Corey.Lewis@data61.csiro.au</a><br>
Hi all,</p>
<p>As far as I can tell, I seem to have run into an issue with the datatype <br>
package. After slightly increasing the complexity of an existing <br>
datatype I get a 'Proof failed' error message.</p>
<p>The problematic datatype is<br>
datatype ('s, 'p) test' =<br>
    Test' "(('s, 'p) test' × 's set × 's set) list"</p>
<p>Cheers,<br>
Corey<br>
<a href="/user_uploads/14278/krJbgqU91gUV3S5AnVD22OpB/Test.thy">Test.thy</a></p>



<a name="294682329"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proof%20failed%20for%20datatype/near/294682329" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proof.20failed.20for.20datatype.html#294682329">(Aug 22 2022 at 14:05)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@inria.fr">jasmin.blanchette@inria.fr</a>&gt;<br>
Dear Corey,</p>
<p>The bug appears to be already fixed in the development version of Isabelle, and hence in the forthcoming release (expected before the end of the year). There should be easy (but ugly) workarounds, e.g. by using a type isomorphic to ×. Let me know if you want a patch for Isabelle2016.</p>
<p>Cheers,</p>
<p>Jasmin</p>



<a name="294682342"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proof%20failed%20for%20datatype/near/294682342" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proof.20failed.20for.20datatype.html#294682342">(Aug 22 2022 at 14:05)</a>:</h4>
<p>From: Dmitriy Traytel &lt;<a href="mailto:traytel@inf.ethz.ch">traytel@inf.ethz.ch</a>&gt;<br>
Dear Corey,</p>
<p>another (much simpler) workaround is to put a “dead” annotation on ’s (it is dead anyway since it occurs as a parameter to set):</p>
<p>datatype (dead 's, 'p) test' =<br>
   Test' "(('s, 'p) test' × 's set × 's set) list”</p>
<p>Cheers,<br>
Dmitriy</p>



<a name="294682364"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proof%20failed%20for%20datatype/near/294682364" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proof.20failed.20for.20datatype.html#294682364">(Aug 22 2022 at 14:05)</a>:</h4>
<p>From: <a href="mailto:Corey.Lewis@data61.csiro.au">Corey.Lewis@data61.csiro.au</a><br>
Awesome, thanks Dmitriy! That solves my problem nicely.</p>
<p>Cheers,<br>
Corey</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>