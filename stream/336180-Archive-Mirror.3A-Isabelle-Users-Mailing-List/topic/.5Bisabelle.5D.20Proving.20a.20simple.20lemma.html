<html>
<head><meta charset="utf-8"><title>[isabelle] Proving a simple lemma · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html">[isabelle] Proving a simple lemma</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294109907"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294109907" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294109907">(Aug 18 2022 at 15:27)</a>:</h4>
<p>From: <a href="mailto:dayzman@gmail.com">dayzman@gmail.com</a><br>
Hi all,</p>
<p>I'm trying to prove a simple lemma, but am stuck at the last proof step:</p>
<p>lemma test_wrong:<br>
fixes f :: "real =&gt; real"<br>
shows "(EX x y. fx ~= fy) --&gt; ~(EX x y. fx &gt; fy)"<br>
apply (rule impI)<br>
apply (rule notE)<br>
apply auto</p>
<p>goal (1 subgoal):</p>
<ol>
<li>!!(x::real) y::real. fx ~= fy --&gt; False</li>
</ol>
<p>I think I'm supposed to let x be y, but how do I do that in Isar? Also, is  <br>
what I've done so far reasonable?</p>
<p>Thanks for the help.</p>
<p>Michael</p>



<a name="294109919"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294109919" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294109919">(Aug 18 2022 at 15:27)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@gmail.com">jasmin.blanchette@gmail.com</a>&gt;<br>
Hi Michael,</p>
<p>The conjecture is not valid. Indeed, Nitpick (which you can invoke by typing "nitpick" after the statement of the lemma or at any point in the proof) gives a counterexample.</p>
<p>One problem seems to be that you should put a space between "f" and "x" (or "y"). The second problem is that there shouldn't be any negation in the right-hand side of "--&gt;".</p>
<p>Regards,</p>
<p>Jasmin</p>



<a name="294109990"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294109990" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294109990">(Aug 18 2022 at 15:28)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:mail@joachim-breitner.de">mail@joachim-breitner.de</a>&gt;<br>
Hi,</p>
<p>this might be a copy’n’paste problem, but did you really write "fx"<br>
instead of "f x"? Then "fx" becomes a variable, independent of your<br>
function f and the parameters x and y, and the lemma would be unprovable<br>
(e.g. with fx = 0 and fy = 1).</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/b8i8W_yiOoe9LzBd0BHMOnSk/signature.asc">signature.asc</a></p>



<a name="294217718"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294217718" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294217718">(Aug 19 2022 at 07:56)</a>:</h4>
<p>From: Steve Wong &lt;<a href="mailto:s.wong.731@gmail.com">s.wong.731@gmail.com</a>&gt;<br>
Hi</p>
<p>I'm struggling to prove the following lemma:</p>
<p>lemma "EX k:S. P k == EX k. k : S --&gt; P k"</p>
<p>If my understand is right, the lemma should be correct. However, I can't<br>
find a proof using sledgehammer.</p>
<p>Any help will be appreciated. Thanks.</p>
<p>Steve</p>



<a name="294217732"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294217732" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294217732">(Aug 19 2022 at 07:56)</a>:</h4>
<p>From: Elsa L Gunter &lt;<a href="mailto:egunter@illinois.edu">egunter@illinois.edu</a>&gt;<br>
This is not true.  "EX k : S . P K" is equivalent to "EX k. ((k : S) &amp; <br>
(P k))" , which is stronger than "EX k. k : S --&gt; P k".  If S is empty, <br>
"EX k. k : S --&gt; P k" is true, but "EX k : S . P K" is false.<br>
---Elsa</p>



<a name="294217760"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Proving%20a%20simple%20lemma/near/294217760" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Proving.20a.20simple.20lemma.html#294217760">(Aug 19 2022 at 07:57)</a>:</h4>
<p>From: Tjark Weber &lt;<a href="mailto:webertj@in.tum.de">webertj@in.tum.de</a>&gt;<br>
On Thu, 2012-07-26 at 20:10 +0100, Steve Wong wrote:</p>
<blockquote>
<p>I'm struggling to prove the following lemma:</p>
<p>lemma "EX k:S. P k == EX k. k : S --&gt; P k"</p>
<p>If my understand is right, the lemma should be correct.</p>
</blockquote>
<p>If you try nitpick, it will quickly show you a counterexample.</p>
<blockquote>
<p>However, I can't find a proof using sledgehammer.</p>
</blockquote>
<p>A correct version of the lemma is</p>
<p>lemma "EX k:S. P k == EX k. k : S ∧ P k"<br>
  by (rule eq_reflection) metis</p>
<p>eq_reflection (in HOL.thy) states that object equality (=) implies<br>
meta-equality (==). You might want to use = in your lemma in the first<br>
place; then sledgehammer will succeed.</p>
<p>Best regards,<br>
Tjark</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>