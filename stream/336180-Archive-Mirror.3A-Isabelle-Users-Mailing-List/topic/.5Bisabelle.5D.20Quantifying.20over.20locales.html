<html>
<head><meta charset="utf-8"><title>[isabelle] Quantifying over locales · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html">[isabelle] Quantifying over locales</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294144769"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294144769" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294144769">(Aug 18 2022 at 18:24)</a>:</h4>
<p>From: John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;<br>
Hi,</p>
<p>I'm trying to see how one could quantify over locales. For example, if I have:</p>
<p>locale T =<br>
  fixes f :: "nat =&gt; nat"<br>
  and c :: nat<br>
  assumes ax: "f c = 1"</p>
<p>and if I want to prove that there exists a locale taking 2 parameters<br>
such that applying the first parameter to the second is equal to 0<br>
(essentially T):</p>
<p>lemma "EX P. P (f::real=&gt;real) (c::real) --&gt; f c &gt; 0"</p>
<p>but that would be a trivial lemma since P f c can simply be False. So<br>
how should one properly formulate the lemma? Is there a way of doing<br>
so without specifying on the type that each parameter should take?</p>
<p>Thanks in advance.</p>
<p>John</p>



<a name="294144781"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294144781" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294144781">(Aug 18 2022 at 18:24)</a>:</h4>
<p>From: Clemens Ballarin &lt;<a href="mailto:ballarin@in.tum.de">ballarin@in.tum.de</a>&gt;<br>
A locale is a predicate and its existence is trivial.  What you  <br>
probably wanted to show is that there is an instance of T for which f  <br>
c &gt; 0:</p>
<p>EX f c. T f c &amp; f c &gt; 0</p>
<p>If you get the locale predicate (T in your case) involved, types are inferred.</p>
<p>Clemens</p>
<p>Quoting John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;:</p>



<a name="294144794"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294144794" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294144794">(Aug 18 2022 at 18:25)</a>:</h4>
<p>From: John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;<br>
But what if I want to show that there is a binary predicate/locale in the<br>
theory such that applying the first param to the second is greater than 0<br>
instead? Basically T f c will be the witness. How should the lemma be<br>
formulated?</p>
<p>Thank you.</p>
<p>John</p>
<p>On Thursday, September 22, 2011, Clemens Ballarin &lt;<a href="mailto:ballarin@in.tum.de">ballarin@in.tum.de</a>&gt;<br>
wrote:</p>
<blockquote>
<p>A locale is a predicate and its existence is trivial.  What you probably<br>
wanted to show is that there is an instance of T for which f c &gt; 0:</p>
<p>EX f c. T f c &amp; f c &gt; 0</p>
<p>If you get the locale predicate (T in your case) involved, types are<br>
inferred.</p>
<p>Clemens</p>
<p>Quoting John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;:</p>
<blockquote>
<p>Hi,</p>
<p>I'm trying to see how one could quantify over locales. For example, if I<br>
have:</p>
<p>locale T =<br>
 fixes f :: "nat =&gt; nat"<br>
 and c :: nat<br>
 assumes ax: "f c = 1"</p>
<p>and if I want to prove that there exists a locale taking 2 parameters<br>
such that applying the first parameter to the second is equal to 0<br>
(essentially T):</p>
<p>lemma "EX P. P (f::real=&gt;real) (c::real) --&gt; f c &gt; 0"</p>
<p>but that would be a trivial lemma since P f c can simply be False. So<br>
how should one properly formulate the lemma? Is there a way of doing<br>
so without specifying on the type that each parameter should take?</p>
<p>Thanks in advance.</p>
<p>John<br>
</p>
</blockquote>
</blockquote>



<a name="294145212"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294145212" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294145212">(Aug 18 2022 at 18:27)</a>:</h4>
<p>From: Steve Wong &lt;<a href="mailto:s.wong.731@gmail.com">s.wong.731@gmail.com</a>&gt;<br>
Just to confirm my understanding:</p>
<p>EX f c. T f c &amp; f c &gt; 0 can be proved with the fact T_def.</p>
<p>ALL f c. T f c --&gt; f c &gt; 0 can also be proved with the fact <a href="http://T.ax">T.ax</a>.<br>
Alternatively T f c --&gt; f c &gt; 0 can be proved the same way because free<br>
variables are implicitly quantified.</p>
<p>Am I right here?</p>
<p>Steve</p>



<a name="294145404"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294145404" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294145404">(Aug 18 2022 at 18:28)</a>:</h4>
<p>From: Clemens Ballarin &lt;<a href="mailto:ballarin@in.tum.de">ballarin@in.tum.de</a>&gt;<br>
Hi Steve,</p>
<p>I think this is correct.  You'll need some knowledge about nat in the  <br>
proof, of course.</p>
<p>Clemens</p>
<p>Quoting Steve Wong &lt;<a href="mailto:s.wong.731@gmail.com">s.wong.731@gmail.com</a>&gt;:</p>



<a name="294146164"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294146164" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294146164">(Aug 18 2022 at 18:32)</a>:</h4>
<p>From: John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;<br>
Digging up a slightly old post: So if I want to have a lemma that<br>
speaks about 2 locales, T f c and S a b, which of the following is<br>
correct?</p>
<p>lemma "(T f c --&gt; f c &gt; 0) &amp; (S a b --&gt; a b &gt; 0)"</p>
<p>or</p>
<p>lemma "T f c &amp; S a b --&gt; f c &gt; 0 &amp; a b &gt; 0"</p>
<p>Thanks</p>
<p>John</p>



<a name="294146190"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294146190" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294146190">(Aug 18 2022 at 18:33)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@kit.edu">andreas.lochbihler@kit.edu</a>&gt;<br>
Dear John,</p>
<p>all of your statements essentially involve only the parameters of <em>one</em> locale, <br>
so it is hard to say which is the right one. Also, your original question <br>
involved only one locale T, now there seems to be another called S. I am confused.</p>
<p>Here's an example how I would do it. Maybe this helps.</p>
<p>locale T = fixes f c assumes "f c &gt; 0"</p>
<p>lemma "T f1 c1 &amp; T f2 c2 ==&gt; f1 c1 &gt; 0 &amp; f2 c2 &gt; 0 &amp; ..."</p>
<p>(* or in Isar syntax *)</p>
<p>lemma<br>
   assumes "T f1 c1" and "T f2 c2"<br>
   shows "f1 c1 &gt; 0" and "f2 c2 &gt; 0" and "..."</p>
<p>If you have two different locales S and T, it essentially looks the same:</p>
<p>locale T = fixes f c assumes ...<br>
locale S = fixes a b assumes ...</p>
<p>lemma "T f c &amp; S a b ==&gt; P f c a b"</p>
<p>where P is the property that you wish to prove about the parameters of both locales.</p>
<p>If you want to use the convenient locale mechanism, you can also combine locales <br>
as follows:</p>
<p>locale T_and_S = T + S begin<br>
lemma "P f c a b"<br>
&lt;proof&gt;<br>
end</p>
<p>Andreas</p>



<a name="294146203"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294146203" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294146203">(Aug 18 2022 at 18:33)</a>:</h4>
<p>From: John Munroe &lt;<a href="mailto:munddr@gmail.com">munddr@gmail.com</a>&gt;<br>
Thanks. Sorry, I should have made my question clearer (with a better<br>
example): Suppose I have two different locales</p>
<p>locale T = fixes f c assumes "f c &gt; 0"<br>
locale S = fixes f c assumes "f c = 0"</p>
<p>I want to prove that f c &gt; 0 is indeed provable in T and f c = 0 is<br>
indeed provable in S in a single lemma. Based on your response, I<br>
believe the appropriate formulation would be:</p>
<p>lemma "T f c &amp; S f' c' --&gt; f c &gt; 0 &amp; f' c' = 0"</p>
<p>Am I correct?</p>
<p>But how about</p>
<p>lemma "(T f c --&gt; f c &gt; 0) &amp; (S f' c' --&gt; f' c' = 0)"</p>
<p>Does it not fulfil my purpose as well?</p>
<p>Thanks</p>
<p>John</p>



<a name="294146249"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Quantifying%20over%20locales/near/294146249" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Quantifying.20over.20locales.html#294146249">(Aug 18 2022 at 18:33)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@kit.edu">andreas.lochbihler@kit.edu</a>&gt;<br>
Dear John,</p>
<p>In that case, this is what you want, but note that this is just the conjunction <br>
of two separate lemmas. So I still don't see what you need this for. But that's <br>
a different matter.</p>
<p>The above lemma is in general stronger than</p>
<blockquote>
<p>lemma "T f c &amp; S f' c' --&gt; f c &gt; 0 &amp; f' c' = 0"</p>
</blockquote>
<p>because the latter essentially expresses for each part of the conjunction in the <br>
conclusion that the assumptions of the other locale are satisfiable.</p>
<p>Andreas</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>