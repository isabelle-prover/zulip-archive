<html>
<head><meta charset="utf-8"><title>[isabelle] Query about converting coefficients of a polyn... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Query.20about.20converting.20coefficients.20of.20a.20polyn.2E.2E.2E.html">[isabelle] Query about converting coefficients of a polyn...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294272552"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Query%20about%20converting%20coefficients%20of%20a%20polyn.../near/294272552" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Query.20about.20converting.20coefficients.20of.20a.20polyn.2E.2E.2E.html#294272552">(Aug 19 2022 at 14:01)</a>:</h4>
<p>From: Wenda Li &lt;<a href="mailto:wl302@cam.ac.uk">wl302@cam.ac.uk</a>&gt;<br>
Dear Isabelle expert,</p>
<p>I was trying to convert coefficients of a polynomial (from <br>
HOL/Library/Polynomial.thy) into a vector (from <br>
HOL/Multivariate_Analysis/Finite_Cartesian_Product.thy). However, the <br>
most straightforward definition fails:</p>
<p>definition poly_to_vec :: "'a::zero poly ⇒ ('a, 'b) vec" where<br>
   "poly_to_vec p= (χ i. coeff p i)"</p>
<p>due to "Type unification failed: No type arity nat :: finite". <br>
Alternatively, as we have function "coeffs :: 'a poly ⇒ 'a list", which <br>
converts coefficients of a polynomial into a list, it would also suffice <br>
if I can define</p>
<p>definition list_to_vec :: "'a list =&gt; ('a, 'b) vec"</p>
<p>Any help would be greatly appreciated.</p>
<p>PS: it seems to me that wrapping indices of a vector as a finite type is <br>
a little bit hard to work with. For example, I didn't find a method to <br>
calculate the size of a vector in the library (please correct me if I <br>
was wrong), and a method I can find online seems indirect either:</p>
<p>definition vec_length :: "('a, 'b::finite) vec =&gt; nat" where<br>
   "vec_length v = card {i. ? c. c = (vec_nth v) i}"</p>
<p>Best regards,</p>



<a name="294272559"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Query%20about%20converting%20coefficients%20of%20a%20polyn.../near/294272559" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Query.20about.20converting.20coefficients.20of.20a.20polyn.2E.2E.2E.html#294272559">(Aug 19 2022 at 14:01)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I don’t think that using vector types for this purpose is a good idea. Their purpose (John Harrison invented this trick of using a finite index type) is to formalise the set R^n for some fixed n. But a function that takes an arbitrary polynomial will have to yield vectors of various types. I suggest using lists and the function coeffs that you mention.</p>
<p>Larry</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>