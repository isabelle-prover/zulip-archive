<html>
<head><meta charset="utf-8"><title>[isabelle] Question about Code Generator · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Question.20about.20Code.20Generator.html">[isabelle] Question about Code Generator</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294092180"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Question%20about%20Code%20Generator/near/294092180" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Question.20about.20Code.20Generator.html#294092180">(Aug 18 2022 at 14:16)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt;<br>
Hi,</p>
<p>I have defined some datatype using typedef, it encapsulates some<br>
data-structure together with its invariant, for example distinct lists<br>
(used to implement sets here):</p>
<p>typedef 'a lset = "{ l::'a list . distinct l }"</p>
<p>by auto</p>
<p>On this, I can define operations, e.g.:</p>
<p>definition "ls_empty == Abs_lset []"</p>
<p>definition "ls_\&lt;alpha&gt; l == set (Rep_lset l)"</p>
<p>definition "ls_memb x l == x mem (Rep_lset l)"</p>
<p>definition "ls_ins x l == if ls_memb x l then l else Abs_lset (x #<br>
Rep_lset l)"</p>
<p>...</p>
<p>My question is, how to setup the code generator such that it implements "'a<br>
lset" by "'a list", or, in general, in the same way as it would<br>
implement the underlying datatype ?</p>
<p>With no further ado, the code generator complains about missing code<br>
equations:</p>
<p>export_code ls_empty ls_memb ls_ins in SML file -</p>
<p>*** No code equations for Rep_lset, Abs_lset</p>
<p>*** At command "export_code".</p>
<p>Regards and thanks in advance for any help/pointers to examples<br>
  Peter</p>



<a name="294092191"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Question%20about%20Code%20Generator/near/294092191" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Question.20about.20Code.20Generator.html#294092191">(Aug 18 2022 at 14:16)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt;<br>
Hi,</p>
<p>I have defined some datatype using typedef, it encapsulates some<br>
data-structure together with its invariant, for example distinct lists<br>
(used to implement sets here):</p>
<p>typedef 'a lset = "{ l::'a list . distinct l }"</p>
<p>by auto</p>
<p>On this, I can define operations, e.g.:</p>
<p>definition "ls_empty == Abs_lset []"</p>
<p>definition "ls_\&lt;alpha&gt; l == set (Rep_lset l)"</p>
<p>definition "ls_memb x l == x mem (Rep_lset l)"</p>
<p>definition "ls_ins x l == if ls_memb x l then l else Abs_lset (x #<br>
Rep_lset l)"</p>
<p>...</p>
<p>My question is, how to setup the code generator such that it implements "'a<br>
lset" by "'a list", or, in general, in the same way as it would<br>
implement the underlying datatype ?</p>
<p>With no further ado, the code generator complains about missing code<br>
equations:</p>
<p>export_code ls_empty ls_memb ls_ins in SML file -</p>
<p>*** No code equations for Rep_lset, Abs_lset</p>
<p>*** At command "export_code".</p>
<p>Regards and thanks in advance for any help/pointers to examples<br>
 Peter</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>