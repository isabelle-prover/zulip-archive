<html>
<head><meta charset="utf-8"><title>[isabelle] Questions about speed and CPU usage · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html">[isabelle] Questions about speed and CPU usage</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294112511"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294112511" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294112511">(Aug 18 2022 at 15:41)</a>:</h4>
<p>From: Tambet &lt;<a href="mailto:qtvali@gmail.com">qtvali@gmail.com</a>&gt;<br>
First thing is that on my computer, when Isabelle loads and processes<br>
theories from lib, it almost hangs. It would be nice if my only goal was to<br>
load those theories, but I would also like to read documentation meanwhile<br>
and do notes. Is this possible to give it some numbers about how much it's<br>
allowed to use memory, CPU and utilize hard drive speed at any given time?<br>
It would be much better if moving mouse and opening PDF document was always<br>
possible. It's not enough to change priority of emacs, because I would like<br>
emacs to run full-speed meanwhile. Is there some option to make specific<br>
processes lower-priority as much as needed so that computer works fast and<br>
those processes use 100% of idle time, but max 50% of time I am using other<br>
applications?</p>
<p>Also, can I precompile those libraries or cache that data, which is<br>
generated and reusable? As much as I can understand it just goes through the<br>
proving process and does something, what has zero-dependancy of the file I'm<br>
editing; those libs also won't change often (and probably if they did, the<br>
proofs of other files would still mostly hold). Does this feature exist?</p>
<p>One more speed-related question: usually the button to stop the current<br>
activity does not work (if I run something, what takes very long, I just<br>
have to kill emacs, which is not the best way to use a program and also<br>
wastes a lot of time). Is there some way to easily stop things, which do not<br>
work or were erroneously triggered?</p>
<p>Btw. I like the Structured Isar Proofs much more than that other one with<br>
"apply" etc., because that actually allows me to consciously prove (at least<br>
very simple) things whereas that other looks like randomly trying different<br>
buttons in hope that they eventually do something [this was actually why I<br>
switched to Isabelle after playing with Coq a few days that I saw that<br>
manual and it's just nice]. Structured proofs is clearly at least a good<br>
starting point, but this goal-based way is nice in many ways (I wish that<br>
most library proofs were built in that way).</p>
<p>Tambet</p>



<a name="294112645"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294112645" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294112645">(Aug 18 2022 at 15:42)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt;<br>
Hi all.</p>
<p>I have a related Problem with the new 2009-2 release.<br>
While 1GiB of RAM have always been enough for the 2009-1 release,<br>
the new version very quickly allocates more than 1GiB, and starts thrashing.<br>
Switching of "parallel proofs" makes things a bit better, but still my<br>
computer is nearly unusable<br>
during running larger proofs.</p>
<p>Have you changed any memory-related configurations in the new release, and<br>
is it possible to set them back again?</p>
<p>Best Peter</p>
<p>Tambet wrote:</p>



<a name="294112654"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294112654" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294112654">(Aug 18 2022 at 15:42)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Initial heap size of Poly/ML is configured by ML_OPTIONS="-H 200", which <br>
is the same default as for Isabelle2009-2.  The options for parallel <br>
checking are also the same.</p>
<p>What did change in Isabelle2009-2 is the overall bloat factor of main <br>
Isabelle/HOL.  With as little as 1 GB it is unlikely that you will be able <br>
to process big sessions.</p>
<p>Makarius</p>



<a name="294112687"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294112687" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294112687">(Aug 18 2022 at 15:42)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Since you are still learning, you might also be interested in the slides<br>
of my Isabelle course:<br>
<a href="http://isabelle.in.tum.de/coursematerial/PSV2009-1/index.html">http://isabelle.in.tum.de/coursematerial/PSV2009-1/index.html</a><br>
It starts off with "apply" but later it introduces structured proofs<br>
through proof patterns that may help.</p>
<p>Tobias</p>



<a name="294112706"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294112706" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294112706">(Aug 18 2022 at 15:42)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 20 Jul 2010, Tambet wrote:</p>
<blockquote>
<p>First thing is that on my computer, when Isabelle loads and processes <br>
theories from lib, it almost hangs.</p>
</blockquote>
<p>This indicates a low memory situation, i.e. the OS is swapping most of the <br>
time.  Can you give a few hardware figures?  What is you OS platform <br>
anyway?</p>
<blockquote>
<p>It's not enough to change priority of emacs, because I would like emacs <br>
to run full-speed meanwhile. Is there some option to make specific <br>
processes lower-priority as much as needed so that computer works fast <br>
and those processes use 100% of idle time, but max 50% of time I am <br>
using other applications?</p>
</blockquote>
<p>When running Isabelle via Proof General / Emacs, the actual Isabelle <br>
process is already running at a low priority ("nice" level &gt; 0).  This <br>
does not help though, if you run out of physical memory (see above) or <br>
Emacs is too busy processing prover output (e.g. traces of some automated <br>
proof tools like "simp" or "auto").</p>
<blockquote>
<p>Also, can I precompile those libraries or cache that data, which is <br>
generated and reusable? As much as I can understand it just goes through <br>
the proving process and does something, what has zero-dependancy of the <br>
file I'm editing; those libs also won't change often (and probably if <br>
they did, the proofs of other files would still mostly hold). Does this <br>
feature exist?</p>
</blockquote>
<p>You can work with persistent sessions, see section 1.2 in the Isabelle <br>
System manual for some basic examples.  Having created such a writable <br>
logic image, you can tell Proof General to make use of it.</p>
<p>This is useful for really big development, but your applications are <br>
probably much smaller at the moment.  Which library theories did you try <br>
to load anyway?</p>
<blockquote>
<p>One more speed-related question: usually the button to stop the current <br>
activity does not work (if I run something, what takes very long, I just <br>
have to kill emacs, which is not the best way to use a program and also <br>
wastes a lot of time). Is there some way to easily stop things, which do <br>
not work or were erroneously triggered?</p>
</blockquote>
<p>This indicates that Emacs is busy.  The Unix "top" utility will tell you. <br>
In some denial-of-service situations on Emacs you can also send kill -INT <br>
to the poly process.</p>
<p>Nothing like this should happen in small experiments with Isabelle, <br>
though.  Again it might be just a corollary of general memory shortage.</p>
<blockquote>
<p>Btw. I like the Structured Isar Proofs much more than that other one <br>
with "apply" etc., because that actually allows me to consciously prove <br>
(at least very simple) things whereas that other looks like randomly <br>
trying different buttons in hope that they eventually do something [this <br>
was actually why I switched to Isabelle after playing with Coq a few <br>
days that I saw that manual and it's just nice]. Structured proofs is <br>
clearly at least a good starting point, but this goal-based way is nice <br>
in many ways (I wish that most library proofs were built in that way).</p>
</blockquote>
<p>Structured proofs also scale up to larger proofs, and are more efficiently <br>
checked than old-style proof scripts.  The reason why you don't see Isar <br>
proofs everywhere is that it is usually harder to produce such nice <br>
proofs.</p>
<p>Makarius</p>



<a name="294113113"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294113113" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294113113">(Aug 18 2022 at 15:44)</a>:</h4>
<p>From: Tambet &lt;<a href="mailto:qtvali@gmail.com">qtvali@gmail.com</a>&gt;<br>
On 21 July 2010 12:59, Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt; wrote:</p>
<blockquote>
<p>Since you are still learning, you might also be interested in the slides<br>
of my Isabelle course:<br>
<a href="http://isabelle.in.tum.de/coursematerial/PSV2009-1/index.html">http://isabelle.in.tum.de/coursematerial/PSV2009-1/index.html</a><br>
It starts off with "apply" but later it introduces structured proofs<br>
through proof patterns that may help.</p>
</blockquote>
<p>Yes I am. I will go into it right now :) It's clearly self-explaining.</p>
<blockquote>
<p>Tobias<br>
</p>
</blockquote>
<p>Thanks,<br>
  Tambet</p>



<a name="294113171"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Questions%20about%20speed%20and%20CPU%20usage/near/294113171" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Questions.20about.20speed.20and.20CPU.20usage.html#294113171">(Aug 18 2022 at 15:44)</a>:</h4>
<p>From: Tambet &lt;<a href="mailto:qtvali@gmail.com">qtvali@gmail.com</a>&gt;<br>
On 21 July 2010 10:55, Peter Lammich &lt;<a href="mailto:peter.lammich@uni-muenster.de">peter.lammich@uni-muenster.de</a>&gt; wrote:</p>
<blockquote>
<p>Hi all.</p>
<p>I have a related Problem with the new 2009-2 release.<br>
While 1GiB of RAM have always been enough for the 2009-1 release,<br>
the new version very quickly allocates more than 1GiB, and starts<br>
thrashing.<br>
Switching of "parallel proofs" makes things a bit better, but still my<br>
computer is nearly unusable<br>
during running larger proofs.<br>
</p>
</blockquote>
<p>I am happy to report that after installing XFCE and logging in, it became<br>
extremely fast - things I used to wait 1-20 minutes for happened in moments<br>
or a few seconds. I can now even <em>scroll</em> PDF manuals when Emacs Proof<br>
General is running, which completely changes the whole experience ;)</p>
<p>As KDE normal install (with no programs working) takes 530MB of memory, but<br>
XFCE takes 370 - based on<br>
<a href="http://www.phoronix.com/scan.php?page=article&amp;item=linux_desktop_vitals&amp;num=1-">http://www.phoronix.com/scan.php?page=article&amp;item=linux_desktop_vitals&amp;num=1-</a>,<br>
they might have such properties:</p>
<p>- Say that you use 200MB of memory for normal background processes -<br>
   Firefox and PDF reader.</p>
<p>- Say that Proof General takes some 200MB (I measured that it reaches<br>
   that point very fast).</p>
<p>- Then, XFCE takes 370, which means 770 in total.<br>
   - KDE takes 530, which makes 930 in total.<br>
   - <a href="http://manual.sidux.com/en/cd-content-en.htm">http://manual.sidux.com/en/cd-content-en.htm</a> shows that this memory<br>
   requirement of KDE can get even worse - looking recommended numbers the<br>
   difference could be as much as four times in worse case.</p>
<p>For me, the difference was fatal - when nothing did response before (I was<br>
making coffee when waiting switch from Firefox window to Emacs window or<br>
vice versa after I had ran anything proof-related for once - and this<br>
speeddown was somewhat in effect until reboot), in XFCE it's just working.<br>
It might also be that XFCE is better at memory management of critical things</p>
<ul>
<li>because KDE obviously lets even things needed to move mouse cursor be<br>
written to swap (maybe to have those fancy jumping full-colored cursors).</li>
</ul>
<p>So, maybe it works for you, too :)</p>
<p>[I wouldn't actually believe that the difference is so big, it was just a<br>
last resort after replacing several other programs with more lightweight<br>
versions and turning some less-needed functionality off]</p>
<p>Have you changed any memory-related configurations in the new release, and</p>
<blockquote>
<p>is it possible to set them back again?</p>
<p>Best Peter</p>
<p>Tambet wrote:</p>
<blockquote>
<p>First thing is that on my computer, when Isabelle loads and processes<br>
theories from lib, it almost hangs. It would be nice if my only goal was<br>
to<br>
load those theories, but I would also like to read documentation<br>
meanwhile<br>
and do notes. Is this possible to give it some numbers about how much<br>
it's<br>
allowed to use memory, CPU and utilize hard drive speed at any given<br>
time?<br>
It would be much better if moving mouse and opening PDF document was<br>
always<br>
possible. It's not enough to change priority of emacs, because I would<br>
like<br>
emacs to run full-speed meanwhile. Is there some option to make specific<br>
processes lower-priority as much as needed so that computer works fast<br>
and<br>
those processes use 100% of idle time, but max 50% of time I am using<br>
other<br>
applications?</p>
<p>Also, can I precompile those libraries or cache that data, which is<br>
generated and reusable? As much as I can understand it just goes through<br>
the<br>
proving process and does something, what has zero-dependancy of the file<br>
I'm<br>
editing; those libs also won't change often (and probably if they did,<br>
the<br>
proofs of other files would still mostly hold). Does this feature exist?</p>
<p>One more speed-related question: usually the button to stop the current<br>
activity does not work (if I run something, what takes very long, I just<br>
have to kill emacs, which is not the best way to use a program and also<br>
wastes a lot of time). Is there some way to easily stop things, which do<br>
not<br>
work or were erroneously triggered?</p>
<p>Btw. I like the Structured Isar Proofs much more than that other one with<br>
"apply" etc., because that actually allows me to consciously prove (at<br>
least<br>
very simple) things whereas that other looks like randomly trying<br>
different<br>
buttons in hope that they eventually do something [this was actually why<br>
I<br>
switched to Isabelle after playing with Coq a few days that I saw that<br>
manual and it's just nice]. Structured proofs is clearly at least a good<br>
starting point, but this goal-based way is nice in many ways (I wish that<br>
most library proofs were built in that way).</p>
<p>Tambet<br>
</p>
</blockquote>
</blockquote>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>