<html>
<head><meta charset="utf-8"><title>[isabelle] RC1: etc/symbols file from 2015 crashes jedit ... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html">[isabelle] RC1: etc/symbols file from 2015 crashes jedit ...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294662547"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662547" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662547">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi,</p>
<p>after copying my personal etc/symbols file to the<br>
~/.isabelle/Isabelle2016-RC1/etc/ folder, the command <br>
"isabelle jedit" shows the splash-screen, and then freezes, never<br>
displaying the editor, nor printing more messages to output. The<br>
splash-screen displays "running startup scripts" when it freezes. </p>
<p>I attached the exceptions that are shown in the console, and my<br>
symbols-file.<br>
<a href="/user_uploads/14278/sIbT0vNoLlhD9_uUgO5IYUEh/symbols">symbols</a></p>



<a name="294662579"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662579" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662579">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Hi Peter,</p>
<p>are you sure you only copied the symbols file and not the preferences<br>
file, too? Judging by the error message, it looks like there is an<br>
invalid "jedit_tooltip_delay" setting there.</p>
<p>Cheers<br>
Lars</p>



<a name="294662595"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662595" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662595">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
I also copied preferences, but the crash behaviour can be triggered by<br>
symbols. Removing symbols while keeping preferences and everything works fine  </p>
<p>Peter</p>
<p>\-------- Originalnachricht --------</p>



<a name="294662599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662599">(Aug 22 2022 at 12:14)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>I also copied preferences, but the crash behaviour can be triggered by symbols. <br>
Removing symbols while keeping preferences and everything works fine</p>
</blockquote>
<p>You're right. I was under the impression that I also had a symbols file,<br>
but didn't (I wonder where I put my custom symbols ...)</p>
<p>I tried reproducing the problem locally and apparently the offending<br>
entry is</p>
<p>\&lt;struct&gt;               code: 0x0022c4</p>
<p>(I found that by diffing Isabelle2015/etc/symbols and<br>
Isabelle2016-RC1/etc/symbols.)</p>
<p>Removing that entry from your symbols file doesn't lead to a crash (on<br>
my machine at least).</p>
<p>Cheers<br>
Lars</p>



<a name="294662635"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662635" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662635">(Aug 22 2022 at 12:15)</a>:</h4>
<p>From: bnord &lt;<a href="mailto:bnord01@gmail.com">bnord01@gmail.com</a>&gt;<br>
Maybe this was renamed to jedit_completion_delay ? etc/preferences <br>
should be the file.</p>
<p>Best Benedikt</p>



<a name="294662641"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662641" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662641">(Aug 22 2022 at 12:15)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Thanks, that solved the problem for me. Still very unsatisfactory behaviour to<br>
get a crash for an invalid symbols entry that was valid in the last version.  </p>
<p>Peter</p>
<p>\-------- Originalnachricht --------</p>



<a name="294662734"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC1%3A%20etc/symbols%20file%20from%202015%20crashes%20jedit%20.../near/294662734" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC1.3A.20etc.2Fsymbols.20file.20from.202015.20crashes.20jedit.20.2E.2E.2E.html#294662734">(Aug 22 2022 at 12:15)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
As a general principle, config files from $ISABELLE_HOME should not be <br>
copied in full to $ISABELLE_HOME_USER, only the few lines that are <br>
actually changed or added.</p>
<p>Your changes to etc/symbols are additional abbreviations.  For <br>
Isabelle2016 there is a new etc/abbrevs file that is briefly mentioned in <br>
NEWS and has a small paragraph in the Isabelle/jEdit manual.  The existing <br>
$ISABELLE_HOME/etc/abbrevs can be taken as example for additions in <br>
$ISABELLE_HOME_USER/etc/abbrevs.</p>
<p>Back to the mysterious error produced by Isabelle/jEdit as reaction to <br>
present it old junk from Isabelle2015:</p>
<ul>
<li>
<p>Command-line tools like "isabelle options -l" or variations on "isabelle<br>
   build" do produce this error (although without clear source position):</p>
<p>*** Duplicate mapping of "⋄" to "\&lt;struct&gt;" vs. "\&lt;diamondop&gt;"</p>
</li>
<li>
<p>The error is lost in the Isabelle plugin startup of jEdit, due to some<br>
   complications of object-oriented component initialization. Thus there is<br>
   basically an NPE, but my attempts to avoid NPEs in general caused a<br>
   meaningless error message instead.  I've now refined that in the 3<br>
   changesets leading to<br>
<a href="https://bitbucket.org/isabelle_project/isabelle-release/commits/027e6032977f">https://bitbucket.org/isabelle_project/isabelle-release/commits/027e6032977f</a></p>
</li>
</ul>
<p>So in the next release candiate, there should be a lot of "Java vomit" and <br>
spectacular dialog windows, containing variations of the above error <br>
message.</p>
<p>You should nonetheless replace your old copy of etc/symbols by suitable <br>
etc/abbrevs (without a copy of the official file).</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>