<html>
<head><meta charset="utf-8"><title>[isabelle] RC5: Many Grayouts if many theory files are lo... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html">[isabelle] RC5: Many Grayouts if many theory files are lo...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294640755"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC5%3A%20Many%20Grayouts%20if%20many%20theory%20files%20are%20lo.../near/294640755" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html#294640755">(Aug 22 2022 at 09:53)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi</p>
<p>I have roughly 100 theory files loaded, <br>
and the IDE grays out every minute or so.</p>
<p>Are there some options to make the IDE more responsive on my machine<br>
(8virtual cores, 16GiB RAM)? Or is the IDE just not suited for those<br>
(medium size) developments? </p>
<p>As a workaround, I could make an even more fine-rained image-hierarchy,<br>
with is cumbersome to work with, especially when doing maintenance or<br>
cleanup tasks, moving lots of stuff around, mostly into library theories<br>
(which would be in the image then)</p>



<a name="294640799"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC5%3A%20Many%20Grayouts%20if%20many%20theory%20files%20are%20lo.../near/294640799" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html#294640799">(Aug 22 2022 at 09:53)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:Gerwin.Klein@nicta.com.au">Gerwin.Klein@nicta.com.au</a>&gt;<br>
My settings are</p>
<p>JEDIT_JAVA_OPTIONS="-Xms256m -Xmx4096m -Xss4m”</p>
<p>and I’ve so far been able to work fairly nicely with that on &gt; 60 files, many of them large.</p>
<p>Going from 1GB max heap size to 4GB made a huge difference for jEdit (I had forgotten to set the max heap size on my laptop before and had fairly frequent gray-outs which just turned out to be Java garbage collecting).</p>
<p>Cheers,<br>
Gerwin</p>
<hr>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294640811"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC5%3A%20Many%20Grayouts%20if%20many%20theory%20files%20are%20lo.../near/294640811" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html#294640811">(Aug 22 2022 at 09:53)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
After writing the mail, I tested</p>
<p>JEDIT_JAVA_OPTIONS="-Xms2048m -Xmx8192m -Xss8m"<br>
ML_OPTIONS="-H 4000 --gcthreads 2"</p>
<p>without really knowing what I am doing.</p>
<p>And it just grayed out again on ~80 files, but recovered after 2<br>
minutes ...</p>



<a name="294640825"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC5%3A%20Many%20Grayouts%20if%20many%20theory%20files%20are%20lo.../near/294640825" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html#294640825">(Aug 22 2022 at 09:53)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
I can almost reliably produce a grayout as follows:</p>
<p>1) Load a theory that depends on (roughly) 80 other theories. <br>
2) Check it in the theories buffer (Alternatively, have it open in<br>
another window).<br>
3) Go back to one of the dependent theories, and edit something there.</p>
<p>During editing in step 3, I will, almost surely, get a grayout after a<br>
few seconds ...</p>
<p>I find this really annoying, since it interferes with two very important<br>
use-patterns of mine:<br>
  1) Maintenance: Load some theories with some lib changed, and try to<br>
fix the errors, while the rest is, of course, processed in the<br>
background.</p>
<p>2) Working with multiple windows. If one window happens to show an<br>
ancestor theory of what I am currently editing, chances for grayout<br>
increase ...</p>
<p>-- Peter</p>
<p>p.s.: Currentyl using </p>
<p>JEDIT_JAVA_OPTIONS="-Xms512m -Xmx4096m -Xss8m"<br>
ML_OPTIONS="-H 4096 --gcthreads 2"</p>
<p>and the grayouts that I get do not recover within 5 minutes ...</p>



<a name="294640861"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20RC5%3A%20Many%20Grayouts%20if%20many%20theory%20files%20are%20lo.../near/294640861" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20RC5.3A.20Many.20Grayouts.20if.20many.20theory.20files.20are.20lo.2E.2E.2E.html#294640861">(Aug 22 2022 at 09:54)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
You have 4 real cores, so you should use them for GC as well.  Without <br>
the --gcthreads you should get that already by default, since David <br>
Matthews counts the physical threads, not the logical hyperthreads.</p>
<p>I guess that most of the greyout time is for ML memory management.  On the <br>
isabelle-users thread "run-away Isabelle process" started by Elsa Gunter <br>
03-May-2015 there should be more hints what can be done to improve the <br>
situation -- the hardware side-conditions seem to be rather similar.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>