<html>
<head><meta charset="utf-8"><title>[isabelle] Real time in generated code · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Real.20time.20in.20generated.20code.html">[isabelle] Real time in generated code</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294263165"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Real%20time%20in%20generated%20code/near/294263165" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Real.20time.20in.20generated.20code.html#294263165">(Aug 19 2022 at 13:18)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 21 Jan 2014, marco caminati wrote:</p>
<blockquote>
<p>However, I would also like this code to be triggered by time events at <br>
runtime. For example, I would like the code to output its values every <br>
second. A simple way I had in mind was to add an argument to the <br>
specification of my function representing time, and then to plug a time <br>
counter into that argument, but I'm digressing.</p>
</blockquote>
<p>Andreas Lochbihler has already given some hints that this is probably just <br>
a question how to wrap the Isabelle-generated Scala code into something <br>
that lies outside the image of your original Isabelle/HOL specifications.</p>
<p>So it is mostly about some timer or thread programming on the JVM, using <br>
Scala to access regular Java APIs.</p>
<blockquote>
<p>Googling, I found references to timeap/timeit and to <a href="http://Time.now">Time.now</a> ().</p>
</blockquote>
<p>timeap/timeit are from Isabele/ML.</p>
<p><a href="http://Time.now">Time.now</a> is from Standard ML and it is OK to use in Isabelle/ML as well <br>
(this is not always the case for such SML basis library things).</p>
<blockquote>
<p>2) I am only familiar with Isar, but I understand that to use these<br>
   approaches I should embed ML code in it, right?  In this case, is<br>
   there a good primer to descend from the Isar layer to the underlying<br>
   ML layer?</p>
</blockquote>
<p>Step 0 is to get the basic mental model about Isabelle right, including <br>
some elementary terminology.  Isabelle is a framework of many different <br>
languages: Isabelle/Pure, Isabelle/HOL, Isabelle/ML, Isabelle/Scala, ... <br>
Isabelle/XYZ according to your own imaginations if you like.</p>
<p>Some of these languages are intertwined, and embeded into each other in <br>
certain ways, but it does not make sense to speak of "layers" or to <br>
"descend" -- especially not for the special pair Isabelle/Isar versus <br>
Isabelle/ML.</p>
<p>The canonical picture to keep in mind is <br>
<a href="http://en.wikipedia.org/wiki/File:Yin_and_Yang.svg">http://en.wikipedia.org/wiki/File:Yin_and_Yang.svg</a> -- sometimes this one <br>
also helps: <a href="http://en.wikipedia.org/wiki/File:Klein_bottle.svg">http://en.wikipedia.org/wiki/File:Klein_bottle.svg</a></p>
<p>You can learn more about Isabelle/ML in the "implementation" manual that <br>
is included in Isabelle, e.g. Documentation panel in Isabelle/jEdit. <br>
There is also a tiny example at the bottom of the same panel: <br>
src/HOL/ex/ML.thy.  It includes some bits of HOL -&gt; ML code generation, <br>
but not Scala.</p>
<p>That is an interesting pastime, but it is probably irrelevant to your <br>
problem.</p>
<p>Makarius</p>



<a name="294267549"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Real%20time%20in%20generated%20code/near/294267549" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Real.20time.20in.20generated.20code.html#294267549">(Aug 19 2022 at 13:34)</a>:</h4>
<p>From: marco caminati &lt;<a href="mailto:marco.caminati@yahoo.it">marco.caminati@yahoo.it</a>&gt;<br>
Hi,</p>
<p>I am using Isabelle/HOL to produce executable Scala code from suitable specifications.<br>
I can get some code returning the value of some function upon a given argument.<br>
However, I would also like this code to be triggered by time events at runtime.<br>
For example, I would like the code to output its values every second.<br>
A simple way I had in mind was to add an argument to the specification of my function representing time, <br>
and then to plug a time counter into that argument, but I'm digressing.</p>
<p>In general, how do you exploit machine's clock at runtime?<br>
Googling, I found references to timeap/timeit and to <a href="http://Time.now">Time.now</a> ().<br>
Questions:</p>
<p>1) Would any of these approaches be useful for the problem stated above?</p>
<p>2) I am only familiar with Isar, but I understand that to use these approaches I should embed ML code in it, right?<br>
In this case, is there a good primer to descend from the Isar layer to the underlying ML layer?</p>
<p>Best,<br>
Marco</p>



<a name="294267563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Real%20time%20in%20generated%20code/near/294267563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Real.20time.20in.20generated.20code.html#294267563">(Aug 19 2022 at 13:34)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Marco,</p>
<p>as you produce Scala code, I assume that you want to have those time events in Scala. <br>
However, Isabelle's code generator generates only a subset of what you can do in Scala, <br>
namely the purely functional programming part. With some extension like Imperative_HOL, <br>
you get a bit further. But for asynchronous time events, you need concurrency, and AFAIK <br>
there's nothing like that in Isabelle at the moment. Do you want to reason about these <br>
time events? If not, then all this is just a matter of wrapping up the generated Scala <br>
code -- you definitely don't want to do all this in Isabelle. That is, you should write in <br>
Scala your time trigger that evaluates the function you are interested in and outputs the <br>
results. If you want to reason about these timing events in Isabelle, then you first have <br>
to model all this in HOL (not easy) and adapt the code generator such that maps your model <br>
to the Scala primitives (difficult to get really right).</p>
<p>Hope this helps,<br>
Andreas</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>