<html>
<head><meta charset="utf-8"><title>[isabelle] Recursion on finite sets · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursion.20on.20finite.20sets.html">[isabelle] Recursion on finite sets</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294068291"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Recursion%20on%20finite%20sets/near/294068291" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursion.20on.20finite.20sets.html#294068291">(Aug 18 2022 at 12:37)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:lochbihl@ipd.info.uni-karlsruhe.de">lochbihl@ipd.info.uni-karlsruhe.de</a>&gt;<br>
Hi all,</p>
<p>I am looking for some way of defining a function recursively over finite <br>
sets.<br>
For a datatype t, the datatype package automatically generates a <br>
recursion operator t_rec with which primitive-recursively functions over <br>
  that datatype can be defined. For finite sets, I haven't found <br>
anything similar. The only thing I have found is the fold combinator in <br>
Finite_Set of type "('a =&gt; 'a =&gt; 'a) =&gt; ('b =&gt; 'a) =&gt; 'a =&gt; 'b set =&gt; <br>
'a" where "fold f g z A" is f folded over the (multiset) image of A <br>
under g with initial value z.<br>
But I would rather like to have some function finite_rec :: "('b set =&gt; <br>
'b =&gt; 'a =&gt; 'a) =&gt; 'a =&gt; 'b set =&gt; 'a"  that satisfies</p>
<p>"finite_rec f z {} = z" and<br>
"[| finite A; ~ (x : A) |]<br>
  ==&gt; finite f z (insert x A) = f A x (finite_rec f A z)"</p>
<p>for all "well-formed" functions f.</p>
<p>Is there already something there that I can use like finite_rec or can <br>
finite_rec be somehow defined using existing fold?</p>
<p>Best,<br>
Andreas</p>



<a name="294068321"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Recursion%20on%20finite%20sets/near/294068321" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursion.20on.20finite.20sets.html#294068321">(Aug 18 2022 at 12:37)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
Hi Andreas,</p>
<p>Hmmm... How would you specify well-formed? It seems this is not easy...</p>
<p>As far as I know, Finite_Set.fold is all we have at the moment.</p>
<p>Alex</p>



<a name="294068332"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Recursion%20on%20finite%20sets/near/294068332" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Recursion.20on.20finite.20sets.html#294068332">(Aug 18 2022 at 12:37)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
If f does not take the remaining set A as an argument, then you can<br>
define such a recursion operator completelty along the same lines as the<br>
 fold operator currently provided. It will require f to be<br>
left-commutative: f a (f b c) = f b (f a c). See the TPHOLs 2005 paper<br>
by Larry and me for more details. In fact, such an operator would be<br>
welcome.</p>
<p>If the same development could be generalized to your f I am not sure.</p>
<p>Tobias</p>
<p>Andreas Lochbihler wrote:</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>