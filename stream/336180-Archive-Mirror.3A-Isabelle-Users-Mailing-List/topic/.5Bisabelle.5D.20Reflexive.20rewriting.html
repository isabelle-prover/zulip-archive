<html>
<head><meta charset="utf-8"><title>[isabelle] Reflexive rewriting · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Reflexive.20rewriting.html">[isabelle] Reflexive rewriting</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294649458"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Reflexive%20rewriting/near/294649458" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Reflexive.20rewriting.html#294649458">(Aug 22 2022 at 10:51)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:eberlm@in.tum.de">eberlm@in.tum.de</a>&gt;<br>
Hallo,</p>
<p>I occasionally run into problems where a simplification rule leads to <br>
infinite reflexive rewriting, e.g. if I have a constant f and a rule <br>
like "f ?x 1 = f 0 1", then the simplifier will loop on goals like "f x <br>
1 = f y 1", since "f 0 1" will get rewritten to itself infinitely often.</p>
<p>I know how to fix this with NO_MATCH, but my question is this: why do we <br>
not introduce a check in the simplifier that prevents it from rewriting <br>
a term to itself? I don't know much about the simplifier, but I should <br>
be surprised if such a check were difficult to implement, and I do not <br>
think there would be a significant loss of performance. It also should <br>
not break any existing proofs or code.</p>
<p>Cheers,</p>
<p>Manuel</p>



<a name="294649471"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Reflexive%20rewriting/near/294649471" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Reflexive.20rewriting.html#294649471">(Aug 22 2022 at 10:51)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I am also not an expert on the Simplifier myself, but by default the blind <br>
assumptions above need to be inverted. Just empirically, any tiny change <br>
anywhere will cause lots of unexpected problems in obscure places.</p>
<p>This does not mean, reforms should not be done -- we do it all the time. <br>
But it usually takes really long and hard work to push a change through.</p>
<p>Makarius</p>



<a name="294649538"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Reflexive%20rewriting/near/294649538" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Reflexive.20rewriting.html#294649538">(Aug 22 2022 at 10:52)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
I agree with Makarius, although I suspect there wouldn't be many broken proofs. <br>
On the other hand I am sure it would impact performance noticeably. Now that we <br>
have NO_MATCH, I am reluctant to add a special case to the simplifier code.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/ZFXyqOjuaIGaQBgniM_tZseb/smime.p7s">smime.p7s</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>