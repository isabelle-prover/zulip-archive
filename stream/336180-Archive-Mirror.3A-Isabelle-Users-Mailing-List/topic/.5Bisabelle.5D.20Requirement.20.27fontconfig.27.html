<html>
<head><meta charset="utf-8"><title>[isabelle] Requirement &#x27;fontconfig&#x27; · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Requirement.20.27fontconfig.27.html">[isabelle] Requirement &#x27;fontconfig&#x27;</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294759541"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Requirement%20%27fontconfig%27/near/294759541" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Requirement.20.27fontconfig.27.html#294759541">(Aug 22 2022 at 20:08)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Dear users,</p>
<p>I'd like to report a finding that I had to make the hard way today.</p>
<p>I'm currently in the process of migrating the AFP submission service to <br>
Ubuntu 18.04 LTS. The package 'fontconfig' is not installed any longer <br>
in the server edition. When building Isabelle sessions on such a <br>
headless server, this results in the output 'InvocationTargetException' <br>
printed on the screen.</p>
<p>The underlying issue is that Isabelle tries to load the available fonts <br>
(?) and the JDK cannot do that, because 'fontconfig' is missing. <br>
Ultimately, there's a NPE somewhere in the 'sun.awt.*' package.</p>
<p>Luckily, the fix is simple: 'apt install fontconfig'.</p>
<p>Here's the corresponding issue in the AdoptOpenJDK repository: <br>
&lt;<a href="https://github.com/AdoptOpenJDK/openjdk-build/issues/693">https://github.com/AdoptOpenJDK/openjdk-build/issues/693</a>&gt;.</p>
<p>Cheers<br>
Lars</p>



<a name="294759611"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Requirement%20%27fontconfig%27/near/294759611" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Requirement.20.27fontconfig.27.html#294759611">(Aug 22 2022 at 20:08)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
BTW, the official Isabelle docker image documents such system<br>
dependencies: see <a href="http://isabelle.in.tum.de/installation.html">http://isabelle.in.tum.de/installation.html</a> at the<br>
bottom, which points to <a href="https://hub.docker.com/r/makarius/isabelle">https://hub.docker.com/r/makarius/isabelle</a> --<br>
and this is generated by Isabelle/Scala here:<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/file/Isabelle2019/src/Pure/Tools/build_docker.scala">http://isabelle.in.tum.de/repos/isabelle/file/Isabelle2019/src/Pure/Tools/build_docker.scala</a></p>
<p>The relevant change from 4 months ago is here<br>
<a href="http://isabelle.in.tum.de/repos/isabelle/rev/e3217c6d6467">http://isabelle.in.tum.de/repos/isabelle/rev/e3217c6d6467</a></p>
<p>Makarius</p>



<a name="294759676"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Requirement%20%27fontconfig%27/near/294759676" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Requirement.20.27fontconfig.27.html#294759676">(Aug 22 2022 at 20:09)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
FWIW, this could be useful to put on the Isabelle website.</p>



<a name="294759799"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Requirement%20%27fontconfig%27/near/294759799" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Requirement.20.27fontconfig.27.html#294759799">(Aug 22 2022 at 20:10)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
OK, I have made minor changes to<br>
<a href="https://isabelle.in.tum.de/installation.html">https://isabelle.in.tum.de/installation.html</a> to say more explicitly<br>
"Docker: Headless Ubuntu Linux" and "The Docker image contains Ubuntu<br>
Linux 18.04 with Isabelle2019".</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>