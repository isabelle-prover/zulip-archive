<html>
<head><meta charset="utf-8"><title>[isabelle] Search in Isabelle · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Search.20in.20Isabelle.html">[isabelle] Search in Isabelle</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294102519"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Search%20in%20Isabelle/near/294102519" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Search.20in.20Isabelle.html#294102519">(Aug 18 2022 at 14:50)</a>:</h4>
<p>From: Timothy Bourke &lt;<a href="mailto:timothybourke@gmail.com">timothybourke@gmail.com</a>&gt;<br>
Manually running:<br>
    find_theorems solves<br>
or<br>
    C-c C-f solves</p>
<p>should have the desired effect.</p>
<p>You could also make a more specific key binding if you need this<br>
often.</p>
<p>Tim.<br>
<a href="/user_uploads/14278/EMXvqRrinKYWgRgj758Xq0oJ/signature.asc">signature.asc</a></p>



<a name="294104197"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Search%20in%20Isabelle/near/294104197" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Search.20in.20Isabelle.html#294104197">(Aug 18 2022 at 14:58)</a>:</h4>
<p>From: grechukbogdan &lt;<a href="mailto:grechukbogdan@yandex.ru">grechukbogdan@yandex.ru</a>&gt;<br>
Dear Isabelle Users,<br>
I am working on project, which includes 1) convex analysis formalization in Isabelle, and 2) provide a feedback about Isabelle, including comments and suggestions.<br>
Here is my first feedback letter, mostly about the search in Isabelle.<br>
When I want to prove some result, the first question is if this result new or not, and it would be nice to know this without reading the theories from the Library. Fortunately, if I guess the exact formulation of existing lemma, I can do search, or just formulate the lemma and get message like “The current goal could be solved directly with...”. The first important problem here is that if I formulate such a lemma inside the proof in command “have”, no suggestion is given, and it is hard to guess to check every time, as a result I already reproved some existing results. </p>
<p>Suggestion 1. The message like  “The current goal could be solved directly with...” should appear not only after I formulate the existing result as a lemma, but also when I formulate it inside the proof, say after have. Ideally, something like this should work when the existing result appears as a subgoal in the proof, etc. </p>
<p>The first part of this (about “have”) I have suggested during my first visit in June, and the reply was “good point. We will think about it”. This is very important because it will help to avoid duplicate job. Is it hard for realization?</p>
<p>Unfortunately, this mechanism is very sensitive for reformulations. For example, there exist a lemma “id x = x”, but I have no suggestions for lemma “x = id x”. In this and many similar cases Sledgehammer can help, but the same question arises: is it possible to run it in the background automatically, every time when I formulate a lemma or “have” statement? </p>
<p>Suggestion 2: It should be a possibility to run Sledgehammer in the background automatically, every time when I formulate a lemma or “have” statement . If this is already possible, the suggestion is to make it more clear how to turn it on, because I cannot find the way to do this.</p>
<p>Unfortunately, even Sledgehammer does not help for a little bit more complicated lemmas. For example, it cannot prove the lemma <br>
f = g ↔ (!x. f x = g x)                            (1)<br>
although this lemma is present in the library. As a result, a reformulation like<br>
f = g ↔ (!x. g x = f x)                            (2)<br>
is not addressed neither by Sledgehammer nor by lemma suggestion mechanism, and  I see no simple way for the user to find out that this lemma is not essentially new. May be, this way exists, and I just do not know about it?</p>
<p>Suggestion 3: As a minimum, merge lemma suggestion with Sledgehammer to create a new Sledgehammer which would prove at least (1). Ideally, it should be a mechanism which proves a reformulations like (2), and it should work automatically, to prevent user from reproving result. If there is another simple way to see that statements like (2) are not essentially new, it should be more clear documented,  because I cannot find a simple way to do this.</p>
<p>In my work, I need a definition of dimension. It states<br>
dim V = (SOME n. EX B&lt;=V. independent B &amp; V&lt;=span B &amp; card B =n)   <br>
I know from the tutorial that SOME is Hilbert operator, but when I tried to find the definition of SOME in Isabelle, the search failed. It turned out this was because SOME is an abbreviation, but it took me a long time and finally I needed help of another person.</p>
<p>Suggestion 4: There should be a simple way to see the any definition in Isabelle, even if I do not know in advance, is this a lemma, method, term, abbreviation,  notation, or something else. </p>
<p>But even knowing the definition, I do not know how to work with this SOME. For example, if I assume that “dim V = m” I have “(SOME n. EX B&lt;=V. independent B &amp; V&lt;=span B &amp; card B =n) = m”, but I do not know how to extract this B from this definition and derive, say, that <br>
dim V = m ==&gt; (EX B&lt;=V. independent B &amp; V&lt;=span B &amp; card B =m)            (3)<br>
Ideally, together with definition it should be small set of example how to work with, say, SOME, but may be it is too much to formulate this as a suggestion (although such a help exists in many systems like Mathematica). Ok, could you please just tell me how to work with SOME, for example, how to prove (3)?<br>
Also, to proceed with proof of my lemma, I will need to obtain this B and say that it is a basis in R^n, whence affine hull V = R^n But again, I cannot understand the definition of basis in Isabelle, because it contains symbol \&lt;chi&gt;, which is not in table A.1 in the tutorial, and it is hard to find what it means, see suggestion 4. Could you please explain me this notation, and how to work with basis, for example, how to prove that n independent vectors form a basis in R^n.</p>
<p>Sincerely,<br>
Bogdan.</p>



<a name="294104317"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Search%20in%20Isabelle/near/294104317" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Search.20in.20Isabelle.html#294104317">(Aug 18 2022 at 14:59)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;</p>
<blockquote>
<p>In my work, I need a definition of dimension. It states<br>
dim V = (SOME n. EX B&lt;=V. independent B &amp; V&lt;=span B &amp; card B =n)   </p>
</blockquote>
<p>Such definitions are notoriously tricky to work with. In particular,</p>
<p>dim V = m ==&gt; (EX B&lt;=V. independent B &amp; V&lt;=span B &amp; card B =m) (3)</p>
<p>does not hold. What if V has no dimension? Then "dim V" is still<br>
defined, but you don't know what it is. In it cannot possibly fulfill<br>
the defining predicate. Another way to see that (3) is strange,<br>
instantiate m with "dim V" in (3).</p>
<p>The rules for working with SOME are all in Hilbert_Choice. The closest<br>
you can get to (3) is</p>
<p>lemma someI2: "[| P a;  !!x. P x ==&gt; Q x |] ==&gt; Q (SOME x. P x)"</p>
<p>This requires that you know that there is an "a" that satisfies P.<br>
Some further hints:</p>
<ul>
<li>
<p>There is also THE and LEAST which may or may not be more convenient<br>
than SOME.</p>
</li>
<li>
<p>Look though the "What's in Main" manual (it's only 10 pages) to<br>
discover what there is. You can also use the pdf search facility to<br>
search for symbols in there.</p>
</li>
<li>
<p>There is also THE and LEAST which may or may not be more convenient<br>
than SOME.</p>
</li>
<li>
<p>Sometimes it is convenient to set "undefined" values to a fixed value.<br>
For example, card A = 0 if A is infinite. Maybe something similar makes<br>
sense for dim.</p>
</li>
</ul>
<p>Tobias</p>



<a name="294104337"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Search%20in%20Isabelle/near/294104337" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Search.20in.20Isabelle.html#294104337">(Aug 18 2022 at 14:59)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Thu, 25 Mar 2010, grechukbogdan wrote:</p>
<blockquote>
<p>Suggestion 1. The message like “The current goal could be solved <br>
directly with...” should appear not only after I formulate the existing <br>
result as a lemma, but also when I formulate it inside the proof, say <br>
after have. Ideally, something like this should work when the existing <br>
result appears as a subgoal in the proof, etc.</p>
</blockquote>
<p>The goal-print-hook mechanism is essentially just a temporary workaround <br>
(since some years already). There is a fundamental bottle-neck in the <br>
synchronous interaction model of Proof General here, which is inherited <br>
from the plain tty model.  I.e. there is just a single read-eval-print <br>
loop, and while the system is trying to find smart suggestions the user <br>
has to wait for it.</p>
<p>Activating this crude suggestion mechanism in more places would degrade <br>
system reactivity even further.</p>
<blockquote>
<p>Suggestion 2: It should be a possibility to run Sledgehammer in the <br>
background automatically, every time when I formulate a lemma or “have” <br>
statement . If this is already possible, the suggestion is to make it <br>
more clear how to turn it on, because I cannot find the way to do this.</p>
</blockquote>
<p>Same problem, even worse. Users certainly do not want to wait several <br>
seconds until they can continue typing.</p>
<p>The crude asynchronous mode of Sledgehammer is also just a temporary <br>
workaround.</p>
<p>Quite some time ago, I've started an effort to introduce true interaction <br>
into interactive theorem proving, by giving up the tty read-eval-print <br>
loop, and Proof General, heading towards a document-oriented editor model.</p>
<p>This is much easier said then done.  There are many technical issues, part <br>
of them already solved.  At least initially it was hard to find a <br>
replacement for the Emacs operating system (with its modest <br>
single-threaded editor).  What has emerged already is this new <br>
Isabelle/Pure.jar Scala library for system programming, and a small demo <br>
application based on the powerful jEdit, which is a real editor, not an <br>
operating sytem like Emacs or Eclipse.</p>
<p>I hope to see some usuable asynchronous proof editor within the next few <br>
months.  The asynchronous model will provide a natural playground for <br>
various "user agents" based on find_theorems, external ATPs etc.  There is <br>
lots of implementation work still ahead of us -- as well as unlearning the <br>
way of thinking in terms of a TTY-loop.</p>
<blockquote>
<p>Suggestion 4: There should be a simple way to see the any definition in <br>
Isabelle, even if I do not know in advance, is this a lemma, method, <br>
term, abbreviation, notation, or something else.</p>
</blockquote>
<p>You cannot easily have a "whatis FOO" command that tells you about an <br>
uncategorized entity FOO -- it would violate the internal data abstraction <br>
of Isabelle tools and packages.  But such a command would belong to the <br>
old TTY world anyway.</p>
<p>What works already is a universal markup mechanism that decorates all <br>
input and output of the system by formal references to defining and <br>
referencing locations etc.  For example, looking at some bit of text like <br>
"SOME x. P x" that has been digested by the system at some point, you<br>
could click on the "SOME" or even the "." to refer to the formal entity <br>
behind it, say a constant definition with notation for concrete syntax.</p>
<p>Too bad there is still no user interface, or even just HTML browser to <br>
make use of this information emitted by Isabelle.  The Proof General setup <br>
strips it all away -- the single LISP thread would choke on all that <br>
semantic information anyway.</p>
<p>Moreover, if you look at modern Isabelle documentation, it is all based on <br>
formal theories.  Manuals such as isar-ref have further formal markup in <br>
the running text, say @{method_def induct} (defining position) or <br>
@{method_ref induct} (interesting referencing position), or @{method <br>
induct} (other reference).  Right now this is only used to produce a <br>
traditional LaTeX index, but the pointing and clicking on formal entities <br>
as sketched above could be applied as well.</p>
<p>For example, lets say you look at some bits of theory somewhere in the <br>
library:</p>
<p>lemma fixes n :: nat shows "P n" by (induct n) auto</p>
<p>To understand what "induct" is, you merely right-click and select from <br>
whatever manuals are presented there, you should quickly get to <br>
reference-manual style definitions of it, or some specially marked <br>
examples etc.</p>
<p>Isabelle already provides a good portion of such mechanisms internally, <br>
but the front-ends are still lacking.  Something like two years ago I've <br>
started to engage myself into the Scala/JVM programming language, to get <br>
access to JVM based editor and browser technologies, without having to <br>
work with the crude oil industry stuff around Java.  Thus the ML (and HOL) <br>
culture of Isabelle can be extended into the JVM, thanks to the smart guys <br>
from EPF Lausanne.</p>
<p>Stay tuned for more to come here soon.</p>
<p>If anybody wants to help me out, what I desparately need is:</p>
<p>* A really good PDF browser for the JVM (as pure jar, no JNI crap);<br>
     hyperlinks and copy-paste need to work properly.</p>
<p>* A really good HTML browser in the same manner.  Presently I am using<br>
     Lobo/Cobra, which is quite good, but also has some shortcomings.<br>
     (I've tried Flying Saucer already.)</p>
<p>Of course, all of that needs to be Open Source.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>