<html>
<head><meta charset="utf-8"><title>[isabelle] Separating function declaration from implement... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Separating.20function.20declaration.20from.20implement.2E.2E.2E.html">[isabelle] Separating function declaration from implement...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294057533"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Separating%20function%20declaration%20from%20implement.../near/294057533" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Separating.20function.20declaration.20from.20implement.2E.2E.2E.html#294057533">(Aug 18 2022 at 11:30)</a>:</h4>
<p>From: George Karabotsos &lt;<a href="mailto:g_karab@cs.concordia.ca">g_karab@cs.concordia.ca</a>&gt;<br>
Hello all,</p>
<p>I am wondering if there is a way to separate the declaration of a <br>
function (as defined by the fun or function keywords) by its implementation.<br>
This is possible using the older consts and primrec or refdef way for <br>
declaring functions but I cannot see how it can be done with the new way.</p>
<p>TIA,<br>
George</p>



<a name="294057563"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Separating%20function%20declaration%20from%20implement.../near/294057563" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Separating.20function.20declaration.20from.20implement.2E.2E.2E.html#294057563">(Aug 18 2022 at 11:30)</a>:</h4>
<p>From: Randy Pollack &lt;<a href="mailto:rpollack@inf.ed.ac.uk">rpollack@inf.ed.ac.uk</a>&gt;<br>
George Karabotsos writes:</p>
<blockquote>
<p>Hello all,</p>
<p>I am wondering if there is a way to separate the declaration of a <br>
function (as defined by the fun or function keywords) by its implementation.<br>
This is possible using the older consts and primrec or refdef way for <br>
declaring functions but I cannot see how it can be done with the new way.</p>
</blockquote>
<p>I noticed this too, and to take it one step further, why can't the<br>
syntactic outlines of these tools be similar; i.e. just replace<br>
"primrec" with "function".  The reason I request this is that when<br>
primrec fails (e.g. even on some primitive recursive functions in the<br>
nominal package) I just switch to function.  Why should this require<br>
changing more than one keyword?</p>
<p>Best,<br>
Randy</p>



<a name="294057580"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Separating%20function%20declaration%20from%20implement.../near/294057580" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Separating.20function.20declaration.20from.20implement.2E.2E.2E.html#294057580">(Aug 18 2022 at 11:30)</a>:</h4>
<p>From: Alexander Krauss &lt;<a href="mailto:krauss@in.tum.de">krauss@in.tum.de</a>&gt;<br>
Randy Pollack wrote:</p>
<blockquote>
<p>George Karabotsos writes:</p>
<blockquote>
<p>Hello all,</p>
<p>I am wondering if there is a way to separate the declaration of a <br>
function (as defined by the fun or function keywords) by its implementation.<br>
This is possible using the older consts and primrec or refdef way for <br>
declaring functions but I cannot see how it can be done with the new way.</p>
</blockquote>
</blockquote>
<p>It cannot be done. The new definitional packages (function, <br>
inductive(_set)) all declare and define constants simultaneously. The <br>
reason is that the (internal) local theory interface (which allows these <br>
packages to work in locale/class/instantiation/... contexts too) <br>
supports only that.</p>
<blockquote>
<p>I noticed this too, and to take it one step further, why can't the<br>
syntactic outlines of these tools be similar; i.e. just replace<br>
"primrec" with "function".  The reason I request this is that when<br>
primrec fails (e.g. even on some primitive recursive functions in the<br>
nominal package) I just switch to function.  Why should this require<br>
changing more than one keyword?</p>
</blockquote>
<p>You are right. This is why primrec will also change its syntax to the <br>
simultaneous style. The new syntax, which works just like "function", is <br>
already supported (and preferred) in the developers version.</p>
<p>Eventually, primitive "const" declarations will mostly disappear from <br>
user theories, and you will use the "definition", "inductive", <br>
"primrec", "function"... packages, which all share a common syntax.</p>
<p>Alex</p>



<a name="294057596"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Separating%20function%20declaration%20from%20implement.../near/294057596" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Separating.20function.20declaration.20from.20implement.2E.2E.2E.html#294057596">(Aug 18 2022 at 11:30)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
It is worth noting that future Isabelle versions still technically will<br>
permit to separate constant declaration from constant definition by<br>
means of the overloading target:</p>
<p>consts foo :: "'a =&gt; 'a"</p>
<p>overloading<br>
  foo == "foo :: 'a =&gt; 'a"<br>
begin</p>
<p>definition foo :: "'a =&gt; 'a" where<br>
  "foo x = x"</p>
<p>end</p>
<p>thm foo_def</p>
<p>Obviously, this only works on the theory level (not in locales etc.).<br>
Presumably this was one reason to sacrifice the separation of consts and<br>
 defs on the Isar level.</p>
<p>Florian<br>
<a href="/user_uploads/14278/OzKZ6pfesZnZAxNiR0Hj-s84/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>