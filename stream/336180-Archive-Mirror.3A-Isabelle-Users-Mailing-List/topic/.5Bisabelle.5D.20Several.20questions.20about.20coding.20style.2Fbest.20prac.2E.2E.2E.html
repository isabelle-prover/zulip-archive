<html>
<head><meta charset="utf-8"><title>[isabelle] Several questions about coding style/best prac... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html">[isabelle] Several questions about coding style/best prac...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294760122"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760122" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760122">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: mailing-list anonymous &lt;<a href="mailto:mailing.list.anonymous@gmail.com">mailing.list.anonymous@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I would like to clarify certain aspects related to the coding style best<br>
suited for Isabelle2019. The question combines both my concerns about the<br>
changes associated with the new release and, also, some of my previous<br>
concerns. Unfortunately, I was not able to find an explicit Isabelle coding<br>
style guide - please accept my apologies for asking this question if a<br>
document that answers it already exists somewhere.</p>
<ol>
<li>
<p>Should ⟦ S ⊆ 𝔘; T ⊆ 𝔘; τ S; τ T ⟧ ⟹ τ (S ∩ T) be preferred over S ⊆ 𝔘<br>
⟹ T ⊆ 𝔘 ⟹ τ S ⟹ τ T  ⟹ τ (S ∩ T)?</p>
</li>
<li>
<p>Should ['a set, ('a set ⇒ bool), 'a set] ⇒ bool be preferred over 'a set<br>
⇒ ('a set ⇒ bool) ⇒ 'a set ⇒ bool?</p>
</li>
<li>
<p>Should lemma ‹⟦ S ⊆ 𝔘; T ⊆ 𝔘; τ S; τ T ⟧ ⟹ τ (S ∩ T)› be preferred<br>
over lemma "⟦ S ⊆ 𝔘; T ⊆ 𝔘; τ S; τ T ⟧ ⟹ τ (S ∩ T)"?</p>
</li>
<li>
<p>Should definition closed_ow :: ‹['a set, ('a set ⇒ bool), 'a set] ⇒<br>
bool› be preferred over definition closed_ow :: "['a set, ('a set ⇒ bool),<br>
'a set] ⇒ bool"?</p>
</li>
<li>
<p>In general, when should I use double quotation marks over cartouches if<br>
both options are available?</p>
</li>
<li>
<p>The reference manual states that 'hence' and 'thus' are, effectively,<br>
legacy features. Nevertheless, they are used consistently throughout the<br>
Isabelle sources and there does not seem to be too much effort devoted to<br>
their elimination. Somehow, I always preferred my code to be as concise as<br>
possible and I find it difficult to understand why the readability is<br>
sacrificed when using, for example, 'thus' instead of 'then show'.<br>
Therefore, my question is whether there is a good chance that 'hence' and<br>
'thus' will become obsolete in the future releases.</p>
</li>
<li>
<p>I would like to understand if it is recommended to use locale structures<br>
for the definition of algebraic structures and abstract spaces. Somehow, I<br>
always found it easier and more natural to state all definitional elements<br>
as explicit locale parameters (also, the main HOL library does not use<br>
structures). Nevertheless, this feature was introduced for a good reason<br>
and there are certain libraries that rely on it (e.g. HOL-Algebra). I would<br>
like to make sure that it is not considered to be bad style not to use it<br>
for the development of new theories/libraries about algebraic structures or<br>
abstract spaces (of course, provided, that these theories/libraries are not<br>
meant to extend one of the existing libraries that already uses structures).</p>
</li>
</ol>
<p>Thank you</p>



<a name="294760137"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760137" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760137">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: mailing-list anonymous &lt;<a href="mailto:mailing.list.anonymous@gmail.com">mailing.list.anonymous@gmail.com</a>&gt;<br>
Dear All,</p>
<p>I would like to make one minor remark with regard to the statement "I was<br>
not able to find an explicit Isabelle coding style guide" in my original<br>
post. Actually, this should say "I was not able to find an explicit<br>
official Isabelle 2019 coding style guide". Of course, I am aware of the<br>
website <a href="https://proofcraft.org/blog/isabelle-style.html">https://proofcraft.org/blog/isabelle-style.html</a>.</p>
<p>Thank you</p>



<a name="294760155"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760155" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760155">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I strongly prefer the bracketed style. The linear style is not very legible, especially when there is nesting.</p>
<p>But there are different points of view, and the bracket-style print mode is hard to access. To enable it, insert the line</p>
<p>JEDIT_PRINT_MODE=brackets</p>
<p>in your settings file.</p>
<p>Larry Paulson</p>



<a name="294760169"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760169" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760169">(Aug 22 2022 at 20:12)</a>:</h4>
<p>From: "<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>" &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
I agree with Larry about brackets, but acknowledge that's personal preference.<br>
I know many people who prefer linear mode.  </p>
<p>BTW the print mode is also accessible in jedits option menu, use plugins<br>
isabelle general options and look for the print mode field.  </p>
<p>Peter</p>



<a name="294760208"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760208" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760208">(Aug 22 2022 at 20:13)</a>:</h4>
<p>From: "Klein, Gerwin (Data61, Kensington NSW)" &lt;<a href="mailto:Gerwin.Klein@data61.csiro.au">Gerwin.Klein@data61.csiro.au</a>&gt;<br>
Ooh, a style bike-shed discussion :-)</p>
<p>I also strongly prefer the bracket style (for lemmas and theorems), because linear style becomes very hard to read for larger goals, but I use the linear (=&gt; only) style for types, mostly because people are familiar with that from programming languages and types tend to not go over more than a line or two.</p>
<p>I use quotes for definitions, not cartouches, mostly because I’m used to it and it is fast to type, and I use cartouches for text and ML code, because I’m more likely to need to use quotes inside these.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="294760213"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760213" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760213">(Aug 22 2022 at 20:13)</a>:</h4>
<p>From: "<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>" &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
About typing speed: I usually adjust completion delay to 0, then the<br>
completions for abbreviations like cartouche when typing ", or symbols pops up<br>
immediately. However, to get semantic completions that come from pide then one<br>
has to wait and press ctrl-b.  </p>
<p>Anyway, I find it more annoying to wait the default 0.5 seconds for any non<br>
ascii symbol, than not to have semantic completions without pressing a<br>
shortcut.  </p>
<p>Peter</p>



<a name="294760225"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Several%20questions%20about%20coding%20style/best%20prac.../near/294760225" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Several.20questions.20about.20coding.20style.2Fbest.20prac.2E.2E.2E.html#294760225">(Aug 22 2022 at 20:13)</a>:</h4>
<p>From: Wolfgang Jeltsch &lt;<a href="mailto:wolfgang-it@jeltsch.info">wolfgang-it@jeltsch.info</a>&gt;<br>
Hi!</p>
<p>Following are some of my personal style decisions.</p>
<blockquote>
<ol>
<li>Should <code>⟦ S ⊆ 𝔘; T ⊆ 𝔘; τ S; τ T ⟧ ⟹ τ (S ∩ T)</code> be preferred<br>
    over <code>S ⊆ 𝔘 ⟹ T ⊆ 𝔘 ⟹ τ S ⟹ τ T  ⟹ τ (S ∩ T)</code>?</li>
</ol>
</blockquote>
<p>I avoid both of these at the top level of a formula. Instead, I use Isar<br>
constructs: <code>assumes</code> and <code>shows</code> for lemma statements and <code>if</code> for the<br>
introduction rules in inductive definitions.</p>
<blockquote>
<ol start="5">
<li>In general, when should I use double quotation marks over<br>
    cartouches if both options are available?</li>
</ol>
</blockquote>
<p>The default setting for PDF generation is to drop quotation marks but<br>
preserve cartouches. Therefore, I use cartouches in precisely those<br>
places where the bracketing they add may be necessary to understand the<br>
code. In particular, I use quotation marks for propositions after things<br>
like <code>lemma</code> and <code>have</code>, but I use cartouches around field types in<br>
<code>datatype</code> declarations and locale arguments after <code>interpretation</code>.<br>
Regarding my use of cartouches, consider something like the following:</p>
<p>datatype expr = App ‹expr ⇒ expr› ‹expr› | …</p>
<p>Dropping the cartouches would result in <code>expr ⇒ expr expr</code>, which would<br>
look like there was only one field with this illegal type.</p>
<p>All the best,<br>
Wolfgang</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>