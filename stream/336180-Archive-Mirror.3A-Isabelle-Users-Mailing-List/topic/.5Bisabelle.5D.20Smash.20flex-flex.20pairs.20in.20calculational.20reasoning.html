<html>
<head><meta charset="utf-8"><title>[isabelle] Smash flex-flex pairs in calculational reasoning · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Smash.20flex-flex.20pairs.20in.20calculational.20reasoning.html">[isabelle] Smash flex-flex pairs in calculational reasoning</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294694539"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Smash%20flex-flex%20pairs%20in%20calculational%20reasoning/near/294694539" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Smash.20flex-flex.20pairs.20in.20calculational.20reasoning.html#294694539">(Aug 22 2022 at 14:19)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Dear list,</p>
<p>I have a sequence of calculational reasoning steps.</p>
<p>have "... f ... = ... (f some_argument)" for f<br>
   also have "some_other_subterm = ..."<br>
   finally have ... apply -</p>
<p>In some of the steps I have abstracted over the concrete term by reasoning with some <br>
arbitrary f, which happens to be a function. Unfortunately, the "finally" step now <br>
introduces a flex-flex pair in "calculation", because f is applied to some_argument on the <br>
right-hand side of the first equation and some_other_subterm occurs in the ... part of the <br>
first right-hand side.</p>
<p>The problem now is that the calculation at the end is completely unusable. Even a simple <br>
"apply -" raises an exception (in Isabelle2016):</p>
<p>exception THM 0 raised (line 820 of "thm.ML"):<br>
     forall_intr: variable "f" free in assumptions</p>
<p>Why does also/finally not smash flex-flex pairs? Or is there some way to tell Isabelle to <br>
eliminate them?</p>
<p>Thanks in advance,<br>
Andreas</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>