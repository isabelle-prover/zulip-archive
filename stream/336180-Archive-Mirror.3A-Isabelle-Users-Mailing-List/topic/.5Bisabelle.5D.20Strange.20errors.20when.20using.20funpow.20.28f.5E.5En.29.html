<html>
<head><meta charset="utf-8"><title>[isabelle] Strange errors when using funpow (f^^n) · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html">[isabelle] Strange errors when using funpow (f^^n)</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294736930"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294736930" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294736930">(Aug 22 2022 at 17:42)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
So what is the reasoning behind it?</p>
<p>I still have adhoc_overloading on my list of things to be integrated<br>
properly into Pure, such that it works together with abbreviations. It<br>
is one of the things to happen really soon (i.e. within 1 week, 1 month,<br>
1 year, 1 decade).</p>
<p>Makarius</p>



<a name="294736957"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294736957" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294736957">(Aug 22 2022 at 17:42)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I see this complexity -- inherited from distant past -- as a motivation<br>
to do away with overloading of funpow/compow. Instead it could be either<br>
done with abstract syntax (adhoc_overloading) or concrete syntax (notation).</p>
<p>(It is something to be reconsidered shortly after the Isabelle2018 release.)</p>
<p>Makarius</p>



<a name="294737030"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737030" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737030">(Aug 22 2022 at 17:42)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>So what is the reasoning behind it?</p>
</blockquote>
<p>Generally being conservative about what gets included by default.<br>
According to Florian, there are still some strange effects there. Of<br>
course, they could be ironed out. The judgment on adhoc_overloading was<br>
based on the current state, not on a future state.</p>



<a name="294737870"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737870" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737870">(Aug 22 2022 at 17:47)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi List.</p>
<p>Consider the following definition</p>
<p>definition "test f n a ≡ (f^^n) a"</p>
<p>Isabelle answers with a strange error message here:</p>
<p>(*<br>
Malformed dependency of test('a, 'b) -&gt; compow('a ⇒ 'b)<br>
(restriction compow('a ⇒ 'a ⇒ bool) from<br>
"Transitive_Closure.relpowp_def")<br>
The error(s) above occurred in definition "test_def_raw":<br>
  "test ≡ λf n. compow n f"<br>
*)</p>
<p>What happened here? How to read this error message? Note that the term</p>
<p>term "test f n a ≡ (f^^n) a"</p>
<p>is well-typed, and Isabelle infers f::'a=&gt;'b</p>
<p>Workaround: Explicitly constrain the type of f:</p>
<p>definition test :: "('a ⇒ 'a) ⇒ _" where "test f n a ≡ (f^^n) a"</p>
<p>Works.</p>



<a name="294737886"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737886" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737886">(Aug 22 2022 at 17:47)</a>:</h4>
<p>From: Nemouchi Yakoub &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
Hi Peter,</p>
<p>For some reason you have an extra variable a.</p>
<p>For some reason (f^^n) is of type ::'a it takes no argument.</p>
<p>Cheers,</p>
<p>Yakoub.</p>
<p>2018-07-09 7:57 GMT-04:00 Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;:</p>



<a name="294737905"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737905" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737905">(Aug 22 2022 at 17:47)</a>:</h4>
<p>From: Nemouchi Yakoub &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;<br>
Hi,</p>
<p>However you are right I am puzzled by the pattern of the definition which<br>
is:</p>
<p>consts compow :: "nat ⇒ 'a ⇒ 'a"</p>
<p>abbreviation compower :: "'a ⇒ nat ⇒ 'a" (infixr "^^" 80)<br>
  where "f ^^ n ≡ compow n f"</p>
<p>Hope that no one had fun by defining syntactic sugar for  consts compow ::<br>
"nat ⇒ 'a ⇒ 'a"</p>
<p>Best wishes,</p>
<p>Yakoub.</p>
<p>2018-07-09 8:58 GMT-04:00 Nemouchi Yakoub &lt;<a href="mailto:y.nemouchi@gmail.com">y.nemouchi@gmail.com</a>&gt;:</p>



<a name="294737920"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737920" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737920">(Aug 22 2022 at 17:47)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>However you are right I am puzzled by the pattern of the definition which<br>
is:</p>
</blockquote>
<p>This is regular overloading in Isabelle, and in that instance, its use<br>
is indeed a bit puzzling.</p>
<p>Is there a compelling reason why "compow" is not an ad-hoc overloaded<br>
constant?</p>
<p>Cheers<br>
Lars</p>



<a name="294737988"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294737988" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294737988">(Aug 22 2022 at 17:47)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi all,</p>
<blockquote>
<p>This is regular overloading in Isabelle, and in that instance, its use&gt; is indeed a bit puzzling.&gt; &gt; Is there a compelling reason why "compow"<br>
is not an ad-hoc overloaded&gt; constant?</p>
</blockquote>
<p>well, referring to Isabelle2018-RC0, compow is and ad-hoc overloaded<br>
constants:</p>
<p>(in Nat.thy)</p>
<p>consts compow :: "nat ⇒ 'a ⇒ 'a"</p>
<p>with instances</p>
<p>(in Nat.thy)</p>
<p>overloading<br>
  funpow ≡ "compow :: nat ⇒ ('a ⇒ 'a) ⇒ ('a ⇒ 'a)"<br>
begin</p>
<p>primrec funpow :: "nat ⇒ ('a ⇒ 'a) ⇒ 'a ⇒ 'a"<br>
  where<br>
    "funpow 0 f = id"<br>
  | "funpow (Suc n) f = f ∘ funpow n f"</p>
<p>end</p>
<p>(in Transitive_Closure.thy)</p>
<p>overloading<br>
  relpow ≡ "compow :: nat ⇒ ('a × 'a) set ⇒ ('a × 'a) set"<br>
  relpowp ≡ "compow :: nat ⇒ ('a ⇒ 'a ⇒ bool) ⇒ ('a ⇒ 'a ⇒ bool)"<br>
begin</p>
<p>primrec relpow :: "nat ⇒ ('a × 'a) set ⇒ ('a × 'a) set"<br>
  where<br>
    "relpow 0 R = Id"<br>
  | "relpow (Suc n) R = (R ^^ n) O R"</p>
<p>primrec relpowp :: "nat ⇒ ('a ⇒ 'a ⇒ bool) ⇒ ('a ⇒ 'a ⇒ bool)"<br>
  where<br>
    "relpowp 0 R = HOL.eq"<br>
  | "relpowp (Suc n) R = (R ^^ n) OO R"</p>
<p>end</p>
<p>The key idea behind that all once indeed was to have shared ^^ syntax<br>
for operations alluding to different kinds of composition, the single ^<br>
being reserved for the regular natural »power« operation  on proper type<br>
class instances (in Power.thy)</p>
<p>Hence</p>
<p>abbreviation compower :: "'a ⇒ nat ⇒ 'a" (infixr "^^" 80)<br>
  where "f ^^ n ≡ compow n f"</p>
<p>was just an idea how you could combine a kind of established power<br>
notation on the syntax level with natural argument order on the logical<br>
level – with the drawbacks already hinted in this thread included.</p>
<p>Hope this helps,<br>
    Florian<br>
<a href="/user_uploads/14278/WfxWz9rhUMnUmhg5wVsQsp2x/signature.asc">signature.asc</a></p>



<a name="294738025"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294738025" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294738025">(Aug 22 2022 at 17:48)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Hi Florian,</p>
<blockquote>
<p>well, referring to Isabelle2018-RC0, compow is and ad-hoc overloaded<br>
constants:</p>
</blockquote>
<p>this is not what I'm referring to. I meant <br>
"HOL-Library.Adhoc_Overloading".</p>
<p>Cheers<br>
Lars</p>



<a name="294738057"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294738057" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294738057">(Aug 22 2022 at 17:48)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Lars,</p>
<blockquote>
<p>this is not what I'm referring to. I meant "HOL-Library.Adhoc_Overloading".</p>
</blockquote>
<p>I see now.</p>
<p>So far we have be reluctant to include that theory into Main since all<br>
those user-space type system mechanisms (type class parameters, ad-hoc<br>
overloading, something more I don't quite recall at the moment) are<br>
somehow divergent in their applications and don't interact so smoothly.</p>
<p>Maybe we could have a chat on that on my next visit to TUM.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/44xrzYi_2LsE88ViPtb8mazQ/signature.asc">signature.asc</a></p>



<a name="294738481"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294738481" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294738481">(Aug 22 2022 at 17:51)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>Maybe we could have a chat on that on my next visit to TUM.</p>
</blockquote>
<p>We have talked about this and it's probably not a good idea to include<br>
ad-hoc overloading into HOL or even Pure, even though many users will<br>
have it imported transitively somehow anyway.</p>
<p>A more pragmatic way of getting rid of that particular instance of<br>
overloading might instead be to just disambiguate the syntax.</p>
<p>Many other operations on relations are written as superscripts, where<br>
the set operation is one superscript and the function operation two (cf<br>
trancl/tranclp).</p>
<p>It suffices to find a sufficiently hat-like symbol, e.g.</p>
<p>text ‹‹R ⇧^ n››<br>
text ‹‹R ⇧^⇧^ n››</p>
<p>or</p>
<p>text ‹‹R ⇧△ n››<br>
text ‹‹R ⇧△⇧△ n››</p>
<p>Any opinions?</p>
<p>Cheers<br>
Lars</p>



<a name="294738528"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294738528" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294738528">(Aug 22 2022 at 17:51)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
For posterity, I will try to document the cause of the problem. To<br>
people familiar with dependency tracking in the kernel, this will<br>
probably all be obvious.</p>
<p>First, consider a stripped-down example.</p>
<p>no_notation compower (infixr "^^" 80)</p>
<p>consts compow :: "nat ⇒ 'a ⇒ 'a"</p>
<p>abbreviation compower :: "'a ⇒ nat ⇒ 'a" (infixr "^^" 80)<br>
  where "f ^^ n ≡ compow n f"</p>
<p>overloading<br>
  funpow ≡ "compow :: nat ⇒ ('a ⇒ 'a) ⇒ ('a ⇒ 'a)"<br>
begin</p>
<p>primrec funpow :: "nat ⇒ ('a ⇒ 'a) ⇒ 'a ⇒ 'a"<br>
  where<br>
    "funpow 0 f = id"<br>
  | "funpow (Suc n) f = f ∘ funpow n f"</p>
<p>end</p>
<p>definition foo where<br>
"foo f n = (f :: 'a ⇒ 'b) ^^ n"</p>
<p>This definition is rejected with a similar message ("malformed<br>
dependency"), that comes deep from inside the machine room ("defs.ML").</p>
<p>"foo" is trying to depend on "f", but in such a way that neither</p>
<p>a) "f" is fully polymorphic ("nat ⇒ 'a ⇒ 'a") nor<br>
b) "f" is fully instantiated (e.g. "nat ⇒ ('a ⇒ 'a) ⇒ ('a ⇒ 'a)").</p>
<p>Hence, it is unclear on what logical entity "foo" should depend on. In<br>
particular, the type of "funpow" is an instance of the type of "compow"<br>
as it is used in the definition "foo".</p>
<p>Admitting just that definition wouldn't be problematic. But admitting a<br>
definition "bar" that uses "foo" could then potentially restrict the<br>
type of "foo", introducing a dependency that isn't tracked otherwise.</p>



<a name="294742420"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294742420" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294742420">(Aug 22 2022 at 18:14)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
This is also on my abstract agenda for a couple of years now.</p>
<p>The key observation is that there are (at least) three concepts</p>
<ul>
<li>abbreviations ‹leaf_coeff p ≡ coeff p (degree p)›</li>
<li>operations in type classes ‹times ≡ Group.times›</li>
<li>ad-hoc overloading ‹bind ≡ Set.bind›</li>
</ul>
<p>which are nearly the same but implemented separately an presumably<br>
divergently, and hence not very likely to interact smoothly.</p>
<p>Florian<br>
<a href="/user_uploads/14278/cPXg4ehUNnbY1GH8Oq_k0xsv/signature.asc">signature.asc</a></p>



<a name="294742428"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294742428" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294742428">(Aug 22 2022 at 18:14)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
This is what I also prefer – the current state of affairs appears to use<br>
an intricate logical concept (overloading) just for the purpose of notation.</p>
<p>Florian<br>
<a href="/user_uploads/14278/zWSfcEI7SRZqnEM0mfhgKk4H/signature.asc">signature.asc</a></p>



<a name="294742475"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294742475" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294742475">(Aug 22 2022 at 18:15)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
On 10/08/2018 14:09, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<blockquote>
<p>For posterity, I will try to document the cause of the problem. To<br>
people familiar with dependency tracking in the kernel, this will<br>
probably all be obvious.</p>
<p>"foo" is trying to depend on "f", but in such a way that neither</p>
<p>a) "f" is fully polymorphic ("nat ⇒ 'a ⇒ 'a") nor<br>
b) "f" is fully instantiated (e.g. "nat ⇒ ('a ⇒ 'a) ⇒ ('a ⇒ 'a)").</p>
<p>Hence, it is unclear on what logical entity "foo" should depend on. In<br>
particular, the type of "funpow" is an instance of the type of "compow"<br>
as it is used in the definition "foo".</p>
<p>Admitting just that definition wouldn't be problematic. But admitting a<br>
definition "bar" that uses "foo" could then potentially restrict the<br>
type of "foo", introducing a dependency that isn't tracked otherwise.</p>
</blockquote>
<p>I see this complexity -- inherited from distant past -- as a motivation<br>
to do away with overloading of funpow/compow. Instead it could be either<br>
done with abstract syntax (adhoc_overloading) or concrete syntax (notation).</p>
</blockquote>
<p>This is what I also prefer – the current state of affairs appears to use<br>
an intricate logical concept (overloading) just for the purpose of notation.</p>
</blockquote>
<p>A large part of the success of a formalization rests on notation. Hence I would <br>
definitely not want to dilute the current uniform use of ^.</p>
<p>Tobias</p>
<blockquote>
<p>Florian</p>
<p><a href="/user_uploads/14278/XUFURUwKtEZAlE73JCZ9iBQp/smime.p7s">smime.p7s</a></p>
</blockquote>



<a name="294742483"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294742483" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294742483">(Aug 22 2022 at 18:15)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
The current use of (^), namely the operation of naturals on monoids, has<br>
never been put into doubt on this thread.</p>
<p>Concerning (^^), my hope is exactly that we can retain that uniform<br>
notation as mere syntax without bending the logical foundations behind<br>
in the middle run.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/vVezGAI8FES8xBhq4fWNYRr9/signature.asc">signature.asc</a></p>



<a name="294742506"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Strange%20errors%20when%20using%20funpow%20%28f%5E%5En%29/near/294742506" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Strange.20errors.20when.20using.20funpow.20.28f.5E.5En.29.html#294742506">(Aug 22 2022 at 18:15)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
On 13/08/2018 11:37, Florian Haftmann wrote:</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>I see this complexity -- inherited from distant past -- as a motivation<br>
to do away with overloading of funpow/compow. Instead it could be either<br>
done with abstract syntax (adhoc_overloading) or concrete syntax<br>
(notation).</p>
</blockquote>
<p>This is what I also prefer – the current state of affairs appears to use<br>
an intricate logical concept (overloading) just for the purpose of<br>
notation.</p>
</blockquote>
<p>A large part of the success of a formalization rests on notation. Hence<br>
I would definitely not want to dilute the current uniform use of ^.</p>
</blockquote>
<p>The current use of (^), namely the operation of naturals on monoids, has<br>
never been put into doubt on this thread.</p>
</blockquote>
<p>I mistyped.</p>
<blockquote>
<p>Concerning (^^), my hope is exactly that we can retain that uniform<br>
notation as mere syntax without bending the logical foundations behind<br>
in the middle run.</p>
</blockquote>
<p>Then I am all for it.</p>
<p>Tobias</p>
<blockquote>
<p>Cheers,<br>
  Florian</p>
<p><a href="/user_uploads/14278/HKlpV6VawzWDGX4x38xTAPCb/smime.p7s">smime.p7s</a></p>
</blockquote>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>