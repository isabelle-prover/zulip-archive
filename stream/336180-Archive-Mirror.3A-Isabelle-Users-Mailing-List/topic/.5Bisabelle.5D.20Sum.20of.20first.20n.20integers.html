<html>
<head><meta charset="utf-8"><title>[isabelle] Sum of first n integers · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html">[isabelle] Sum of first n integers</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294655622"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655622" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655622">(Aug 22 2022 at 11:31)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
Thanks Harry</p>
<p>On Wed, Oct 21, 2015 at 2:11 PM, Harry Butterworth &lt;<a href="mailto:heb1001@gmail.com">heb1001@gmail.com</a>&gt;<br>
wrote:</p>
<blockquote>
<p>Your star is the wrong star character.  Maybe you have cut and pasted from<br>
a pdf document.  That doesn't work.</p>
<p>Yeah I started with<br>
<a href="https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf">https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf</a><br>
And was looking for a source/thy version of that...</p>
</blockquote>
<blockquote>
<p>With the version below...</p>
<p>theory sum<br>
imports Main<br>
begin</p>
<p>theorem<br>
fixes n::nat<br>
shows "(∑ i =0.. n . i ) = n * ( n + 1) div 2"</p>
<p>...I get the output</p>
<p>proof (prove): depth 0</p>
<p>goal (1 subgoal):<br>
 1. ∑{0..n} = n * (n + 1) div 2</p>
<p>Harry<br>
</p>
</blockquote>
<p>My current thy file is attached.<br>
It has about a dozen 'red-marks'  :-)<br>
<a href="/user_uploads/14278/wV_h5yZhKhteZPSDLlcttLYl/sum.thy">sum.thy</a></p>



<a name="294655626"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655626" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655626">(Aug 22 2022 at 11:31)</a>:</h4>
<p>From: Harry Butterworth &lt;<a href="mailto:heb1001@gmail.com">heb1001@gmail.com</a>&gt;<br>
Here you go...</p>
<p>theory sum<br>
imports Main<br>
begin<br>
theorem<br>
fixes n :: nat<br>
shows "(\&lt;Sum&gt; i =0.. n . i ) = n * ( n + 1) div 2"<br>
proof ( induct n )<br>
case 0<br>
have "(\&lt;Sum&gt; i =0..0. i ) = (0:: nat )" by simp<br>
also have "… = 0 * (0 + 1) div 2" by simp<br>
finally show ?case .<br>
next<br>
case ( Suc n )<br>
have "(\&lt;Sum&gt; i =0.. Suc n . i ) = (\&lt;Sum&gt; i =0.. n . i ) + ( n + 1)" by<br>
simp<br>
also have "… = n * ( n + 1) div 2 + ( n + 1)" by ( simp add : Suc.hyps )<br>
also have "… = ( n * ( n + 1) + 2 * ( n + 1)) div 2" by simp<br>
also have "… = ( Suc n * ( Suc n + 1)) div 2" by simp<br>
finally show ?case .<br>
qed</p>



<a name="294655644"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655644" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655644">(Aug 22 2022 at 11:32)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
Thanks Harry!</p>



<a name="294655747"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655747" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655747">(Aug 22 2022 at 11:32)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
On Wed, Oct 21, 2015 at 3:50 PM, Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt; wrote:</p>
<blockquote>
<p>On Wed, Oct 21, 2015 at 3:01 PM, Harry Butterworth &lt;<a href="mailto:heb1001@gmail.com">heb1001@gmail.com</a>&gt;<br>
wrote:</p>
<blockquote>
<p>Here you go...<br>
</p>
</blockquote>
<p>Thanks Harry!<br>
</p>
</blockquote>
<p>Tried another small example</p>
<blockquote>
<p>From <a href="http://www4.in.tum.de/~wenzelm/papers/Calculations-Isar.pdf">http://www4.in.tum.de/~wenzelm/papers/Calculations-Isar.pdf</a><br>
I managed to copy-paste and remove all red-marks :-)<br>
[thy file below]</p>
</blockquote>
<p>So now a more basic question<br>
How do I know that the proof is done?</p>
<p>In more detail<br>
Cursor on "finally", output window shows:</p>
<p>proof (chain): depth 0</p>
<p>picking this:<br>
  ⋃{X, Y, {}} = ⋃{X, Y}<br>
calculation: ⋃{X, Y, {}} = ⋃{X, Y}</p>
<p>Cursor on "qed" output window shows:</p>
<p>theorem ⋃{?X, ?Y, {}} = ⋃{?X, ?Y}</p>
<p>Looks quite arcane to me and nothing quite says "Proved!"</p>
<p>So where/how do I know this proof is successful?</p>
<p>----------------------- union.thy --------------<br>
theory union<br>
imports Main<br>
begin<br>
theorem "\&lt;Union&gt;{X , Y , {}} = \&lt;Union&gt;{X , Y }"<br>
proof -<br>
have "\&lt;Union&gt;{X , Y , {}} = \&lt;Union&gt;({X , Y } \&lt;union&gt; {{}})" by auto<br>
also have "... = \&lt;Union&gt;{X , Y } \&lt;union&gt; \&lt;Union&gt;{{}}" by auto<br>
also have "... = \&lt;Union&gt;{X , Y } \&lt;union&gt; {}" by auto<br>
also have "... = \&lt;Union&gt;{X , Y }" by auto</p>
<p>finally show "\&lt;Union&gt;{X , Y , {}} = \&lt;Union&gt;{X , Y }" .<br>
qed</p>



<a name="294655765"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655765" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655765">(Aug 22 2022 at 11:32)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;</p>
<blockquote>
<p>So now a more basic question<br>
How do I know that the proof is done?</p>
</blockquote>
<p>You know that if the system is done processing and doesn't complain<br>
(i.e. nothing is highlighted in whatever color or underlined in red).<br>
There's also the possibility to check a theory in "batch mode" outside<br>
of the editor. In Isabelle terminology, this is called "building a<br>
session". Refer to §2 in the system manual for details. A simple example<br>
for your theory would be to create a file "ROOT" with the following<br>
contents:</p>
<p>session Your_Session_Name = HOL +<br>
  theories<br>
    Your_Theory_Name</p>
<p>... and then invoking "isabelle build -v -D ." in that directory.</p>
<p>Cheers<br>
Lars</p>



<a name="294655778"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294655778" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294655778">(Aug 22 2022 at 11:32)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
A theorem is proved, if you finish its proof (by qed or done).<br>
Isabelle outputting "theorem" means that it is a proved theorem.</p>
<p>If you give the theorem a name, you can also use the command<br>
  thm name<br>
to display the theorem later.</p>
<p>However, be careful with the asynchronous processing of the prover IDE:<br>
  Only if there are no errors in the theories before your theory (check<br>
the "Theories"-panel), you have really proven the theorem. Otherwise, it<br>
might depend on unproven stuff! E.g.</p>
<p>lemma f: False by simp  -- "There will be an error here, but False<br>
will be registered by name f anyway!"</p>
<p>theorem "1=2" using f by simp<br>
    -- "This outputs: theorem 1=2, and, locally, you cannot distinguish<br>
that from a valid proof"</p>
<p>To be sure that a theory is valid, without having to inspect the open<br>
theories for errors (which gets cumbersome for large developments, even<br>
using the theories panel), you have to use the batch-build mode of<br>
Isabelle.</p>
<p>So, summarized, to develop your own theories, you use the IDE. To verify<br>
theories of others, you should use batch-build, which also excludes<br>
cheating by the sorry-command.</p>



<a name="294658122"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294658122" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294658122">(Aug 22 2022 at 11:48)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
In paper <a href="https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf">https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf</a><br>
there is the example of sum of first n integers.</p>
<p>Quite stuck at 'outer/inner' syntax errors.<br>
Is there somewhere I can find the full example so that I can study it?</p>
<p>Also:<br>
Spent some hours figuring out what is 'sorry'<br>
Which manual answers such questions?</p>
<p>Finally if there is a more noob-list than this one please let me know!</p>



<a name="294658148"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294658148" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294658148">(Aug 22 2022 at 11:48)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 21.10.2015 06:06, Rustom Mody wrote:</p>
<blockquote>
<p>In paper <a href="https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf">https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf</a><br>
there is the example of sum of first n integers.</p>
<p>Quite stuck at 'outer/inner' syntax errors.<br>
Is there somewhere I can find the full example so that I can study it?</p>
</blockquote>
<p>It is customary to omit the quotation marks ("), when type-setting<br>
Isabelle theories -- these need to surround every (non-atomic)<br>
expression of the inner syntax.</p>
<p>Refering to slide 24 of the above document, "inner syntax" is everything<br>
printed in cursive, except the proofs (which are proceeded by "by").</p>
<p>For starting, I would recommend to look at "Programming and Proving in<br>
Isabelle/HOL".</p>
<blockquote>
<p>Also:<br>
Spent some hours figuring out what is 'sorry'<br>
Which manual answers such questions?</p>
</blockquote>
<p>The Isabelle/Isar Reference Manual (look at the index at the end of the<br>
document). Be warned that this is a reference manual -- if you do not<br>
already understand how the system works, many explanations are hard to<br>
understand.</p>
<blockquote>
<p>Finally if there is a more noob-list than this one please let me know!</p>
</blockquote>
<p>No, this is the right list.</p>
<p>-- Lars</p>



<a name="294658171"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294658171" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294658171">(Aug 22 2022 at 11:48)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
Thanks Lars!</p>
<p>On Wed, Oct 21, 2015 at 11:14 AM, Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
wrote:</p>
<blockquote>
<p>On 21.10.2015 06:06, Rustom Mody wrote:</p>
<blockquote>
<p>In paper <a href="https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf">https://www.lri.fr/~wenzel/Isabelle_Paris_2014/slides.pdf</a><br>
there is the example of sum of first n integers.</p>
<p>Quite stuck at 'outer/inner' syntax errors.<br>
Is there somewhere I can find the full example so that I can study it?</p>
</blockquote>
<p>It is customary to omit the quotation marks ("), when type-setting<br>
Isabelle theories -- these need to surround every (non-atomic)<br>
expression of the inner syntax.<br>
</p>
</blockquote>
<p>Maybe so<br>
But I think I am stuck on something much more preliminary</p>
<p>The example starts with</p>
<p>theorem<br>
fixes "n :: nat"<br>
shows "(∑ i =0.. n . i ) = n ∗ ( n + 1) div 2"<br>
etc</p>
<p>[assuming that's how the quotes should be put</p>
<p>But it looks that Isabelle (or should I be saying Isar?) wants some prefix<br>
like</p>
<p>theory sum<br>
imports Main<br>
begin</p>
<p>which gives the following at theorem</p>
<p>Outer syntax error⌂: proposition expected,<br>
but keyword (⌂ was found</p>
<blockquote>
<p>Refering to slide 24 of the above document, "inner syntax" is everything<br>
printed in cursive, except the proofs (which are proceeded by "by").</p>
<p>For starting, I would recommend to look at "Programming and Proving in<br>
Isabelle/HOL".</p>
<blockquote>
<p>Also:<br>
Spent some hours figuring out what is 'sorry'<br>
Which manual answers such questions?</p>
</blockquote>
<p>The Isabelle/Isar Reference Manual (look at the index at the end of the<br>
document). Be warned that this is a reference manual -- if you do not<br>
already understand how the system works, many explanations are hard to<br>
understand.</p>
<blockquote>
<p>Finally if there is a more noob-list than this one please let me know!</p>
</blockquote>
<p>No, this is the right list.<br>
</p>
</blockquote>
<p>Good to know!</p>



<a name="294658188"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Sum%20of%20first%20n%20integers/near/294658188" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Sum.20of.20first.20n.20integers.html#294658188">(Aug 22 2022 at 11:48)</a>:</h4>
<p>From: Harry Butterworth &lt;<a href="mailto:heb1001@gmail.com">heb1001@gmail.com</a>&gt;<br>
Your star is the wrong star character.  Maybe you have cut and pasted from<br>
a pdf document.  That doesn't work.</p>
<p>With the version below...</p>
<p>theory sum<br>
imports Main<br>
begin</p>
<p>theorem<br>
fixes n::nat<br>
shows "(∑ i =0.. n . i ) = n * ( n + 1) div 2"</p>
<p>...I get the output</p>
<p>proof (prove): depth 0</p>
<p>goal (1 subgoal):</p>
<ol>
<li>∑{0..n} = n * (n + 1) div 2</li>
</ol>
<p>Harry</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>