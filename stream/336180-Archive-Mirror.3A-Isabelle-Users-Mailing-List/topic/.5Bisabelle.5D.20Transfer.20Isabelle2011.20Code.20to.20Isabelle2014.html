<html>
<head><meta charset="utf-8"><title>[isabelle] Transfer Isabelle2011 Code to Isabelle2014 · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html">[isabelle] Transfer Isabelle2011 Code to Isabelle2014</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294326344"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294326344" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294326344">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Sven Schneider &lt;<a href="mailto:sven.schneider.pub@gmx.de">sven.schneider.pub@gmx.de</a>&gt;<br>
Yes of course, I can copy single warnings but how to copy all warnings<br>
at once?<br>
There seem to be no buffer/window which contains these information...</p>
<p>--Sven Schneider<br>
<a href="/user_uploads/14278/Pc7eXygYfcLNTFT5X7NSAK9j/0xF0E2AE90.asc">0xF0E2AE90.asc</a></p>



<a name="294326394"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294326394" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294326394">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Sven Schneider &lt;<a href="mailto:sven.schneider.pub@gmx.de">sven.schneider.pub@gmx.de</a>&gt;<br>
Is rename_tac using 'ubiquitious backtracking'? I would not have<br>
expected rename_tac to be so complex.</p>
<p>I had a more simple implementation in mind: a tactic-wrapper which<br>
operates as follows.<br>
(1) obtain the current list of variables<br>
(2) apply rename_tac<br>
(3) obtain the new list of variables<br>
(4) print a warning if old-list = new-list</p>
<p>Then rename_tac could be replaced everywhere by the wrapper-tactic..</p>
<p>--Sven Schneider<br>
<a href="/user_uploads/14278/chn8KVXwrxEb1-1Co7Mlm2wO/0xF0E2AE90.asc">0xF0E2AE90.asc</a></p>



<a name="294326406"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294326406" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294326406">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
There must be some confusion here. No backtracking is needed for rename_tac.</p>
<p>The point is to make your proofs independent of names internally generated by the system. It isn’t wrong if the names you choose turn out to be the same as the internal ones.</p>
<p>Larry Paulson</p>



<a name="294326423"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294326423" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294326423">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Tue, 24 Feb 2015, Sven Schneider wrote:</p>
<blockquote>
<p>Is rename_tac using 'ubiquitious backtracking'? I would not have<br>
expected rename_tac to be so complex.</p>
<p>I had a more simple implementation in mind: a tactic-wrapper which<br>
operates as follows.<br>
(1) obtain the current list of variables<br>
(2) apply rename_tac<br>
(3) obtain the new list of variables<br>
(4) print a warning if old-list = new-list</p>
<p>Then rename_tac could be replaced everywhere by the wrapper-tactic..</p>
</blockquote>
<p>Ubiquitious backtracking means you participate in a general situation of <br>
any number of results -- in a compostion of lazy functions that produce <br>
them. This means that in general, warnings or errors don't work without <br>
extra thought and extra machinery.</p>
<p>(The problem is similar in parse translations: sometimes people emit <br>
warnings there, but it merely means some confusing messages pop up out of <br>
nothing, without relation to the actual result.)</p>
<p>A canonical way to get the above effect is to make rename_tac strict, in <br>
the sense that it simply fails on vacous renaming.  Thus it would behave <br>
like the "simp" method in that respect, in contrast to the internal <br>
simp_tac.</p>
<blockquote>
<p>From the concrete information exposed so far, I am not yet convinced that <br>
it is worth the while to revisit such ancient tactical relics in the Isar <br>
method name space at all.</p>
</blockquote>
<p>So just the standard questions:</p>
<p>* What are typical remaining applications of rename_tac?</p>
<p>* Is it feasible to dispose it eventually, e.g. after Eisbach has been<br>
     properly established.</p>
<p>Makarius</p>



<a name="294327975"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294327975" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294327975">(Aug 19 2022 at 17:13)</a>:</h4>
<p>From: Sven Schneider &lt;<a href="mailto:sven.schneider.pub@gmx.de">sven.schneider.pub@gmx.de</a>&gt;<br>
Dear experts,</p>
<p>are there best practices to transfer Isabelle2011 (apply-style) code to<br>
Isabelle2014?<br>
For example, a shell-script to execute?<br>
What should be done before the transfer?</p>
<p>The AFP submission guidelines seem to imply that back and isabelle<br>
generated variable names are a source of backwards incompatibilty.<br>
Furthermore, I have encountered renamed/removed lemmas.</p>
<p>Is there a standard way to remove back? (I guess this is mostly the<br>
cases where the <em>allE</em> is used in my proofs; so I can image that the<br>
best way is to explicitly instantiate the P-variable.)</p>
<p>Is there a standard way to remove cases where Isabelle choses variable<br>
names? (I could explicitly set the names using rename_tac in all the<br>
places, but how do I detect such places?)</p>
<p>-- Sven Schneider<br>
<a href="/user_uploads/14278/X2ofNMPVX4fn1Kz5aA2eXGzA/0xF0E2AE90.asc">0xF0E2AE90.asc</a></p>



<a name="294327985"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294327985" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294327985">(Aug 19 2022 at 17:13)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Have you tried doing this port yet, so that you can report specific things that have been causing you problems? I can imagine many proofs that would go through unaltered.</p>
<p>There are no scripts for porting from one version to another.</p>
<p>I find it useful to run both the old and the new copies of Isabelle during porting. Then you can see where a proof goes wrong. Then the simplest thing is to see whether sledgehammer (greatly improved since 2011) can solve the problematical case.</p>
<p>Try to rewrite some of your proofs in the structured style. That gives you control over variable names and makes future porting much easier.</p>
<p>Larry Paulson</p>



<a name="294328020"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328020" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328020">(Aug 19 2022 at 17:13)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Some lemmas from the standard library (HOL) have also been renamed. This<br>
is usually documented in the NEWS-file ... if a lemma is missing, search<br>
for its name in the NEWS-file, and you may find its new name ...</p>



<a name="294328632"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328632" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328632">(Aug 19 2022 at 17:17)</a>:</h4>
<p>From: Sven Schneider &lt;<a href="mailto:sven.schneider.pub@gmx.de">sven.schneider.pub@gmx.de</a>&gt;<br>
Thanks for all the hints.<br>
I just tried to translate the first theories. Besides renamed lemmas<br>
which are just annoying I now encountered a serious problem:</p>
<p>(*) clarsimp (more precisely clarify) has changed its default behaviour.<br>
In particular, clarsimp/clarify does not remove (all/any?) useless<br>
assumptions anymore.<br>
In the following example, clarsimp/clarify reduced the goal to "goal (1<br>
subgoal): 1. C" in 2011 but clarsimp/clarify fails at this point in 2014.<br>
Is it possible to change the default clarsimp/clarify behaviour to<br>
remove such assumptions?<br>
lemma "<br>
  A=B<br>
  \&lt;Longrightarrow&gt; C"<br>
apply(clarsimp)</p>
<p>(*) In 2011 warnings were written to the response buffer. in<br>
Isabelle2014/JEdit: is it possible to copy all these responses to a<br>
certain file?</p>
<p>(*) Is it possible to adapt rename_tac s.t. it produces a warning if it<br>
has not altered the state?</p>
<p>(*) Why is "back" considered bad "style" (according to the AFP<br>
submission guidelines)? I removed all occurrences in my code already but<br>
I am still curious.</p>
<p>(*) Has option_case been removed or has it been renamed? In 2014 it is<br>
interpreted as a (blue) variable when it occurs in a lemma statement?</p>
<p>-- Sven Schneider<br>
<a href="/user_uploads/14278/82WPvY00XmYGkckIuKbhiCXq/0xF0E2AE90.asc">0xF0E2AE90.asc</a></p>



<a name="294328633"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328633" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328633">(Aug 19 2022 at 17:17)</a>:</h4>
<p>From: Dmitriy Traytel &lt;<a href="mailto:traytel@in.tum.de">traytel@in.tum.de</a>&gt;<br>
Dear Sven,</p>
<p>I (or more precisely the NEWS file) can answer some of your questions.</p>
<p>On 20.02.2015 14:59, Sven Schneider wrote:</p>
<blockquote>
<p>Thanks for all the hints.<br>
I just tried to translate the first theories. Besides renamed lemmas<br>
which are just annoying I now encountered a serious problem:</p>
<p>(*) clarsimp (more precisely clarify) has changed its default behaviour.<br>
In particular, clarsimp/clarify does not remove (all/any?) useless<br>
assumptions anymore.<br>
In the following example, clarsimp/clarify reduced the goal to "goal (1<br>
subgoal): 1. C" in 2011 but clarsimp/clarify fails at this point in 2014.<br>
Is it possible to change the default clarsimp/clarify behaviour to<br>
remove such assumptions?<br>
lemma "<br>
   A=B<br>
   \&lt;Longrightarrow&gt; C"<br>
apply(clarsimp)<br>
 From the NEWS file:</p>
</blockquote>
<blockquote>
<ul>
<li>Standard tactics and proof methods such as "clarsimp", "auto" and<br>
"safe" now preserve equality hypotheses "x = expr" where x is a free<br>
variable.  Locale assumptions and chained facts containing "x"<br>
continue to be useful.  The new method "hypsubst_thin" and the<br>
configuration option "hypsubst_thin" (within the attribute name space)<br>
restore the previous behavior.  INCOMPATIBILITY, especially where<br>
induction is done after these methods or when the names of free and<br>
bound variables clash.  As first approximation, old proofs may be<br>
repaired by "using [[hypsubst_thin = true]]" in the critical spot.</li>
</ul>
</blockquote>
<p>If you have many occurrences, you could also</p>
<p>declare [[hypsubst_thin = true]]</p>
<p>globally.</p>
<blockquote>
<p>(*) In 2011 warnings were written to the response buffer. in<br>
Isabelle2014/JEdit: is it possible to copy all these responses to a<br>
certain file?</p>
<p>(*) Is it possible to adapt rename_tac s.t. it produces a warning if it<br>
has not altered the state?</p>
<p>(*) Why is "back" considered bad "style" (according to the AFP<br>
submission guidelines)? I removed all occurrences in my code already but<br>
I am still curious.<br>
Because it makes your proof rely on the order in which the HO-unifier <br>
produces its results.<br>
(*) Has option_case been removed or has it been renamed? In 2014 it is<br>
interpreted as a (blue) variable when it occurs in a lemma statement?<br>
 From the NEWS file:<br>
  - The generated constants "xxx_case" and "xxx_rec" have been renamed<br>
    "case_xxx" and "rec_xxx" (e.g., "prod_case" ~&gt; "case_prod").<br>
    INCOMPATIBILITY.</p>
</blockquote>
<p>Dmitriy</p>



<a name="294328703"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328703" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328703">(Aug 19 2022 at 17:18)</a>:</h4>
<p>From: Sven Schneider &lt;<a href="mailto:sven.schneider.pub@gmx.de">sven.schneider.pub@gmx.de</a>&gt;<br>
Thank you very much.<br>
I had a look at the news file but I guess I did not use the right search<br>
strings...</p>
<hr>
<p>This is what I also believed.<br>
Why is it not required that back always produces an immediate fault,<br>
i.e., always a unique result?<br>
Without 'back' the first result is chosen but if the order changes, this<br>
first element may be a different than before.</p>
<p>Remaining questions:<br>
(*) In 2011 warnings were written to the response buffer. in<br>
Isabelle2014/JEdit: is it possible to copy all these responses to a<br>
certain file?</p>
<p>(*) Is it possible to adapt rename_tac s.t. it produces a warning if it<br>
has not altered the state?</p>
<p>-- Sven Schneider<br>
<a href="/user_uploads/14278/MTNF9QPW26x0xhL4lDd4G3wI/0xF0E2AE90.asc">0xF0E2AE90.asc</a></p>



<a name="294328709"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328709" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328709">(Aug 19 2022 at 17:18)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
The “back” command is intended to allow interactive exploration of the multiple results delivered by a proof method. But leaving instances of this command in a proof script makes it unusually difficult to read and fragile. You can fix this problem in a number of ways, for example by explicitly instantiating variables in a theorem or by combining a series of proof methods where the last one will fail unless the last choice was made earlier, a bit like constraint satisfaction in Prolog.</p>
<p>Larry Paulson</p>



<a name="294328760"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328760" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328760">(Aug 19 2022 at 17:18)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The Isabelle/jEdit manual briefly mentions "copy" from "secondary windows" <br>
via the canonical keyboard shortcut C+c.  This refers to the "Output" <br>
window, as well as other popup or Info windows.</p>
<p>Makarius</p>



<a name="294328777"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Transfer%20Isabelle2011%20Code%20to%20Isabelle2014/near/294328777" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Transfer.20Isabelle2011.20Code.20to.20Isabelle2014.html#294328777">(Aug 19 2022 at 17:18)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
In really ancient times, the former goal stack package of the ML toplevel <br>
used to issue such a warning for arbitrary tactic applications; thus it <br>
had the above effect for rename_tac. The built-in warning was later <br>
discontinued for the Isar proof state management, because it was unclear <br>
what "not altered" means.</p>
<p>Also note that a tactic or proof method cannot easily provide side-results <br>
as warning (or error) by itself, due to the ubiquitious backtracking, <br>
which was a big thing in Isabelle89.  (Backtracking has recently made into <br>
Coq 8.5 as well, with similar consequences on diagnostic tactics.)</p>
<p>After so many years with old-style tactic emulations in Isar (like <br>
rename_tac, rule_tac, erule_tac etc.) it might be time to investigate <br>
possibilities to live without them.  Recent developments around the <br>
Eisbach proof method language could allow to remove these old artifacts <br>
eventually.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>