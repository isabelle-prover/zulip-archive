<html>
<head><meta charset="utf-8"><title>[isabelle] Turnstile · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Turnstile.html">[isabelle] Turnstile</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294676621"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Turnstile/near/294676621" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Turnstile.html#294676621">(Aug 22 2022 at 13:32)</a>:</h4>
<p>From: Mark Adams &lt;<a href="mailto:mark@proof-technologies.com">mark@proof-technologies.com</a>&gt;<br>
Dear list,</p>
<p>Is there an equivalent to turnstile in Isabelle?  In good old<br>
mathematics and in other HOL systems, the turnstile (|-) has two roles:<br>
to indicate that a theorem has been proved, and to separate any<br>
assumptions of the theorem from its conclusion.</p>
<p>In Isabelle2005, if you return a theorem in the read-eval-print-loop,<br>
then if it has one assumption 'P' and conclusion 'Q' then it gets<br>
printed as "Q [P]" (if the flag for showing hypotheses is set), but just<br>
as "Q" if there are no assumptions, and so this corresponds to the<br>
second role.</p>
<p>But what about in more recent Isabelles?  I know that there's no<br>
read-eval-print-loop as such, and that in Isar scripts you write<br>
"theorem" before a formula, which is a bit like the first role but not<br>
quite because until the proof is complete it states the intention that<br>
the formula will be proved rather than that it has been proved.  Are<br>
there ways of displaying lists of theorems, and if so how are these<br>
presented?  I note that the printer for "Q [P]" is still there in the<br>
Isabelle Pure source.  If anyone could shed any light on all of this<br>
then I'd be most grateful.</p>
<p>Mark.</p>



<a name="294676637"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Turnstile/near/294676637" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Turnstile.html#294676637">(Aug 22 2022 at 13:33)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
On Di, 2016-06-07 at 00:51 +0100, Mark Adams wrote:</p>
<blockquote>
<p>Dear list,</p>
<p>Is there an equivalent to turnstile in Isabelle?  In good old<br>
mathematics and in other HOL systems, the turnstile (|-) has two roles:<br>
to indicate that a theorem has been proved, and to separate any<br>
assumptions of the theorem from its conclusion.</p>
<p>In Isabelle2005, if you return a theorem in the read-eval-print-loop,<br>
then if it has one assumption 'P' and conclusion 'Q' then it gets<br>
printed as "Q [P]" (if the flag for showing hypotheses is set), but just<br>
as "Q" if there are no assumptions, and so this corresponds to the<br>
second role.</p>
<p>But what about in more recent Isabelles?  I know that there's no<br>
read-eval-print-loop as such, and that in Isar scripts you write<br>
"theorem" before a formula, which is a bit like the first role but not<br>
quite because until the proof is complete it states the intention that<br>
the formula will be proved rather than that it has been proved.  Are<br>
there ways of displaying lists of theorems, and if so how are these<br>
presented?  I note that the printer for "Q [P]" is still there in the<br>
Isabelle Pure source.  If anyone could shed any light on all of this<br>
then I'd be most grateful.</p>
</blockquote>
<p>The hypothesis are used in Isabelle merely internally, and the<br>
standard-user should not see them. Theorems are presented as<br>
meta-implications "P1==&gt;...==&gt;Pn==&gt;Q", or, syntax-sugared "[| P1;...;Pn<br>
|] ==&gt; Q". This is also the way they are printed. <br>
In Isar, you can use the "thm" command to print (a list of) theorems.</p>
<p>To state a theorem, you can either use meta-implications, or the<br>
"long-goal" format:<br>
lemma foo:<br>
  assumes P1 and ... and Pn<br>
  shows Q</p>
<p>By the very design of Isabelle, every theorem has been proved (or has a<br>
pending future proof attached [Makarius, correct me if I'm wrong<br>
here ;)])</p>



<a name="294676754"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Turnstile/near/294676754" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Turnstile.html#294676754">(Aug 22 2022 at 13:33)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On 07/06/16 01:51, Mark Adams wrote:</p>
<blockquote>
<p>Is there an equivalent to turnstile in Isabelle?  In good old<br>
mathematics and in other HOL systems, the turnstile (|-) has two roles:<br>
to indicate that a theorem has been proved, and to separate any<br>
assumptions of the theorem from its conclusion.</p>
</blockquote>
<p>See also chapter 2 about "Primitive logic" of the "implementation"<br>
manual. It explains the role of the Pure logic as framework for<br>
higher-order natural deduction in various object-logics, where HOL is<br>
the main example.</p>
<p>The turnstile is there, but it belongs to the system infrastructure for<br>
local context management, and thus is hardly ever encountered in user<br>
tools and applications.</p>
<blockquote>
<p>In Isabelle2005, if you return a theorem in the read-eval-print-loop,<br>
then if it has one assumption 'P' and conclusion 'Q' then it gets<br>
printed as "Q [P]" (if the flag for showing hypotheses is set), but just<br>
as "Q" if there are no assumptions, and so this corresponds to the<br>
second role.</p>
</blockquote>
<p>Isabelle2005 is mainly of historic interest and no longer used in<br>
serious applications. It is remarkable in being the last version of<br>
Isabelle that still has remains from the 1990s, so it is possible to<br>
pretend that it resembles "other HOL systems".</p>
<p>Note that the Isar concepts have already taken over the lead in Isabelle<br>
around 2002. Thus Isabelle2005 is just for prolonged nostalgy: one needs<br>
to go back to Isabelle98 to be authentic.</p>
<p>Anyway, Q [P] is just Larry Paulson's notation for P |- Q. The context P<br>
is only informative when there is something wrong in the internal<br>
context management, so it is not printed by default, and when printed it<br>
is done in non-intrusive postfix notation.</p>
<blockquote>
<p>But what about in more recent Isabelles?  I know that there's no<br>
read-eval-print-loop as such, and that in Isar scripts</p>
</blockquote>
<p>Isar is about structured proof <em>documents</em> or proof <em>texts</em>, not<br>
"scripts". It is important to use the proper terminology to get some<br>
idea how things work.</p>
<p>Isabelle is a document-oriented proof composition tool, with timeless<br>
and stateless continuous checking.</p>
<blockquote>
<p>"theorem" before a formula, which is a bit like the first role but not<br>
quite because until the proof is complete it states the intention that<br>
the formula will be proved rather than that it has been proved.</p>
</blockquote>
<p>The 'theorem' command is more than an old-fashioned "goal" statement. It<br>
builds up a context and states conclusions from that context: the result<br>
is a Pure rule.</p>
<p>This is ubiquitious in the Isabelle/Isar documentation, e.g. "isar-ref"<br>
or "implementation" manual.</p>
<blockquote>
<p>Are there ways of displaying lists of theorems, and if so how are these<br>
presented?  I note that the printer for "Q [P]" is still there in the<br>
Isabelle Pure source.  If anyone could shed any light on all of this<br>
then I'd be most grateful.</p>
</blockquote>
<p>Here is an example for current Isabelle2016:</p>
<p>theorem test:<br>
  fixes x y z :: 'a<br>
  assumes "x = y" and "y = z"<br>
  shows "x = z" and "z = x"<br>
  using assms by simp_all</p>
<p>ML ‹<br>
  val thms = @{thms test};<br>
  map (fn thm =&gt; (Thm.hyps_of thm, Thm.prop_of thm)) thms;<br>
›</p>
<p>The hyps are empty, because the result lives in a global context.</p>
<p>Here is an example with a local context:</p>
<p>context<br>
  fixes x y z :: 'a<br>
  assumes asms: "x = y" "y = z"<br>
begin</p>
<p>theorem test': "x = z" and "z = x"<br>
  using asms by simp_all</p>
<p>ML ‹<br>
  val thms = @{thms test'};<br>
  map (fn thm =&gt; (Thm.hyps_of thm, Thm.prop_of thm)) thms;<br>
›</p>
<p>end</p>
<p>ML ‹<br>
  val thms = @{thms test'};<br>
  map (fn thm =&gt; (Thm.hyps_of thm, Thm.prop_of thm)) thms;<br>
›</p>
<p>Hyps are potentially non-empty in the local context, and empty outside<br>
of it. Note that hyps record aspects of the proof in the thm object.</p>
<p>This is also the reason why in recent years, hyps are hardly ever<br>
printed: this would lead to non-determinism, depending on the the<br>
accidental state of a future proof process that might fail or finish<br>
only later.</p>
<p>Makarius</p>



<a name="294676764"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Turnstile/near/294676764" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Turnstile.html#294676764">(Aug 22 2022 at 13:33)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
A thm value is indeed only a promise to finish a proof eventually. For<br>
fully authentic results, one needs to do a batch run with "isabelle<br>
build", which forms a global join on all open ends in the very end, and<br>
potential errors are exposed.</p>
<p>This reform of thm-ness goes back to 2007/2008, when parallel proof<br>
construction in Isabelle emerged for the first time.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>