<html>
<head><meta charset="utf-8"><title>[isabelle] Type Coercions? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html">[isabelle] Type Coercions?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294074848"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294074848" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294074848">(Aug 18 2022 at 13:14)</a>:</h4>
<p>From: Christian Doczkal &lt;<a href="mailto:c.doczkal@stud.uni-saarland.de">c.doczkal@stud.uni-saarland.de</a>&gt;<br>
Hello</p>
<p>I just played around a little with the Coq proof assistant and noted the<br>
feature of Coercions</p>
<p>You can spare yourself some typing and improve readability of the input<br>
code by telling the system how to resolve some "typing error" with some<br>
explicit coercion function.</p>
<p>For example when working with locally nameless terms one can use</p>
<blockquote>
<p>Coercion bvar : nat &gt;-&gt; exp.</p>
</blockquote>
<p>The Coq interpreter then inserts the constructor bvar whenever it<br>
expects an exp but finds a nat instead. So one can write (abs 0) instead<br>
of (abs (bvar 0)). (with abs :: exp =&gt; exp)</p>
<p>Can a similar effect be achieved in Isabelle/HOL as well?<br>
<a href="/user_uploads/14278/NR8YhKdNO1Eka-icc1LZVGJM/smime.p7s">smime.p7s</a></p>



<a name="294074903"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294074903" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294074903">(Aug 18 2022 at 13:14)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Yes, it would be nice to have coercions inserted automatically. But no<br>
such luck in Isabelle.</p>
<p>Tobias</p>
<p>Christian Doczkal wrote:</p>



<a name="294074927"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294074927" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294074927">(Aug 18 2022 at 13:14)</a>:</h4>
<p>From: Christian Doczkal &lt;<a href="mailto:c.doczkal@stud.uni-saarland.de">c.doczkal@stud.uni-saarland.de</a>&gt;</p>
<blockquote>
<p>Yes, it would be nice to have coercions inserted automatically. But no<br>
such luck in Isabelle.</p>
</blockquote>
<p>Tanks for the reply. Just out of curiosity. Are there any theoretical or<br>
deep technical reasons against having this feature or has this simply<br>
never occurred on a top position on the priorities list?<br>
<a href="/user_uploads/14278/9APegYuVCzhHOPCK3QZhWaNS/smime.p7s">smime.p7s</a></p>



<a name="294074994"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294074994" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294074994">(Aug 18 2022 at 13:15)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Christian Doczkal wrote:</p>
<blockquote>
<blockquote>
<p>Yes, it would be nice to have coercions inserted automatically. But no<br>
such luck in Isabelle.<br>
</p>
</blockquote>
<p>Tanks for the reply. Just out of curiosity. Are there any theoretical or<br>
deep technical reasons against having this feature or has this simply<br>
never occurred on a top position on the priorities list? </p>
</blockquote>
<p>No theoretical problem at all. Practically it is not hard either, and we<br>
have thought about it from time to time.</p>
<blockquote>
<p>From a user perspective it can be helpful, but it has it's snags as<br>
well: writing "sin(m+n)", where m,n::int, the system may turn this into<br>
"sin(real(n+m))" or "sin(real m + real n)". Depending on the context,<br>
one may be preferable to the other...</p>
</blockquote>
<p>Tobias</p>



<a name="294075042"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294075042" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294075042">(Aug 18 2022 at 13:15)</a>:</h4>
<p>From: Tjark Weber &lt;<a href="mailto:webertj@in.tum.de">webertj@in.tum.de</a>&gt;<br>
On Fri, 2009-03-27 at 09:43 +0100, Tobias Nipkow wrote:</p>
<blockquote>
<p>Christian Doczkal wrote:</p>
<blockquote>
<blockquote>
<p>Yes, it would be nice to have coercions inserted automatically. But no<br>
such luck in Isabelle.</p>
</blockquote>
</blockquote>
</blockquote>
<p>"Trueprop" comes close, doesn't it?  To me it looks like an invisible<br>
coercion from bool to prop.  But I'll admit that I have no idea how it<br>
works internally, or why this can't be made to work for other coercions.</p>
<blockquote>
<blockquote>
<p>From a user perspective it can be helpful, but it has it's snags as<br>
well: writing "sin(m+n)", where m,n::int, the system may turn this into<br>
"sin(real(n+m))" or "sin(real m + real n)". Depending on the context,<br>
one may be preferable to the other...</p>
</blockquote>
</blockquote>
<p>One might want to look at algorithms for overload resolution (in Ada/<br>
C++/Java/...).</p>
<p>(Isn't "real (m+n)" equal to "real m + real n" anyway, so that it makes<br>
no difference in the above example?)</p>
<p>Best,<br>
Tjark</p>



<a name="294075064"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Type%20Coercions%3F/near/294075064" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Type.20Coercions.3F.html#294075064">(Aug 18 2022 at 13:15)</a>:</h4>
<p>From: Steven Obua &lt;<a href="mailto:obua@me.com">obua@me.com</a>&gt;<br>
If you don't have unification modulo "real (m+n) = real m + real n",   <br>
I guess then it can make a difference :-)</p>
<p>Steven</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>