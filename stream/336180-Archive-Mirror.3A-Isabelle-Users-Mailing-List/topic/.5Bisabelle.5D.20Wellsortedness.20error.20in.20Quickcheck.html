<html>
<head><meta charset="utf-8"><title>[isabelle] Wellsortedness error in Quickcheck · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Wellsortedness.20error.20in.20Quickcheck.html">[isabelle] Wellsortedness error in Quickcheck</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294144315"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Wellsortedness%20error%20in%20Quickcheck/near/294144315" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Wellsortedness.20error.20in.20Quickcheck.html#294144315">(Aug 18 2022 at 18:22)</a>:</h4>
<p>From: Lukas Bulwahn &lt;<a href="mailto:bulwahn@in.tum.de">bulwahn@in.tum.de</a>&gt;<br>
Hi Yuhui,</p>
<p>Quickcheck tries to execute this proposition using the code generation <br>
facility.<br>
The functions (alpha =&gt; bool) are translated to functions in ML.<br>
To allow to check for function equality, it requires that the type of <br>
the domain is finite (and enumerable, being of type class enum).</p>
<p>For the obvious finite types (unit and bool), we provide instantiations.<br>
To polymorphic types, we check with small finite types that are of class <br>
enum.</p>
<p>Infinite types, such as int and nat, are not enumerable, and we cannot <br>
check for function equality (for the chosen translation above).</p>
<p>The solution to enable execution of this proposition even with an <br>
infinite type is to choose a different representation for functions (and <br>
sets).<br>
Different on-going discussions and effort by the developers will soon <br>
enable that this is possible, but right now, we are at the unlucky stage <br>
that none of them are fully automatic and could be applied by quickcheck <br>
behind the scenes.</p>
<p>NB: I am still not happy with the error message. It is the honest truth, <br>
why quickcheck cannot execute the proposition, but admittedly users <br>
might struggle understanding its explanation.</p>
<p>Lukas</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>