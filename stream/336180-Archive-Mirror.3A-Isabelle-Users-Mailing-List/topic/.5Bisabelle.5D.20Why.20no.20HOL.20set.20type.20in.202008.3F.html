<html>
<head><meta charset="utf-8"><title>[isabelle] Why no HOL set type in 2008? · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html">[isabelle] Why no HOL set type in 2008?</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294069737"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294069737" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294069737">(Aug 18 2022 at 12:45)</a>:</h4>
<p>From: "Dr. Brendan Patrick Mahony" &lt;<a href="mailto:brendan.mahony@dsto.defence.gov.au">brendan.mahony@dsto.defence.gov.au</a>&gt;<br>
Can anyone speak to reasoning behind the decision to remove the set  <br>
type from HOL in Isabelle 2008?</p>
<p>I find it strangely disconcerting not to have a syntactic distinction  <br>
between sets and predicates. Obviously it has some technical  <br>
inconveniences, but perhaps they are outweighed by some advantages?</p>
<hr>
<p>Dr Brendan Mahony<br>
C3I Division                                    ph +61 8 8259 6046<br>
Defence Science and Technology Organisation     fx +61 8 8259 5589<br>
Edinburgh, South Australia      <a href="mailto:Brendan.Mahony@dsto.defence.gov.au">Brendan.Mahony@dsto.defence.gov.au</a></p>
<p>Important: This document remains the property of the Australian<br>
Government Department of Defence and is subject to the jurisdiction<br>
of the Crimes Act section 70. If you have received this document in<br>
error, you are requested to contact the sender and delete the document.</p>
<p>IMPORTANT: This email remains the property of the Australian Defence Organisation and is subject to the jurisdiction of section 70 of the CRIMES ACT 1914.  If you have received this email in error, you are requested to contact the sender and delete the email.</p>



<a name="294069787"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294069787" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294069787">(Aug 18 2022 at 12:45)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Brendan,</p>
<p>There were two main motivations:</p>
<ol>
<li>
<p>Avoiding pointless coercions between the two worlds. In particular, <br>
given a predicate P you had to write {x. P(x)} to turn it into a set. <br>
Now you have to worry less as to whether 'a set or 'a =&gt; bool is more <br>
appropriate.</p>
</li>
<li>
<p>Compatibility with other HOLs.</p>
</li>
</ol>
<p>Tobias</p>
<p>Dr. Brendan Patrick Mahony wrote:</p>



<a name="294069885"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294069885" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294069885">(Aug 18 2022 at 12:46)</a>:</h4>
<p>From: "Dr. Brendan Patrick Mahony" &lt;<a href="mailto:brendan.mahony@dsto.defence.gov.au">brendan.mahony@dsto.defence.gov.au</a>&gt;<br>
One of those times when I regret my wasted education as a Z weenie,  <br>
but my amateur viewpoint really sees this as concerning. Some points  <br>
of debate follow.</p>
<p>Isn't this an argument for using ZF over HOL? Surely there are  <br>
benefits to strong typing? Probably the people who actually worry  <br>
about this question, want to worry about it. More likely, people who  <br>
always chose 'a =&gt; bool, occasionally realise that {f x | x y. t x y}  <br>
is a way more convenient (and disciplined) way of writing (% z. (! x  <br>
y. z = f x &amp; t x y)) and get annoyed they need a coercion to make use  <br>
it. In any case, they won't use set notations very often, I guarantee  <br>
that the predicate oriented user will not write { (x, y) | x y. t x y}  <br>
instead of (% x y. t x y). A proper theory of predicates would be more  <br>
to their liking, with a (generalised) predicate comprehension and  <br>
predicate conjunction, disjunction, and negation operators. This would  <br>
pretty much need little more than the introduction of a  <br>
boolean_algebra class and the generalisation of the boolean operators  <br>
to this class.</p>
<p>Biggest irony of all, the Collect coercion operator hasn't gone away  <br>
as it is needed to support print translations. Only the strong typing  <br>
on sets has gone! Why does this cause problems (other than the  <br>
problems always caused by weak typing)?</p>
<p>In effect, this equates sets with meta-abstraction, as there is  <br>
already effectively no object-level "function" type in HOL. Thus set  <br>
instances suffer from the same "higher-order unification" problems  <br>
that make arg_cong and fun_cong a pain to work with in Isar. It is now  <br>
necessary to instantiate set reasoning rules far more often than  <br>
previously.</p>
<p>Isar only allows a single reasoning set. With a distinguished set  <br>
type, this could be worked around to a degree. Now there is no way to  <br>
say, "just do set-style reasoning here." Auto fails to terminate in  <br>
many more situations now.</p>
<p>I'll continue evaluating the situation, but the chances are that I'll  <br>
be investigating the feasibility making a copy of Set.thy with</p>
<p>datatype 'a set = Collect "'a =&gt; bool"</p>
<p>replacing</p>
<p>types 'a set = "'a =&gt; bool".</p>
<p>Brendan</p>
<p>IMPORTANT: This email remains the property of the Australian Defence Organisation and is subject to the jurisdiction of section 70 of the CRIMES ACT 1914.  If you have received this email in error, you are requested to contact the sender and delete the email.</p>



<a name="294069936"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294069936" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294069936">(Aug 18 2022 at 12:46)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Brendan, you are certainly right that in some situations proofs are less<br>
automatic. We were aware of this but found that in the theories we have<br>
access to it was not too bad, only a few times per theory on average.<br>
However we concede that depending on your application this could be<br>
worse. I'm very sorry if you were particularly affected.</p>
<p>Concerning boolean algebras (and lattices), we do intend to develop this<br>
connection further.</p>
<p>Regards<br>
Tobias</p>
<p>Dr. Brendan Patrick Mahony schrieb:</p>



<a name="294070374"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294070374" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294070374">(Aug 18 2022 at 12:49)</a>:</h4>
<p>From: "Dr. Brendan Patrick Mahony" &lt;<a href="mailto:brendan.mahony@dsto.defence.gov.au">brendan.mahony@dsto.defence.gov.au</a>&gt;<br>
The latest problem encountered in in developing instances of  <br>
axclasses. No set type means no set instance claims for axclasses.  <br>
Obviously function type instance proofs are very different.</p>
<p>Brendan</p>
<hr>
<p>Dr Brendan Mahony<br>
C3I Division                                    ph +61 8 8259 6046<br>
Defence Science and Technology Organisation     fx +61 8 8259 5589<br>
Edinburgh, South Australia      <a href="mailto:Brendan.Mahony@dsto.defence.gov.au">Brendan.Mahony@dsto.defence.gov.au</a></p>
<p>Important: This document remains the property of the Australian<br>
Government Department of Defence and is subject to the jurisdiction<br>
of the Crimes Act section 70. If you have received this document in<br>
error, you are requested to contact the sender and delete the document.</p>
<p>IMPORTANT: This email remains the property of the Australian Defence Organisation and is subject to the jurisdiction of section 70 of the CRIMES ACT 1914.  If you have received this email in error, you are requested to contact the sender and delete the email.</p>



<a name="294070574"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20Why%20no%20HOL%20set%20type%20in%202008%3F/near/294070574" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20Why.20no.20HOL.20set.20type.20in.202008.3F.html#294070574">(Aug 18 2022 at 12:50)</a>:</h4>
<p>From: Stefan Berghofer &lt;<a href="mailto:berghofe@in.tum.de">berghofe@in.tum.de</a>&gt;<br>
Dr. Brendan Patrick Mahony wrote:<br>
Hi Brendan,</p>
<p>when porting the theories in the Isabelle distribution to the new encoding<br>
of sets as predicates, we found that most of the instance proofs for sets<br>
could be replaced by appropriate instance proofs for functions and booleans<br>
in a rather straightforward way. Could you give an example of an instance proof<br>
for sets that you could not easily replace by instance proofs for functions and<br>
booleans?</p>
<p>Greetings,<br>
Stefan</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>