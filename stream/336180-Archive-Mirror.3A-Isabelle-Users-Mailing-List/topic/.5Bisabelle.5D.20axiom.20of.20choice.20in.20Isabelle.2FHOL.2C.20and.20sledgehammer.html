<html>
<head><meta charset="utf-8"><title>[isabelle] axiom of choice in Isabelle/HOL, and sledgehammer · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html">[isabelle] axiom of choice in Isabelle/HOL, and sledgehammer</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294664193"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294664193" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294664193">(Aug 22 2022 at 12:24)</a>:</h4>
<p>From: <a href="mailto:dimitri@math.uni-bonn.de">dimitri@math.uni-bonn.de</a><br>
Hello all,</p>
<p>since this is my first post in this mailing list, I will shortly introduce<br>
myself. My name is Ioanna Matilde Dimitriou, and I work with the<br>
mathematical logic group of Bonn, on formalising ZF/NBG-Set Theory in<br>
Isabelle/HOL, in a "natural" style, i.e., as in a standard textbook.</p>
<p>We do this to understand the interplay between Isabelle's, ZF's, and NBG's<br>
logics, to be able to use Sledgehammer (which to our knowledge is only<br>
written for HOL), and to explore the controlled natural language parsing<br>
possibilities in such a setting. For the first goal we chose to revisit<br>
Lawrence Paulson's "/ZF/Constructible/AC_in_L.thy", which is a large and<br>
challenging metamathematical formal proof, and which states that the Axiom<br>
of Choice (AC) is true in L, the universe of constructible sets.</p>
<p>We quickly realised that AC holds in Isabelle/HOL, in fact it is a lemma<br>
in "A Proof Assistant for Higher Order Logic" by Nikpow, Paulson, and<br>
Wenzel (page 87 of the 2015 version).</p>
<p>Is there any way to completely "turn off" AC in Isabelle/HOL? If not,<br>
could you please give me some pointers to the direction of writing a<br>
Sledgehammer for Isabelle/Pure, Isabelle/FOL, or Isabelle/ZF?</p>
<p>Thank you in advance,<br>
Ioanna</p>



<a name="294665896"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294665896" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294665896">(Aug 22 2022 at 12:35)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Isabelle/HOL introduces the axiom of choice fairly late in the development (contrast with other HOL implementations, which include it as part of the basic axiomatic set up), but from that point onwards, it gets intertwined with everything. It would be better if you chose a development involving AC, something to do with cardinals perhaps, or simply some of the more obscure consequences of AC.</p>
<p>Larry Paulson</p>



<a name="294666118"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294666118" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294666118">(Aug 22 2022 at 12:37)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Correct me if I am wrong, but my impression is that sledgehammer (via<br>
metis) has (at least a variant of) the "Axiom of Choice" built-in. And I<br>
think the same holds true for any tool that employs Skolemization.</p>
<p>E.g.</p>
<p>lemma "ALL x. EX y. P x y ==&gt; EX f. ALL x. P x (f x)" by metis</p>
<p>cheers</p>
<p>chris</p>



<a name="294666362"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294666362" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294666362">(Aug 22 2022 at 12:38)</a>:</h4>
<p>From: Buday Gergely &lt;<a href="mailto:gbuday@karolyrobert.hu">gbuday@karolyrobert.hu</a>&gt;<br>
Larry Paulson wrote:</p>
<p>Her research page tells me that her research goal is especially discovering how far one can get without the axiom of choice.</p>
<p>Might it be that Isabelle/ZF is better for her aim?</p>
<ul>
<li>Gergely</li>
</ul>



<a name="294666799"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294666799" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294666799">(Aug 22 2022 at 12:40)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@inria.fr">jasmin.blanchette@inria.fr</a>&gt;<br>
Hi Chris,</p>
<p>This is true, but only if you have loaded "Hilbert_Choice". Before that, "metis" will fail to prove the above, because it has to rely on a weaker skolemizer. And Sledgehammer is simply not available.</p>
<p>Cheers,</p>
<p>Jasmin</p>



<a name="294666976"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294666976" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294666976">(Aug 22 2022 at 12:41)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Isabelle/ZF is surely best for developments in axiomatic set theory. But there is no sledgehammer there.<br>
Larry</p>



<a name="294667367"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294667367" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294667367">(Aug 22 2022 at 12:43)</a>:</h4>
<p>From: Ioanna Dimitriou &lt;<a href="mailto:dimitri@math.uni-bonn.de">dimitri@math.uni-bonn.de</a>&gt;<br>
Thank you all for your answers. </p>
<blockquote>
<p>Correct me if I am wrong, but my impression is that sledgehammer (via<br>
metis) has (at least a variant of) the "Axiom of Choice" built-in. And I<br>
think the same holds true for any tool that employs Skolemization.</p>
</blockquote>
<blockquote>
<p>Isabelle/HOL introduces the axiom of choice fairly late in the development (contrast with other HOL implementations, which include it as part of the basic axiomatic set up), but from that point onwards, it gets intertwined with everything. It would be better if you chose a development involving AC, something to do with cardinals perhaps, or simply some of the more obscure consequences of AC.</p>
</blockquote>
<p>I think that if we have a primitive type "Class" of classes with a<br>
subtype "Set" of sets, and some axioms for them, say NBG without choice,<br>
then we can still work in a theory that involves the axiom of choice<br>
without deducing that certain choice functions and Skolem functions<br>
(which exist in HOL) have type "Class". This is similar to constructing<br>
a "model" of (ZF+notAC ) while working in (ZF+AC), which is not<br>
problematic at all.</p>
<p>So, unless I'm mistaken, I don't think that working with HOL is<br>
problematic in itself, though we now have to put some work in defining<br>
FOL-formulas with class parameters in order to get Class Separation in<br>
our theory NGB, and then somehow carefully "connect" these formulas to<br>
formulas in HOL. If we didn't have AC at all, then we could be more<br>
flexible with rules that deduce that certain metafunctions ("Set =&gt;<br>
bool") have representations of type Class.</p>
<blockquote>
<p>Her research page tells me that her research goal is especially discovering how far one can get without the axiom of choice.</p>
<p>Might it be that Isabelle/ZF is better for her aim?</p>
</blockquote>
<p>Though I personally enjoy working without AC, or between AC and notAC,<br>
the research goal for the project I mentioned in the last post is to<br>
formalise ZF(C) (or NBG(C)) in a way that appears natural to a working<br>
mathematician (like in a textbook). Paulson's proof of AC in L is<br>
particularly interesting because of the metamathematical arguments which<br>
are so commonplace in set theory. In the Bonn logic group we think that<br>
HOL is more suitable for this task, because of the shorter proof steps,<br>
the meta-arguments that become easier when one can talk about classes,<br>
because of the large HOL-libraries we can learn from, and because of<br>
Sledgehammer.</p>
<p>Having said that, I would also like to compare the two logics (HOL vs<br>
ZF) with respect to formalising ZF(C) in a "natural" way. For this, I<br>
would really like to be able to use Sledgehammer. That's why I also<br>
asked for some pointers in the direction of writing a Sledgehammer for<br>
FOL. Perhaps this has been done already, or there is a detailed<br>
explanation of Sledgehammer somewhere? Otherwise, do I just have to<br>
understand the code in Sledgehammer.thy?</p>
<p>Best wishes,<br>
Ioanna</p>



<a name="294667481"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294667481" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294667481">(Aug 22 2022 at 12:44)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I'm suspicious of this suggestion. Something tells me that AC (which is available for all types) will contaminate the new types that you introduce. This raises the question however of solving your problem using type classes, whether we could allow types that do not assume AC to coexist beside the others.</p>
<p>Larry Paulson</p>



<a name="294667677"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294667677" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294667677">(Aug 22 2022 at 12:45)</a>:</h4>
<p>From: Thomas Sewell &lt;<a href="mailto:thomas.sewell@nicta.com.au">thomas.sewell@nicta.com.au</a>&gt;<br>
Hey all.</p>
<p>It's nice to be able to avoid the Hilbert_Choice theory, and use only<br>
the definite description operator (The/THE) as opposed to the strong<br>
Hilbert choice operator (Eps/SOME).</p>
<p>I played around with this about a year ago, and discovered that this<br>
doesn't buy you much in modern Isabelle. The lifting and transfer<br>
packages seem to make extensive use of Eps, and pretty much everything<br>
that isn't a natural seems to now use lifting/transfer in the definition<br>
of some primitive functions. Even proofs about naturals seem to depend<br>
on the axiom about Eps because the simprocs about naturals sometimes<br>
coerce to integers, and int/of_nat is defined by lifting/transfer.</p>
<p>At least, that's the impression I got. I might have misunderstood what<br>
was going on.</p>
<p>Cheers,<br>
     Thomas.</p>
<hr>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294667768"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20axiom%20of%20choice%20in%20Isabelle/HOL%2C%20and%20sledgehammer/near/294667768" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20axiom.20of.20choice.20in.20Isabelle.2FHOL.2C.20and.20sledgehammer.html#294667768">(Aug 22 2022 at 12:46)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@inria.fr">jasmin.blanchette@inria.fr</a>&gt;<br>
In addition, the BNF (co)datatype package uses "Eps" in a few places. Granted, some of it could be avoided, e.g.</p>
<p>HOLogic.choice_const T $ absdummy T @{term True}</p>
<p>could (and perhaps should) be replaced by</p>
<p>Const (@{const_name undefined}, T)</p>
<p>Jasmin</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>