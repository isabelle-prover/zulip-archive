<html>
<head><meta charset="utf-8"><title>[isabelle] code del and code drop · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code.20del.20and.20code.20drop.html">[isabelle] code del and code drop</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294731908"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code%20del%20and%20code%20drop/near/294731908" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code.20del.20and.20code.20drop.html#294731908">(Aug 22 2022 at 17:12)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;</p>
<blockquote>
<p>From the NEWS file for 2017:</p>
</blockquote>
<ul>
<li>Deleting the last code equations for a particular function using<br>
[code del] results in function with no equations (runtime abort) rather<br>
than an unimplemented function (generation time abort). Use explicit<br>
[[code drop:]] to enforce the latter. Minor INCOMPATIBILITY.</li>
</ul>
<p>Can please someone update the code generator tutorial Sec 2.5 (pg 12).<br>
I spent almost half an hour being puzzled why <br>
  definition [code del]: "foo == ..."<br>
still admitted code generation for foo.</p>



<a name="294731964"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code%20del%20and%20code%20drop/near/294731964" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code.20del.20and.20code.20drop.html#294731964">(Aug 22 2022 at 17:13)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
What are you referring to exactly?  The tutorial on code generation from<br>
Isabelle2017 does not contain any »code del«.</p>
<p>Florian<br>
<a href="/user_uploads/14278/U13ttp8Zluo-vtKiGBG-93uI/signature.asc">signature.asc</a></p>



<a name="294731978"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code%20del%20and%20code%20drop/near/294731978" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code.20del.20and.20code.20drop.html#294731978">(Aug 22 2022 at 17:13)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
I referred to pg 12 of the codegen tutorial (Isabelle2017 version):</p>
<p>"Normally, if constants without any code equations occur in a program,<br>
the<br>
code generator complains (since in most cases this is indeed an error).<br>
[...] In order to categorise a constant into that category explicitly,<br>
use the code<br>
attribute with abort:" </p>
<p>However, if there are no code equations, the new behaviour is to handle<br>
the constant as code-abort, and the behaviour mentioned in the first<br>
sentence that I cited has to be forced with [[code drop: ]]</p>



<a name="294733190"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20code%20del%20and%20code%20drop/near/294733190" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20code.20del.20and.20code.20drop.html#294733190">(Aug 22 2022 at 17:20)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Hi Peter,</p>
<p>see the attached preview for a slightly polished version.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/gEKSR17EPTkQT_P1EHfob4mu/preview.pdf">preview.pdf</a><br>
<a href="/user_uploads/14278/Tsn1WZd9N4dGwt-uRO6w7xdy/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>