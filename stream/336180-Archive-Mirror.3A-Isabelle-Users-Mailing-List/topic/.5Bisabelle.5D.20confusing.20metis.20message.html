<html>
<head><meta charset="utf-8"><title>[isabelle] confusing metis message · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html">[isabelle] confusing metis message</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294058933"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294058933" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294058933">(Aug 18 2022 at 11:39)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Metis only uses pure first order logic along with the lemmas supplied.<br>
Larry</p>



<a name="294059086"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294059086" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294059086">(Aug 18 2022 at 11:40)</a>:</h4>
<p>From: Peter Sewell &lt;<a href="mailto:Peter.Sewell@cl.cam.ac.uk">Peter.Sewell@cl.cam.ac.uk</a>&gt;<br>
Dear Isabelle,</p>
<p>The following true lemma causes metis to say:</p>
<p>*** Metis finds the theorem to be invalid</p>
<p>which is at least confusing to this naive user, if not a more profound<br>
bug (confusing especially when it came up in a more complex situation,<br>
from which this was simplified).</p>
<p>lemma " [|ALL e1 e2.<br>
               e2 : es &amp; (e1,e2):r --&gt; e1 : es;<br>
               e ~: es; e ~: Domain (r) &amp; e ~: Range (r) |]<br>
         ==&gt; ALL e1 e2.<br>
                e2 : es Un {e} &amp; (e1,e2):r --&gt;<br>
                e1 : es Un {e}"<br>
apply(metis)</p>
<p>(Adding in apply(simp add:Domain_def add:Range_def) suffices).</p>
<p>Peter</p>
<p>ps Where should I look for good reference documentation of common<br>
methods?  The "The Isabelle/Isar Reference Manual" doesn't mention<br>
metis in its index, for example.</p>



<a name="294059206"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294059206" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294059206">(Aug 18 2022 at 11:41)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
The message should be the truth when you have given metis all of HOL. <br>
But since one tends to be a bit more selective, I agree that it is <br>
confusing.</p>
<p>Tobias</p>
<p>Peter Sewell schrieb:</p>



<a name="294059337"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294059337" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294059337">(Aug 18 2022 at 11:42)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
A more accurate message might be "This subgoal is not a first-order  <br>
consequence of the supplied lemmas". But it isn't very clear. Metis is  <br>
at least complete, so finite failure means no proof exists.  <br>
Suggestions for a rewording are welcome.</p>
<p>Larry</p>



<a name="294059441"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294059441" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294059441">(Aug 18 2022 at 11:43)</a>:</h4>
<p>From: Peter Sewell &lt;<a href="mailto:Peter.Sewell@cl.cam.ac.uk">Peter.Sewell@cl.cam.ac.uk</a>&gt;<br>
Now I'm more confused - here it seems that it failed due to not<br>
expanding Domain and Range, and so (even given all of HOL) would<br>
similarly fail, and announce invalidity, if the lemma involved some<br>
other user-defined constant?</p>
<p>But, in any case, your remark suggests I've misunderstood what a<br>
typical invocation would be, or what it already knows?</p>
<p>best,<br>
Peter</p>



<a name="294059617"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20confusing%20metis%20message/near/294059617" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20confusing.20metis.20message.html#294059617">(Aug 18 2022 at 11:44)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;</p>
<blockquote>
<blockquote>
<p>The message should be the truth when you have given metis all of HOL. <br>
But since one tends to be a bit more selective, I agree that it is <br>
confusing.</p>
</blockquote>
<p>Now I'm more confused - here it seems that it failed due to not<br>
expanding Domain and Range, and so (even given all of HOL) would<br>
similarly fail,</p>
</blockquote>
<p>My "all of HOL" was meant to include all your definitions.</p>
<blockquote>
<p>But, in any case, your remark suggests I've misunderstood what a<br>
typical invocation would be, or what it already knows?</p>
</blockquote>
<p>Metis knows first-order logic. Everything else you have to tell it. In <br>
contrast to blast. Hence metis is primarily useful in connection with <br>
sledgehammer, which figures out the required lemmas for you.</p>
<p>Tobias</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>