<html>
<head><meta charset="utf-8"><title>[isabelle] conservativity of HOL constant and type defini... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html">[isabelle] conservativity of HOL constant and type defini...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294694899"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294694899" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294694899">(Aug 22 2022 at 14:21)</a>:</h4>
<p>From: Andrei Popescu &lt;<a href="mailto:A.Popescu@mdx.ac.uk">A.Popescu@mdx.ac.uk</a>&gt;<br>
Since the conservativity topic has been touched upon, I would like to summarize the situation in HOL as I understand it now, after our discussion.<br>
(Myself, I am mainly interested in Isabelle/HOL, but this is an important related problem.)<br>
Please, correct me if and where I am wrong.</p>
<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>
(1.1) model-theoretic conservative w.r.t. standard (Pitts) models<br>
(1.2) model-theoretic conservative w.r.t. Henkin models<br>
(1.3) proof-theoretic conservative</p>
<p>(2) The type definition mechanism is known to be:<br>
(2.1) model-theoretic conservative w.r.t. standard models<br>
(2.2) <em>not</em> model-theoretic conservative w.r.t. Henkin models (by an easy counterexample -- a Henkin model that does not have the right infrastructure to support a given typedef)</p>
<p>Concerning proof-theoretic conservativity of type definitions: there does not exist any proof of this -- or does it? It certainly doesn't follow from (2.1).</p>
<p>Best,<br>
  Andrei</p>



<a name="294694952"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294694952" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294694952">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Rob Arthan &lt;<a href="mailto:rda@lemma-one.com">rda@lemma-one.com</a>&gt;<br>
Andrei,</p>
<blockquote>
<p>On 24 Oct 2016, at 19:16, Andrei Popescu &lt;<a href="mailto:A.Popescu@mdx.ac.uk">A.Popescu@mdx.ac.uk</a>&gt; wrote:</p>
<p>Since the conservativity topic has been touched upon, I would like to summarize the situation in HOL as I understand it now, after our discussion.   <br>
(Myself, I am mainly interested in Isabelle/HOL, but this is an important related problem.)   <br>
Please, correct me if and where I am wrong.</p>
<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>
(1.1) model-theoretic conservative w.r.t. standard (Pitts) models<br>
(1.2) model-theoretic conservative w.r.t. Henkin models <br>
(1.3) proof-theoretic conservative       </p>
<p>(2) The type definition mechanism is known to be:    <br>
(2.1) model-theoretic conservative w.r.t. standard models</p>
</blockquote>
<p>I agree with all of the above.</p>
<blockquote>
<p>(2.2) <em>not</em> model-theoretic conservative w.r.t. Henkin models (by an easy counterexample -- a Henkin model that does not have the right infrastructure to support a given typedef)</p>
<p>I don't see how to construct a counterexample. Could you give some more details, please.</p>
</blockquote>
<blockquote>
<p>Concerning proof-theoretic conservativity of type definitions: there does not exist any proof of this -- or does it? It certainly doesn't follow from (2.1). </p>
</blockquote>
<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>
then I don't think type definitions can be proof-theoretically conservative.</p>
<p>I have had thoughts about how one might prove that type definitions<br>
are conservative by using relativisation tricks like the ones that are<br>
used to prove that Heyting arithmetic over finite types is conservative<br>
over first-order Heyting arithmetic. I think this problem may well be<br>
sensitive to the choice of non-logical axioms: e.g., it is possible that<br>
type definitions aren't conservative over an intuitionistic fragment of<br>
HOL but are conservative over HOL with AC.</p>
<p>Regards,</p>
<p>Rob.</p>



<a name="294694962"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294694962" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294694962">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt;<br>
They could. You can try to argue by "unfolding" the type definitions. <br>
Again, the model-theoretic conservativity is stronger than the <br>
proof-theoretic in general. And here you don't have an existential <br>
quantifier for type constructors so you can use the approach as you did <br>
for constants.</p>
<p>Ondrej</p>



<a name="294694977"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294694977" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294694977">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt;<br>
should have been: ... you cannot use the approach as you did<br>
for constants.</p>



<a name="294696171"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294696171" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294696171">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Rob Arthan &lt;<a href="mailto:rda@lemma-one.com">rda@lemma-one.com</a>&gt;<br>
Ondrej,</p>
<blockquote>
<p>On 24 Oct 2016, at 20:32, Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt; wrote:</p>
<p>On 10/24/2016 09:16 PM, Rob Arthan wrote:</p>
<blockquote>
<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>
then I don't think type definitions can be proof-theoretically conservative.<br>
I made that sound too strong: I was just making a conjecture: for "think" read "feel".</p>
</blockquote>
</blockquote>
<blockquote>
<p>They could. You can try to argue by "unfolding" the type definitions.</p>
</blockquote>
<p>"Unfolding" of types is exactly what I had in mind when I mentioned<br>
the methods used in connect with Heyting arithmetic. </p>
<blockquote>
<p>Again, the model-theoretic conservativity is stronger than the proof-theoretic in general. And here you don't have an existential quantifier for type constructors so you [can't] use the approach as you did for constants.</p>
</blockquote>
<p>Yes, but if the unfolding approach works, you would have reduced the<br>
essential properties of the type definition to a statement about the existence<br>
of a certain subset of the representation type bearing a relationship with some<br>
siubsets of the parameter types and you would then be able to deduce<br>
model-theoretic conservativeness. That's why I felt, that if Andrei is right that<br>
the type definition principle is not model-theoretically conservative w.r.t.<br>
Henkin models (his point (2.2)), then it won't be proof-theoretically conservative<br>
either, because the unfolding argument must break down somewhere.<br>
It would be very useful to see an example of a type definition that is not<br>
conservative w.r.t. Henkin models.</p>
<p>Regards,</p>
<p>Rob.</p>



<a name="294696174"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294696174" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294696174">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt;<br>
I think Andrei wanted to point out that a Henkin model doesn't have to <br>
contain all the subsets and this would prevent us to extend the model to <br>
a model of the theory in which typedef was done for one of the missing <br>
subsets. But I guess you are saying that the model should include at <br>
least those subsets that are definable by a formula.</p>
<p>Or have I misunderstood something?</p>
<p>Ondrej</p>



<a name="294696186"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20conservativity%20of%20HOL%20constant%20and%20type%20defini.../near/294696186" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20conservativity.20of.20HOL.20constant.20and.20type.20defini.2E.2E.2E.html#294696186">(Aug 22 2022 at 14:22)</a>:</h4>
<p>From: Andrei Popescu &lt;<a href="mailto:A.Popescu@mdx.ac.uk">A.Popescu@mdx.ac.uk</a>&gt;<br>
The counterexample I had in mind is due to Makarius Wenzel (<a href="https://www4.in.tum.de/~wenzelm/papers/axclass-TPHOLs97.pdf">https://www4.in.tum.de/~wenzelm/papers/axclass-TPHOLs97.pdf</a>, page 8): The theory T containing the single HOL formula "no type has cardinal 3" has a Henkin model M; yet, M has no expansion to the theory T extended with the definition of the type {1,2,3}. But actually this extension is not proof-theoretically conservative either (as it even breaks consistency) ...</p>
<p>In fact, now I see that I have not clearly spelled out all the assumptions of the statements in my summary. So let me try again, also factoring in the base (i.e., to-be-extended)  theory:</p>
<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>
(1.1) model-theoretic conservative w.r.t. standard (Pitts) models and arbitrary base theories<br>
(1.2) model-theoretic conservative w.r.t. Henkin models and arbitrary base theories<br>
(1.3) proof-theoretic conservative and arbitrary base theories</p>
<p>(2) The type definition mechanism is known to be:<br>
(2.1) model-theoretic conservative w.r.t. standard models and arbitrary(?) base theories</p>
<p>and known <em>not</em> to be:<br>
(2.2) model-theoretic conservative w.r.t. Henkin models and arbitrary base theories<br>
(2.3) proof-theoretic conservative w.r.t. Henkin models and arbitrary base theories</p>
<p>On the other hand, it is of course legitimate to lower the expectation for typedefs, so we could ask what happens with (2.2) and (2.3) if we restrict to base theories that are themselves definitional. Here, the above counterexample does not work. And yes, Rob, without being able to follow your Heyting arithmetic analogy, I do see the similarity between a possible semantic proof of definitional-base-(2.2) and a possible syntactic proof of definitional-base-(2.3) (both revolving around the notion of relativization to sets).</p>
<p>But I am surprised that a lot of attention has been given to the conservativity of constant definitions/specifications, but not to that of the old and venerable typedef.</p>
<p>Best,<br>
 Andrei</p>
<hr>
<p>From: Rob Arthan &lt;<a href="mailto:rda@lemma-one.com">rda@lemma-one.com</a>&gt;<br>
Sent: 24 October 2016 21:37<br>
To: Ondřej Kunčar<br>
Cc: Andrei Popescu; Prof. Andrew M. Pitts; Prof. Thomas F. Melham; <a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>; Roger Bishop Jones; Prof. Peter B. Andrews; HOL-info list<br>
Subject: Re: conservativity of HOL constant and type definitions</p>
<p>Ondrej,</p>
<blockquote>
<p>On 24 Oct 2016, at 20:32, Ondřej Kunčar &lt;<a href="mailto:kuncar@in.tum.de">kuncar@in.tum.de</a>&gt; wrote:</p>
<p>On 10/24/2016 09:16 PM, Rob Arthan wrote:</p>
<blockquote>
<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>
then I don't think type definitions can be proof-theoretically conservative.<br>
I made that sound too strong: I was just making a conjecture: for "think" read "feel".</p>
</blockquote>
</blockquote>
<blockquote>
<p>They could. You can try to argue by "unfolding" the type definitions.</p>
</blockquote>
<p>"Unfolding" of types is exactly what I had in mind when I mentioned<br>
the methods used in connect with Heyting arithmetic.</p>
<blockquote>
<p>Again, the model-theoretic conservativity is stronger than the proof-theoretic in general. And here you don't have an existential quantifier for type constructors so you [can't] use the approach as you did for constants.</p>
</blockquote>
<p>Yes, but if the unfolding approach works, you would have reduced the<br>
essential properties of the type definition to a statement about the existence<br>
of a certain subset of the representation type bearing a relationship with some<br>
siubsets of the parameter types and you would then be able to deduce<br>
model-theoretic conservativeness. That's why I felt, that if Andrei is right that<br>
the type definition principle is not model-theoretically conservative w.r.t.<br>
Henkin models (his point (2.2)), then it won't be proof-theoretically conservative<br>
either, because the unfolding argument must break down somewhere.<br>
It would be very useful to see an example of a type definition that is not<br>
conservative w.r.t. Henkin models.</p>
<p>Regards,</p>
<p>Rob.</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>