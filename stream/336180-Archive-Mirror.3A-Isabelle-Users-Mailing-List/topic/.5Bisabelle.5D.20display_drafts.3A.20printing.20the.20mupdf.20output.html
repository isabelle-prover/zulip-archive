<html>
<head><meta charset="utf-8"><title>[isabelle] display_drafts: printing the mupdf output · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html">[isabelle] display_drafts: printing the mupdf output</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294270836"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294270836" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294270836">(Aug 19 2022 at 13:52)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I decided to see whether printing from jEdit worked under OS X or not. I encountered a lot of problems. Mostly they were because jEdit has its own print dialogue and ignores the built-in one.</p>
<p>JEdit’s print dialogue offered me a choice of printers, and the option of saving to a file. I chose a printer and selected the option, but the document was sent to the default printer instead, and no file was saved. Instead, jEdit went into a loop and had to be killed. So clearly something needs to be fixed here. (I tried both the last release and the current development version with the same results.)</p>
<p>On the other hand, the printed output itself is very attractive, nicer than that produced by the old display_drafts command. And of course it’s easier to simply choose “print” rather than enter a command. So I would happy to see display_drafts go, assuming of course that the OS X print dialogue problems can be fixed.</p>
<p>Larry</p>



<a name="294271103"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294271103" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294271103">(Aug 19 2022 at 13:54)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Thu, 27 Mar 2014, Lawrence Paulson wrote:</p>
<blockquote>
<p>I decided to see whether printing from jEdit worked under OS X or not. I <br>
encountered a lot of problems. Mostly they were because jEdit has its <br>
own print dialogue and ignores the built-in one.</p>
</blockquote>
<p>jEdit actually uses the regular print facility of Java.  There were times <br>
when Apple Java or early versions of Oracle Java on Mac OS X were crashing <br>
on that in strange ways, but I did not encounter any problems recently.</p>
<p>Since Java 8 has been just release, we should revisit that soon, to see if <br>
Oracle vs. Apple now works.  I will come back to this on isabelle-dev, <br>
when the first jdk-8 Isabelle component becomes available (maybe after the <br>
next Java 8 release by Oracle).</p>
<blockquote>
<p>JEdit’s print dialogue offered me a choice of printers, and the option <br>
of saving to a file. I chose a printer and selected the option, but the <br>
document was sent to the default printer instead, and no file was saved.</p>
</blockquote>
<p>I can't remember that I've ever managed to "Print To File" with Java -- it <br>
offers to write a PS file, which already looks suspicious.  The way to go <br>
is to let the printer driver produce a file for you.  On Linux this works <br>
via the cups-pdf mentioned before on this thread.  On Mac OS X, I can't<br>
tell on the spot.</p>
<p>This seems to be a standard Java question, unrelated to jEdit or <br>
Isabelle/jEdit.</p>
<p>Makarius</p>



<a name="294271181"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294271181" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294271181">(Aug 19 2022 at 13:54)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I installed this printer driver, and it launches, and appears to do something, but with no evident result.</p>
<p>An installation note states that outputs are written to the directory /opt/local/var/spool/cups-pdf/$USER. But I couldn’t find anything there.</p>
<p>Has anybody got jEdit printing to work under OS X?</p>
<p>Larry Paulson</p>



<a name="294271573"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294271573" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294271573">(Aug 19 2022 at 13:56)</a>:</h4>
<p>From: Fabian Immler &lt;<a href="mailto:immler@in.tum.de">immler@in.tum.de</a>&gt;<br>
I also run Mac OS X and jEdit sometimes seems to print to the default printer, regardless of the settings I chose.<br>
If it manages to print to CUPS-pdf, I find the output in /Users/Shared/CUPS-PDF/$USER.</p>
<p>Fabian</p>



<a name="294271583"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294271583" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294271583">(Aug 19 2022 at 13:56)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This does not sound too encouraging --- I did not expect Mac users <br>
installing Unixoid tools to get basic functionality to work.  What is also <br>
a bit surprising is that nobody has reported any inconveniences about the <br>
jEdit print function before, even though I keep advertizing it for 2-3 <br>
years. I am actually using it routinely on my Mac OS X Snow Leopard <br>
(without cups-pdf), but did not know what a Mac user normally expects.</p>
<p>It is important to put problems on the table, with a clear problem <br>
description and without speculations about "bugs" or "features". <br>
Otherwise the situation will just just persist, and users continue <br>
grumbling in some corner.</p>
<p>Makarius</p>



<a name="294272217"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294272217" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294272217">(Aug 19 2022 at 13:59)</a>:</h4>
<p>From: Holger Blasum &lt;<a href="mailto:hbl@sysgo.com">hbl@sysgo.com</a>&gt;<br>
Dear Isabelle users,</p>
<p>it's a fine weather today at my place and I'd like to print out <br>
some paper copies with display_drafts. However, invoking <br>
display_drafts invokes mupdf which nicely display PDFs but<br>
 I don't figure out how to send this to a printer (or at least<br>
get some postscript of PDF from it), and I don't <br>
see any printing support in a very sketchy look at <br>
<a href="http://git.ghostscript.com/?p=mupdf.git;a=blob;f=source/tools/pdfshow.c;h=c5d021ad07777264ca8c7379e7450e458d7b88b2;hb=HEAD">http://git.ghostscript.com/?p=mupdf.git;a=blob;f=source/tools/pdfshow.c;h=c5d021ad07777264ca8c7379e7450e458d7b88b2;hb=HEAD</a><br>
 :-( </p>
<p>If I look into my process list (ps aux, the operating system<br>
"mupdf /tmp/isabelle-hbl12562/13122document1623991.pdf"<br>
but it this file is immediately deleted after being sent <br>
to mupdf :-( Of course I could capture screenshots or set up<br>
the "proper" document generation (via "isabelle build") but I'm<br>
wondering whether there is a more elegant way.</p>
<p>thx,</p>



<a name="294272227"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294272227" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294272227">(Aug 19 2022 at 13:59)</a>:</h4>
<p>From: Holger Blasum &lt;<a href="mailto:hbl@sysgo.com">hbl@sysgo.com</a>&gt;<br>
FWIW: the workaround I finally chose was <br>
"ln -s /usr/local/xpdf /usr/local/bin/mupdf"</p>



<a name="294272275"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294272275" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294272275">(Aug 19 2022 at 13:59)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The display_drafts command invokes the command-line tool "isabelle <br>
display" (which is explained further in the system manual).  In particular <br>
the Isabelle settings variable PDF_VIEWER tells how to display the pdf. <br>
By default this is delegated to the desktop environment, on Linux via <br>
xdg-open and similar commands on the other plaforms (where this usually <br>
works even better).</p>
<p>Just today, I've asked myself if it is now time to discontine <br>
display_drafts.  It was introduced 10 years ago as workaroud for <br>
Emacs-based Proof General, since printing of text buffers did not quite <br>
work back then, especially with what was still X-Symbol at that time.</p>
<p>Isabelle/jEdit shows text via the Unicode rendering of Isabelle symbols, <br>
with IsabelleText font.  Both of that together gives surprisingly good <br>
results with the regular File / Print operation of the editor.</p>
<p>So ar there any compelling reasons to continue maintaining the <br>
display_drafts command, which had to be repaired numerous times in the <br>
past and does not even work out of the box on most platforms (due to lack <br>
of proper latex setup)?</p>
<p>Makarius</p>



<a name="294273500"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294273500" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294273500">(Aug 19 2022 at 14:06)</a>:</h4>
<p>From: Holger Blasum &lt;<a href="mailto:hbl@sysgo.com">hbl@sysgo.com</a>&gt;<br>
On 03-10, Makarius wrote:</p>
<blockquote>
<p>On Sun, 9 Mar 2014, Holger Blasum wrote:<br>
Just today, I've asked myself if it is now time to discontine<br>
display_drafts.  It was introduced 10 years ago as workaroud for<br>
Emacs-based Proof General, since printing of text buffers did not<br>
quite work back then, especially with what was still X-Symbol at<br>
that time.</p>
<p>Isabelle/jEdit shows text via the Unicode rendering of Isabelle<br>
symbols, with IsabelleText font.  Both of that together gives<br>
surprisingly good results with the regular File / Print operation of<br>
the editor.</p>
</blockquote>
<p>Having tried out printing from Isabelle/jEdit today, I would <br>
agree that at least personally I can go with printing from jEdit<br>
(for PDF generation, I did not spot an explicit jEdit option, <br>
but printing to the PDF printer driver obtained by "sudo apt-get install<br>
cups-pdf" does the job as well).</p>
<blockquote>
<p>So ar there any compelling reasons to continue maintaining the<br>
display_drafts command, which had to be repaired numerous times in<br>
the past and does not even work out of the box on most platforms<br>
(due to lack of proper latex setup)?</p>
</blockquote>
<p>br,</p>



<a name="294273564"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20display_drafts%3A%20printing%20the%20mupdf%20output/near/294273564" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20display_drafts.3A.20printing.20the.20mupdf.20output.html#294273564">(Aug 19 2022 at 14:06)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I am using the same cups-pdf on Linux, which I did not know before my <br>
first attempt of printing with jEdit.  I found the quality of both <br>
surprisingly high, so that is a win-win situation.</p>
<p>Nonetheless there is still an opportunity to point out important uses of <br>
the old 'display_drafts' command.  If nothing happens, I will remove it <br>
for the coming release (summer 2014).</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>