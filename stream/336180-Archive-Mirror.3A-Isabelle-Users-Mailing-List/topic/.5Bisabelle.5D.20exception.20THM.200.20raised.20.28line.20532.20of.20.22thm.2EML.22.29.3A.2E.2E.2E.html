<html>
<head><meta charset="utf-8"><title>[isabelle] exception THM 0 raised (line 532 of &quot;thm.ML&quot;):... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html">[isabelle] exception THM 0 raised (line 532 of &quot;thm.ML&quot;):...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294326192"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326192" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326192">(Aug 19 2022 at 17:03)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Dear Joachim,</p>
<p>quick (unrelated) question ;)</p>
<p>How is your "open inductive" related to the AFP entry "Open Induction"?</p>
<p>cheers</p>
<p>chris</p>



<a name="294326219"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326219" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326219">(Aug 19 2022 at 17:03)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Hi,</p>
<p>good question. I would assume not at all, as it is not listed in [1] :-)</p>
<p>In "open inductive predicate", you have to associate the words to the<br>
right, i.e. "open (inductive predicates)". The idea is that you can<br>
modularize your inducrive predicates and inductive proofs, something<br>
that I often want to do when working with programming language<br>
semantics. There is not much deep theory, but rather it’s making the<br>
obvious (namely that the cases of inductive proofs are independent)<br>
exploitable. See [1] for more details (motivation, examples, user<br>
guide).</p>
<p>In your entry, if I am not mistaken, "open" refers to topology.</p>
<p>Greetings,<br>
Joachim</p>
<p>[1] <a href="http://pp.ipd.kit.edu/uploads/publikationen/molitor15masterarbeit.pdf">http://pp.ipd.kit.edu/uploads/publikationen/molitor15masterarbeit.pdf</a><br>
<a href="/user_uploads/14278/YfLW2ZNhNSZ4grRVMe9_IrMg/signature.asc">signature.asc</a></p>



<a name="294326438"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326438" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326438">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
The parallelism is less aggressive in interactive PIDE document processing <br>
than in batch build.  This might be a reason for the breakdown of the <br>
forked proof, see als src/Pure/thm.ML function future_result.</p>
<p>Since I can't reproduce the problem, I recommend to insert a different <br>
exception there, e.g. TERM with the relevant arguments for more <br>
information.</p>
<p>Skimming over the sources of open_inductive.ML, there are various points <br>
that look a bit suspicious concerning hyps and context, which might be a <br>
source of such problems.  Occasionally it looks like the abstract notion <br>
of goal state -- which happens to be represented as concrete thm, but with <br>
certain implicit policies -- is not properly observed.</p>
<p>I have more to say about the sources, but that has to wait.</p>
<p>Makarius</p>



<a name="294326449"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326449" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326449">(Aug 19 2022 at 17:04)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Dear Makarius,</p>
<p>thanks for your reply.</p>
<p>Am Dienstag, den 24.02.2015, 15:50 +0100 schrieb Makarius:</p>
<blockquote>
<blockquote>
<p>what is usually the cause for the error message</p>
<p>*** exception THM 0 raised (line 532 of "thm.ML"): future_result: bad prop</p>
<p>To reproduce with Isabelle-2014, run<br>
$ git clone <a href="https://github.com/gattschardo/open-inductive">https://github.com/gattschardo/open-inductive</a><br>
$ cd open-inductive<br>
add "Open_Arith_Eval" to "theories" in ROOT<br>
$ isabelle build -D .</p>
<p>It does not (seem to) occur in Isabelle/jEdit.</p>
</blockquote>
<p>The parallelism is less aggressive in interactive PIDE document processing <br>
than in batch build.  This might be a reason for the breakdown of the <br>
forked proof, see als src/Pure/thm.ML function future_result.</p>
<p>Since I can't reproduce the problem,</p>
</blockquote>
<p>do you meant the problem does not occur for you, or that you were unable<br>
to attempt to reproduce it?</p>
<blockquote>
<p>I recommend to insert a different <br>
exception there, e.g. TERM with the relevant arguments for more <br>
information.</p>
</blockquote>
<p>Thanks, we’ll try that.</p>
<blockquote>
<p>Skimming over the sources of open_inductive.ML, there are various points <br>
that look a bit suspicious concerning hyps and context, which might be a <br>
source of such problems.  Occasionally it looks like the abstract notion <br>
of goal state -- which happens to be represented as concrete thm, but with <br>
certain implicit policies -- is not properly observed.</p>
<p>I have more to say about the sources, but that has to wait.</p>
</blockquote>
<p>A review of that code would be highly appreciated – you can probably<br>
tell that it was not written with a great lot of experience with and<br>
comprehensive knowledge of the Isabelle internals.</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/OrMEKAUNpfMcP6OPCY6Jc4tV/signature.asc">signature.asc</a></p>



<a name="294326483"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326483" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326483">(Aug 19 2022 at 17:05)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
It is fine as a first project to implement an Isabelle "package". I can <br>
offer a standard pencil-review on the sources, with scanned results sent <br>
back (privately).  This could help to make one more round of refinement, <br>
and then proceed to more deeper points.</p>
<p>I suppose this work is meant for AFP?</p>
<p>Makarius</p>



<a name="294326497"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294326497" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294326497">(Aug 19 2022 at 17:05)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
I tried the batch build 3 times, and it worked 3 times (on 6 cores).  I <br>
did not try further, but only looked a bit through the sources.</p>
<p>Makarius</p>



<a name="294328792"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20exception%20THM%200%20raised%20%28line%20532%20of%20%22thm.ML%22%29%3A.../near/294328792" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20exception.20THM.200.20raised.20.28line.20532.20of.20.22thm.2EML.22.29.3A.2E.2E.2E.html#294328792">(Aug 19 2022 at 17:18)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Dear list,</p>
<p>what is usually the cause for the error message</p>
<p>*** exception THM 0 raised (line 532 of "thm.ML"): future_result: bad prop</p>
<p>To reproduce with Isabelle-2014, run<br>
$ git clone <a href="https://github.com/gattschardo/open-inductive">https://github.com/gattschardo/open-inductive</a><br>
$ cd open-inductive<br>
add "Open_Arith_Eval" to "theories" in ROOT<br>
$ isabelle build -D .</p>
<p>It does not (seem to) occur in Isabelle/jEdit.</p>
<p>Thanks,<br>
Joachim<br>
<a href="/user_uploads/14278/aazWjgCil3kjxQGjkdn4xThX/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>