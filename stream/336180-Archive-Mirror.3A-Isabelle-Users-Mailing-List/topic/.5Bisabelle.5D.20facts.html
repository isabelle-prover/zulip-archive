<html>
<head><meta charset="utf-8"><title>[isabelle] facts · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html">[isabelle] facts</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294739657"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294739657" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294739657">(Aug 22 2022 at 17:57)</a>:</h4>
<p>From: Michal Wallace &lt;<a href="mailto:michal.wallace@gmail.com">michal.wallace@gmail.com</a>&gt;<br>
You were complaining that nobody answers your questions. I'm not sure<br>
that's true, but I do think I can answer this one. :)</p>
<p>(Warning: I'm pretty much a newbie myself)</p>
<p>On Thu, Aug 9, 2018 at 3:44 AM Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
wrote:</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>Right at the moment I'm trying to understand what the documentation is<br>
talking about when it refers to facts.  Which it does in quite a lot<br>
of places, so I'm surprised you refer to it as low-level exploration.<br>
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>At (almost) any point in your document in isabelle/jEdit, type the<br>
following line:</p>
<p>print_facts</p>
<p>Then put your cursor on that line and open the "output" panel to see what<br>
the current facts are.</p>
<blockquote>
<blockquote>
<blockquote>
<p>Further to the above question, where I have a proof state as follows</p>
<p>proof (state)<br>
this:<br>
   D</p>
<p>goal (1 subgoal):<br>
  1. A ==&gt; B &amp; C &amp; D</p>
<p>what does<br>
this:<br>
   D<br>
mean?<br>
</p>
</blockquote>
</blockquote>
</blockquote>
<p>notepad begin<br>
  assume "D"<br>
  print_facts<br>
end</p>
<p>It means that D is a fact in the current context, and also that the name<br>
"this" is bound to it.<br>
"this" is special variable that's something like "the set of facts that you<br>
just proved."<br>
it allows you to forward chain from one statement to the next ("from this"<br>
/ "hence")</p>
<p>(Looking at an example  is great if you know what it is an example of,</p>
<blockquote>
<p>eg adding to, or removing from, or using, the list of current facts or<br>
local facts or method facts or goal facts or any other sort of facts<br>
that the system uses; but without any explanation of what the example is<br>
showing, then may often not be of any use).<br>
</p>
</blockquote>
<p>Don't just look at it. Load it into the system and put your cursor on<br>
different places in the file<br>
and observe the proof state.</p>
<p>eg running through this example doesn't tell me what are, at each stage,</p>
<blockquote>
<p>the current facts or local facts or method facts or goal facts or any<br>
other sort of facts, and which of these have the same meaning, etc.</p>
<p>(1) what does the  \&lt;proof&gt; mean?<br>
</p>
</blockquote>
<p>"\&lt;proof&gt;" is pretty much the same as "sorry" as far as Isabelle is<br>
concerned, but<br>
but is meant to indicate to the reader that the proof is essentially<br>
unimportant or<br>
intentionally left out, whereas "sorry" indicates that the thing proved by<br>
it is important<br>
and there really ought to be a proof there but... well... sorry, there<br>
isn't.</p>
<p>(you'll notice that when a "proof outline" is generated in AFP, all the<br>
actual proofs are<br>
replaced with "\&lt;proof&gt;")</p>
<blockquote>
<p>(2) what does<br>
this<br>
A1<br>
A2<br>
B1<br>
B2<br>
B3<br>
mean?</p>
<p>Ie does it mean that "this" refers to A1 or to all of A1 A2 B1 B2 B3?<br>
Or to something else?  Are all of these facts?<br>
</p>
</blockquote>
<p>Yes. try using the 'print_facts' command before and after.</p>
<p>(incidentally, if you just type "print_" and let isabelle/jEdit<br>
autocomplete, there's a bunch of other inspectors like these)</p>
<blockquote>
<p>(3) what does "picking this" mean?  At this point (ie after "from a")<br>
what are the facts at the point?  Is something which is once a fact<br>
always a fact, or does it cease to become one?  Since just A1 and A2 are<br>
printed, does that mean that just those two are facts?</p>
<p>(4) After the "have C" the proof state includes "using this A1 A2".<br>
What are the facts at this point?</p>
<p>(5) After the "using b" the proof state becomes "using this A1 A2 B1 B2<br>
B3"?  Same questions.</p>
<p>(6) After proof ... we get method_facts A1 A2 B1 B2 B3.  Are<br>
method_facts the same as facts?  If not, what is the difference?</p>
<p>(7) After show ?thesis \&lt;proof&gt; it says something has been proved, but<br>
it's not apparent what (I'm guessing C) or how (though I assume it must<br>
be that it has used C to prove C, though I can't see where it has been<br>
told to do that).<br>
</p>
</blockquote>
<p>I feel like all of thees have the same answers... Just click and look.</p>
<p>Which, combined with other questions you've asked, makes me wonder if you<br>
are just completely<br>
ignoring the jEdit component, and trying to use Isabelle only from the<br>
console?</p>
<p>I can certainly imagine how the other systems you've mentioned using would<br>
lead you to do that,<br>
but it must be terribly frustrating.</p>
<p>I think (maybe?) modern Isabelle is just a very different thing than what<br>
you want/expect it to be.<br>
It is still very possible to extend Isabelle with ML, but maybe it's worth<br>
taking a step back and<br>
telling yourself that what you're dealing with isn't ML. It's a new<br>
language/environment/system<br>
all its own that just happens to have ML as a sub component...</p>



<a name="294739864"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294739864" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294739864">(Aug 22 2022 at 17:58)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
Hi Michal,</p>
<blockquote>
<p>At (almost) any point in your document in isabelle/jEdit, type the <br>
following line:</p>
<p>print_facts</p>
<p>Then put your cursor on that line and open the "output" panel to see <br>
what the current facts are.</p>
<p>thanks - that is very helpful.</p>
<p>Don't just look at it. Load it into the system and put your cursor on <br>
different places in the file<br>
and observe the proof state.</p>
<p>I meant I'd looked at the result of running the example.</p>
</blockquote>
<p>Your answer to (1) I think also clarifies (7).  And for some reason I'd <br>
thought<br>
that what is printed after "using" or "using this" is the facts, which is<br>
apparently not so.</p>
<p>But do you know what it is that is printed after "using" or "using this"?</p>
<blockquote>
<p>(6) After proof ... we get method_facts A1 A2 B1 B2 B3.  Are<br>
    method_facts the same as facts?  If not, what is the difference?<br>
</p>
</blockquote>
<p>I've discovered that at several places in the file I can insert<br>
  apply (print_fact method_facts)<br>
and what it gives is different from what is printed by print_facts<br>
(which is described as local facts).</p>
<p>Do you know what method facts or local facts are?  Presumably they<br>
are of some relevance, different from them simply being facts.</p>
<blockquote>
<p>Which, combined with other questions you've asked, makes me wonder if <br>
you are just completely<br>
ignoring the jEdit component, and trying to use Isabelle only from the <br>
console?</p>
<p>I've certainly tried to do as much as I can from the console, but as for <br>
running the file that my questions were based on and viewing the output <br>
at each step, I think I must have used jedit, I don't think I know how <br>
to do that using the console.</p>
</blockquote>
<blockquote>
<p>I can certainly imagine how the other systems you've mentioned using <br>
would lead you to do that,<br>
but it must be terribly frustrating.</p>
</blockquote>
<p>As a matter of fact, being able to jump back and forth in a proof is <br>
very nice for doing exactly what you suggest (re print_facts) but <br>
generally it's not worth the sluggishness of jedit, and having to <br>
enclose everything in ML {* ... *}, and only seeing a few lines of <br>
output at a time, and so forth.</p>
<p>Thanks again for your answers</p>
<p>Cheers,</p>
<p>Jeremy</p>



<a name="294739870"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294739870" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294739870">(Aug 22 2022 at 17:58)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Before this thread is again diverging into non-sense, just a reminder of<br>
the most basic facts of Isabelle2018:</p>
<p>* You do need to use Isabelle/jEdit for almost everything. Don't try<br>
to bail out into the "isabelle console" tool, which is merely a leftover<br>
for certain low-level system debugging.</p>
<p>* "enclose everything in ML {* ... *}" is misleading. You rarely need<br>
Isabelle/ML to use the system properly. ML is the system extension<br>
language, and using it for that purpose, Isabelle/jEdit is actually more<br>
convenient than anything before in the history of Isabelle.</p>
<p>* "sluggishness of jedit": The Isabelle/jEdit application normally<br>
works smoothly on decent hardware. You need 2-4 CPU cores and 8-16 GB<br>
RAM, i.e. cheap mid-range consumer hardware. If you don't want to invest<br>
in that, you should not use Isabelle2018.</p>
<p>Also note that the Isabelle/jEdit application title in Isabelle2018 is<br>
now "Isabelle2018/HOL" (or another logic image). It means that at first<br>
approximation "Isabelle2018" and "Isabelle/jEdit of Isabelle2018" are<br>
the same thing: there is practically no escape from it, and no point to<br>
try it. If you don't like that, you should be honest to yourself use a<br>
different proof assistant.</p>
<p>Makarius</p>



<a name="294739903"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294739903" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294739903">(Aug 22 2022 at 17:59)</a>:</h4>
<p>From: José Manuel Rodriguez Caballero &lt;<a href="mailto:josephcmac@gmail.com">josephcmac@gmail.com</a>&gt;<br>
I never observe the proof state, I just read my own Isar code as if I was<br>
writing a paper in LaTex. The slogan is: Isar is not a video game like Coq,<br>
but a typewriter like LaTex.</p>
<p>To understand the theory behind the proof is the key to write readable<br>
proofs in Isar. In my case, I follow the following steps (without regarding<br>
any textbook, just having an idea of the theory in mind):</p>
<ol>
<li>
<p>I write my theorem and I write sorry in its proof.</p>
</li>
<li>
<p>I write the lemmas that I need to prove my theorem, with sorry in the<br>
proof of each one.</p>
</li>
<li>
<p>I write the proof of my theorem assuming the lemmas as true.</p>
</li>
<li>
<p>I repeat the previous steps with each lemma with sorry as proof.</p>
</li>
</ol>
<p>Jose M.</p>



<a name="294741827"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294741827" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294741827">(Aug 22 2022 at 18:10)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
Hi,</p>
<p>I find that for a given proof state,</p>
<p>Proof.the_facts can indicate a non-empty list of facts, but<br>
(#facts o Proof.goal) gives an empty list of facts.</p>
<p>Why is this, and what do these two functions return?  Are there two <br>
different sorts of facts?</p>
<p>Variously the documentation refers to "current facts" and "incoming <br>
facts".  What does this terminology mean?</p>
<p>Method.get_facts and Method.set_facts refer to sets of facts which it <br>
would seem belong to a proof context, rather than to a Proof state.  How <br>
do these relate to the sets of facts mentioned above which would seem to <br>
be are part of the proof state?</p>
<p>thanks</p>
<p>Jeremy</p>



<a name="294741915"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294741915" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294741915">(Aug 22 2022 at 18:11)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This looks like a low-level exploration of Isabelle/Isar internals.</p>
<p>What are you trying to do abstractly. What is your application?</p>
<p>Makarius</p>



<a name="294741933"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294741933" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294741933">(Aug 22 2022 at 18:11)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
Right at the moment I'm trying to understand what the documentation is <br>
talking about when it refers to facts.  Which it does in quite a lot of <br>
places, so I'm surprised you refer to it as low-level exploration.</p>
<p>Jeremy</p>



<a name="294742275"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294742275" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294742275">(Aug 22 2022 at 18:13)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
Further to the above question, where I have a proof state as follows</p>
<p>proof (state)<br>
this:<br>
   D</p>
<p>goal (1 subgoal):</p>
<p>1. A ==&gt; B &amp; C &amp; D</p>
<p>what does<br>
this:<br>
   D<br>
mean?</p>
<p>I guessed from the documentation that it means that D is a fact.  Is <br>
that right?</p>
<p>But when I try Proof_Context.print_local_facts on the proof context <br>
derived from that proof state, it gives nothing.</p>
<p>(Proof_Context.print_local_facts appears to the the ML function which <br>
implements the Isar command print_facts)</p>
<p>Thanks</p>
<p>Jeremy</p>



<a name="294742296"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294742296" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294742296">(Aug 22 2022 at 18:13)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
A fact is the most fundamental result produced in a proof context, it is<br>
a multi-thm, i.e. a list of things that hold in a certain context.</p>
<p>Facts are defined in the theory or proof context via names, just like<br>
constants or types. Within a proof, fact names are optional and the last<br>
fact is always called "this". This allows to use forward-chaining of a<br>
fact towards the next goal statement. Facts chained into a goal are<br>
presented to proof methods as the primary "facts" argument.</p>
<p>Attached is an example that illustrates this.</p>
<p>Makarius<br>
<a href="/user_uploads/14278/eVLZSzWeba402PqzoEg6p9Vw/Scratch.thy">Scratch.thy</a></p>



<a name="294742382"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20facts/near/294742382" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20facts.html#294742382">(Aug 22 2022 at 18:14)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@anu.edu.au">Jeremy.Dawson@anu.edu.au</a>&gt;<br>
Well, thanks - but that raises more questions than it answers.</p>
<p>(Looking at an example  is great if you know what it is an example of, <br>
eg adding to, or removing from, or using, the list of current facts or <br>
local facts or method facts or goal facts or any other sort of facts <br>
that the system uses; but without any explanation of what the example is <br>
showing, then may often not be of any use).</p>
<p>eg running through this example doesn't tell me what are, at each stage, <br>
the current facts or local facts or method facts or goal facts or any <br>
other sort of facts, and which of these have the same meaning, etc.</p>
<p>(1) what does the  \&lt;proof&gt; mean?</p>
<p>(2) what does<br>
this<br>
A1<br>
A2<br>
B1<br>
B2<br>
B3<br>
mean?</p>
<p>Ie does it mean that "this" refers to A1 or to all of A1 A2 B1 B2 B3?<br>
Or to something else?  Are all of these facts?</p>
<p>(3) what does "picking this" mean?  At this point (ie after "from a") <br>
what are the facts at the point?  Is something which is once a fact <br>
always a fact, or does it cease to become one?  Since just A1 and A2 are <br>
printed, does that mean that just those two are facts?</p>
<p>(4) After the "have C" the proof state includes "using this A1 A2". <br>
What are the facts at this point?</p>
<p>(5) After the "using b" the proof state becomes "using this A1 A2 B1 B2 <br>
B3"?  Same questions.</p>
<p>(6) After proof ... we get method_facts A1 A2 B1 B2 B3.  Are <br>
method_facts the same as facts?  If not, what is the difference?</p>
<p>(7) After show ?thesis \&lt;proof&gt; it says something has been proved, but <br>
it's not apparent what (I'm guessing C) or how (though I assume it must <br>
be that it has used C to prove C, though I can't see where it has been <br>
told to do that).</p>
<p>Thanks</p>
<p>Jeremy</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>