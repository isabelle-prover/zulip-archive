<html>
<head><meta charset="utf-8"><title>[isabelle] how many cores are useful for Isabelle? recomm... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20many.20cores.20are.20useful.20for.20Isabelle.3F.20recomm.2E.2E.2E.html">[isabelle] how many cores are useful for Isabelle? recomm...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294718615"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20many%20cores%20are%20useful%20for%20Isabelle%3F%20recomm.../near/294718615" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20many.20cores.20are.20useful.20for.20Isabelle.3F.20recomm.2E.2E.2E.html#294718615">(Aug 22 2022 at 16:00)</a>:</h4>
<p>From: "Jähnig, Nils Erik" &lt;<a href="mailto:nils.jaehnig@tu-berlin.de">nils.jaehnig@tu-berlin.de</a>&gt;<br>
Thank you all for your feedback.<br>
It seems like 8 cores should be fine for non-AFP, interactive theory development, preferably with a high frequency.<br>
When I get around to buy a machine, I will report back.</p>
<p>Nils</p>



<a name="294720404"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20many%20cores%20are%20useful%20for%20Isabelle%3F%20recomm.../near/294720404" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20many.20cores.20are.20useful.20for.20Isabelle.3F.20recomm.2E.2E.2E.html#294720404">(Aug 22 2022 at 16:09)</a>:</h4>
<p>From: "Jähnig, Nils Erik" &lt;<a href="mailto:nils.jaehnig@tu-berlin.de">nils.jaehnig@tu-berlin.de</a>&gt;<br>
Dear Isabelle users,</p>
<p>I can buy a new machine for work :)</p>
<p>I wonder how many cores are useful for theory development in Isabelle.</p>
<p>And does anyone have experiences with high-end computer for this purpose?</p>
<p>I would be glad if some peaple could share their setups.<br>
(plus points for hackintosh compatibility, but linux is of course fine)</p>
<p>Have a nice weekend<br>
Nils</p>



<a name="294720412"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20many%20cores%20are%20useful%20for%20Isabelle%3F%20recomm.../near/294720412" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20many.20cores.20are.20useful.20for.20Isabelle.3F.20recomm.2E.2E.2E.html#294720412">(Aug 22 2022 at 16:09)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Dear Nils,</p>
<p>I have a laptop with 8 CPUs (with hyperthreading) and 16GB of RAM<br>
(running linux).</p>
<p>My setup is (in Isabelle's etc/settings file):</p>
<p>ISABELLE_BUILD_JAVA_OPTIONS="-Xms1024m -Xmx4096m -Xss4m"<br>
JEDIT_JAVA_OPTIONS="-Xms1024m -Xmx4096m -Xss4m"</p>
<p>ISABELLE_BUILD_OPTIONS="threads=8"</p>
<p>ML_PLATFORM="$ISABELLE_PLATFORM64"<br>
ML_HOME="$POLYML_HOME/$ML_PLATFORM"<br>
ML_OPTIONS="-H 1500 --gcthreads 4"</p>
<p>For some of our sessions I get a speedup close to 8.</p>
<p>However, with this setup my laptop is almost unusable for other stuff<br>
during build time. That is why I usually build heap images on a remote<br>
workstation and then rsync them over to my laptop (just 2 weeks ago<br>
Makarius helped me to write an Isabelle tool that automates this, in<br>
case anybody is interested; currently this "heap_copy" tool---which<br>
should rather be named "remote_build"---is part of IsaFoR).</p>
<p>The workstation has 12 CPUs (6 physical cores + hyperthreading) and 32GB<br>
of RAM and as a corollary our setup is:</p>
<p>ISABELLE_BUILD_OPTIONS="threads=12"<br>
ISABELLE_BUILD_JAVA_OPTIONS="-Xms1024m -Xmx4096m -Xss4m"</p>
<p>ML_PLATFORM="$ISABELLE_PLATFORM64"<br>
ML_HOME="$POLYML_HOME/$ML_PLATFORM"<br>
ML_OPTIONS="-H 1500 --gcthreads 6"</p>
<p>In both cases I use 64bit Poly/ML (via changing ML_HOME) since IsaFoR<br>
needs more RAM than can be addressed with the 32bit version. If you do<br>
not need 64bit, don't do this, since 32bit Poly/ML is probably around<br>
twice as fast.</p>
<p>With this setup we sometimes (rarely) see a speedup around 9. So at<br>
least for IsaFoR it seems that up to 8 CPUs are <em>really</em> useful (of<br>
course if you also want to work on the same machine, more would be<br>
better ;)).</p>
<p>hope this helps</p>
<p>chris</p>



<a name="294720455"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20many%20cores%20are%20useful%20for%20Isabelle%3F%20recomm.../near/294720455" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20many.20cores.20are.20useful.20for.20Isabelle.3F.20recomm.2E.2E.2E.html#294720455">(Aug 22 2022 at 16:10)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
Hi Nils,</p>
<p>the more, the merrier :-)</p>
<p>I personally compute on a recent 4 core + HT laptop (32 GB) and at home<br>
on a somewhat dated 4 core + HT desktop (also 32 GB). Both are fine for<br>
interactive development of medium-sized applications (~ 10k–20k lines).</p>
<p>If you frequently change stuff that comes early in the session graph and<br>
find yourself rebuilding things like HOL-Probability (or the AFP even)<br>
often, I would recommend at least 8 cores.</p>
<p>For continuous builds we use a total of 22 cores which can be saturated<br>
by the AFP very easily.</p>
<p>All of the above concerns Linux.</p>
<p>For Mac, well, you're pretty much out of luck without Hackintosh. Not<br>
sure what hardware would work with that though.</p>
<p>Cheers<br>
Lars</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>