<html>
<head><meta charset="utf-8"><title>[isabelle] how to know which rules to apply before apply(... · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html">[isabelle] how to know which rules to apply before apply(...</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294309403"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294309403" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294309403">(Aug 19 2022 at 16:09)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 26.10.2014 18:44, M A wrote:</p>
<blockquote>
<p>is it fact_filter to give hints about what lemma to be used? what is<br>
the correct command to return hints about which lemmas to be used?<br>
Usually you just start sledgehammer (e.g., from the the sledgehammer<br>
panel). Options like fact_filter are either for very advanced or just<br>
internal usage.<br>
after tried, it seems same as giving hints about rules, however not<br>
lemmas.<br>
Rules are lemmas. Or did you expect sledgehammer to suggest you a<br>
proposition which you should prove to prove the theorem?<br>
Sometimes it do not have immediate response, I do not know whether it<br>
start or running or not start.<br>
If you use the sledgehammer panel, there is a small rotating circle<br>
indicating whether sledgehammer is running. If you write the<br>
"sledgehammer" command in your theory file, it has a different<br>
background as long as it is running.<br>
 "remote_vampire": Cannot connect to remote server.<br>
You probably had no network connection, so the vampire server could not<br>
be reached.<br>
"spass": Try this: by (metis list.inject) (0 ms).<br>
Spass found a proof involving the "list.inject" lemma.<br>
(No structured proof available -- proof too simple.)<br>
The proof is so simple, that sledgehammer cannot split it into more<br>
simple steps.</p>
</blockquote>
<p>-- Lars</p>



<a name="294309413"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294309413" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294309413">(Aug 19 2022 at 16:09)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 26.10.2014 19:37, M A wrote:</p>
<blockquote>
<p>After find<br>
<a href="https://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg03468.html">https://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg03468.html</a><br>
This is about improving how Sledgehammer is working -- note that it was<br>
posted on the development mailing list. This is nothing you need to care<br>
about as a beginner.<br>
 I click apply that can see it is running, it seems need to know at<br>
least one lemma.<br>
Sledgehammer tries to discharge the current proof goal, yes.<br>
1. How about if we do not know any lemma so that no starting lemma for<br>
it to run the command?<br>
Then what should sledgehammer try to prove?</p>
</blockquote>
<p>Be careful with the notation: A lemma (or theorem, fact, rule) is a<br>
proven statement which can be used in further proofs.<br>
The "lemma" command in Isabelle allows you to state a proposition. It<br>
then sets up (one or more) goals you need to prove (using the commands<br>
proof, apply, ...). After finishing the prove, a lemma with the<br>
proposition you stated is added to your theory.</p>
<blockquote>
<ol start="2">
<li>do not know from example of the link about Facts in "e" proof (of<br>
1000): zip_rev@1, length_map@5 &lt;mailto:length_map@5&gt;<br>
the information is not like a lemma, how to know what is zip_rev@1<br>
&lt;mailto:zip_rev@1&gt; and length_map@5 &lt;mailto:length_map@5&gt; ?<br>
This is some internal sledgehammer stuff.</li>
<li>using example below, how to find two lemma below ?<br>
lemma app_assoc [simp]: "(xs @ ys) @ zs = xs @ (ys @ zs)"<br>
lemma rev_app [simp]: "rev(xs @ ys) = (rev ys) @ (rev xs)"<br>
I am not sure what you are trying to do here. You don't need them<br>
explicitly in your proof?</li>
</ol>
</blockquote>
<p>-- Lars</p>



<a name="294309433"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294309433" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294309433">(Aug 19 2022 at 16:09)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi  I use toylist example in <a href="http://isabelle.in.tum.de/doc/tutorial.pdf">http://isabelle.in.tum.de/doc/tutorial.pdf</a> To practise how it find other lemma from one lemma with Sledgehammer when I left click it , it runs a very long time without a listbox pop up. lemma app_Nil2 [simp]: "xs @ [] = xs"sledgehammer learn_isar are essential lemmas must include associative lemma and distributive lemma? Regards, Martin &gt; Date: Sun, 26 Oct 2014 19:33:36 +0100</p>



<a name="294309444"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294309444" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294309444">(Aug 19 2022 at 16:09)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi  after find lack of lemma length_map, I use find_theorems can not find length_maphow to find lemma length_map ?  theory ts<br>
imports Main<br>
begin<br>
lemma "map f xs = ys ==&gt; rev (zip xs ys) = zip (rev xs) (rev ys)"<br>
sledgehammer [prover = e, fact_filter = mesh, verbose]<br>
find_theorems "length_map ?" Regards, Martin &gt; From: <a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a></p>



<a name="294318364"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318364" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318364">(Aug 19 2022 at 16:22)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi</p>
<ol>
<li>how to know which rules to apply before apply(auto)?2. any manual to show all the rules that can be applied for each library when import them?3. is there any difference to apply rules in one statement or apply one by one?<br>
a. apply(a)apply(b)done<br>
b.apply(a,b)done</li>
</ol>
<p>Regards,<br>
Martin</p>



<a name="294318479"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318479" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318479">(Aug 19 2022 at 16:23)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Becoming an expert at Isabelle takes time and cannot be rushed. It sounds like you simply need to work through the tutorials, doing small examples to begin with. Before attempting to prove a theorem, you need to have an intuitive grasp of the key steps of the proof. Don’t expect “auto” to work miracles. </p>
<p>Larry Paulson</p>



<a name="294318548"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318548" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318548">(Aug 19 2022 at 16:23)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi ,<br>
I just think to apply all the rules at one time and then apply(auto) to see which rules it use in debug rather than guess by observation and trial and error.It seems think out essential number of lemmas in order before theorem already a miracle. apply(a,b,c,d,e,f,g.......etc)apply(auto)<br>
Regards,<br>
Martin</p>



<a name="294318582"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318582" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318582">(Aug 19 2022 at 16:23)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
When proving something in Isabelle, you should have an idea how you would prove it on paper first: This should give you an idea which properties you need for the proof.</p>
<p>Isabelle offers you a few tools to discover useful lemmas: Sledgehammer can search for a proof and gives you a list of lemmas it needed for a proof. Inspecting this list often helps to give the right lemmas to auto (and similar tools), so they can find a proof.</p>
<p>Very helpful is also the "find theorems" tool which is found in the query panel: You can search for lemmas containing certain constants or having a specific shape. In particular, you can also search for lemmas which are applicable by rule (using the intro, elim, dest  keywords).</p>
<p>It is important to keep in mind that lemmas are often formulated a bit differently than in maths, to make them work better with the various proof tools.</p>
<p>There is no manual of all rules. Rather, the lemmas available can be either discovered by browsing the theories or (more directly) by the use of find theorems.</p>
<p>In many cases, "apply(a,b)" and "apply a apply b" are equivalent, but there are some differences: Some proof methods (e.g. rule) don't return a single proof step but potentially a sequence of multiple proof steps (try applying the "back" command). In the (a,b) case, when the second proof method fails, Isabelle backtracks and tries the next proof step produced by a. Also, if there are chained facts (from using then, from, using or similar) then these facts are available to both proof methods. This is usually not what you want.</p>
<p>Best regards, Lars</p>



<a name="294318665"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318665" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318665">(Aug 19 2022 at 16:24)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi  is it fact_filter to give hints about what lemma to be used? what is the correct command to return hints about which lemmas to be used? after tried, it seems same as giving hints about rules, however not lemmas. Sometimes it do not have immediate response, I do not know whether it start or running or not start. "remote_vampire": Cannot connect to remote server. <br>
"spass": Try this: by (metis list.inject) (0 ms).<br>
(No structured proof available -- proof too simple.) <br>
"e": Try this: by (metis the_elem_set) (0 ms).<br>
(No structured proof available -- proof too simple.) theory ts<br>
imports Main<br>
begin<br>
lemma "[a] = [b] ==&gt; a = b"<br>
sledgehammer fact_filter = &lt;"[a] = [b] ==&gt; a = b"&gt;  {smart} Regards, Martin &gt; From: <a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a></p>



<a name="294318673"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20how%20to%20know%20which%20rules%20to%20apply%20before%20apply%28.../near/294318673" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20how.20to.20know.20which.20rules.20to.20apply.20before.20apply.28.2E.2E.2E.html#294318673">(Aug 19 2022 at 16:24)</a>:</h4>
<p>From: M A &lt;<a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a>&gt;<br>
Hi  After find <a href="https://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg03468.html">https://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg03468.html</a> I click apply that can see it is running, it seems need to know at least one lemma. 1. How about if we do not know any lemma so that no starting lemma for it to run the command? 2.  do not know from example of the link about Facts in "e" proof (of 1000): zip_rev@1, length_map@5the information is not like a lemma, how to know what is zip_rev@1 and length_map@5 ? 3. using example below, how to find two lemma below ?lemma app_assoc [simp]: "(xs @ ys) @ zs = xs @ (ys @ zs)"</p>
<p>lemma rev_app [simp]: "rev(xs @ ys) = (rev ys) @ (rev xs)"<br>
 sledgehammer_params [fact_filter = mesh]<br>
theory Scratch<br>
imports Datatype<br>
begin<br>
datatype 'a list  = Nil ("[]")<br>
                  | Cons 'a "'a list" (infixr "#" 65)<br>
(* This is the append function: *)<br>
primrec app :: "'a list =&gt; 'a list =&gt; 'a list" (infixr "@" 65)<br>
where<br>
"[] @ ys = ys" |<br>
"(x # xs) @ ys = x # (xs @ ys)"<br>
primrec rev :: "'a list =&gt; 'a list" where<br>
"rev [] = []" |<br>
"rev (x # xs) = (rev xs) @ (x # [])"primrec itrev :: "'a list =&gt; 'a list =&gt; 'a list" where<br>
"itrev [] ys = ys" |<br>
"itrev (x#xs) ys = itrev xs (x#ys)"<br>
value "rev (True # False # [])"<br>
lemma app_Nil2 [simp]: "xs @ [] = xs"<br>
sledgehammer learn_isar<br>
apply(induct_tac xs)<br>
apply(auto)<br>
doneend Regards, Martin &gt; From: <a href="mailto:tesleft@hotmail.com">tesleft@hotmail.com</a></p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>