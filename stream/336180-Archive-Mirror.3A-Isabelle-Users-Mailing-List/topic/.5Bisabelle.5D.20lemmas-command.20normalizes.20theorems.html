<html>
<head><meta charset="utf-8"><title>[isabelle] lemmas-command normalizes theorems · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20lemmas-command.20normalizes.20theorems.html">[isabelle] lemmas-command normalizes theorems</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294281929"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20lemmas-command%20normalizes%20theorems/near/294281929" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20lemmas-command.20normalizes.20theorems.html#294281929">(Aug 19 2022 at 14:50)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Hi,</p>
<p>I stumbled over the following (unexpected, undocumented) behaviour of<br>
the lemmas command:</p>
<p>thm norm_hhf_eq<br>
(* (PROP ?phi ==&gt; (!!x. PROP ?psi x)) <br>
  == (!!x. PROP ?phi ==&gt; PROP ?psi x) *)<br>
lemmas foo = norm_hhf_eq<br>
(* lemma foo: (!!x. PROP ?phi ==&gt; PROP ?psi x) <br>
  == (!!x. PROP ?phi ==&gt; PROP ?psi x) *)</p>
<p>So, obviously, there is some normalization going on. What normalization<br>
is exactly applied? <br>
The isar-ref manual says:<br>
  "Results are standardized before being stored, i.e. schematic<br>
   variables are renamed to enforce index 0 uniformly."</p>
<p>but nothing about other normalizations.</p>
<p>Is there a way, other than raw isabelle-ML declaration, to avoid this<br>
normalization and just give a name to a list of theorems?</p>



<a name="294281942"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20lemmas-command%20normalizes%20theorems/near/294281942" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20lemmas-command.20normalizes.20theorems.html#294281942">(Aug 19 2022 at 14:50)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
Addition: Local_Theory.notes already performs this normalization,<br>
so I am unable to give another name to this theorem at all!</p>



<a name="294281977"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20lemmas-command%20normalizes%20theorems/near/294281977" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20lemmas-command.20normalizes.20theorems.html#294281977">(Aug 19 2022 at 14:51)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
On Fri, 11 Jul 2014, Peter Lammich wrote:</p>
<blockquote>
<p>I stumbled over the following (unexpected, undocumented) behaviour of <br>
the lemmas command:</p>
</blockquote>
<p>I am surprised that the normal Isabelle rule normalization is unexpected.</p>
<p>It is documented in many places, e.g. the "implementation" manual section <br>
2.4 Object-level rules.</p>
<blockquote>
<p>Is there a way, other than raw isabelle-ML declaration, to avoid this <br>
normalization and just give a name to a list of theorems?</p>
</blockquote>
<p>There are some tricks with the "prop" marker to protect Pure propositions <br>
(covered in the same manual).  This is for unusual situations where this <br>
is really needed.</p>
<p>Normally it is better to work with the system and its canonical rule <br>
format, not against it.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>