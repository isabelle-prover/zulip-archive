<html>
<head><meta charset="utf-8"><title>[isabelle] libisabelle: embedding on ML-side · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html">[isabelle] libisabelle: embedding on ML-side</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294643599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294643599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294643599">(Aug 22 2022 at 10:12)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
this mail continues the thread broken at<br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2015-June/msg00009.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2015-June/msg00009.html</a><br>
-------------------------------------------------------------------/</p>
<p>Lars,<br>
... that demonstrates the genericity of libisabelle, great !</p>
<p>When integrating Protocol.thy into Isac [1] we run into problems now<br>
[2]. We could eliminate some of the error messages (marked with @@@ <br>
instead of *** in [2] below) by replacing<br>
    imports Complex_Main<br>
by imports "~~/src/HOL/Complex_Main"<br>
in Isac's sources.</p>
<p>Should we replace imports by "~~/..." in the Isabelle sources, too?<br>
Or: What are we doing wrong in [1]?</p>
<p>Walther</p>
<p>[1a] Isac's ROOT builds from Build_Isac<br>
<a href="https://intra.ist.tugraz.at/hg/isa/file/43c1e5222f0e/src/Tools/isac/ROOT">https://intra.ist.tugraz.at/hg/isa/file/43c1e5222f0e/src/Tools/isac/ROOT</a></p>
<p>[1b] while Build_Isac imports ".../Protocol"<br>
<a href="https://intra.ist.tugraz.at/hg/isa/file/43c1e5222f0e/src/Tools/isac/Build_Isac.thy#l54">https://intra.ist.tugraz.at/hg/isa/file/43c1e5222f0e/src/Tools/isac/Build_Isac.thy#l54</a></p>
<p>[1c] and Protocol imports "~~/src/Tools/isac/Frontend/Frontend", the <br>
minimum required for operation_setup calctree etc:<br>
<a href="https://github.com/wneuper/libisabelle/blob/master/libisabelle/src/main/isabelle/Protocol/Protocol.thy">https://github.com/wneuper/libisabelle/blob/master/libisabelle/src/main/isabelle/Protocol/Protocol.thy</a></p>
<p>[1d] libisabelle/../ROOT remains as is:<br>
<a href="https://github.com/wneuper/libisabelle/blob/master/libisabelle/src/main/isabelle/Protocol/ROOT">https://github.com/wneuper/libisabelle/blob/master/libisabelle/src/main/isabelle/Protocol/ROOT</a></p>
<p>[2] Error messages<br>
wneuper@wneuper-w541:~/proto4/libisabelle$<br>
/usr/local/isabisac/bin/isabelle build -D . -bv<br>
Started at Mit Jun 10 09:00:41 CEST 2015 (polyml-5.5.2_x86-linux on<br>
wneuper-w541)<br>
ISABELLE_BUILD_OPTIONS=""</p>
<p>ML_PLATFORM="x86-linux"<br>
ML_HOME="/home/wneuper/.isabelle/contrib/polyml-5.5.2-1/x86-linux"<br>
ML_SYSTEM="polyml-5.5.2"<br>
ML_OPTIONS="-H 500"</p>
<p>Session Pure/Pure<br>
Session Unsorted/Protocol<br>
*** No such file: "/usr/local/isabisac/src/HOL/Mutabelle/Complex_Main.thy"<br>
*** The error(s) above occurred for theory "Complex_Main"<br>
*** (required by "Protocol" via "Frontend" via "xmlsrc" via<br>
"MutabelleExtra") (file<br>
"/usr/local/isabisac/src/HOL/Mutabelle/MutabelleExtra.thy")<br>
*** No such file: "/usr/local/isabisac/src/HOL/Library/Main.thy"<br>
*** The error(s) above occurred for theory "Main"<br>
*** (required by "Protocol" via "Frontend" via "xmlsrc" via<br>
"MutabelleExtra" via "Refute") (file<br>
"/usr/local/isabisac/src/HOL/Library/Refute.thy")<br>
*** Incoherent imports for theory "Complex_Main":<br>
@@@   "/usr/local/isabisac/src/Tools/isac/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/Tools/isac/KEStore.thy")<br>
@@@   "/usr/local/isabisac/src/Tools/isac/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/Tools/isac/ProgLang/ListC.thy")<br>
@@@   "/usr/local/isabisac/src/Tools/isac/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/HOL/Mutabelle/MutabelleExtra.thy")<br>
@@@   "/usr/local/isabisac/src/Tools/isac/ProgLang/Complex_Main.thy"<br>
(file "/usr/local/isabisac/src/Tools/isac/KEStore.thy")<br>
@@@   "/usr/local/isabisac/src/Tools/isac/ProgLang/Complex_Main.thy"<br>
(file "/usr/local/isabisac/src/Tools/isac/ProgLang/ListC.thy")<br>
@@@   "/usr/local/isabisac/src/Tools/isac/ProgLang/Complex_Main.thy"<br>
(file "/usr/local/isabisac/src/HOL/Mutabelle/MutabelleExtra.thy")<br>
***   "/usr/local/isabisac/src/HOL/Mutabelle/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/Tools/isac/KEStore.thy")<br>
***   "/usr/local/isabisac/src/HOL/Mutabelle/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/Tools/isac/ProgLang/ListC.thy")<br>
***   "/usr/local/isabisac/src/HOL/Mutabelle/Complex_Main.thy" (file<br>
"/usr/local/isabisac/src/HOL/Mutabelle/MutabelleExtra.thy")<br>
*** The error(s) above occurred in session "Protocol" (line 1 of<br>
"libisabelle/src/main/isabelle/Protocol/ROOT")<br>
Finished at Mit Jun 10 09:00:43 CEST 2015<br>
0:00:02 elapsed time, 0:00:03 cpu time</p>



<a name="294643609"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294643609" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294643609">(Aug 22 2022 at 10:12)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
build the "Protocol" session, but that one imports theories from Isac,<br>
which in turn depends on HOL.</p>
<p>There are two ways to fix this: Modify the "ROOT" file of your<br>
libisabelle copy so that it uses "HOL" instead of "Pure", or move the<br>
theory files from libisabelle to the Isac repository and list it in its<br>
"src/Tools/isac/ROOT" file.</p>
<p>By the way, is there a reason why the Isac repository is a clone of<br>
Isabelle? Have you considered pulling the specific parts out and<br>
registering it as an Isabelle component (according to §1.1.3 of the<br>
system manual)?</p>
<p>Cheers<br>
Lars</p>



<a name="294643775"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294643775" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294643775">(Aug 22 2022 at 10:13)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;</p>
<blockquote>
<blockquote>
<p>From a brief glance at the build log, it appears that you first try to<br>
build the "Protocol" session, but that one imports theories from Isac,<br>
which in turn depends on HOL.</p>
</blockquote>
</blockquote>
<p>Right.</p>
<blockquote>
<p>There are two ways to fix this: (1) Modify the "ROOT" file of your<br>
libisabelle copy so that it uses "HOL" instead of "Pure", or (2) move the<br>
theory files from libisabelle to the Isac repository and list it in its<br>
"src/Tools/isac/ROOT" file.</p>
</blockquote>
<p>We prefer (1), because we still want to keep apart libisabelle and Isac.<br>
Your suggestion,</p>
<p>-  session Protocol = Pure +<br>
    + session Protocol = HOL +</p>
<p>however, again raises errors [1].</p>
<p>Another hint would be highly appreciated,<br>
Walther</p>
<p>PS: Sorry for still not understanding completely how Isabelle manages <br>
file dependencies in sessions.</p>
<p>[1]<br>
wneuper@wneuper-w541:~/proto4/libisabelle$ <br>
/usr/local/isabisac/bin/isabelle build -D . -bv<br>
Started at Mon Jun 15 18:36:24 CEST 2015 (polyml-5.5.2_x86-linux on <br>
wneuper-w541)<br>
ISABELLE_BUILD_OPTIONS=""</p>
<p>ML_PLATFORM="x86-linux"<br>
ML_HOME="/home/wneuper/.isabelle/contrib/polyml-5.5.2-1/x86-linux"<br>
ML_SYSTEM="polyml-5.5.2"<br>
ML_OPTIONS="-H 500"</p>
<p>Session Pure/Pure<br>
Session HOL/HOL (main)<br>
Session Unsorted/Protocol<br>
*** Incoherent imports for theory "Codec":</p>
<hr>
<p>"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/Codec.thy" <br>
(file <br>
"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/Protocol.thy")</p>
<hr>
<p>"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/Codec.thy" <br>
(file "libisabelle/src/main/isabelle/Protocol/Codec_Test.thy")<br>
***   "libisabelle/src/main/isabelle/Protocol/Codec.thy" (file <br>
"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/Protocol.thy")<br>
***   "libisabelle/src/main/isabelle/Protocol/Codec.thy" (file <br>
"libisabelle/src/main/isabelle/Protocol/Codec_Test.thy")<br>
*** The error(s) above occurred in session "Protocol" (line 1 of <br>
"libisabelle/src/main/isabelle/Protocol/ROOT")<br>
Finished at Mon Jun 15 18:36:26 CEST 2015<br>
0:00:02 elapsed time, 0:00:06 cpu time</p>



<a name="294643788"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294643788" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294643788">(Aug 22 2022 at 10:13)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
Hi Lars,</p>
<p>This works now, however, with ugly absolute paths:<br>
/-------------------------------------------------------------------<br>
theory Protocol<br>
imports<br>
"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/Codec"<br>
   "~~/src/Tools/isac/Frontend/Frontend"<br>
:<br>
--------------------------------------------------------------------/</p>
<p>Now I'm looking forward to completion of embedding on the ML-side with <br>
great pleasure,</p>
<p>Walther</p>



<a name="294644403"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294644403" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294644403">(Aug 22 2022 at 10:17)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
Hi Lars,</p>
<p>struggling with the error message</p>
<p>libisabelle$ java -cp full/target/scala-2.11/libisabelle-full.jar <br>
Hello_PIDE</p>
<p>Exception in thread "main" java.lang.RuntimeException: Duplicate <br>
session "RAW" (line 3 of "/usr/local/isabisac/src/Pure/ROOT") (line 3 of <br>
"/usr/local/isabisac/src/Pure/ROOT")</p>
<p>when following  your suggestionfor Hello_PIDE</p>
<blockquote>
<p>JSystem sys = JSystem.instance(new File("/path/to/isac"), "Isac");</p>
</blockquote>
<p>I see now, that I did not completely understand your fix:</p>
<blockquote>
<blockquote>
<blockquote>
<p>There are two ways to fix this: (1) Modify the "ROOT" file of your<br>
libisabelle copy so that it uses "HOL" instead of "Pure", or (2) <br>
move the<br>
theory files from libisabelle to the Isac repository and list it in its<br>
"src/Tools/isac/ROOT" file.<br>
We prefer (1), because we still want to keep apart libisabelle and Isac.</p>
</blockquote>
</blockquote>
</blockquote>
<p>My question now: There is something wrong with the sessions [1] ---<br>
--- isn't there some kind of mirror of libisabelle/../ROOT required in <br>
isabisac (= Isabelle2014+Isac)?</p>
<p>Sorry not to be able to minimize the problem,<br>
Walther</p>
<p>PS[1]: The error occurs in src/Pure/ROOT at "structure Distribution".<br>
           If I add to isabisac/ROOTS</p>
<p>+ <br>
/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol<br>
            the error remains the same, while isabisac accepts this + <br>
without error.<br>
            Etc ...</p>
<p>PS[2]: Summary of the situation:</p>
<h1>isabisac imports Protocol</h1>
<p><a href="https://intra.ist.tugraz.at/hg/isa/file/eeb0940e0329/src/Tools/isac/Build_Isac.thy#l54">https://intra.ist.tugraz.at/hg/isa/file/eeb0940e0329/src/Tools/isac/Build_Isac.thy#l54</a></p>
<h1>The settings of isabisac (Isabelle2014 + Isac) are correct now, I have</h1>
<p>solved<br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2015-June/msg00122.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2015-June/msg00122.html</a></p>
<h1>The libisabelle-side in the mail applies to ...</h1>
<p><a href="https://github.com/wneuper/libisabelle/commit/9e02c862175458867d492f3f0dd0aa7c79bd2d9f">https://github.com/wneuper/libisabelle/commit/9e02c862175458867d492f3f0dd0aa7c79bd2d9f</a></p>
<h1>... with respective updates:</h1>
<p>* session Protocol = (<em>Pure</em>) HOL +<br>
   * Hello_PIDE:<br>
       JSystem sys = JSystem.instance(new File("."), "Protocol");<br>
JSystem sys = JSystem.instance(new File("/usr/local/isabisac"), "Isac");</p>



<a name="294644416"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294644416" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294644416">(Aug 22 2022 at 10:17)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
Hi Lars,</p>
<p>now I have a situation, which you can reproduce easily:</p>
<p>Hello_PIDE:</p>
<p>-   JSystem sys = JSystem.instance(new <br>
File("/usr/local/isabisac"), "Isac");</p>
<p>+ JSystem sys = JSystem.instance(new <br>
File("/usr/local/Isabelle2014"), "HOL");</p>
<p>This gives:</p>
<p>libisabelle$ export ISABELLE_HOME=/usr/local/Isabelle2014<br>
libisabelle$ /usr/local/Isabelle2014/bin/isabelle build -D . -bv<br>
    (* !!! session Protocol = (<em>Pure</em>) HOL + takes its time *)<br>
libisabelle$ ./sbt full/assembly<br>
    (* ok *)<br>
libisabelle$ java -cp full/target/scala-2.11/libisabelle-full.jar Hello_PIDE<br>
    Hello I'm Hello_PIDE!<br>
    Exception in thread "main" java.lang.RuntimeException: Duplicate <br>
session "RAW" (line 3 of   "/usr/local/Isabelle2014/src/Pure/ROOT") <br>
(line 3 of "/usr/local/Isabelle2014/src/Pure/ROOT")<br>
     at isabelle.Library$ERROR$.apply(library.scala:20)<br>
    :</p>
<p>Do you have an idea, what is wrong here ?</p>
<p>Walther</p>



<a name="294644442"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294644442" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294644442">(Aug 22 2022 at 10:17)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;</p>
<blockquote>
<p>now I have a situation, which can easily be reproduced:</p>
</blockquote>
<p>even more easily reproduced:</p>
<p>$ git clone <a href="https://github.com/larsrh/libisabelle.git">https://github.com/larsrh/libisabelle.git</a> xxxxx</p>
<h1>edit xxxxx/examples/src/main/java/Hello_PIDE.java</h1>
<p>-  JSystem sys = JSystem.instance(new File("."), "Protocol");<br>
     +  JSystem sys = JSystem.instance(new <br>
File("/usr/local/Isabelle2014"), "HOL");</p>
<p>xxxxx$ export ISABELLE_HOME=/usr/local/Isabelle2014<br>
xxxxx$ /usr/local/Isabelle2014/bin/isabelle build -D . -bv<br>
xxxxx$ ./sbt full/assembly<br>
xxxxx$ java -cp full/target/scala-2.11/libisabelle-full.jar Hello_PIDE<br>
Exception in thread "main" java.lang.RuntimeException: Duplicate session <br>
"RAW" (line 3 of "/usr/local/Isabelle2014/src/Pure/ROOT") (line 3 of <br>
"/usr/local/Isabelle2014/src/Pure/ROOT")<br>
     at isabelle.Library$ERROR$.apply(library.scala:20)<br>
     :</p>
<p>How can one connect to some session ("HOL" and beyond) on the ML-side?</p>
<p>Hope to have sufficiently pinned down the situation herewith.<br>
Thanks a lot in advance for your support,</p>
<p>Walther</p>



<a name="294644732"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294644732" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294644732">(Aug 22 2022 at 10:19)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
Hi Lars,</p>
<p>since my last mail indicates, that there are principal questions about <br>
Isabelle's session management (and not with settings of isabisac (= <br>
Isabelle2014+Isac)), this question comes up:</p>
<p>Why not leave (PS(4))</p>
<p>JSystem.instance(new File("."), "Protocol");</p>
<p>as it was originally and import from isabisac this way (PS(2,3))</p>
<p>theory Protocol<br>
    imports Codec "~~/src/Tools/isac/Frontend/Frontend"</p>
<p>???<br>
Wouldn't that agree better with your advice (On 2015-06-15 10:54)</p>
<p>Thank you very much for continuous support with the libisabelle <br>
component, which is so important for Isac.</p>
<p>Walther</p>
<p>PS the full procedere:<br>
(1) export ISABELLE_HOME=/usr/local/isabisac  #= Isabelle2014+Isac<br>
(2) theory Protocol<br>
       imports Codec "~~/src/Tools/isac/Frontend/Frontend"<br>
      (* "~~" refers to "/usr/local/isabisac" in (3), right? *)<br>
(3) /usr/local/isabisac/bin/isabelle build -D . -bv<br>
(4) edit Hello_PIDE:<br>
        JSystem sys = JSystem.instance(new File("."), "Protocol");<br>
      //JSystem sys = JSystem.instance(new File("/usr/local/isabisac"), <br>
"Isac");<br>
      //"isabelle build -D . -bv" imports from isabisac via (2)<br>
(5) edit libisabelle/../ROOT:<br>
      session Protocol = HOL +<br>
(6) ./sbt full/assembly<br>
(7) java -cp full/target/scala-2.11/libisabelle-full.jar Hello_PIDE<br>
      java -cp full/target/scala-2.11/libisabelle-full.jar Mini_Test</p>
<p>ad (3) however, as discussed in previous mails, this causes the error:</p>
<p>wneuper@wneuper-w541:~/proto4/libisabelle$ <br>
/usr/local/isabisac/bin/isabelle build -D . -bv<br>
Started at Mit Jun 24 08:30:46 CEST 2015 (polyml-5.5.2_x86-linux on <br>
wneuper-w541)<br>
ISABELLE_BUILD_OPTIONS=""</p>
<p>ML_PLATFORM="x86-linux"<br>
ML_HOME="/usr/local/isabisac/contrib/polyml-5.5.2-1/x86-linux"<br>
ML_SYSTEM="polyml-5.5.2"<br>
ML_OPTIONS="-H 500"</p>
<p>*** Duplicate session "Protocol" (line 1 of <br>
"libisabelle/src/main/isabelle/Protocol/ROOT") (line 1 of <br>
"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/ROOT")<br>
Finished at Mit Jun 24 08:30:47 CEST 2015<br>
0:00:01 elapsed time, 0:00:02 cpu time</p>
<p>Another question: How can one tell (3) about the relation to (5-6)? <br>
Wouldn't that be necessary?</p>
<p>Notes:<br>
(a) both paths in the error message are correct:<br>
"libisabelle/src/main/isabelle/Protocol/ROOT"<br>
"/home/wneuper/proto4/libisabelle/libisabelle/src/main/isabelle/Protocol/ROOT"<br>
(b) I see ISABELLE_BUILD_OPTIONS="" and continue investigations here.</p>



<a name="294644811"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20libisabelle%3A%20embedding%20on%20ML-side/near/294644811" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20libisabelle.3A.20embedding.20on.20ML-side.html#294644811">(Aug 22 2022 at 10:20)</a>:</h4>
<p>From: Lars Hupel &lt;<a href="mailto:hupel@in.tum.de">hupel@in.tum.de</a>&gt;<br>
I'm slightly confused about the current state of affairs here ... I'll<br>
try my best to answer.</p>
<blockquote>
<p>From a previous mail:</p>
</blockquote>
<blockquote>
<h1>edit xxxxx/examples/src/main/java/Hello_PIDE.java</h1>
<p>-  JSystem sys = JSystem.instance(new File("."), "Protocol");<br>
    +  JSystem sys = JSystem.instance(new File("/usr/local/Isabelle2014"), "HOL"); </p>
</blockquote>
<p>The "File" object specifies the session root directory. Everything in<br>
there will be added to the list of known sessions. Since Isabelle<br>
already knows about its bundled sessions, adding $ISABELLE_HOME again<br>
will naturally lead to duplicate sessions.</p>
<p>I take it that "/usr/local/isabisac" contains the full Isabelle<br>
distribution with added Isac? I was expecting that you would specify<br>
just the subdirectory of the Isac component.</p>
<p>Anyway, maybe using "." as path instead of $ISABELLE_HOME works.</p>
<blockquote>
<p>Why not leave (PS(4))</p>
<p>JSystem.instance(new File("."), "Protocol");</p>
<p>as it was originally and import from isabisac this way (PS(2,3))</p>
<p>theory Protocol<br>
   imports Codec "~~/src/Tools/isac/Frontend/Frontend"</p>
<p>???</p>
</blockquote>
<p>It is a bit odd since you're including a "user-space" theory in a<br>
"system-space" theory, but since all theories in an image are "equal"<br>
regardless of their provenance, but conceptually, I don't see why this<br>
shouldn't work.</p>
<p>Cheers<br>
Lars</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>