<html>
<head><meta charset="utf-8"><title>[isabelle] map, difference, image, etc. · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20map.2C.20difference.2C.20image.2C.20etc.2E.html">[isabelle] map, difference, image, etc.</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294276713"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20map%2C%20difference%2C%20image%2C%20etc./near/294276713" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20map.2C.20difference.2C.20image.2C.20etc.2E.html#294276713">(Aug 19 2022 at 14:23)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:johnwickerson@cantab.net">johnwickerson@cantab.net</a>&gt;<br>
Hi,</p>
<p>I recently improved my life quite a lot by assigning an infix operator symbol to the ‘map’ function. Expressions like “map (f x) (g y)” could become expressions like “f x <code> g y” -- much more readable without all those parentheses. As you can see, I chose (</code>) as my infix operator. </p>
<p>But it got me thinking: why can’t I just use (`) instead? That is, the same symbol as is used for the image of a set. “Map” and “image” are pretty similar functions, after all:</p>
<p>map : (‘a =&gt; ‘b) =&gt; ‘a list =&gt; ‘b list<br>
image: (‘a =&gt; ‘b) =&gt; ‘a set =&gt; ‘b set</p>
<p>There’s no problem with (+) being polymorphic over any sort of number, so why can’t (`) be polymorphic over any sort of “collection”? And while we’re at it, we could make the set-minus operator (-) polymorphic too, so that when X and Y are of type “list”, then “X-Y” is the list obtained by removing from X all elements in Y.</p>
<p>Would that work?</p>
<p>Thanks,<br>
John</p>



<a name="294276724"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20map%2C%20difference%2C%20image%2C%20etc./near/294276724" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20map.2C.20difference.2C.20image.2C.20etc.2E.html#294276724">(Aug 19 2022 at 14:23)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
Hi John,</p>
<p>the type classes of Isabelle are restricted to a single type parameter <br>
and do not support constructor classes (i.e., type classes of higher kind).</p>
<p>The latter restriction is the reason why your proposal cannot be <br>
implemented using Isabelle's type classes.</p>
<p>If it is just about syntax, adhoc overloading would work. However, this <br>
can lead to many situations where explicit type constraints have to be <br>
added in order to avoid ambiguity. So I wouldn't go for that.</p>
<p>cheers</p>
<p>chris</p>



<a name="294277620"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20map%2C%20difference%2C%20image%2C%20etc./near/294277620" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20map.2C.20difference.2C.20image.2C.20etc.2E.html#294277620">(Aug 19 2022 at 14:28)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Just a side-remark: Scala has this insanely complex type-system that can <br>
do everything, if you know how it works. There are probably only a handful <br>
of people who do.  E.g. see the discussion about "map" in the Scala <br>
library <br>
<a href="http://stackoverflow.com/questions/1722726/is-the-scala-2-8-collections-library-a-case-of-the-longest-suicide-note-in-hist">http://stackoverflow.com/questions/1722726/is-the-scala-2-8-collections-library-a-case-of-the-longest-suicide-note-in-hist</a></p>
<p>The type-system of HOL is much less exciting, just a reduced version of <br>
the ML type-system, with the addition of plain-old type classes from <br>
original Haskell, before that became very complex in other ways.</p>
<p>Recently, I am often glad about that refreshing simplicity of both HOL and <br>
ML.  As can be seen on the isabelle-dev thread "Unresponsive <br>
Isabelle/jEdit" <br>
<a href="http://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg05115.html">http://www.mail-archive.com/isabelle-dev@mailbroy.informatik.tu-muenchen.de/msg05115.html</a> <br>
the extremely compact Scala notation can lead to bad surprises, when <br>
unintended combinators are added by the compiler, and the critical <br>
difference is hardly seen in the source text.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>