<html>
<head><meta charset="utf-8"><title>[isabelle] more beginner questions · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html">[isabelle] more beginner questions</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294051856"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051856" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051856">(Aug 18 2022 at 10:50)</a>:</h4>
<p>From: Tim Newsham &lt;<a href="mailto:newsham@lava.net">newsham@lava.net</a>&gt;<br>
1) Is there a datatype for characters in isabelle?  I would like<br>
    to prove stuff about a real world grammar for a language of<br>
    characters.</p>
<p>2) This is really basic but giving me a headache.  How can I make<br>
    an optional tuple?  I tried "('a, 'a) option"  but that didnt seem<br>
    to work properly.</p>
<p>3) Do any isabelle users hang out on some real-time chat network where<br>
    a beginner like me could pester them?  For example <a href="http://irc.freenode.net">irc.freenode.net</a><br>
    #isabelle would be nice.  <em>hint</em> <em>hint</em><br>
    I'm there, but I'm afraid I'm in no position to answer questions :)</p>
<p>thanks in advance.</p>
<p>Tim Newsham<br>
<a href="http://www.thenewsh.com/~newsham/">http://www.thenewsh.com/~newsham/</a></p>



<a name="294051873"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051873" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051873">(Aug 18 2022 at 10:50)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;</p>
<blockquote>
<p>1) Is there a datatype for characters in isabelle?  I would like<br>
   to prove stuff about a real world grammar for a language of<br>
   characters.</p>
</blockquote>
<p>Yes, char, in List.</p>
<blockquote>
<p>2) This is really basic but giving me a headache.  How can I make<br>
   an optional tuple?  I tried "('a, 'a) option"  but that didnt seem<br>
   to work properly.</p>
</blockquote>
<p>You are using Haskell syntax. Try "('a * 'a) option".</p>
<p>Tobias</p>



<a name="294051908"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051908" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051908">(Aug 18 2022 at 10:50)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:christian.sternagel@uibk.ac.at">christian.sternagel@uibk.ac.at</a>&gt;<br>
On Mon, Sep 24, 2007 at 05:33:51PM -1000, Tim Newsham wrote:</p>
<blockquote>
<p>1) Is there a datatype for characters in isabelle?  I would like<br>
   to prove stuff about a real world grammar for a language of<br>
   characters.<br>
Yes there is (it is called char). To use them you<br>
have to include letters in double single quotes.<br>
E.g., the character A would be written as ''A''</p>
<p>2) This is really basic but giving me a headache.  How can I make<br>
   an optional tuple?  I tried "('a, 'a) option"  but that didnt seem<br>
   to work properly.<br>
The syntax would be</p>
</blockquote>
<p>datatype 'a option = None | Some 'a</p>
<p>But this type is already predefined... so just use the construcotrs<br>
None and Some (taking one argument).</p>
<blockquote>
<p>3) Do any isabelle users hang out on some real-time chat network where<br>
   a beginner like me could pester them?  For example <a href="http://irc.freenode.net">irc.freenode.net</a><br>
   #isabelle would be nice.  <em>hint</em> <em>hint</em><br>
   I'm there, but I'm afraid I'm in no position to answer questions :)<br>
I do not know about that.</p>
<p>thanks in advance.</p>
<p>Tim Newsham<br>
<a href="http://www.thenewsh.com/~newsham/">http://www.thenewsh.com/~newsham/</a></p>
<p>cheers</p>
</blockquote>
<p>christian</p>



<a name="294051922"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051922" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051922">(Aug 18 2022 at 10:50)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
On Tuesday 25 September 2007 05:33, Tim Newsham wrote:</p>
<blockquote>
<p>1) Is there a datatype for characters in isabelle?  I would like<br>
    to prove stuff about a real world grammar for a language of<br>
    characters.</p>
<p>Yes.  I'm not sure how you enter a single character, but you have<br>
"''A'' :: char list" for example, and also <br>
 "''ABC'' :: char list" (ie two single forward quotes before and after).<br>
Defined in src/HOL/List.thy</p>
</blockquote>
<blockquote>
<p>2) This is really basic but giving me a headache.  How can I make<br>
    an optional tuple?  I tried "('a, 'a) option"  but that didnt seem<br>
    to work properly.</p>
</blockquote>
<p>Your  "('a, 'a)" is Haskell-style for expressing a tuple type.<br>
Isabelle-style (and ML style) is ('a * 'a)<br>
Thus eg <br>
 "Some (1, a) :: (nat * 'a) option"<br>
Note the lower cases in Some and None.<br>
Defined in src/HOL/Datatype.thy</p>
<blockquote>
<p>Jeremy</p>
</blockquote>
<blockquote>
<p>thanks in advance.</p>
<p>Tim Newsham<br>
<a href="http://www.thenewsh.com/~newsham/">http://www.thenewsh.com/~newsham/</a></p>
</blockquote>



<a name="294051944"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051944" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051944">(Aug 18 2022 at 10:50)</a>:</h4>
<p>From: Paul Graunke &lt;<a href="mailto:paul.graunke@galois.com">paul.graunke@galois.com</a>&gt;<br>
On Sep 24, 2007, at 8:33 PM, Tim Newsham wrote:</p>
<blockquote>
<p>1) Is there a datatype for characters in isabelle?  I would like<br>
   to prove stuff about a real world grammar for a language of<br>
   characters.<br>
I think it is called "char".  At one point the fully qualified name  <br>
was "List.char".</p>
</blockquote>
<blockquote>
<p>2) This is really basic but giving me a headache.  How can I make<br>
   an optional tuple?  I tried "('a, 'a) option"  but that didnt seem<br>
   to work properly.</p>
</blockquote>
<p>Try "('a * 'a) option" or "('a \&lt;times&gt; 'a) option".</p>
<p>Regards,</p>
<p>Paul</p>



<a name="294051958"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051958" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051958">(Aug 18 2022 at 10:51)</a>:</h4>
<p>From: Tim Newsham &lt;<a href="mailto:newsham@lava.net">newsham@lava.net</a>&gt;<br>
Thanks for the many answers.  I wasn't properly using (a * b) for<br>
tuple types, and I overlooked the "char" definition in List.</p>
<p>I've made a bit more progress and am again stuck.  I made<br>
a definition for a character parser and a property for when<br>
a parser accepts a string and I want to prove that the character<br>
parser only accepts strings that are made up of that one<br>
particular character (excuse the extra parens, I'm playing it<br>
safe until I'm more comfortable with Isabelle):</p>
<p>lemma "(accepts (pcar ch) s) =&gt; (s = (ch # []))"<br>
apply(case_tac s)<br>
apply(simp add:pchar_def)<br>
apply(simp add:pchar_def)</p>
<p>at this point I feel like I want to use split_if, but<br>
apply(split split_if) fails.  I'm not sure if my definition for<br>
onlyCh is acceptable, but I was able to dispatch part of the<br>
proof so perhaps it is.  Is my problem due to any of my definitions<br>
being unsuitable or is there a simple way to continue the current<br>
proof?   The last goal was:</p>
<p>!! a list .<br>
     [| case if a = ch then Some (list, a) else None of None =&gt; False<br>
         | Some (resid, result) =&gt; null resid;<br>
         s = a # list |]<br>
     ==&gt; a = ch /\ list = []</p>
<p>The full body of my thy file is:<br>
------- gram.thy -----<br>
theory Gram<br>
imports Main<br>
begin</p>
<p>(* monadic parser (a la parsec) for character strings *)<br>
datatype 'a parser = Parser "char list \&lt;Rightarrow&gt; (char list * 'a) <br>
option"</p>
<p>(*<br>
    An input string is fully consumed and accepted by a parser.<br>
    Only if it parses successfully and it consumes the full input.<br>
*)<br>
consts accepts :: "'a parser \&lt;Rightarrow&gt; char list \&lt;Rightarrow&gt; bool"<br>
primrec "accepts (Parser p) cs = (case p cs of<br>
    None \&lt;Rightarrow&gt; False<br>
    | Some (resid, result) \&lt;Rightarrow&gt; null resid)"</p>
<p>(* a parser for an arbitrary character *)<br>
consts onlyCh :: "char \&lt;Rightarrow&gt; char list \&lt;Rightarrow&gt; (char list * <br>
char) option"<br>
primrec "onlyCh ch [] = None"<br>
         "onlyCh ch (x # xs) = (if (x = ch) then (Some (xs, x))<br>
                                             else None)"<br>
constdefs<br>
   pchar :: "char \&lt;Rightarrow&gt; char parser"<br>
   "pchar == %ch . (Parser (onlyCh ch))"</p>
<p>(* character parser only accepts the single character *)<br>
lemma "(accepts (pchar ch) s) \&lt;Longrightarrow&gt; (s = (ch # []))"<br>
apply(case_tac s)<br>
apply(simp add:pchar_def)<br>
apply(simp add:pchar_def)<br>
apply(split split_if)<br>
---- end gram.thy ----</p>
<p>Tim Newsham<br>
<a href="http://www.thenewsh.com/~newsham/">http://www.thenewsh.com/~newsham/</a></p>



<a name="294051970"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20more%20beginner%20questions/near/294051970" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20more.20beginner.20questions.html#294051970">(Aug 18 2022 at 10:51)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
If-then-else and other case-combinators each have two separate split rules: <br>
One is for use in the conclusion of a subgoal, and the other is for use with <br>
the assumptions. For if-then-else, the two split rules are called "split_if" <br>
and "split_if_asm".</p>
<p>Since your subgoal has an if-then-else in the assumptions, you should use:<br>
apply (split split_if_asm)</p>
<p>The split rules for case expressions have a standard naming scheme based on <br>
the name of the datatype: For type nat they are "nat.split" <br>
and "nat.split_asm"; "nat.splits" refers to both. Rules for other datatypes <br>
are similarly named.</p>
<ul>
<li>Brian</li>
</ul>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>