<html>
<head><meta charset="utf-8"><title>[isabelle] one function for two datatypes · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20one.20function.20for.20two.20datatypes.html">[isabelle] one function for two datatypes</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294246030"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20one%20function%20for%20two%20datatypes/near/294246030" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20one.20function.20for.20two.20datatypes.html#294246030">(Aug 19 2022 at 11:35)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:eberlm@in.tum.de">eberlm@in.tum.de</a>&gt;<br>
Hallo,</p>
<p>this is analogous to the approach taken in functional languages such as<br>
Haskell: you can define a type class (e.g. "getval") that defines a<br>
getval function of the appropriate type and then declare type class<br>
instances for your two datatypes. This way, you get something akin to<br>
overloading in Java. But let us not talk about the Java type system.</p>
<p>If you don't know how to do use type classes in Isabelle, you can find<br>
lots of examples in the Isabelle theory library; off the top of my head,<br>
I vaguely remember something like this being done for a function<br>
extracting variables from boolean and arithmetic expressions in IMP,<br>
that could serve as an example.</p>
<p>Of course, there is also the type class tutorial by Florian Haftmann:<br>
<a href="http://isabelle.in.tum.de/dist/Isabelle2013/doc/classes.pdf">http://isabelle.in.tum.de/dist/Isabelle2013/doc/classes.pdf</a></p>
<p>Regarding the second question, I'm not entirely sure if I understood<br>
that correctly, but if I have, the only way to do this that I can think<br>
of is also by incorporating a function that does this into the type<br>
class and then writing appropriate instances for your datatypes.</p>
<p>Cheers,<br>
Manuel</p>



<a name="294247537"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20one%20function%20for%20two%20datatypes/near/294247537" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20one.20function.20for.20two.20datatypes.html#294247537">(Aug 19 2022 at 11:44)</a>:</h4>
<p>From: Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt;<br>
Hi all,</p>
<p>Let's say I have two datatypes:</p>
<p>datatype 't t1 = C1a 't | C1b 't option</p>
<p>datatype 't t2 = C2a 't | C2b 't option</p>
<p>Then let's say that for a common 'y type, I have two elements e1 of type 'y t1  and e2 of type 'y t2.</p>
<p>let us finally say there is a value v such that e1 = C1a v and e2 = C2a v.</p>
<p>How could I define a "getval" function such that getval e1 = getval e2 is a admissible expression ? What type would it have ? It sounds like Java overloading, but I do not reckon there is such a thing in Isabelle, am I wrong ?</p>
<p>Secondly, is there any way I could say that some element e, which type could be either t1 or t2, is such that getval e = Some v, without having to say wether C1b or C2b was used to define it ?</p>
<p>Thanks in advance !<br>
H.</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>