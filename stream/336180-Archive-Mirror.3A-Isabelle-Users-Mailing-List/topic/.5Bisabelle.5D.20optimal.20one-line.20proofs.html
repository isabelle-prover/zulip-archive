<html>
<head><meta charset="utf-8"><title>[isabelle] optimal one-line proofs · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20optimal.20one-line.20proofs.html">[isabelle] optimal one-line proofs</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294824837"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20optimal%20one-line%20proofs/near/294824837" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20optimal.20one-line.20proofs.html#294824837">(Aug 23 2022 at 08:38)</a>:</h4>
<p>From: Jose Manuel Rodriguez Caballero &lt;<a href="mailto:jose.manuel.rodriguez.caballero@ut.ee">jose.manuel.rodriguez.caballero@ut.ee</a>&gt;<br>
Hi,<br>
  I was revisiting Real_Vector_Spaces.thy in Isabelle2020-RC1 and I found the following lemma:</p>
<p>lemma of_real_mult [simp]: "of_real (x * y) = of_real x * of_real y"<br>
  by (simp add: of_real_def mult.commute)</p>
<p>I do not understand why "mult.commute" is added to the simplifier.</p>
<p>Indeed, I did the following experiment in order to check whether or not "mult.commute" was essential in this proof.</p>
<p>hide_const of_real</p>
<p>hide_fact of_real_mult</p>
<p>definition of_Real :: "real ⇒ 'a::real_algebra_1"<br>
  where "of_Real r = scaleR r 1"</p>
<p>lemma of_Real_mult [simp]: "of_Real (x * y) = of_Real x * of_Real y"<br>
  by (simp add: of_Real_def)</p>
<p>If this is the case, could it be possible to automatically check proof-by-proof (in all the libraries of Isabelle/HOL using sledgehammer) if all the one-line proofs are optimal, i.e., there are not unnecessary assumptions?</p>
<p>Kind regards,<br>
José M.</p>



<a name="294824842"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20optimal%20one-line%20proofs/near/294824842" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20optimal.20one-line.20proofs.html#294824842">(Aug 23 2022 at 08:38)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
Without any doubt, there must be numerous proofs can be simplified in this way.</p>
<p>Much more useful however would be to identify theorems that include unnecessary preconditions or where the type class constraints are needlessly strong. I’m not aware of any practical way of doing this.</p>
<p>Thanks for pointing out this example!</p>
<p>Larry</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>