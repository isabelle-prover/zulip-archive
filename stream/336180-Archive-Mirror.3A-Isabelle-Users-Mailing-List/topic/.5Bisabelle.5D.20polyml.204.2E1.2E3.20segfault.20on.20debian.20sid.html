<html>
<head><meta charset="utf-8"><title>[isabelle] polyml 4.1.3 segfault on debian sid · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html">[isabelle] polyml 4.1.3 segfault on debian sid</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293896298"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896298" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896298">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: C G &lt;<a href="mailto:catgame@gmail.com">catgame@gmail.com</a>&gt;<br>
On 8/14/05, George Karabotsos &lt;<a href="mailto:g_karab@cs.concordia.ca">g_karab@cs.concordia.ca</a>&gt; wrote:</p>
<blockquote>
<p>I believe this is related to the kernel version of your Debian<br>
installation.</p>
</blockquote>
<p>I'm using</p>
<p>/usr/local/polyml-devel-2005.08.15/driver $ uname -a<br>
Linux trtr 2.6.12-1-686 #1 Tue Aug 9 13:00:08 UTC 2005 i686 GNU/Linux</p>
<blockquote>
<p>Check this older thread for additional information:<br>
*http://tinyurl.com/7dt4t</p>
</blockquote>
<p>Thank you nonetheless!</p>
<p>BTW, I followed the instructions at</p>
<p><a href="http://www.polyml.org/linuxsegfault.html">http://www.polyml.org/linuxsegfault.html</a></p>
<p>But it does not help either. I tried a little to build a new ML_dbase<br>
of polyml. But figured I do not have that much time. A lot to learn<br>
right now. :) I'd rather wait for an official fix. :)</p>
<p>Thanks to all you guys!</p>



<a name="293896299"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896299" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896299">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: C G &lt;<a href="mailto:catgame@gmail.com">catgame@gmail.com</a>&gt;<br>
I got the following with Isabelle 2004 &amp; polyml 4.1.3<br>
on Debian GNU/Linux sid</p>
<p>/usr/local/polyml-4.1.3/x86-linux $ ./poly<br>
Poly/ML RTS version I386-4.1.3 (13:57:33 Sep 30 2002)<br>
Copyright (c) 2002 CUTS and contributors.<br>
Running with heap parameters (h=10240K,ib=2048K,ip=100%,mb=6144K,mp=20%)<br>
段错误 (core dumped)</p>
<p>Please help! Thank you!</p>



<a name="293896315"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896315" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896315">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: C G &lt;<a href="mailto:catgame@gmail.com">catgame@gmail.com</a>&gt;<br>
Still no luck.</p>
<p>---------------------8&lt;-------------------------<br>
/usr/local/Isabelle2004 $ ./build</p>
<p><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong>****</p>
<p>* Welcome to Isabelle build *
                <strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong>****</p>
<p>Please check /usr/local/Isabelle2004/etc/settings<br>
to make sure that Isabelle's ML system settings and compilation options<br>
are appropriate.</p>
<p>The current values are:</p>
<p>ML_SYSTEM=smlnj-110<br>
  ML_HOME=/usr/lib/smlnj/bin<br>
  ML_OPTIONS=@SMLdebug=/dev/null<br>
  ML_PLATFORM=x86-linux</p>
<p>ISABELLE_USEDIR_OPTIONS=-v true</p>
<p>Press RETURN to compilation of</p>
<p>HOL</p>
<p>Started at 二  8月 16 10:16:13 CST 2005 (smlnj-110_x86-linux on trtr)<br>
make[1]: Entering directory <code>/usr/local/Isabelle2004/src/Pure'
Building Pure ...
Finished Pure (0:00:01 elapsed time)
make[1]: Leaving directory </code>/usr/local/Isabelle2004/src/Pure'<br>
make: *** 没有规则可以创建"/usr/local/Isabelle2004/heaps/smlnj-110_x86-linux/HOL"需要的目标"/usr/local/Isabelle2004/heaps/smlnj-110_x86-linux/Pure"。<br>
停止。<br>
Finished at 二  8月 16 10:16:14 CST 2005<br>
0:00:01 total elapsed time<br>
----------------&gt;8----------------------</p>
<p>Then looking at the log:</p>
<p>-----------------------------8&lt;----------------------<br>
/usr/local/Isabelle2004 $ zcat heaps/smlnj-110_x86-linux/log/Pure.gz<br>
Standard ML of New Jersey v110.52 [built: Fri Jan 21 16:42:10 2005]<br>
!* unable to process <code>' (unknown extension </code>&lt;none&gt;')</p>
<ul>
<li>[autoloading]</li>
</ul>
<p>unexpected exception (bug?) in SML/NJ: Io [Io: openIn failed on<br>
"/root/SML/smlnj-110.52/sml.boot.x86-unix/basis.cm/.cm/x86-unix/basis.cm",<br>
No such file or directory]<br>
  raised at: Basis/Implementation/IO/bin-io-fn.sml:618.25-618.71<br>
             ../cm/util/safeio.sml:30.11<br>
             ../compiler/TopLevel/interact/evalloop.sml:44.55<br>
-<br>
Expected to find ML heap file<br>
/usr/local/Isabelle2004/heaps/smlnj-110_x86-linux/Pure.x86-linux<br>
--------------------------&gt;8------------------------</p>
<p>I was using smlnj package from Debian sid.</p>
<p>--------------------------8&lt;-------------------------<br>
/usr/local/Isabelle2004 $ sml<br>
Standard ML of New Jersey v110.52 [built: Fri Jan 21 16:42:10 2005]<br>
-<br>
/usr/local/Isabelle2004 $ dpkg -l|grep smlnj<br>
ii  smlnj                             110.52-1                  <br>
Standard ML of New Jersey interactive compil<br>
ii  smlnj-runtime                     110.52-1                  <br>
Standard ML of New Jersey runtime system<br>
--------------------------&gt;8---------------------------</p>
<p>The relevent part of etc/settings:</p>
<p>--------------------------8&lt;---------------------------</p>
<h1>Standard ML of New Jersey 110 or later</h1>
<p>ML_SYSTEM=smlnj-110<br>
#ML_HOME="$ISABELLE_HOME/../smlnj/bin"<br>
ML_HOME=/usr/lib/smlnj/bin<br>
ML_OPTIONS="@SMLdebug=/dev/null"<br>
ML_PLATFORM=$(eval $("$ML_HOME/.arch-n-opsys" 2&gt;/dev/null); echo "$HEAP_SUFFIX")<br>
----------------------------&gt;8--------------------------</p>
<p>Please help! Thank you!</p>



<a name="293896317"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896317" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896317">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: George Karabotsos &lt;<a href="mailto:g_karab@cs.concordia.ca">g_karab@cs.concordia.ca</a>&gt;<br>
C G wrote:</p>
<p>I believe this is related to the kernel version of your Debian<br>
installation.</p>
<p>Check this older thread for additional information:<br>
*http://tinyurl.com/7dt4t</p>
<p>*George.</p>



<a name="293896326"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896326" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896326">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: C G &lt;<a href="mailto:catgame@gmail.com">catgame@gmail.com</a>&gt;<br>
It seems that I'm running into a never ending series of troubles. When<br>
running ./config/install.sh following INSTALL of smlnj-110.55, I got</p>
<p>...<br>
 make[1]: Leaving directory <code>/usr/local/smlnj-110.55/src/runtime/gc'
(cd ../mp; make MAKE="make" clean)
make[1]: Entering directory </code>/usr/local/smlnj-110.55/src/runtime/mp'<br>
rm -f v-* *.o libmp.a<br>
make[1]: Leaving directory `/usr/local/smlnj-110.55/src/runtime/mp'<br>
/usr/local/smlnj-110.55/config/unpack: Un-GZIP-ing and un-TAR-ing<br>
bootfiles archive.<br>
./config/install.sh: CM metadata directory name is ".cm"<br>
/usr/local/smlnj-110.55/bin/.run/run.x86-linux: Fatal error --<br>
Uncaught exception SysErr with &lt;unknown&gt; raised at &lt;sysconf.c&gt;</p>
<p>./config/install.sh !!! Boot code failed, no heap image (sml.x86-linux).</p>
<p>I've reported this as a bug to smlnj people. Now I'm as far away from<br>
Isabelle as I can be. The good news is that I'm now seriously into the<br>
Isabelle camp. I mean, we really should prove that our programs work!<br>
I see opportunities!</p>
<p>Best wishes</p>



<a name="293896329"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896329" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896329">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: George Karabotsos &lt;<a href="mailto:g_karab@cs.concordia.ca">g_karab@cs.concordia.ca</a>&gt;<br>
C G wrote:</p>
<p>For what is worth, I installed smlnj-110 and use that as my ML base - it <br>
works as well and I have not seen any differences when using the polyml <br>
base at school.</p>
<p>George</p>



<a name="293896332"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896332" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896332">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: Dennis Walter &lt;<a href="mailto:dennis.walter@gmail.com">dennis.walter@gmail.com</a>&gt;<br>
I encountered similar problems with Debian Sarge, and the workaround<br>
for polyml didn't work either. What I did was make SML of New Jersey<br>
(<a href="http://www.smlnj.org">www.smlnj.org</a>) the standard ML interpreter by installing it with<br>
defaults and modifying /path/to/isabelle/etc/settings accordingly<br>
(simply comment out all polyml related options and uncomment the smlnj<br>
section). Finally, you just have to recompile the logics you are about<br>
to use (most notably, HOL), see /path/to/isabelle/INSTALL. This takes<br>
a while, but is really quite straightforward.</p>
<p>Hope this helps.<br>
Cheers,<br>
Dennis</p>



<a name="293896334"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896334" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896334">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: Lionel Elie Mamane &lt;<a href="mailto:lionel@mamane.lu">lionel@mamane.lu</a>&gt;<br>
I used this patch to driver/configure that made it work. (It also<br>
changes the installation path.)<br>
<a href="/user_uploads/14278/6kYnbqPyFh2keuRvHX1cHBzy/polyml_opt_debian.patch">polyml_opt_debian.patch</a></p>



<a name="293896338"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896338" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896338">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: Martin Ellis &lt;<a href="mailto:m.a.ellis@ncl.ac.uk">m.a.ellis@ncl.ac.uk</a>&gt;<br>
I never got that package to work with Isabelle.<br>
Instead, I'm just using the latest SML/NJ installed from sources.</p>
<p>Martin</p>



<a name="293896342"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20polyml%204.1.3%20segfault%20on%20debian%20sid/near/293896342" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20polyml.204.2E1.2E3.20segfault.20on.20debian.20sid.html#293896342">(Aug 17 2022 at 13:26)</a>:</h4>
<p>From: C G &lt;<a href="mailto:catgame@gmail.com">catgame@gmail.com</a>&gt;<br>
Thanks! It works!</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>