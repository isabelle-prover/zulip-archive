<html>
<head><meta charset="utf-8"><title>[isabelle] primrec or fun · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html">[isabelle] primrec or fun</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294674402"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674402" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674402">(Aug 22 2022 at 13:20)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
In<br>
<a href="http://stackoverflow.com/questions/30419419/what-is-the-difference-between-primrec-and-fun-in-isabelle-hol">http://stackoverflow.com/questions/30419419/what-is-the-difference-between-primrec-and-fun-in-isabelle-hol</a><br>
the general advice seems to be:</p>
<p>However when I see examples anywhere I see mostly primrec and not fun<br>
Also I remember seeing somewhere that primrec is preferable since functions<br>
in Isabelle  must be terminating and with fun that proof obligation needs<br>
to be separately dealt with</p>
<p>Thanks<br>
Rusi</p>



<a name="294674415"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674415" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674415">(Aug 22 2022 at 13:20)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Dear Rusi,</p>
<p>Am Mittwoch, den 11.05.2016, 16:18 +0530 schrieb Rustom Mody:</p>
<blockquote>
<p>In<br>
<a href="http://stackoverflow.com/questions/30419419/what-is-the-difference-between-primrec-and-fun-in-isabelle-hol">http://stackoverflow.com/questions/30419419/what-is-the-difference-between-primrec-and-fun-in-isabelle-hol</a><br>
the general advice seems to be:</p>
<blockquote>
<p>*From a practitioner’s point of view, primrec is a lower-level tool that<br>
you usually do not need to worry about, and simply always use fun.*<br>
</p>
</blockquote>
<p>However when I see examples anywhere I see mostly primrec and not fun</p>
</blockquote>
<p>I’m not sure about the history of primrec and fun, but some of the<br>
examples might be from times when fun was not around, or not as good as<br>
it is now. Also, some tutorials/classes/courses might deliberately use<br>
primrec to force the student to be aware of the differences between<br>
primitive recursion and general recursion.</p>
<blockquote>
<p>Also I remember seeing somewhere that primrec is preferable since functions<br>
in Isabelle  must be terminating and with fun that proof obligation needs<br>
to be separately dealt with</p>
</blockquote>
<p>"fun" always proves termination (or gives up). If it cannot, you have<br>
to use "function" and prove termination yourself.</p>
<p>There are only a few (obscure?) cases where fun cannot do what primrec<br>
can, as Andreas writes on SO: When a data type does not have a size<br>
function.</p>
<p>Greetings,<br>
Joachim</p>
<p>Dipl.-Math. Dipl.-Inform. Joachim Breitner<br>
Wissenschaftlicher Mitarbeiter<br>
<a href="http://pp.ipd.kit.edu/~breitner">http://pp.ipd.kit.edu/~breitner</a><br>
<a href="/user_uploads/14278/AJG7ejmSHacHU6oS6JJatZVm/signature.asc">signature.asc</a></p>



<a name="294674448"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674448" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674448">(Aug 22 2022 at 13:20)</a>:</h4>
<p>From: Rustom Mody &lt;<a href="mailto:rustompmody@gmail.com">rustompmody@gmail.com</a>&gt;<br>
Ok if you say so :-)<br>
However <a href="http://isabelle.in.tum.de/doc/tutorial.pdf">http://isabelle.in.tum.de/doc/tutorial.pdf</a> is from 2016 and still<br>
heavily uses primrec?</p>
<p>[Sorry for being obtuse -- just finding it hard to find my way around]</p>



<a name="294674467"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674467" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674467">(Aug 22 2022 at 13:20)</a>:</h4>
<p>From: Gergely Buday &lt;<a href="mailto:gbuday@karolyrobert.hu">gbuday@karolyrobert.hu</a>&gt;<br>
Hi,</p>
<p>the tutorial is originally from 2001 so might use idioms not up to date now.</p>
<ul>
<li>Gergely</li>
</ul>



<a name="294674482"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674482" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674482">(Aug 22 2022 at 13:20)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
This tutorial was written in 2000, before fun. It doesn't reflect Isabelle 2016 <br>
at all anymore, it was merely kept alive because it contains interesting <br>
examples. It will not be distributed as part of the Isabelle documentation in <br>
the future.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/S1yzBGzsJFMPg9wwyDeL_wKu/smime.p7s">smime.p7s</a></p>



<a name="294674506"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674506" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674506">(Aug 22 2022 at 13:21)</a>:</h4>
<p>From: Manuel Eberl &lt;<a href="mailto:eberlm@in.tum.de">eberlm@in.tum.de</a>&gt;<br>
One of the advantages of primrec is that fun generates a number of <br>
auxiliary definitions and facts that you may not need for simple <br>
recursion patterns like the ones supported by primrec, so primrec is <br>
more ‘light-weight’ and may be faster.</p>
<p>I therefore tend to use primrec whenever it is possible and I don't need <br>
the facts generated by fun.</p>
<p>Manuel</p>



<a name="294674539"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674539" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674539">(Aug 22 2022 at 13:21)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
That difference is indeed significant for more than theoretical reasons.</p>
<p>Your ultimate aim is not to specify something but to actually prove<br>
properties about it.  Specifications mechanisms indicate what proof<br>
principle is likely most suitable to derive fundamental properties:</p>
<p>definition -&gt; unfolding<br>
    inductive -&gt; induction using specific induct rule<br>
    function -&gt; induction using specific induct rule<br>
    primrec -&gt; structural induction over a datatype</p>
<p>Hence primrec can be seen as a codified comment in that respect.</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/fCa9JiClU0nUlw5jqR92V-YI/signature.asc">signature.asc</a></p>



<a name="294674552"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20primrec%20or%20fun/near/294674552" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20primrec.20or.20fun.html#294674552">(Aug 22 2022 at 13:21)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@inria.fr">jasmin.blanchette@inria.fr</a>&gt;<br>
Joachim wrote:</p>
<p>There's also the case of mutual recursion on mutually defined datatypes, where I've seen some "fun" failures.</p>
<p>"primrec" is more lightweight, so if you develop large theories it might help make Isabelle take fewer resources. <em>Might</em> because I'm not aware of any actual measurements.</p>
<p>Jasmin</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>