<html>
<head><meta charset="utf-8"><title>[isabelle] real_vector · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html">[isabelle] real_vector</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294133027"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133027" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133027">(Aug 18 2022 at 17:24)</a>:</h4>
<p>From: Steve W &lt;<a href="mailto:s.wong.731@gmail.com">s.wong.731@gmail.com</a>&gt;<br>
Hi,</p>
<p>I'm looking at how "real_vector" is used as a type and am somewhat confused<br>
by examples like:</p>
<p>definition<br>
  convex :: "'a::real_vector set \&lt;Rightarrow&gt; bool" ...</p>
<p>in HOL/Library/Convex.thy. How come "convex" is declared wrt the type<br>
variable "'a" rather than "real_vector" directly, i.e.</p>
<p>convex :: "real_vector set..."</p>
<p>Thank you for any help.</p>
<p>Steve</p>



<a name="294133036"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133036" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133036">(Aug 18 2022 at 17:24)</a>:</h4>
<p>From: Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;<br>
real_vector is a type class, i.e. there are different types implementing<br>
a real_vector. For example real, complex, real^'n, (real * real) are all<br>
real vectors.</p>
<p>So "'a :: real_vector set" is a set of type 'a where 'a forms a real<br>
vector space. Hence convex is defined for real, real^'n, real * real,<br>
etc. </p>
<p>Hope this helps,<br>
  Johannes</p>



<a name="294133077"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133077" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133077">(Aug 18 2022 at 17:25)</a>:</h4>
<p>From: Steve W &lt;<a href="mailto:s.wong.731@gmail.com">s.wong.731@gmail.com</a>&gt;<br>
2011/3/22 Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;</p>
<blockquote>
<p>real_vector is a type class, i.e. there are different types implementing<br>
a real_vector. For example real, complex, real^'n, (real * real) are all<br>
real vectors.</p>
<p>So "'a :: real_vector set" is a set of type 'a where 'a forms a real<br>
vector space. Hence convex is defined for real, real^'n, real * real,<br>
etc.<br>
</p>
</blockquote>
<p>I see. So if I'd like, say, a const v to be a real vector of reals, how do I<br>
go about that? 'consts v :: "real real_vector"' doesn't seem to be right.</p>
<p>Thanks<br>
Steve</p>
<blockquote>
<p>Hope this helps,<br>
 Johannes</p>
<p>Am Dienstag, den 22.03.2011, 16:54 +0000 schrieb Steve W:</p>
<blockquote>
<p>Hi,</p>
<p>I'm looking at how "real_vector" is used as a type and am somewhat<br>
confused<br>
by examples like:</p>
<p>definition<br>
  convex :: "'a::real_vector set \&lt;Rightarrow&gt; bool" ...</p>
<p>in HOL/Library/Convex.thy. How come "convex" is declared wrt the type<br>
variable "'a" rather than "real_vector" directly, i.e.</p>
<p>convex :: "real_vector set..."</p>
<p>Thank you for any help.</p>
<p>Steve</p>
</blockquote>
</blockquote>



<a name="294133095"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133095" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133095">(Aug 18 2022 at 17:25)</a>:</h4>
<p>From: Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;<br>
I'm not sure what you mean.</p>
<p>1) The types in the type class real_vector only contain vectors of<br>
   reals. So it is not necessary to specify this explicitly.</p>
<p>it is enough to say:</p>
<p>consts v :: "'a real_vector"</p>
<p>This is a constant of a arbitrary type forming a real vector space.</p>
<p>For example you can now write:</p>
<p>"v + sin 1"</p>
<p>in this case 'v' will be of type real.</p>
<p>Or you write</p>
<p>"case v of (a, b) =&gt; ..."</p>
<p>in this case it will be (real * real). </p>
<p>2) To have a vector of a specific size, you need to encode this in the<br>
type. For example the HOL-Multivariate_Analysis image contains the<br>
cartesian products:</p>
<p>real ^ 'n</p>
<p>Here 'n encodes the size as a type. (This is a restriction, but often<br>
one can work around it)</p>
<ul>
<li>Johannes</li>
</ul>



<a name="294133107"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133107" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133107">(Aug 18 2022 at 17:25)</a>:</h4>
<p>From: Brian Huffman &lt;<a href="mailto:brianh@cs.pdx.edu">brianh@cs.pdx.edu</a>&gt;<br>
2011/3/22 Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;:</p>
<blockquote>
<p>Am Dienstag, den 22.03.2011, 17:37 +0000 schrieb Steve W:</p>
<blockquote>
<p>2011/3/22 Johannes Hölzl &lt;<a href="mailto:hoelzl@in.tum.de">hoelzl@in.tum.de</a>&gt;</p>
<blockquote>
<p>real_vector is a type class, i.e. there are different types implementing<br>
a real_vector. For example real, complex, real^'n, (real * real) are all<br>
real vectors.</p>
<p>So "'a :: real_vector set" is a set of type 'a where 'a forms a real<br>
vector space. Hence convex is defined for real, real^'n, real * real,<br>
etc.<br>
</p>
</blockquote>
<p>I see. So if I'd like, say, a const v to be a real vector of reals, how do I<br>
go about that? 'consts v :: "real real_vector"' doesn't seem to be right.</p>
</blockquote>
<p>I'm not sure what you mean.</p>
<p>1) The types in the type class real_vector only contain vectors of<br>
  reals. So it is not necessary to specify this explicitly.</p>
</blockquote>
<p>Just to be clear: class "real_vector" includes finite-dimensional real<br>
vector spaces like "real * real" and "real ^ 'n", but it doesn't rule<br>
out the possibility of infinite-dimensional spaces (although I don't<br>
think there are any examples of such in the libraries yet).</p>
<p>If you want to define operations on or prove lemmas about arbitrary<br>
<em>finite</em>-dimensional spaces, you can use the class "euclidean_space",<br>
which is defined in the Multivariate_Analysis theories. I think this<br>
might correspond more closely to what you mean by a "vector of reals".</p>
<blockquote>
<p>it is enough to say:</p>
<p>consts v :: "'a real_vector"</p>
<p>This is a constant of a arbitrary type forming a real vector space.</p>
</blockquote>
<p>Actually, this contains a typo; it should be</p>
<p>consts v :: "'a::real_vector"</p>
<p>with a double-colon between the type variable and the class name.<br>
Without the double-colon, Isabelle will think that "real_vector" is<br>
supposed to be a type constructor, which it is not.</p>
<p>I think some of the confusion might come from the somewhat unusual<br>
parsing rules for type application vs. sort annotations. The infix<br>
"::" for sort annotations actually binds more tightly than type<br>
constructor application, so the type expression</p>
<p>"'a::real_vector set =&gt; bool"</p>
<p>is actually parsed as</p>
<p>"('a::real_vector) set =&gt; bool"</p>
<p>It is <em>not</em> parsed as "'a::(real_vector set) =&gt; bool", which wouldn't<br>
make sense anyway.</p>
<p>I admit this is rather confusing, especially since "::" binds quite<br>
loosely when it is used for type annotations on terms.</p>
<p>Hope this helps,</p>
<ul>
<li>Brian</li>
</ul>



<a name="294133133"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20real_vector/near/294133133" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20real_vector.html#294133133">(Aug 18 2022 at 17:25)</a>:</h4>
<p>From: Timothy McKenzie &lt;<a href="mailto:tjm1983@gmail.com">tjm1983@gmail.com</a>&gt;<br>
Do you mean this?</p>
<p>consts v :: "'a::real_vector"</p>
<p>Tim<br>
&lt;&gt;&lt;<br>
<a href="/user_uploads/14278/Q_AnIRwXOLX0qov6dkAHrvZp/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>