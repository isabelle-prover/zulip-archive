<html>
<head><meta charset="utf-8"><title>[isabelle] remdups_adj crucial lemma · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html">[isabelle] remdups_adj crucial lemma</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294290389"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290389" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290389">(Aug 19 2022 at 15:34)</a>:</h4>
<p>From: Jakob von Raumer &lt;<a href="mailto:javra@web.de">javra@web.de</a>&gt;<br>
Hello everyone,</p>
<p>am I just bad at using find_theorems or is there no lemma that remdups_adj<br>
really yields lists with no adjacent entries being equal? If it's really<br>
missing, here's my somewhat lengthy proof:<br>
<a href="https://gist.github.com/javra/68c7f852a060d7cb6036">https://gist.github.com/javra/68c7f852a060d7cb6036</a></p>
<p>Best regards<br>
Jakob</p>



<a name="294290553"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290553" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290553">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
Important lemma. I have just added a more succinct proof of it due to Manuel<br>
Eberl <a href="http://shodan.linuxd.org/paste/oyIsOBq1">http://shodan.linuxd.org/paste/oyIsOBq1</a> to List.thy.</p>
<p>Thanks to both of you!<br>
Tobias</p>



<a name="294290567"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290567" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290567">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: Jakob von Raumer &lt;<a href="mailto:javra@web.de">javra@web.de</a>&gt;<br>
Wow, thank you! I really have to learn to search for short proofs (or in<br>
this case, remember to use the right induction lemmas). Another lemma,<br>
which is useful for working not with inductively defined lists but by<br>
indexing lists is the following: Adjacencies are preserved by remdups_adj<br>
in the sense that for each index in the reduced list there's an index in<br>
the original list so that the list entries coincide at this entry and their<br>
respective successors: <a href="https://gist.github.com/javra/11b9a6770cab2e17559d">https://gist.github.com/javra/11b9a6770cab2e17559d</a><br>
(I could work on a shorter proof the next days).</p>
<p>Best regards<br>
Jakob</p>



<a name="294290585"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290585" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290585">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
Sometimes, I find working on shorter proofs a nice exercise to<br>
understand the system and for getting more out of the automation.</p>
<p>Note that the "0 &lt; length xs" assumption on your lemma is not needed (it<br>
is already implied by "j + 1 &lt; length xs").</p>



<a name="294290599"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290599" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290599">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
It seems to me that we need an abstract nonrecursive characterisation of<br>
remdups_adj from which specific lemmas follow easily. Is the following correct?</p>
<p>remdups_adj xs = ys &lt;-&gt;<br>
EX f::nat =&gt; nat. mono f &amp; f ` {0 ..&lt; size xs} = {0 ..&lt; size ys}<br>
  &amp; (ALL i &lt; size xs. xs!i = ys!(f i)<br>
       &amp; (xs!i = xs!(i+1) &lt;-&gt; f i = f(i+1)))</p>
<p>It should be sound (--&gt;), but is it complete (&lt;--)?</p>
<p>Tobias</p>



<a name="294290624"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290624" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290624">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: René Thiemann &lt;<a href="mailto:rene.thiemann@uibk.ac.at">rene.thiemann@uibk.ac.at</a>&gt;<br>
Dear all,</p>
<p>At least there needs to be one more implication added, since<br>
otherwise the reference to xs!(i+1) is critical.</p>
<p>remdups_adj xs = ys &lt;-&gt;<br>
EX f::nat =&gt; nat. mono f &amp; f ` {0 ..&lt; size xs} = {0 ..&lt; size ys}<br>
 &amp; (ALL i &lt; size xs. xs!i = ys!(f i)<br>
      &amp; (i + 1 &lt; size xs --&gt; (xs!i = xs!(i+1) &lt;-&gt; f i = f(i+1))))</p>
<p>Otherwise, it looks good (soundness and completeness can easily be proven<br>
for lists upto length 1, but the inductive case became quite tedious in my proof attempt)</p>
<p>René</p>



<a name="294290688"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290688" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290688">(Aug 19 2022 at 15:35)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
I've got a (lenghty, but otherwise straightforward) proof of<br>
completeness for the modified theorem.<br>
<a href="/user_uploads/14278/b-yxr-Gu3WXDns4jan74yclF/Scratch.thy">Scratch.thy</a></p>



<a name="294290723"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290723" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290723">(Aug 19 2022 at 15:36)</a>:</h4>
<p>From: René Thiemann &lt;<a href="mailto:rene.thiemann@uibk.ac.at">rene.thiemann@uibk.ac.at</a>&gt;<br>
And since I already proved soundness (also in a lengthy version), I copied my proof into Lars<br>
file, which now contains the equivalence proof.</p>
<p>Cheers,<br>
René<br>
<a href="/user_uploads/14278/N3dX06pOxehcGIOZBtEtHAub/Scratch.thy">Scratch.thy</a></p>



<a name="294290787"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20remdups_adj%20crucial%20lemma/near/294290787" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20remdups_adj.20crucial.20lemma.html#294290787">(Aug 19 2022 at 15:36)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
A little bit of cleanup, but no significant shortening.<br>
<a href="/user_uploads/14278/tpD_WLsN6qf3oJ6WZQp58_95/Scratch.thy">Scratch.thy</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>