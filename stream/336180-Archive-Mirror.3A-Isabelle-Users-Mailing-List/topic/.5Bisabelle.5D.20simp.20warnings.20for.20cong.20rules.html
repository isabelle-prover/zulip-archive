<html>
<head><meta charset="utf-8"><title>[isabelle] simp warnings for cong rules · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html">[isabelle] simp warnings for cong rules</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294639723"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639723" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639723">(Aug 22 2022 at 09:46)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:Gerwin.Klein@nicta.com.au">Gerwin.Klein@nicta.com.au</a>&gt;<br>
Overwriting congruence rule for “HOL.If”</p>
<p>Should these really be warning messages or should we classify them as “trace” or something similar?</p>
<p>Warnings light up fairly prominently in jedit these days, and such messages distract for warnings that you want to do something about.</p>
<p>Cheers,<br>
Gerwin</p>
<hr>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294639761"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639761" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639761">(Aug 22 2022 at 09:46)</a>:</h4>
<p>From: Christian Sternagel &lt;<a href="mailto:c.sternagel@gmail.com">c.sternagel@gmail.com</a>&gt;<br>
I agree with Gerwin that this is too much "noise".</p>
<p>On a related note: (At least for me) also warnings like</p>
<p>Rule already declared as introduction (intro)</p>
<p>for when you add an existing intro rule as safe intro, e.g.,</p>
<p>apply (auto intro!: exI)</p>
<p>are distracting, since I always have the feeling that something is not <br>
quite right with my theory file as long as there are warnings.</p>
<p>cheers</p>
<p>chris</p>



<a name="294639774"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639774" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639774">(Aug 22 2022 at 09:46)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I agree. That is not something to warn about.<br>
Larry</p>



<a name="294639785"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639785" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639785">(Aug 22 2022 at 09:46)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:Gerwin.Klein@nicta.com.au">Gerwin.Klein@nicta.com.au</a>&gt;<br>
Yes, I sometimes have a similar urge to remove warnings from my theories ;-)</p>
<p>The warning for duplicates is useful (with simp, intro, elim, etc), but we shouldn’t warn about a duplicate when it’s added under a different category (i.e. “intro!" instead of "intro").</p>
<p>It’s possible that this is motivated by implementation details somewhere, but I haven’t looked at it yet.</p>
<p>Cheers,<br>
Gerwin</p>
<hr>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294639800"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639800" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639800">(Aug 22 2022 at 09:47)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
I am tempted to remove these altogether. I had done so alread with warnings <br>
about overwriting split rules.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/DhY_PAaGP-0Wtz_I18cbX2x9/smime.p7s">smime.p7s</a></p>



<a name="294639818"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639818" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639818">(Aug 22 2022 at 09:47)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:Gerwin.Klein@nicta.com.au">Gerwin.Klein@nicta.com.au</a>&gt;<br>
I now realise what they were useful for originally: when you declare [cong] globally, to set up a library for instance, you want to be warned if a constant already has a cong rule. If you use them locally, you don’t want to know about it.</p>
<p>Probably the same for intro!/intro</p>
<p>Would probably mean passing another parameter into the implementation to distinguish the global from the local use (unless you can already tell by something else).</p>
<p>Gerwin</p>



<a name="294639831"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639831" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639831">(Aug 22 2022 at 09:47)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
The problem is that the warnings are emitted at the wrong level: Deep<br>
inside the implementation (in addsimps et al), instead at the top in the<br>
user-facing operation. When the warning is emitted e.g. by a method<br>
parser, we can also do more elaborate things (like emitting warnings per<br>
lemma connection instead of per lemma).</p>
<p>There is also the thing that "cong del" lies about its (moral)<br>
signature: it deletes not the specified congruence rule, but the<br>
congruence rule for the given constant (which is determined from the<br>
congruence rule).</p>



<a name="294639885"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639885" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639885">(Aug 22 2022 at 09:47)</a>:</h4>
<p>From: Larry Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
This behaviour is inherited from the way things were 20 years ago, when what is now deeply buried was itself the user-facing operation.<br>
Larry</p>



<a name="294639996"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294639996" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294639996">(Aug 22 2022 at 09:48)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Indeed, that was a rather different era, in the depths of time of Isabelle <br>
history.  It vaguely reminds me of the "real mode" of x86 CPUs: <br>
<a href="http://en.wikipedia.org/wiki/Real_mode">http://en.wikipedia.org/wiki/Real_mode</a></p>
<p>Today it is a bit challenging to emit warnings (or other markup) in a way <br>
that makes proper sense to the user.  Context_Position.is_visible is <br>
already well-established as a guard for most messages.  Last year I also <br>
introduced Context_Position.is_really_visible for Simplifier declarations, <br>
to reduce spurious yellow in the PIDE markup. Such things are always <br>
dangerous: there is more and more complication, and problems ultimately <br>
don't get solved.</p>
<p>Right now, I have no particular opinion in which direction to move.  If <br>
certain warnings can be removed altogether, they cannot cause further <br>
problems.</p>
<p>Makarius</p>



<a name="294640004"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294640004" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294640004">(Aug 22 2022 at 09:48)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:Gerwin.Klein@nicta.com.au">Gerwin.Klein@nicta.com.au</a>&gt;<br>
Overall, I think I’d be happy removing these specific warnings completely.</p>
<p>The cases where they are useful are rare compared to normal usage.</p>
<p>Cheers,<br>
Gerwin</p>
<hr>
<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>



<a name="294640044"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294640044" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294640044">(Aug 22 2022 at 09:48)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
It is gone now.</p>
<p>Tobias<br>
<a href="/user_uploads/14278/vRyM95CNQojMTNiheAp3dXqT/smime.p7s">smime.p7s</a></p>



<a name="294640174"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294640174" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294640174">(Aug 22 2022 at 09:49)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This is indeed a bit odd.  I will take another look after the Isabelle2015 <br>
release to see how it can be renovated.</p>
<p>Makarius</p>



<a name="294643701"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20simp%20warnings%20for%20cong%20rules/near/294643701" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20simp.20warnings.20for.20cong.20rules.html#294643701">(Aug 22 2022 at 10:13)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
That is an important observation: rules are both indexed and <em>identified</em> <br>
by the head constant here.</p>
<p>Normally the index is just a data structure to help retrieval, while the <br>
identity of rules works via Thm.eq_thm_prop.  This would allow multiple <br>
rules to be declared, and the latest addition for a particular constant is <br>
used, the are others ignored. After deletion of some rules, ignored ones <br>
might come back in front.</p>
<p>I've put this on the list of things to be reformed for a future release, <br>
unless someone points out why this odd historical behaviour has to remain <br>
like that.</p>
<p>Makarius</p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>