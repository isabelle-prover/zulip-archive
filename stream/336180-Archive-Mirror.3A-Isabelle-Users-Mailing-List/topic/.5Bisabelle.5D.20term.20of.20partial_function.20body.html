<html>
<head><meta charset="utf-8"><title>[isabelle] term of partial_function body · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20term.20of.20partial_function.20body.html">[isabelle] term of partial_function body</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294728325"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20term%20of%20partial_function%20body/near/294728325" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20term.20of.20partial_function.20body.html#294728325">(Aug 22 2022 at 16:52)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
How get can one the term of the body from a function defined as<br>
partial_function ?</p>
<p>Example: From a function definition like</p>
<blockquote>
<p>partial_function (tailrec)<br>
  solve_equation :: "bool ⇒ int ⇒ bool list "<br>
where<br>
  "solve_equation eq bdv = {eq, eq, eq}"</p>
</blockquote>
<p>we get</p>
<blockquote>
<p>val t as Const ("Scratch.solve_equation", T) = @{term solve_equation}<br>
(* T = "bool ⇒ int ⇒ bool list" *)</p>
</blockquote>
<p>while we also want</p>
<blockquote>
<p>val Const ("Set.insert", _) $ Free ("eq", _) $<br>
     (Const ("Set.insert", _) $ Free ("eq", _) $<br>
       (Const ("Set.insert", _) $ Free ("eq", _) $<br>
         Const ("<a href="http://Orderings.bot_class.bot">Orderings.bot_class.bot</a>", _))) = @{term "{eq, eq, eq}"}</p>
</blockquote>
<p>from the definition by "partial_function".</p>
<p>Thanks in advance,<br>
Walther</p>



<a name="294728348"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20term%20of%20partial_function%20body/near/294728348" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20term.20of.20partial_function.20body.html#294728348">(Aug 22 2022 at 16:52)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
\-------- Original Message --------  <br>
Subject: Re: [isabelle] term of partial_function body  <br>
From: Peter Lammich  <br>
To: Walther Neuper  <br>
CC:  </p>
<blockquote>
<p>There should be a theorem solve_equation.simps, and its rhs should be the<br>
term you are looking for.  </p>
<p>Peter</p>
<p>\-------- Original Message --------  <br>
Subject: [isabelle] term of partial_function body  <br>
From: Walther Neuper  <br>
To: <a href="mailto:cl-isabelle-users@lists.cam.ac.uk">cl-isabelle-users@lists.cam.ac.uk</a>  <br>
CC:  </p>
</blockquote>
<blockquote>
<blockquote>
<p>How get can one the term of the body from a function defined as  <br>
partial_function ?  </p>
</blockquote>
<p>Example: From a function definition like  </p>
<blockquote>
<p>partial_function (tailrec)  <br>
solve_equation :: "bool ⇒ int ⇒ bool list "  <br>
where  <br>
"solve_equation eq bdv = {eq, eq, eq}"  </p>
</blockquote>
<p>we get  </p>
<blockquote>
<p>val t as Const ("Scratch.solve_equation", T) = @{term solve_equation}  <br>
(* T = "bool ⇒ int ⇒ bool list" *)  </p>
</blockquote>
<p>while we also want  </p>
<blockquote>
<p>val Const ("Set.insert", _) $ Free ("eq", _) $  <br>
(Const ("Set.insert", _) $ Free ("eq", _) $  <br>
(Const ("Set.insert", _) $ Free ("eq", _) $  <br>
Const ("<a href="http://Orderings.bot_class.bot">Orderings.bot_class.bot</a>", _))) = @{term "{eq, eq, eq}"}  </p>
</blockquote>
<p>from the definition by "partial_function".  </p>
<p>Thanks in advance,  <br>
Walther  </p>
</blockquote>



<a name="294728359"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20term%20of%20partial_function%20body/near/294728359" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20term.20of.20partial_function.20body.html#294728359">(Aug 22 2022 at 16:52)</a>:</h4>
<p>From: Walther Neuper &lt;<a href="mailto:wneuper@ist.tugraz.at">wneuper@ist.tugraz.at</a>&gt;<br>
On 2018-03-29 21:21, Peter Lammich wrote:</p>
<blockquote>
<p>There should be a theorem solve_equation.simps, and its rhs should<br>
    be the term you are looking for.<br>
</p>
</blockquote>
<p>Ahhh, there is all we need in Isabelle/ML (while a theorem cannot be not<br>
found in Isabele/jEdit for good reasons).</p>
<p>Thanks a lot (saved much time for hacking context.ML) !</p>
<blockquote>
<p>Peter</p>
<p>Walther</p>
</blockquote>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>