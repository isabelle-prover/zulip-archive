<html>
<head><meta charset="utf-8"><title>[isabelle] thms_containing · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20thms_containing.html">[isabelle] thms_containing</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293899805"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20thms_containing/near/293899805" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20thms_containing.html#293899805">(Aug 17 2022 at 13:46)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:Jeremy.Dawson@rsise.anu.edu.au">Jeremy.Dawson@rsise.anu.edu.au</a>&gt;<br>
I've just donwloaded a new development version of Isabelle and I find<br>
that thms_containing no longer exists.</p>
<p>I've looked at the NEWS and find:</p>
<ul>
<li>Command 'thms_containing' has been discontinued in favour of<br>
'find_theorems'; INCOMPATIBILITY.</li>
</ul>
<p>The trouble is, 'find_theorems' doesn't seem to exist either.<br>
Well, actually, its features are extolled at such length that<br>
I assume it exists - but how do I use it?<br>
It's not mentioned in the reference manual (which, incidentally,<br>
still shows  thms_containing)</p>
<p>Jeremy</p>



<a name="293899811"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20thms_containing/near/293899811" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20thms_containing.html#293899811">(Aug 17 2022 at 13:46)</a>:</h4>
<p>From: Gerwin Klein &lt;<a href="mailto:gerwin.klein@nicta.com.au">gerwin.klein@nicta.com.au</a>&gt;<br>
On Wednesday 22 February 2006 10:47, Jeremy Dawson wrote:</p>
<blockquote>
<ul>
<li>Command 'thms_containing' has been discontinued in favour of<br>
'find_theorems'; INCOMPATIBILITY.</li>
</ul>
<p>The trouble is, 'find_theorems' doesn't seem to exist either.</p>
</blockquote>
<p>find_theorems is a user-level Isar command. It is explained in the Isar <br>
reference manual.</p>
<blockquote>
<p>Well, actually, its features are extolled at such length that<br>
I assume it exists - but how do I use it?</p>
</blockquote>
<p>I assume you want to use it from the ML level. You can find it in <br>
Pure/Isar/find_theorems.ML, usage corresponds closely to the Isar level <br>
description, although it is not actually thought to be used directly from <br>
the ML level (but it's possible, of course).</p>
<blockquote>
<p>It's not mentioned in the reference manual (which, incidentally,<br>
still shows  thms_containing)</p>
</blockquote>
<p>The reference manual is kept up to date for releases, it usually lags behind <br>
for the development version.</p>
<p>Cheers,<br>
Gerwin</p>



<a name="294059420"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20thms_containing/near/294059420" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20thms_containing.html#294059420">(Aug 18 2022 at 11:43)</a>:</h4>
<p>From: Jeremy Dawson &lt;<a href="mailto:jeremy@rsise.anu.edu.au">jeremy@rsise.anu.edu.au</a>&gt;<br>
This function seems to have disappeared form a very recent development <br>
version of Isabelle.  Or, rather, it seems it recently changed its name <br>
to thms_containing_consts, since I apparently changed my own code <br>
accordingly, but now it has disappeared completely.</p>
<p>What has happened to it / what other function has the same or similar <br>
functionality?</p>
<p>regards,</p>
<p>Jeremy</p>



<a name="294059434"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20thms_containing/near/294059434" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20thms_containing.html#294059434">(Aug 18 2022 at 11:43)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This ancient way of indexing facts was both very slow to build, and in <br>
fact unused in the past few years.  Facts are now stored in a plain <br>
Facts.T table; the following example shows how the 'find_theorems' command <br>
retrieves facts from the context:</p>
<p>fun all_facts_of ctxt =<br>
  maps Facts.selections<br>
   (Facts.dest (PureThy.all_facts_of (ProofContext.theory_of ctxt)) @<br>
    Facts.dest (ProofContext.facts_of ctxt));</p>
<p>The result is just a plain list, without any special indexing.</p>
<p>If you need special-purpose indexing you can use Theory.at_begin or <br>
Theory.at_end hooks to maintain a derived data structure, but this is not <br>
completely trivial.</p>
<p>Makarius</p>



<hr><p>Last updated: Feb 22 2026 at 20:30 UTC</p>
</html>