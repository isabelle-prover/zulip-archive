<html>
<head><meta charset="utf-8"><title>[isabelle] undefined &amp; None · Archive Mirror: Isabelle Users Mailing List · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/index.html">Archive Mirror: Isabelle Users Mailing List</a></h2>
<h3>Topic: <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html">[isabelle] undefined &amp; None</a></h3>

<hr>

<base href="https://isabelle.zulipchat.com/">

<head><link href="http://isabelle.systems/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294245192"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245192" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245192">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt;<br>
Hi all,</p>
<p>I try to discover where the undefined value is ... defined. I could not find any undefined_def lemma or axiom.</p>
<p>In particular, is it polymorphic ? What are its properties ? What are the mathematical foundations and consequences of how it has been defined ?</p>
<p>I also wonder why the "None" option types constructor does not point to undefined in some way or another. Furthermore, I do not understand whether None is typed of not. </p>
<p>This all sounds rather simple questions but I am a little ill at ease with using a keyword without its precise semantics in mind !</p>
<p>Thanks in advance<br>
H.</p>



<a name="294245229"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245229" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245229">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Stephan Merz &lt;<a href="mailto:Stephan.Merz@loria.fr">Stephan.Merz@loria.fr</a>&gt;<br>
Henri,</p>
<p>On Jul 13, 2013, at 11:17 PM, Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt; wrote:</p>
<blockquote>
<p>I try to discover where the undefined value is ... defined. I could not find any undefined_def lemma or axiom.</p>
<p>In particular, is it polymorphic ? What are its properties ? What are the mathematical foundations and consequences of how it has been defined ?</p>
</blockquote>
<p>grepping for undefined in src/HOL yields</p>
<p>HOL.thy:axiomatization undefined :: 'a</p>
<p>As you can see, the constant is not defined but declared as a polymorphic constant for arbitrary type. This is logically unproblematic because types in HOL must be non-empty. The value denotes some unspecified value of arbitrary type, this is sometimes useful when no particular property of the value is required.</p>
<p>Note that in theory Hilbert_Choice one could actually define</p>
<p>definition undefined where "(undefined::'a) = Some (x::'a). True"</p>
<blockquote>
<p>I also wonder why the "None" option types constructor does not point to undefined in some way or another. Furthermore, I do not understand whether None is typed of not. </p>
</blockquote>
<p>Since "undefined" is polymorphic, it exists for any option type. Defining "undefined :: 'a option" to be None would be more specific than what is required.</p>
<p>Hope this helps,</p>
<p>Stephan</p>



<a name="294245244"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245244" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245244">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt;<br>
Hi Stephan,</p>
<p>Thanks a lot for your clear answer. Just to be sure: I suppose you mean SOME ?</p>
<p>==&gt; "(undefined::'a) = SOME (x::'a). True") ?</p>
<p>H.</p>



<a name="294245256"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245256" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245256">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Stephan Merz &lt;<a href="mailto:Stephan.Merz@loria.fr">Stephan.Merz@loria.fr</a>&gt;<br>
Oops, of course! -s</p>



<a name="294245269"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245269" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245269">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
On 13.07.2013 23:17, Henri DEBRAT wrote:</p>
<blockquote>
<p>I try to discover where the undefined value is ... defined. I could not find any undefined_def lemma or axiom.</p>
<p>In particular, is it polymorphic ? What are its properties ? What are the mathematical foundations and consequences of how it has been defined ?</p>
</blockquote>
<p>You can see whether a term is polymorphic or not by simply printing it <br>
with "term" -- iff its type contains type variables, it is polymorphic <br>
(in the global context).</p>
<p>"undefined :: 'a" has exactly those properties any value of type 'a has.</p>
<blockquote>
<p>I also wonder why the "None" option types constructor does not point to undefined in some way or another. Furthermore, I do not understand whether None is typed of not.</p>
</blockquote>
<p>Every value in Isabelle has exactly one concrete type, so None is <br>
"typed". A polymorphic constant like None can be used to refer to <br>
various values, depending on its type.</p>
<p>I.e., you can have e.g. "None :: nat option" and "None :: int option"<br>
but if you write "(None :: nat option) = (None :: int option)" you get<br>
a type error.</p>
<p>-- Lars</p>



<a name="294245282"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245282" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245282">(Aug 19 2022 at 11:30)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
That would be an equivalent definition, as would be</p>
<p>"SOME x. False" or "THE x. x = x".</p>
<p>However, mind that we cannot prove "undefined :: 'a" and "SOME x :: 'a. <br>
True" to be equal (except for 'a = unit, of course).</p>
<p>-- Lars</p>



<a name="294245293"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245293" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245293">(Aug 19 2022 at 11:31)</a>:</h4>
<p>From: Lars Noschinski &lt;<a href="mailto:noschinl@in.tum.de">noschinl@in.tum.de</a>&gt;<br>
Stephan alerted me that "equivalent" is misleading here: They are <br>
"equivalent" in the sense that both can fill the same role, i.e., they <br>
represent an arbitrary value of type 'a. They are not "equivalent" in <br>
that we cannot prove any relation between "undefined :: 'a" and "SOME (x <br>
:: 'a). True.</p>
<p>-- Lars</p>



<a name="294245313"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294245313" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294245313">(Aug 19 2022 at 11:31)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:johnwickerson@cantab.net">johnwickerson@cantab.net</a>&gt;<br>
Further to Stephan's response...</p>
<p>The type of "None" is "T option", for any type T. Suppose T has elements {a,b,c,d}. Then "T option" will contain the elements {None, Some a, Some b, Some c, Some d}. "None" is just an extra element added to the type.</p>
<p>"None" is often used when defining partial functions: an input is sent to "None" when the partial function is not defined for that input. But otherwise "None" and the special "undefined" constant are completely unrelated.</p>
<p>There are other uses of "None", unrelated to definedness. For instance, None could represent an error in a calculation. A division function might return "Some 10" when asked to divide 50 by 5, and "None" when a division-by-zero is attempted. Another use is to represent natural-numbers-with-infinity. The type "nat" only includes finite numbers, but if you use "nat option" then you can use "None" to stand for infinity.</p>
<p>In short, None is just an extra element added to an existing type.</p>
<p>john</p>



<a name="294248503"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248503" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248503">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Henri Debrat &lt;<a href="mailto:henri.debrat@loria.fr">henri.debrat@loria.fr</a>&gt;<br>
Hi all,</p>
<p>Sorry if I come back to this topic quite late. Why undefined and None must be different things is still not clear to me.</p>
<p>First, taken from Stephan's answer:<br>
(1) what do you mean when saying: Defining "undefined :: 'a option" to be None would be more specific than what is required.<br>
More precisely, I do not understand why the actual definition is more general (in what meaning ?) and indeed, I do not understand what /is/ required on what purpose.</p>
<p>(2) Let's say that Isabelle do not define "undefined" thanks to the axiomatization command, but with Hilbert's Choice operator, as you suggest. Would it make no difference ? Does it mean that using a type variable already makes the Hilbert's Choice operator implicitly admitted ? Then, I suppose that such a construction is then inherently linked to classical logic (since Hilbert's Choice makes the logic classical according to Diaconescu, cf hop-logic.pdf page 8) ?</p>
<p>Then, answering to John who said: otherwise "None" and the special "undefined" constant are completely unrelated.</p>
<p>My question is: why aren't they related more closely ? It appears to me that every usage of None you describe would remain possible if None was related to undefined as in (1).</p>
<p>H.</p>
<p>Le 14 juil. 2013 à 12:18, John Wickerson &lt;<a href="mailto:johnwickerson@cantab.net">johnwickerson@cantab.net</a>&gt; a écrit :</p>
<p>Further to Stephan's response...</p>
<p>The type of "None" is "T option", for any type T. Suppose T has elements {a,b,c,d}. Then "T option" will contain the elements {None, Some a, Some b, Some c, Some d}. "None" is just an extra element added to the type.</p>
<p>"None" is often used when defining partial functions: an input is sent to "None" when the partial function is not defined for that input. But otherwise "None" and the special "undefined" constant are completely unrelated.</p>
<p>There are other uses of "None", unrelated to definedness. For instance, None could represent an error in a calculation. A division function might return "Some 10" when asked to divide 50 by 5, and "None" when a division-by-zero is attempted. Another use is to represent natural-numbers-with-infinity. The type "nat" only includes finite numbers, but if you use "nat option" then you can use "None" to stand for infinity.</p>
<p>In short, None is just an extra element added to an existing type.</p>
<p>john</p>
<p>On 14 Jul 2013, at 10:22, Stephan Merz wrote:</p>
<p>Henri,</p>
<blockquote>
<p>On Jul 13, 2013, at 11:17 PM, Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt; wrote:</p>
</blockquote>
<blockquote>
<p>I try to discover where the undefined value is ... defined. I could not find any undefined_def lemma or axiom.</p>
</blockquote>
<blockquote>
<p>In particular, is it polymorphic ? What are its properties ? What are the mathematical foundations and consequences of how it has been defined ?</p>
</blockquote>
<p>grepping for undefined in src/HOL yields</p>
<p>HOL.thy:axiomatization undefined :: 'a</p>
<p>As you can see, the constant is not defined but declared as a polymorphic constant for arbitrary type. This is logically unproblematic because types in HOL must be non-empty. The value denotes some unspecified value of arbitrary type, this is sometimes useful when no particular property of the value is required.</p>
<p>Note that in theory Hilbert_Choice one could actually define</p>
<p>definition undefined where "(undefined::'a) = Some (x::'a). True"</p>
<blockquote>
<p>I also wonder why the "None" option types constructor does not point to undefined in some way or another. Furthermore, I do not understand whether None is typed of not. </p>
</blockquote>
<p>Since "undefined" is polymorphic, it exists for any option type. Defining "undefined :: 'a option" to be None would be more specific than what is required.</p>
<p>Hope this helps,</p>
<p>Stephan</p>



<a name="294248510"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248510" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248510">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Stephan Merz &lt;<a href="mailto:stephan.merz@loria.fr">stephan.merz@loria.fr</a>&gt;<br>
Henri,</p>
<p>I'm sorry if the replies were not clear for you. Let me try again.</p>
<p>The purpose of the constant "undefined" is to have a name for an element of the underlying type for which you have no other information than just that it denotes an unspecified value of that type. Giving any definition (such as it being equal to None when we are talking about an option type or defining it using Hilbert's epsilon or a definite description) gives you more equalities for the value than you care to have.</p>
<p>Similarly, when John says undefined and None are unrelated he really meant to say that we have no way to know if there is a relationship between these values. Obviously, any usage of an unspecified value remains possible for a more specified one, but the purpose is to keep "undefined" as far apart from known values as possible.</p>
<p>Hope this will be clearer.</p>
<p>Regards,<br>
Stephan</p>



<a name="294248526"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248526" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248526">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: John Wickerson &lt;<a href="mailto:johnwickerson@cantab.net">johnwickerson@cantab.net</a>&gt;<br>
Hi Henri,</p>
<p>If I may donate a few more words to this interesting topic...</p>
<p>HOL is a logic of total functions. Whenever you have a function, say f :: nat =&gt; bool, then f corresponds to a particular function. If you say</p>
<p>definition "f :: nat =&gt; bool" where "f 5 == True" </p>
<p>then, at least in my head, f becomes a particular function, with a boolean value for every nat, but the only thing we <em>know</em> about the function is that it maps 5 to True.</p>
<p>Pushing this idea to its limits, "undefined" is a term we know <em>nothing</em> about.</p>
<p>Then "None" is a completely different kettle of fish. It's often handy to extend a set by one extra element, say to add infinity to the set of naturals, or to add a special "undefined" return value. This is done in Isabelle using the option type. "None" is the extra element you add to the set, and you prepend all the other elements in the set with the tag "Some" in order to make sure that they are all different from "None".</p>
<p>John</p>



<a name="294248543"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248543" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248543">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Henri,</p>
<p>You can use the type 'a option such that None models undefinedness, but there are other <br>
uses, too. Take, e.g., a type foo with an order &lt;=. Then, you can lift this order to "foo <br>
option" and make None the least or greatest element in "foo option". And there are <br>
hundreds of other uses of "'a option" that you could imagine. Now, for all these uses, it <br>
would be fairly unnatural to require that undefined always denotes the largest / smallest <br>
element or whatever specific element.</p>
<p>A long time ago (before Isabelle2009), "undefined" was called "arbitrary", and "arbitrary" <br>
reflected the specification of the element better: it was some element of the type. <br>
However, as definitional packages (and some users) used undefined for cases when the <br>
desired specification of a constant did not say anything, it got renamed to undefined. But <br>
logically, it still is just an arbitrary element of the type. And None would be a very <br>
special element of that type.</p>
<p>Hope this helps,<br>
Andreas</p>



<a name="294248569"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248569" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248569">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Ramana Kumar &lt;<a href="mailto:rk436@cam.ac.uk">rk436@cam.ac.uk</a>&gt;<br>
On Mon, Sep 30, 2013 at 3:39 PM, Andreas Lochbihler &lt;<br>
<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt; wrote:</p>
<blockquote>
<p>Take, e.g., a type foo with an order &lt;=. Then, you can lift this order to<br>
"foo option" and make None the least or greatest element in "foo option".<br>
And there are hundreds of other uses of "'a option" that you could imagine.<br>
Now, for all these uses, it would be fairly unnatural to require that<br>
undefined always denotes the largest / smallest element or whatever<br>
specific element.<br>
</p>
</blockquote>
<p>Indeed, it would actually be impossible to use undefined for that purpose,<br>
since undefined might not be the largest / smallest element - it might be<br>
equal to some element in the middle (but not provably so).</p>
<blockquote>
<p>On 30/09/13 16:15, Henri Debrat wrote:</p>
<blockquote>
<p>Hi all,</p>
<p>Sorry if I come back to this topic quite late. Why undefined and None<br>
must be different things is still not clear to me.</p>
<p>First, taken from Stephan's answer:<br>
(1) what do you mean when saying: Defining "undefined :: 'a option" to be<br>
None would be more specific than what is required.<br>
More precisely, I do not understand why the actual definition is more<br>
general (in what meaning ?) and indeed, I do not understand what /is/<br>
required on what purpose.</p>
<p>(2) Let's say that Isabelle do not define "undefined" thanks to the<br>
axiomatization command, but with Hilbert's Choice operator, as you suggest.<br>
Would it make no difference ? Does it mean that using a type variable<br>
already makes the Hilbert's Choice operator implicitly admitted ? Then, I<br>
suppose that such a construction is then inherently linked to classical<br>
logic (since Hilbert's Choice makes the logic classical according to<br>
Diaconescu, cf hop-logic.pdf page 8) ?</p>
<p>Then, answering to John who said: otherwise "None" and the special<br>
"undefined" constant are completely unrelated.</p>
<p>My question is: why aren't they related more closely ? It appears to me<br>
that every usage of None you describe would remain possible if None was<br>
related to undefined as in (1).</p>
<p>H.</p>
<p>Le 14 juil. 2013 à 12:18, John Wickerson &lt;<a href="mailto:johnwickerson@cantab.net">johnwickerson@cantab.net</a>&gt; a<br>
écrit :</p>
<p>Further to Stephan's response...</p>
<p>The type of "None" is "T option", for any type T. Suppose T has elements<br>
{a,b,c,d}. Then "T option" will contain the elements {None, Some a, Some b,<br>
Some c, Some d}. "None" is just an extra element added to the type.</p>
<p>"None" is often used when defining partial functions: an input is sent to<br>
"None" when the partial function is not defined for that input. But<br>
otherwise "None" and the special "undefined" constant are completely<br>
unrelated.</p>
<p>There are other uses of "None", unrelated to definedness. For instance,<br>
None could represent an error in a calculation. A division function might<br>
return "Some 10" when asked to divide 50 by 5, and "None" when a<br>
division-by-zero is attempted. Another use is to represent<br>
natural-numbers-with-infinity. The type "nat" only includes finite numbers,<br>
but if you use "nat option" then you can use "None" to stand for infinity.</p>
<p>In short, None is just an extra element added to an existing type.</p>
<p>john</p>
</blockquote>
<p>On 14 Jul 2013, at 10:22, Stephan Merz wrote:</p>
<blockquote>
<p>Henri,</p>
<p>On Jul 13, 2013, at 11:17 PM, Henri DEBRAT &lt;<a href="mailto:Henri.Debrat@loria.fr">Henri.Debrat@loria.fr</a>&gt;</p>
<blockquote>
<p>wrote:<br>
</p>
</blockquote>
<p>I try to discover where the undefined value is ... defined. I could not</p>
<blockquote>
<p>find any undefined_def lemma or axiom.<br>
</p>
</blockquote>
<p>In particular, is it polymorphic ? What are its properties ? What are</p>
<blockquote>
<p>the mathematical foundations and consequences of how it has been defined ?<br>
</p>
</blockquote>
<p>grepping for undefined in src/HOL yields</p>
<p>HOL.thy:axiomatization undefined :: 'a</p>
<p>As you can see, the constant is not defined but declared as a polymorphic<br>
constant for arbitrary type. This is logically unproblematic because types<br>
in HOL must be non-empty. The value denotes some unspecified value of<br>
arbitrary type, this is sometimes useful when no particular property of the<br>
value is required.</p>
<p>Note that in theory Hilbert_Choice one could actually define</p>
<p>definition undefined where "(undefined::'a) = Some (x::'a). True"</p>
<p>I also wonder why the "None" option types constructor does not point to</p>
<blockquote>
<p>undefined in some way or another. Furthermore, I do not understand whether<br>
None is typed of not.<br>
</p>
</blockquote>
<p>Since "undefined" is polymorphic, it exists for any option type. Defining<br>
"undefined :: 'a option" to be None would be more specific than what is<br>
required.</p>
<p>Hope this helps,</p>
<p>Stephan</p>
</blockquote>
</blockquote>



<a name="294248595"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248595" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248595">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Henri Debrat &lt;<a href="mailto:henri.debrat@loria.fr">henri.debrat@loria.fr</a>&gt;<br>
Thanks for all your answers !</p>
<p>I understand it better now, I believe. To sum it up :</p>
<ul>
<li>"None" is <em>known</em> to be different from any other element (constructed with Some) in an option type.</li>
<li>It <em>might</em> be (yet, nobody knows) that undefined = None, or undefined = Some y, ... only there is just no information about it.</li>
</ul>
<p>Hence, I think I understand in which meaning "None" is of a different usage than "undefined".</p>
<p>However, focusing on what Andreas says, because undefined is polymorphic, I do not see why it would be a problem to state that, for some specific type the user defines, "undefined" is such that so additional constraints hold. And we could say that, in an option type, undefined is such that any other element is different from all the others.</p>
<p>What I suggest here is not to make "undefined" and "None" be one and the same, but to define "None" as being a peculiar case of "undefined", by adding a constraint to "undefined" when considering an option type so that it's always different from any "Some y".</p>
<p>I hope I am not being boring by going further in this discussion...</p>
<p>H.</p>
<p>----- Mail original -----</p>



<a name="294248610"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248610" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248610">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Tjark Weber &lt;<a href="mailto:webertj@in.tum.de">webertj@in.tum.de</a>&gt;<br>
I like to say that too. At the same time, it is worth pointing out that<br>
we do know certain (trivial) things about "undefined": for instance,<br>
"undefined = undefined".</p>
<p>Best,<br>
Tjark</p>



<a name="294248622"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248622" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248622">(Aug 19 2022 at 11:51)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@gmail.com">jasmin.blanchette@gmail.com</a>&gt;<br>
The renaming from "arbitrary" to "undefined" was very unfortunate. Perhaps it's not too late to rename it one last time, to "unspecified". What do you think?</p>
<p>Jasmin</p>



<a name="294248648"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248648" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248648">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I agree that the renaming was unfortunate, but I'm not convinced that a further renaming would be that useful.</p>
<p>Although it would be easier than changing from sets to predicates and back again :-)</p>
<p>We just need to be very clear about what this constant actually denotes.</p>
<p>Larry</p>



<a name="294248692"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248692" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248692">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@gmail.com">jasmin.blanchette@gmail.com</a>&gt;<br>
My experience is that it's much easier to explain what something is when its name is not positively confusing.</p>
<p>Imagine you need to name a constant for the color green. There are three levels of naming:</p>
<p>Good naming: green<br>
    Neutral naming: kijani [*]<br>
    Confusing naming: red</p>
<p>It's easy to train one's brain to map "kijani" to "green", but having to teach the whole world that "red" means "green" just adds one layer of obfuscation.</p>
<p>If it was possible to muster the courage to perform such an unfortunate renaming in the first place, surely it shouldn't be too hard to do it again in favor of a good name -- and I would be happy to actually perform the renaming.</p>
<p>Jasmin</p>
<p>[*] unless you know Swahili, in which case this becomes a good name</p>



<a name="294248705"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248705" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248705">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Henri,</p>
<blockquote>
<p>However, focusing on what Andreas says, because undefined is polymorphic, I do not see why it would be a problem to state that, for some specific type the user defines, "undefined" is such that so additional constraints hold.<br>
And we could say that, in an option type, undefined is such that any other element is different from all the others.<br>
You can do that in your own theories by asserting the appropriate axioms. The simplest way <br>
to do so is:</p>
</blockquote>
<p>lemma undefined_my_type_option: "undefined :: my_type option = None"<br>
sorry</p>
<blockquote>
<p>What I suggest here is not to make "undefined" and "None" be one and the same, but to define "None" as being a peculiar case of "undefined", by adding a constraint to "undefined" when considering an option type so that it's always different from any "Some y".<br>
But then they are the same. HOL has equality for every type, and you can do case <br>
distinctions about every option type. Thus: From "!!x. undefined ~= Some x", you can <br>
derive "undefined = None".</p>
</blockquote>
<p>Inside Isabelle, there would be no problem with saying that None and undefined are the <br>
same, the logic would still be consistent. But take a step back and think about what you <br>
are doing in Isabelle: You create mathematical descriptions of the real world by <br>
specifying appropriate constants, and then you prove properties about your model. Now, <br>
these theorems apply to every real-world instance that satisfies the specification of your <br>
constants, i.e., if you make your specifications stronger, your theorems apply to less <br>
instances.</p>
<p>10-15 years ago, when there were only few definitional packages available, many people <br>
axiomatized the model rather than defined them. Often, one just dealt with underspecified <br>
functions. However, one always runs the risk of introducing logical inconsistencies this <br>
way. So, nowadays, it is more popular to define your constants (and types) in terms of <br>
existing constants (this is the definitional principle in the HOL community). Then, you <br>
prove lemmas that your constants meet the specification that you care about; and ideally, <br>
your theorems only use the specifications lemmas. But Isabelle will not stop you from <br>
exploiting all the properties that your definitional method accidentially has introduced. <br>
So, in general, nowadays, the theorems that we prove apply to less real-world instances <br>
than in the old days, but we can be sure that at least there are no logical <br>
inconsistencies in our specifications.</p>
<p>The constant undefined is one of the cases where we still care about "relaxing the <br>
specification as far as possible". Undefined is used by many packages internally, and it <br>
is important from a modelling perspective that it remains this way. Consider, for example, <br>
the function nth from List (written infix as !): xs ! n returns the n-th element of the <br>
list xs. If n is greater than the length of xs, xs ! n returns "undefined n", i.e, an <br>
arbitrary value of the right type, but that might be different for every list index. And <br>
this captures fairly well what you would get when you interpret lists as arrays and nth as <br>
array access: If you access a cell outside the bounds of the array, you might get a <br>
different value for every index (assuming that your imperative language does not enforce <br>
range checks).</p>
<p>Some time ago, undefined had a constraint for function types: !!x. undefined x = undefined<br>
This meant that an unspecified function is a constant function. I myself was not happy <br>
when this constraint was removed, because it allowed all sorts of short-cuts in my proofs. <br>
But in the end, I am happy that it no longer is there: it has unnecessarily reduced the <br>
faithfulness of many models. And the same would happen if "undefined :: 'a option" would <br>
be constrained to None. For example, you could prove that the head of the empty list <br>
always is None, but that might be a realistic assumption.</p>
<p>Best,<br>
Andreas</p>



<a name="294248725"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248725" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248725">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Andreas Lochbihler &lt;<a href="mailto:andreas.lochbihler@inf.ethz.ch">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>
Hi Jasmin,</p>
<p>I agree that undefined is unfortunate, and unspecified would probably be a better name.<br>
But before you set out to rename it, let's first discuss it in a larger context.</p>
<p>The NEWS file describes the replacement as follows:</p>
<blockquote>
<ul>
<li>Constants "undefined" and "default" replace "arbitrary".  Usually<br>
"undefined" is the right choice to replace "arbitrary", though<br>
logically there is no difference.  INCOMPATIBILITY.</li>
</ul>
</blockquote>
<p>So there are actually two constants: undefined and default. And actually, there is quire <br>
some difference between them: "undefined" is frequently used by packages (primrec, <br>
function, partial_function) in cases where the user has not given a full specification of <br>
a constant. Moreover, some Isabelle users use it in their own definitions when they need <br>
don't care or an arbitrary value. There are also some instances where you just need some <br>
value in some proof and it's easier to use undefined instead of obtaining one via "obtain <br>
x :: my_type".</p>
<p>In contrast, default is a parameter of the type class default. As there are hardly any <br>
instances of default (see <br>
<a href="https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2013-June/msg00044.html">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2013-June/msg00044.html</a> for a <br>
brief discussion), regular Isabelle users hardly ever come across it.</p>
<p>In my latest AFP entry (which will be accessible only after the release), I heavily use <br>
undefined to model partially specified API functions of the target languages of the code <br>
generator. Here, soundness relies on "undefined" really being an unspecified value of the <br>
right type.</p>
<p>What I have described so far would fit into the proposed renaming: unspecified captures <br>
the intent better than undefined.</p>
<p>But maybe other people know of further usages for undefined.</p>
<p>Best,<br>
Andreas</p>



<a name="294248739"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248739" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248739">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Lawrence Paulson &lt;<a href="mailto:lp15@cam.ac.uk">lp15@cam.ac.uk</a>&gt;<br>
I would argue that "undefined" and "unspecified" mean essentially the same thing, and it would be a bit like renaming "azure" to "blue". It is only a problem for people who imagine that "undefined" designates some sort of magical nothingness. There is no such thing in mathematics.</p>
<p>Larry</p>



<a name="294248749"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248749" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248749">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Jasmin Blanchette &lt;<a href="mailto:jasmin.blanchette@gmail.com">jasmin.blanchette@gmail.com</a>&gt;<br>
But it's better style, and hardly more typing, to write the following:</p>
<p>axiomatization where<br>
    undefined_my_type_option: "(undefined :: my_type option) = None"</p>
<p>Then you make your intentions clear, and tools like Nitpick will work correctly:</p>
<p>lemma "f (undefined :: my_type option) = f None"<br>
    nitpick</p>
<p>Nitpick found no counterexample.</p>
<p>Jasmin</p>



<a name="294248775"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294248775" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294248775">(Aug 19 2022 at 11:52)</a>:</h4>
<p>From: Michael Fourman &lt;<a href="mailto:Michael.Fourman@ed.ac.uk">Michael.Fourman@ed.ac.uk</a>&gt;<br>
There are however non-terminating programs that can give rise to terms that have no denotation. </p>
<p>Sent from my iPhone</p>



<a name="294250497"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294250497" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294250497">(Aug 19 2022 at 12:02)</a>:</h4>
<p>From: Tobias Nipkow &lt;<a href="mailto:nipkow@in.tum.de">nipkow@in.tum.de</a>&gt;<br>
I was not happy when "arbitrary" was changed to "undefined" because I saw the<br>
confusion this would cause. I would support a new name (after the release) and<br>
"unspecified" seems a good candidate.</p>
<p>Concerning Larry's nothingness: just like Michael Fourman I have to point out<br>
that there are many approaches to logics with partial functions where terms may<br>
simply not denote. In fact, that is how many mathematicians would explain 1/0.</p>
<p>Tobias</p>



<a name="294250729"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294250729" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294250729">(Aug 19 2022 at 12:03)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
Indeed the maior issue was the introduction of a separate »default«<br>
beside »arbitrary«, where »default« is a type class parameter.  It seems<br>
that only proof extraction does really use »default«, so this might<br>
count as argument ot move »default« to Extraction.thy.</p>
<p>Concerning the naming of the constant now named »undefined«, my opinion<br>
is just unspecified ;-).</p>
<p>Cheers,<br>
    Florian<br>
<a href="/user_uploads/14278/3pRA43zOnxna3j1URjcDWpfR/signature.asc">signature.asc</a></p>



<a name="294250743"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294250743" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294250743">(Aug 19 2022 at 12:03)</a>:</h4>
<p>From: Florian Haftmann &lt;<a href="mailto:florian.haftmann@informatik.tu-muenchen.de">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>
AFAIR this (and similar formulations) is due to Alex Krauss.</p>
<p>Florian<br>
<a href="/user_uploads/14278/SgX1ZsxV_Y7z5-2cA-AZJtz1/signature.asc">signature.asc</a></p>



<a name="294252268"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294252268" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294252268">(Aug 19 2022 at 12:13)</a>:</h4>
<p>From: Tjark Weber &lt;<a href="mailto:webertj@in.tum.de">webertj@in.tum.de</a>&gt;<br>
On Mon, 2013-09-30 at 18:06 +0200, Andreas Lochbihler wrote:</p>
<blockquote>
<p>I agree that undefined is unfortunate, and unspecified would probably<br>
be a better name.</p>
</blockquote>
<p>+1</p>
<blockquote>
<p>"undefined" is frequently used by packages (primrec, function,<br>
partial_function) in cases where the user has not given a full<br>
specification of a constant.</p>
</blockquote>
<p>I am not sure how widespread this usage still is in Isabelle. But where<br>
it happens, I consider it a (minor) shortcoming, because it leads to<br>
spurious equations: the user arguably never intended to specify that,<br>
e.g., "hd [] = last []".</p>
<p>Best,<br>
Tjark</p>



<a name="294252978"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294252978" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294252978">(Aug 19 2022 at 12:18)</a>:</h4>
<p>From: Peter Lammich &lt;<a href="mailto:lammich@in.tum.de">lammich@in.tum.de</a>&gt;<br>
However, this comes in handy in some cases. Consider, e.g., the<br>
following lemma:</p>
<p>lemma map_eq_nth_eq:<br>
  assumes A: "map f l = map f l'" <br>
  shows "f (l!i) = f (l'!i)"</p>
<p>without knowing that nth is undefined if the index is out of bounds,<br>
this lemma would have a precondition (i&lt;length l) which makes it harder<br>
to be used by the simplifier.</p>



<a name="294253133"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294253133" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294253133">(Aug 19 2022 at 12:19)</a>:</h4>
<p>From: Tjark Weber &lt;<a href="mailto:webertj@in.tum.de">webertj@in.tum.de</a>&gt;<br>
Obviously, stronger assumptions allow us to prove stronger theorems. But<br>
the real issue is whether our models are still sound.</p>
<p>Best,<br>
Tjark</p>



<a name="294253482"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294253482" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294253482">(Aug 19 2022 at 12:21)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
This is an important observation.  In a system like HOL, where most <br>
specifications are actually definitions, "not specified" and "not defined" <br>
means essentially the same.</p>
<p>It is computer-science that has changed the literal meaning of "undefined" <br>
and introduced a bias to mean something like "crash" or "NPE".</p>
<p>HOL as a total logic has its own traditions to make creative use with <br>
seemingly "undefined" things.  1/0 was mentioned already, but without an <br>
explanation of the theories built around it, notably by John Harrison. <br>
This greatly simplifies many proofs, at the cost of semantic confusion <br>
about what specifications mean.  Subtraction on nat is handled similarly.</p>
<p>In 1996, when "undefined" was still called "arbitrary" someone giving a <br>
talk about an Isabelle/HOL formalization had it on one of the introductory <br>
slides about the logic.  Since the audience was not HOL-istic that started <br>
a very long discussion about what it really means, and it was hard to get <br>
to the main topic of the talk.  That incident has become one of the many <br>
Isabelle in-jokes, until it was replaced by this formal one by Florian <br>
Haftmann around 2005:</p>
<p>if arbitrary = undefined then SOME x. True else SOME x. False</p>
<p>Makarius</p>



<a name="294253810"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294253810" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294253810">(Aug 19 2022 at 12:23)</a>:</h4>
<p>From: Makarius &lt;<a href="mailto:makarius@sketis.net">makarius@sketis.net</a>&gt;<br>
Here is a vaguely related thread on the Scala internals mailing list:</p>
<p><a href="https://groups.google.com/forum/#!topic/scala-internals/VkIVISmaxFQ/discussion[1-25-false]">https://groups.google.com/forum/#!topic/scala-internals/VkIVISmaxFQ/discussion[1-25-false]</a></p>
<p>Odersky ultimately calls his version of "undefined" with the symbolic name <br>
"???".  Semantically it is of the "crash" / "NPE" kind, since this is <br>
programming, not logic.</p>
<p>Makarius</p>



<a name="294253970"></a>
<h4><a href="https://isabelle.zulipchat.com/#narrow/stream/336180-Archive%20Mirror%3A%20Isabelle%20Users%20Mailing%20List/topic/%5Bisabelle%5D%20undefined%20%26%20None/near/294253970" class="zl"><img src="http://isabelle.systems/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Email Gateway <a href="http://isabelle.systems/zulip-archive/stream/336180-Archive-Mirror.3A-Isabelle-Users-Mailing-List/topic/.5Bisabelle.5D.20undefined.20.26.20None.html#294253970">(Aug 19 2022 at 12:24)</a>:</h4>
<p>From: Joachim Breitner &lt;<a href="mailto:breitner@kit.edu">breitner@kit.edu</a>&gt;<br>
Hi,</p>
<p>I can confirm this observation from a few weeks ago, when I talked about<br>
a Isabelle formalization of mine to a group that work on the same<br>
proofs, but without a proof assistant. I think I got the idea behind<br>
undefined across, but I’m not sure about that, and it certainly did not<br>
make a good impression on the audience.</p>
<p>I sometimes wish for better support for partially defined things, where<br>
I have the vague idea that when, for example, I write "a ⊔ b" somewhere,<br>
then the compatibility of a and b in their order either comes as an<br>
implicit fact, or an implicit proof obligation. But I’m not even sure<br>
how to detect which of the two I want...</p>
<p>Greetings,<br>
Joachim<br>
<a href="/user_uploads/14278/rfyPPiNovrhntbI-a7XJvXvM/signature.asc">signature.asc</a></p>



<hr><p>Last updated: Nov 01 2025 at 16:22 UTC</p>
</html>