[
    {
        "content": "<p>In a parent locale \"linearly_filtered_measure\", I introduced the following notation:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">F_infinity</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"s\">\"'a measure\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s\">\"F⇩∞\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kp\">where</span>\n<span class=\"w\">  </span><span class=\"s\">\"F⇩∞ = sigma (space M) (⋃t∈{t⇩0..}. sets (F t))\"</span>\n</code></pre></div>\n<p>where \"t⇩0\" M and F are constants that the locale fixes.</p>\n<p>When I use the notation in the context of this locale everything works as it should. I have a sublocale called \"nat_filtered_measure\" which is a sublocale of \"linearly_filtered_measure\". The parser does not recognize the notation inside the sublocale. To illustrate the issue further:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">context</span><span class=\"w\"> </span><span class=\"n\">linearly_filtered_measure</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\"> </span><span class=\"kt\">thm</span><span class=\"w\"> </span><span class=\"n\">F_infinity_def</span>\n</code></pre></div>\n<p>outputs</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">F⇩∞</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sigma</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">space</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">⋃t∈</span><span class=\"ow\">{</span><span class=\"n\">t⇩0..</span><span class=\"ow\">}.</span><span class=\"w\"> </span><span class=\"n\">sets</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>whereas</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">context</span><span class=\"w\"> </span><span class=\"n\">nat_filtered_measure</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\"> </span><span class=\"kt\">thm</span><span class=\"w\"> </span><span class=\"n\">F_infinity_def</span>\n</code></pre></div>\n<p>outputs</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">F_infinity</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sigma</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">space</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">⋃t∈</span><span class=\"ow\">{</span><span class=\"n\">t⇩0..</span><span class=\"ow\">}.</span><span class=\"w\"> </span><span class=\"n\">sets</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>which does not use the notation at all. Is this just an oversight concerning how the introduced notation is handled in the locale system or am I doing something wrong?</p>",
        "id": 409948869,
        "sender_full_name": "Ata Keskin",
        "timestamp": 1703548692
    },
    {
        "content": "<p>I figured it out. Using the notation command fixes this issue. For anyone who might face a similar issue, you can just do:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">notation</span><span class=\"w\"> </span><span class=\"n\">F_infinity</span><span class=\"w\"> </span><span class=\"s\">\"F⇩∞\"</span>\n</code></pre></div>\n<p>after defining the constant.</p>",
        "id": 409949212,
        "sender_full_name": "Ata Keskin",
        "timestamp": 1703548947
    }
]