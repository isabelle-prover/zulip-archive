[
    {
        "content": "<p>Dear Isabelle players, I am struggling with the batch build command <code>isabelle build</code>. It is true I used heavily ML code that works with locales and contexts, so I think there must be some bug in my code. The thing is, in the interactive GUI mode my theory works well, whereas in the batch build mode, it raises an error with only one line message</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Bad</span><span class=\"w\"> </span><span class=\"k\">context</span><span class=\"w\"> </span><span class=\"kp\">for</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\".\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"n\">7057</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"s\">\"~/Current/nu-system-I/Phi_System/Sys.thy\"</span><span class=\"o\">)</span><span class=\"w\"></span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">At</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\".\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"n\">7057</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"s\">\"~/Current/nu-system-I/Phi_System/Sys.thy\"</span><span class=\"o\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>The source code looks like</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"s\">\".....\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">some_of_my_proof_commands</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"ow\">.</span><span class=\"w\">  </span><span class=\"c\">(* it fails! it is the last command to finish the lemma.*)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Clearly, I need more infos to debug it. I know there are a lot differences between the batch mode and the interactive mode. So I need to either turn on some option to let the batch mode print more debug info like even stack trace, or, reproduce the problem in the interactive mode where I can have stack trace (maybe I need to turn on some options to simulate the batch mode in the interactive mode, I dunno).</p>\n<p>Are there any friends who know how to turn on those features?</p>",
        "id": 311974760,
        "sender_full_name": "Qiyuan Xu",
        "timestamp": 1669282571
    },
    {
        "content": "<p>I also sent a copy to the mail list.</p>",
        "id": 311976361,
        "sender_full_name": "Qiyuan Xu",
        "timestamp": 1669283199
    }
]