[
    {
        "content": "<p>Interesting. I am using Isabelle2022, and am working in a locale. Outside of the locale, there is no problem; but as soon as I am trying this in <em>any</em> locale, it doesn't work anymore. I edited the minimal working example.</p>",
        "id": 313379006,
        "sender_full_name": "Jakob Schulz",
        "timestamp": 1669929406
    },
    {
        "content": "<p>Ah yes, code generation from inside locales is tricky because everything you define inside a locale, has the locale assumptions attached to its definition equation (and its <code>simp</code> equations in case of e.g. a function package function). The former is not strictly necessary, but the latter is, since function termination may be contingent on the locale assumptions.</p>\n<p>Since the code generator can only work with unconditional code equations, this explains what you're seeing.</p>",
        "id": 313379323,
        "sender_full_name": "Manuel Eberl",
        "timestamp": 1669929525
    },
    {
        "content": "<p>Ah, I see. Thank you very much! :)</p>",
        "id": 313381391,
        "sender_full_name": "Jakob Schulz",
        "timestamp": 1669930214
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"422558\">Jakob Schulz</span> has marked this topic as resolved.</p>",
        "id": 313381428,
        "sender_full_name": "Notification Bot",
        "timestamp": 1669930219
    }
]