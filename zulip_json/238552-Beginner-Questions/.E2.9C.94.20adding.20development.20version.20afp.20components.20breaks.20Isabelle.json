[
    {
        "content": "<p>Isabelle version:2021Feb<br>\noperating system version: MAC OS X 10.15.7</p>\n<p>I wanted to load and read some theories from afp.<br>\nTo resolve dependencies, <br>\nI decided to clone and use the afl repository.<br>\nAfter cloning it I to a folder, I followed the instructions<br>\n<a href=\"https://www.isa-afp.org/using.html\">https://www.isa-afp.org/using.html</a><br>\nand successfully executed the command<br>\nisabelle components -u ~/Dropbox/Workspace/afp/afp-devel<br>\nwith output <br>\nAdded component \"/Users/cstan/Dropbox/Workspace/afp/afp-devel/thys\"</p>\n<p>Now when I restart isabelle,<br>\nI got this error message <br>\n<a href=\"/user_uploads/14278/ezkhGVW6xTZN7IYmPI-6iy18/Screenshot-2021-10-17-at-00.39.10.png\">Screenshot-2021-10-17-at-00.39.10.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/ezkhGVW6xTZN7IYmPI-6iy18/Screenshot-2021-10-17-at-00.39.10.png\" title=\"Screenshot-2021-10-17-at-00.39.10.png\"><img src=\"/user_uploads/14278/ezkhGVW6xTZN7IYmPI-6iy18/Screenshot-2021-10-17-at-00.39.10.png\"></a></div><p>Sourced file: inline evaluation of: <br>\n``     new isabelle.jedit.Isabelle_Export.VFS();   ;'' : No static field or inner class: VFS of class isabelle.jedit.Isabelle_Export : at Line: 2 :<br>\n in file: inline evaluation of:      new isabelle.jedit.Isabelle_Export.VFS();   ;''<br>\n : isabelle .jedit .Isabelle_Export .VFS </p>\n<div class=\"codehilite\"><pre><span></span><code>at org.gjt.sp.jedit.bsh.UtilEvalError.toEvalError(UtilEvalError.java:84)\nat org.gjt.sp.jedit.bsh.UtilEvalError.toEvalError(UtilEvalError.java:89)\nat org.gjt.sp.jedit.bsh.BSHAmbiguousName.toObject(BSHAmbiguousName.java:64)\nat org.gjt.sp.jedit.bsh.BSHAllocationExpression.objectAllocation(BSHAllocationExpression.java:86)\nat org.gjt.sp.jedit.bsh.BSHAllocationExpression.eval(BSHAllocationExpression.java:62)\nat org.gjt.sp.jedit.bsh.BSHPrimaryExpression.eval(BSHPrimaryExpression.java:102)\nat org.gjt.sp.jedit.bsh.BSHPrimaryExpression.eval(BSHPrimaryExpression.java:47)\nat org.gjt.sp.jedit.bsh.Interpreter.eval(Interpreter.java:644)\nat org.gjt.sp.jedit.bsh.Interpreter.eval(Interpreter.java:738)\nat org.gjt.sp.jedit.bsh.Interpreter.eval(Interpreter.java:727)\nat org.gjt.sp.jedit.BeanShellFacade._eval(BeanShellFacade.java:153)\nat org.gjt.sp.jedit.BeanShellFacade.eval(BeanShellFacade.java:117)\nat org.gjt.sp.jedit.BeanShell.eval(BeanShell.java:382)\nat org.gjt.sp.jedit.ServiceManager$Descriptor.getInstance(ServiceManager.java:337)\nat org.gjt.sp.jedit.ServiceManager.getService(ServiceManager.java:262)\nat org.gjt.sp.jedit.io.VFSManager.getVFSForProtocol(VFSManager.java:158)\nat org.gjt.sp.jedit.MiscUtilities.isURL(MiscUtilities.java:590)\nat org.gjt.sp.jedit.io.VFSManager.getVFSForPath(VFSManager.java:176)\nat org.gjt.sp.jedit.MiscUtilities.pathsEqual(MiscUtilities.java:1206)\nat org.gjt.sp.jedit.BufferHistory.getEntry(BufferHistory.java:88)\nat org.gjt.sp.jedit.jEdit.composeBufferPropsFromHistory(jEdit.java:4418)\nat org.gjt.sp.jedit.jEdit.openTemporary(jEdit.java:1859)\nat org.gjt.sp.jedit.jEdit.openTemporary(jEdit.java:1825)\nat org.gjt.sp.jedit.jEdit.openTemporary(jEdit.java:1778)\nat org.gjt.sp.jedit.BeanShell._runScript(BeanShell.java:328)\nat org.gjt.sp.jedit.BeanShell._runScript(BeanShell.java:291)\nat org.gjt.sp.jedit.BeanShell.runScript(BeanShell.java:217)\nat org.gjt.sp.jedit.Macros$BeanShellHandler.runMacro(Macros.java:1115)\nat org.gjt.sp.jedit.jEdit.runStartupScripts(jEdit.java:4001)\nat org.gjt.sp.jedit.jEdit.main(jEdit.java:552)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat isabelle.Main$.$anonfun$main$4(main.scala:129)\nat isabelle.Main$.main(main.scala:138)\nat isabelle.Main.main(main.scala)\n</code></pre></div>\n\n<p>``</p>\n<p>And after I click OK I got<br>\n<code>\n/Applications/Isabelle2021.app/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:\nCannot start: \n*** Unknown option \"document_preprocessor\"\n*** The error(s) above occurred in session entry \"Huffman\" (line 3 of \"/Users/cstan/Dropbox/Workspace/afp/afp-devel/thys/Huffman/ROOT\")\n</code><br>\nAnd after that I could not get isabelle working properly (processing input, giving out messages etc.)<br>\nAnd the jedit interface looks like the below picture.<br>\n<a href=\"/user_uploads/14278/tahV2_iWqwKTV-D0J7PoKm_a/Screenshot-2021-10-17-at-00.42.18.png\">Screenshot-2021-10-17-at-00.42.18.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/tahV2_iWqwKTV-D0J7PoKm_a/Screenshot-2021-10-17-at-00.42.18.png\" title=\"Screenshot-2021-10-17-at-00.42.18.png\"><img src=\"/user_uploads/14278/tahV2_iWqwKTV-D0J7PoKm_a/Screenshot-2021-10-17-at-00.42.18.png\"></a></div><p>Am I missing something important?<br>\nThanks in advance!</p>",
        "id": 257870844,
        "sender_full_name": "Chengsong Tan",
        "timestamp": 1634427783
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"241231\">Chengsong Tan</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/adding.20afp.20as.20components.20.20causes.20bean.20shell.20error/near/257870844\">said</a>:</p>\n<blockquote>\n<p>isabelle components -u ~/Dropbox/Workspace/afp/afp-devel</p>\n</blockquote>\n<p>Which AFP version are you using? To me, it appears that you are probably using the development version rather than the most recent stable one (that is compatible with Isabelle2021). You can check if your AFP is correctly referenced by Isabelle by typing something like <code>Wendas-MBP:~ wenda$ cat ~/.isabelle/Isabelle2021/ROOTS </code> in you terminal. In my case, the command gives </p>\n<div class=\"codehilite\"><pre><span></span><code># Additional session root directories\n#\n#   * each line contains one directory entry in Isabelle path notation\n#   * lines starting with &quot;#&quot; are stripped\n#   * changes require application restart\n#\n#:mode=text:encoding=UTF-8:\n\n/Users/wenda/Workspace/afp2021/thys/\n</code></pre></div>\n<p>where the last line is the path pointing to the theory directory of the downloaded AFP. You can later manually modify the <code>Isabelle2021/ROOTS</code> file as you see fit.</p>",
        "id": 257925012,
        "sender_full_name": "Wenda Li",
        "timestamp": 1634482752
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246083\">Wenda Li</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/adding.20afp.20as.20components.20.20causes.20bean.20shell.20error/near/257925012\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"241231\">Chengsong Tan</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/adding.20afp.20as.20components.20.20causes.20bean.20shell.20error/near/257870844\">said</a>:</p>\n<blockquote>\n<p>isabelle components -u ~/Dropbox/Workspace/afp/afp-devel</p>\n</blockquote>\n<p>Which AFP version are you using? To me, it appears that you are probably using the development version rather than the most recent stable one (that is compatible with Isabelle2021). You can check if your AFP is correctly referenced by Isabelle by typing something like <code>Wendas-MBP:~ wenda$ cat ~/.isabelle/Isabelle2021/ROOTS </code> in you terminal. In my case, the command gives </p>\n<div class=\"codehilite\"><pre><span></span><code># Additional session root directories\n#\n#   * each line contains one directory entry in Isabelle path notation\n#   * lines starting with &quot;#&quot; are stripped\n#   * changes require application restart\n#\n#:mode=text:encoding=UTF-8:\n\n/Users/wenda/Workspace/afp2021/thys/\n</code></pre></div>\n<p>where the last line is the path pointing to the theory directory of the downloaded AFP. You can later manually modify the <code>Isabelle2021/ROOTS</code> file as you see fit.</p>\n</blockquote>\n<p>Thanks a lot for the reply!<br>\nYes, I directly cloned from the afp mercurial repository so it is probably not <br>\nthe stable release.</p>\n<p>When I run the command cat  ~/.isabelle/Isabelle2021/ROOTS,<br>\nI got</p>\n<div class=\"codehilite\"><pre><span></span><code># Additional session root directories\n#\n#   * each line contains one directory entry in Isabelle path notation\n#   * lines starting with &quot;#&quot; are stripped\n#   * changes require application restart\n#\n#:mode=text:encoding=UTF-8:\n</code></pre></div>\n<p>which means I don't have afp referenced correctly.<br>\nI downloaded a stable version from the afp website <br>\nand executed the same command with the new stable version afp directory:<br>\n<code>isabelle components -u ~/Dropbox/Workspace/formalizing/afp-2021-10-13/thys </code></p>\n<p>but this time the same error message appears when I open Isabelle2021,<br>\nand using the <br>\n<code>\ncat ~/.isabelle/Isabelle2021/ROOTS   \n</code><br>\n command gives me the same </p>\n<div class=\"codehilite\"><pre><span></span><code># Additional session root directories\n#\n#   * each line contains one directory entry in Isabelle path notation\n#   * lines starting with &quot;#&quot; are stripped\n#   * changes require application restart\n#\n#:mode=text:encoding=UTF-8:\n</code></pre></div>\n<p>message.</p>\n<p>Is there a way to \"roll back\" to the isabelle configuration state before I did the <br>\n<code>isabelle components ...</code><br>\ncommand? Are there any manuals on these configuration options?<br>\nThanks a lot!</p>",
        "id": 257928660,
        "sender_full_name": "Chengsong Tan",
        "timestamp": 1634486137
    },
    {
        "content": "<p>I just found the \"roll back\" option for this: <code>isabelle components -x ~/Dropbox/Workspace/afp/afp-devel </code><br>\n<code>-x</code> means to remove that component.<br>\n<code>https://isabelle.in.tum.de/dist/Isabelle2021/doc/system.pdf</code><br>\nis where you can find relevant manual information on <br>\nisabelle components.<br>\nNow trying to add the stable version first and see if it works :)</p>",
        "id": 257929379,
        "sender_full_name": "Chengsong Tan",
        "timestamp": 1634486767
    },
    {
        "content": "<p>Glad to find out that you have figured out the solution, which is actually something I didn't know. Personally, I often manually add the AFP path to ROOTS every time I update Isabelle...</p>",
        "id": 257930114,
        "sender_full_name": "Wenda Li",
        "timestamp": 1634487485
    },
    {
        "content": "<p><a href=\"/user_uploads/14278/uWVDI9gJMGBCTDPE8MQmtD0B/Screenshot-2021-10-17-at-17.19.52.png\">Screenshot-2021-10-17-at-17.19.52.png</a> <br>\nJust added the stable afp version and it works!<br>\nI can now look at the theory files interactively as shown in the screenshot :o)<br>\nAnd thanks <span class=\"user-mention\" data-user-id=\"246083\">@Wenda Li</span>  for the suggestion on the version problem, I was running out of ideas yesterday.<br>\nHow do you do a manual AFP path adding?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/uWVDI9gJMGBCTDPE8MQmtD0B/Screenshot-2021-10-17-at-17.19.52.png\" title=\"Screenshot-2021-10-17-at-17.19.52.png\"><img src=\"/user_uploads/14278/uWVDI9gJMGBCTDPE8MQmtD0B/Screenshot-2021-10-17-at-17.19.52.png\"></a></div>",
        "id": 257930365,
        "sender_full_name": "Chengsong Tan",
        "timestamp": 1634487754
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"241231\">Chengsong Tan</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/adding.20development.20version.20afp.20components.20breaks.20Isabelle/near/257930365\">said</a>:</p>\n<blockquote>\n<p>How do you do a manual AFP path adding?</p>\n</blockquote>\n<p>Ahh, that is easy -- just edit the ROOTS file using your favourite text editor and save :-) To me, <code>isabelle components -u</code> updates the ROOTS file when we don't know where it is located, but once we know its location ourselves it is straightforward to edit the file directly.</p>",
        "id": 257932701,
        "sender_full_name": "Wenda Li",
        "timestamp": 1634489908
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"241231\">Chengsong Tan</span> has marked this topic as resolved.</p>",
        "id": 258041696,
        "sender_full_name": "Notification Bot",
        "timestamp": 1634568971
    }
]