[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">is_NML_def</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\"> </span><span class=\"s\">\"is_NML s ≡</span>\n<span class=\"s\">  (⋀ A B p q f form.</span>\n<span class=\"s\">  ptaut form ⟶ form ∈ s ∧</span>\n<span class=\"s\">  (IMP (BOX (IMP p q)) (IMP (BOX p) (BOX q))) ∈ s ∧</span>\n<span class=\"s\">  (IMP (DIAM p) (NOT (BOX (NOT p)))) ∈ s ∧</span>\n<span class=\"s\">  (IMP (NOT (BOX (NOT p))) (DIAM p)) ∈ s ∧</span>\n<span class=\"s\">  (A ∈ s ⟶ (subst f A) ∈ s) ∧</span>\n<span class=\"s\">  (A ∈ s ⟶ (BOX A) ∈ s) ∧</span>\n<span class=\"s\">  ((IMP A B) ∈ s ∧ A ∈ s ⟶ B ∈ s))\"</span>\n\n<span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">NMLG_def</span><span class=\"o\">:</span>\n<span class=\"w\"> </span><span class=\"s\">\"NMLG Γ ≡ ⋂ {A | is_NML A ∧ Γ subset A}\"</span>\n</code></pre></div>",
        "id": 470125494,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726302699
    },
    {
        "content": "<p>definition NMLG_def is not accepted, with the following error message:<br>\n<a href=\"/user_uploads/14278/Oebj4r88Oi6ivHiFXDIAbul2/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/Oebj4r88Oi6ivHiFXDIAbul2/image.png\" title=\"image.png\"><img data-original-dimensions=\"2160x936\" src=\"/user_uploads/thumbnail/14278/Oebj4r88Oi6ivHiFXDIAbul2/image.png/840x560.webp\"></a></div>",
        "id": 470125699,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726302744
    },
    {
        "content": "<p>It infers the type of A to be bool. Why it is doing that and how can I avoid it?</p>",
        "id": 470125864,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726302788
    },
    {
        "content": "<p>I checked subset predicate takes two sets.</p>",
        "id": 470125940,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726302810
    },
    {
        "content": "<p>And is_NML takes a term of type form =&gt; set.</p>",
        "id": 470126025,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726302835
    },
    {
        "content": "<p>None of the things are writing type in a meaningful way</p>\n<ul>\n<li><code>is_NML A ∧ Γ subset A</code> is not a bool</li>\n<li><code>{A | P (is_NML A)}</code> is not a <code>_ set set</code> as required by <code>⋂</code></li>\n<li><code>Γ subset A</code> does not mean what you think it does and <code>Γ</code> does not appear anywhere else</li>\n</ul>",
        "id": 470126718,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303143
    },
    {
        "content": "<p>So I suggest looking at other examples (<code>find_theorems \"‹{_| _. _}› \"</code> and <code>‹{_. _}› </code>) to see how it is supposed to be used</p>",
        "id": 470126934,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303296
    },
    {
        "content": "<p><code>P (is_NML A)</code> seems to make the wrong sense. <code>is_NML A</code> should be of type <code>bool</code>. Here it should be <code>P A</code>.</p>",
        "id": 470126947,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303305
    },
    {
        "content": "<p>I put P because all the stuff after | does not make sense and I have no clue what you intended to write</p>",
        "id": 470127032,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303348
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"233198\">Mathias Fleury</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/Avoid.20getting.20this.20term.20mis-type-inferenced/near/470126934\">said</a>:</p>\n<blockquote>\n<p>So I suggest looking at other examples (<code>find_theorems \"‹{_| _. _}› \"</code> and <code>‹{_. _}› </code>) to see how it is supposed to be used</p>\n</blockquote>\n<p>Let me try and see, maybe I should use schematic variables somewhere.</p>",
        "id": 470127102,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303407
    },
    {
        "content": "<p>I intend to write a set comprehension to define \"NMLG Gamma\" to be \"the modal logic generated by Gamma\". So both Gamma and \"NMLG Gamma\" should be of type \"form set\".</p>",
        "id": 470127968,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303753
    },
    {
        "content": "<p>I think I understand the following error message: It complains is_NML s is a prop, not bool.</p>",
        "id": 470128045,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303778
    },
    {
        "content": "<p>This is because I wrote meta-equality for defining it. Maybe it is not a good idea if I want to use it in a comprehension later... Let me try to edit it into HOL equality...</p>",
        "id": 470128276,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303837
    },
    {
        "content": "<p>No isabelle has infered types, concluded that A must be of type bool and then complains that A cannot be an argument of is_NML</p>",
        "id": 470128372,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303871
    },
    {
        "content": "<p>Sometimes  (like here) the types are so completely messed up, that the error message is not helping you at all</p>",
        "id": 470128444,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303903
    },
    {
        "content": "<p><a href=\"/user_uploads/14278/khAXR7SAIJJm2ukvG_k8Vye4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/khAXR7SAIJJm2ukvG_k8Vye4/image.png\" title=\"image.png\"><img data-original-dimensions=\"2160x1028\" src=\"/user_uploads/thumbnail/14278/khAXR7SAIJJm2ukvG_k8Vye4/image.png/840x560.webp\"></a></div>",
        "id": 470128487,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303913
    },
    {
        "content": "<p>Oh I forgot the screenshot.</p>",
        "id": 470128599,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726303924
    },
    {
        "content": "<p>Okay then you are right.</p>",
        "id": 470128687,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303938
    },
    {
        "content": "<p>Remark that \\Gamma appears only in the condition (and is not a set)</p>",
        "id": 470128905,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1726303976
    },
    {
        "content": "<p>Ah? Why Gamma is not a set? It is a form set.</p>",
        "id": 470129231,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726304029
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754515\">Yiming Xu</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/Avoid.20getting.20this.20term.20mis-type-inferenced/near/470129231\">said</a>:</p>\n<blockquote>\n<p>Ah? Why Gamma is not a set? It should be a form set.</p>\n</blockquote>",
        "id": 470129407,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726304054
    },
    {
        "content": "<p>And okay it is indeed because it does not like the prop. Now it works.<br>\n<a href=\"/user_uploads/14278/glutBBHlLvzmCRV3fdc2S_m3/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/glutBBHlLvzmCRV3fdc2S_m3/image.png\" title=\"image.png\"><img data-original-dimensions=\"2160x1586\" src=\"/user_uploads/thumbnail/14278/glutBBHlLvzmCRV3fdc2S_m3/image.png/840x560.webp\"></a></div>",
        "id": 470129788,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726304124
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"233198\">Mathias Fleury</span> <a href=\"#narrow/stream/238552-Beginner-Questions/topic/Avoid.20getting.20this.20term.20mis-type-inferenced/near/470128905\">said</a>:</p>\n<blockquote>\n<p>Remark that \\Gamma appears only in the condition (and is not a set)</p>\n</blockquote>\n<p>So you mean \\Gamma does not appear on the RHS of the definition? Maybe that is correct, because I just found that my definition of NMLG is wrong.<br>\n<a href=\"/user_uploads/14278/0VO0h7GzrgoYmIf2MdIDQXhq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/0VO0h7GzrgoYmIf2MdIDQXhq/image.png\" title=\"image.png\"><img data-original-dimensions=\"1840x628\" src=\"/user_uploads/thumbnail/14278/0VO0h7GzrgoYmIf2MdIDQXhq/image.png/840x560.webp\"></a></div>",
        "id": 470498840,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474119
    },
    {
        "content": "<p>I would like it to be form set =&gt; form set! Maybe it is because it does not think the Gamma on the LHS and RHS are the same. HOL4 has the same problem, and can be resolved by adding some bars in the comprehension.</p>",
        "id": 470499371,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474200
    },
    {
        "content": "<p>Any clue on how should I deal with that?</p>",
        "id": 470500032,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474304
    },
    {
        "content": "<p>Oh maybe I know. The definition of subset.</p>",
        "id": 470500289,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474371
    },
    {
        "content": "<p><a href=\"/user_uploads/14278/DtYiwJpLuzaS5RFxV7vc0T_Y/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/DtYiwJpLuzaS5RFxV7vc0T_Y/image.png\" title=\"image.png\"><img data-original-dimensions=\"1840x628\" src=\"/user_uploads/thumbnail/14278/DtYiwJpLuzaS5RFxV7vc0T_Y/image.png/840x560.webp\"></a></div>",
        "id": 470500457,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474420
    },
    {
        "content": "<p>Fixed. My stupid.</p>",
        "id": 470500480,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1726474426
    }
]