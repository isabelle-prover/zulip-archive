[
    {
        "content": "<p>Hello,</p>\n<p>How do I make an underscore print when exporting code. Example:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">datatype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n n-Type\">'a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">type1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Const_123</span><span class=\"w\"> </span><span class=\"n n-Type\">'a</span>\n\n<span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"s\">\"f1 x = undefined\"</span>\n\n<span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"s\">\"f2 x (y::int) = y + f1 x\"</span>\n\n<span class=\"k\">code_printing</span>\n<span class=\"w\">  </span><span class=\"kp\">constant</span><span class=\"w\"> </span><span class=\"n\">f1</span><span class=\"w\"> </span><span class=\"n\">â‡€</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SML</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s\">\"(fn Const_123 x =&gt; x)\"</span>\n\n<span class=\"k\">export_code</span><span class=\"w\"> </span><span class=\"n\">f2</span>\n<span class=\"w\">  </span><span class=\"kp\">in</span><span class=\"w\"> </span><span class=\"n\">Eval</span>\n</code></pre></div>\n<p>This results in:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">f2</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Arith.plus_int</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">fn</span><span class=\"w\"> </span><span class=\"n\">Constx123</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"n\">&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"n\">;</span>\n</code></pre></div>\n<p>I want it to be:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">f2</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Arith.plus_int</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">fn</span><span class=\"w\"> </span><span class=\"n\">Const_123</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"n\">&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"n\">;</span>\n</code></pre></div>\n<p>Isabelle uses underscores for arguments when printing code.</p>",
        "id": 562147175,
        "sender_full_name": "David Wang",
        "timestamp": 1764954167
    },
    {
        "content": "<p>Like pretty-much every technical question like this: grep the Isabelle source code and look how it is done at other places</p>",
        "id": 562226110,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1765007448
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">$</span><span class=\"w\"> </span><span class=\"n\">grep</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">A5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"k\">code_printing</span><span class=\"w\"> </span><span class=\"n\">*</span>\n<span class=\"ow\">...</span>\n<span class=\"n\">src/HOL/Code_Numeral.thy</span><span class=\"o\">-</span><span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">SML</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s\">\"Bit'_Shifts.push\"</span>\n</code></pre></div>",
        "id": 562226145,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1765007491
    }
]