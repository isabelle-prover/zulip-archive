[
    {
        "content": "<p>When I define a data type and an associated function I get an unexpected error: <strong>Equation is redundant (covered by preceding clauses)</strong><br>\nIsabelle does not accept my <em>index_val</em> function.</p>\n<blockquote>\n<p>Equation is redundant (covered by preceding clauses):<br>\nindex_val ni_112_62 = 11262 / 10⇧2</p>\n</blockquote>\n<p>I really can't find the reason for this error: I have many different cases in the definition of my <em>index_val</em> function.</p>\n<p>I rewrote the code with a simpler (naming) example, and this code is accepted. <br>\nI've indicated it in the datatype <em>my_data</em> and func <em>my_conversion</em> below, for the example. </p>\n<p>Help is welcome because I would like to keep the <em>ai_102_00</em> notation as much as possible.</p>\n<p>The complete code:</p>\n<blockquote>\n<p>theory Scratch</p>\n<p>imports HOL.Rat<br>\nbegin</p>\n<p>datatype coefficient_index = <br>\nai_102_00 | ai_104_04 | ai_160_84 | ai_164_06 | ai_167_34 |<br>\nai_170_69 | ai_174_10 | ai_177_58 | ai_181_14 | ai_184_76 |<br>\nai_188_45 | ai_192_22 | ai_196_07 | ai_199_99 | ai_203_99 |<br>\nai_208_07 | ai_212_23 | ni_100_00 | ni_102_00 | ni_104_04 | <br>\nni_106_12 | ni_108_24 | ni_110_41 | ni_112_62 | ni_114_87 | <br>\nni_117_17 | ni_119_51 | ni_121_90 | ni_124_34</p>\n<p>fun index_val :: \"coefficient_index⇒rat\" where<br>\n \"index_val ai_102_00 = 102.00\"<br>\n|\"index_val ai_104_04 = 104.04\"<br>\n|\"index_val ai_160_84 = 160.84\"<br>\n|\"index_val ai_164_06 = 164.06\"<br>\n|\"index_val ai_167_34 = 167.34\"<br>\n|\"index_val ai_170_69 = 170.69\"<br>\n|\"index_val ai_174_10 = 174.10\"<br>\n|\"index_val ai_177_58 = 177.58\"<br>\n|\"index_val ai_181_14 = 181.14\"<br>\n|\"index_val ai_184_76 = 184.76\"<br>\n|\"index_val ai_188_45 = 188.45\"<br>\n|\"index_val ai_192_22 = 192.22\"<br>\n|\"index_val ai_196_07 = 196.07\"<br>\n|\"index_val ai_199_99 = 199.99\"<br>\n|\"index_val ai_203_99 = 203.99\"<br>\n|\"index_val ai_208_07 = 208.07\"<br>\n|\"index_val ai_212_23 = 212.23\"<br>\n|\"index_val ni_100_00 = 100.00\"<br>\n|\"index_val ni_102_00 = 102.00\"<br>\n|\"index_val ni_104_04 = 104.04\"<br>\n|\"index_val ni_106_12 = 106.12\"<br>\n|\"index_val ni_108_24 = 108.24\"<br>\n|\"index_val ni_110_42 = 110.42\"<br>\n|\"index_val ni_112_62 = 112.62\"<br>\n|\"index_val ni_114_87 = 114.87\"<br>\n|\"index_val ni_117_17 = 117.17\"<br>\n|\"index_val ni_119_51 = 119.51\"<br>\n|\"index_val ni_121_90 = 121.90\"<br>\n|\"index_val ni_124_34 = 124.34\"</p>\n<p>value \"index_val ai_212_23\"<br>\nvalue \"index_val ni_112_62\"<br>\nML ‹<br>\nreal(5521) / real(50);<br>\n›</p>\n<p>datatype my_data =<br>\nd1|d2|d3|d4|d5|d6|d7|d8|d9|d10|<br>\nd11|d12|d13|d14|d15|d16|d17|d18|d19|d20|<br>\nd21|d22|d23|d24|d25|d26|d27|d28|d29|d30</p>\n<p>fun my_conversion :: \"my_data ⇒ nat\" where<br>\n\"my_conversion d1 = 1\"<br>\n|\"my_conversion d2 = 2\"<br>\n|\"my_conversion d3 = 3\"<br>\n|\"my_conversion d4 = 4\"<br>\n|\"my_conversion d5 = 5\"<br>\n|\"my_conversion d6 = 6\"<br>\n|\"my_conversion d7 = 7\"<br>\n|\"my_conversion d8 = 8\"<br>\n|\"my_conversion d9 = 9\"<br>\n|\"my_conversion d10 = 10\"<br>\n|\"my_conversion d11 = 1\"<br>\n|\"my_conversion d12 = 2\"<br>\n|\"my_conversion d13 = 3\"<br>\n|\"my_conversion d14 = 4\"<br>\n|\"my_conversion d15 = 5\"<br>\n|\"my_conversion d16 = 6\"<br>\n|\"my_conversion d17 = 7\"<br>\n|\"my_conversion d18 = 8\"<br>\n|\"my_conversion d19 = 9\"<br>\n|\"my_conversion d20 = 10\"<br>\n|\"my_conversion d21 = 2\"<br>\n|\"my_conversion d22 = 2\"<br>\n|\"my_conversion d23 = 3\"<br>\n|\"my_conversion d24 = 4\"<br>\n|\"my_conversion d25 = 5\"<br>\n|\"my_conversion d26 = 6\"<br>\n|\"my_conversion d27 = 7\"<br>\n|\"my_conversion d28 = 8\"<br>\n|\"my_conversion d29 = 9\"<br>\n|\"my_conversion d30 = 10\"</p>\n<p>value \"my_conversion d25\"</p>\n<p>fun my_conversion2 :: \"my_data ⇒ rat\" where<br>\n\"my_conversion2 d1 = 1.0\"<br>\n|\"my_conversion2 d2 = 2.0\"<br>\n|\"my_conversion2 d3 = 3.0\"<br>\n|\"my_conversion2 d4 = 4.0\"<br>\n|\"my_conversion2 d5 = 5.0\"<br>\n|\"my_conversion2 d6 = 6.0\"<br>\n|\"my_conversion2 d7 = 7.0\"<br>\n|\"my_conversion2 d8 = 8.0\"<br>\n|\"my_conversion2 d9 = 9.0\"<br>\n|\"my_conversion2 d10 = 10.0\"<br>\n|\"my_conversion2 d11 = 1.0\"<br>\n|\"my_conversion2 d12 = 2.0\"<br>\n|\"my_conversion2 d13 = 3.0\"<br>\n|\"my_conversion2 d14 = 4.0\"<br>\n|\"my_conversion2 d15 = 5.0\"<br>\n|\"my_conversion2 d16 = 6.0\"<br>\n|\"my_conversion2 d17 = 7.0\"<br>\n|\"my_conversion2 d18 = 8.0\"<br>\n|\"my_conversion2 d19 = 9.0\"<br>\n|\"my_conversion2 d20 = 10.0\"<br>\n|\"my_conversion2 d21 = 2.0\"<br>\n|\"my_conversion2 d22 = 2.0\"<br>\n|\"my_conversion2 d23 = 3.0\"<br>\n|\"my_conversion2 d24 = 4.0\"<br>\n|\"my_conversion2 d25 = 5.0\"<br>\n|\"my_conversion2 d26 = 6.0\"<br>\n|\"my_conversion2 d27 = 7.0\"<br>\n|\"my_conversion2 d28 = 8.0\"<br>\n|\"my_conversion2 d29 = 9.0\"<br>\n|\"my_conversion2 d30 = 10.0\"</p>\n<p>value \"my_conversion2 d25\"<br>\nend</p>\n</blockquote>",
        "id": 522342575,
        "sender_full_name": "Roland Coghetto",
        "timestamp": 1749039341
    },
    {
        "content": "<p>you have an equation <code>\"index_val ni_110_42 = 110.42\"</code> but there's no constructor <code>ni_110_42</code> (probably this is a typo for <code>ni_110_41</code>?)</p>\n<p>Since it's not a constant, it's regarded as a variable binding (this is indicated by having the name be a different colour in jedit), so this equation covers all cases &amp; everything subsequent is regarded as redundant.</p>",
        "id": 522343996,
        "sender_full_name": "terru",
        "timestamp": 1749039694
    },
    {
        "content": "<p>Thank you! That's exactly it.</p>",
        "id": 522348190,
        "sender_full_name": "Roland Coghetto",
        "timestamp": 1749040885
    }
]