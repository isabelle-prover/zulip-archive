[
    {
        "content": "<p>I'm trying to prove the following lemma:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">datatype</span><span class=\"w\"> </span><span class=\"n\">alpha</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"k\">inductive</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"s\">\"alpha list ⇒ bool\"</span><span class=\"w\"> </span><span class=\"kp\">where</span>\n<span class=\"n\">emp</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"S []\"</span><span class=\"w\"> </span><span class=\"o\">|</span>\n<span class=\"n\">aSb</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"S w ⟹ S (a # w @ [b])\"</span><span class=\"w\"> </span><span class=\"o\">|</span>\n<span class=\"n\">SS</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"S w1 ⟹ S w2 ⟹ S (w1 @ w2)\"</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"s\">\"S [a] ⟹ False\"</span>\n</code></pre></div>\n<p>However I've had no success. A proof by cases or by induction  (<code>proof(cases rule: S.cases)</code>, <code>proof(induction rule: S.induct)</code>) doesn't seem to work - Isabelle generates goals that are impossible to prove. I suspect this is ultimately failing because technically <code>S [a]</code> could be made via <code>S [a] ⟹ S [] ⟹ S ([a] @ []) = S [a]</code>, and to prove this construction impossible you first have to proof <code>S [a]</code> impossible - a vicious cycle.</p>\n<p>I would be thankful for any tips and pointers for solving this.</p>",
        "id": 560338175,
        "sender_full_name": "isauser",
        "timestamp": 1764148029
    },
    {
        "content": "<p>Try <code>induction \"[a]\" rule: S.induct</code></p>",
        "id": 560339111,
        "sender_full_name": "Kevin Kappelmann",
        "timestamp": 1764148318
    },
    {
        "content": "<p>Thank you! This worked very well. I suppose I should try to better understand all the various forms of induction, it's not the first time where changing the shape of induction made something from impossible to easy to prove.</p>",
        "id": 560340944,
        "sender_full_name": "isauser",
        "timestamp": 1764148893
    },
    {
        "content": "<p>Removed - wrong conversation.</p>",
        "id": 560419229,
        "sender_full_name": "Alex Hyman",
        "timestamp": 1764171003
    }
]