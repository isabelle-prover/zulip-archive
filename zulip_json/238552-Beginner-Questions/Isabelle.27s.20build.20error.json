[
    {
        "content": "<p>I am installing Isabelle 2025, and the recent version of afp. And when i run the <code>isabelle -e -D .</code> under the folder of FOL_Seq_Cal3, it raises an error: </p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">isabelle</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"ow\">.</span>\n<span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"w\"> </span><span class=\"ow\">...</span>\n<span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"w\"> </span><span class=\"n\">FAILED</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"k\">also</span><span class=\"w\"> </span><span class=\"s\">\"isabelle build_log -H Error HOL-Library\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Library\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Code</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"kp\">for</span><span class=\"w\"> </span><span class=\"n\">Scala</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isabelle_scala</span><span class=\"w\"> </span><span class=\"n\">scalac</span><span class=\"w\"> </span><span class=\"n\">$ISABELLE_SCALAC_OPTIONS</span><span class=\"w\"> </span><span class=\"n\">ROOT.scala</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">At</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\"export_code\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"n\">1408</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"s\">\"~~/src/HOL/Library/Finite_Map.thy\"</span><span class=\"o\">)</span>\n<span class=\"n\">FOL_Seq_Calc3</span><span class=\"w\"> </span><span class=\"n\">CANCELLED</span>\n<span class=\"n\">Unfinished</span><span class=\"w\"> </span><span class=\"n\">session</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">FOL_Seq_Calc3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span>\n<span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">01</span><span class=\"o\">:</span><span class=\"n\">20</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">07</span><span class=\"o\">:</span><span class=\"n\">16</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">5.42</span>\n</code></pre></div>\n<p>While I test it with: </p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">isabelle</span><span class=\"w\"> </span><span class=\"n\">build_log</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span>\n\n<span class=\"n\">Theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"kp\">in</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">MISSING</span>\n\n<span class=\"n\">Theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Library\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"kp\">in</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">MISSING</span>\n\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">errors</span><span class=\"o\">:</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Library\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Code</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"kp\">for</span><span class=\"w\"> </span><span class=\"n\">Scala</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isabelle_scala</span><span class=\"w\"> </span><span class=\"n\">scalac</span><span class=\"w\"> </span><span class=\"n\">$ISABELLE_SCALAC_OPTIONS</span><span class=\"w\"> </span><span class=\"n\">ROOT.scala</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">At</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\"export_code\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"n\">1408</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"s\">\"~~/src/HOL/Library/Finite_Map.thy\"</span><span class=\"o\">)</span>\n\n<span class=\"n\">Return</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ERROR</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Any idea what happens here?</p>",
        "id": 515684665,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1746182113
    },
    {
        "content": "<p>I assume your Isabelle and AFP versions don't match.</p>",
        "id": 515686181,
        "sender_full_name": "Fabian Huch",
        "timestamp": 1746182734
    },
    {
        "content": "<p>Well, I used afp-2025-05-01 and Isabelle2025 (March 2025)</p>",
        "id": 515698878,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1746187618
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"w\"> </span><span class=\"ow\">...</span>\n<span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span><span class=\"w\"> </span><span class=\"n\">FAILED</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"k\">also</span><span class=\"w\"> </span><span class=\"s\">\"isabelle build_log -H Error HOL-Library\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span><span class=\"w\"> </span><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Library\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unresolved</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Disjoint_FSets\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"s\">\"HOL-Library.Finite_Map\"</span><span class=\"o\">)</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">Code</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"kp\">for</span><span class=\"w\"> </span><span class=\"n\">Scala</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isabelle_scala</span><span class=\"w\"> </span><span class=\"n\">scalac</span><span class=\"w\"> </span><span class=\"n\">$ISABELLE_SCALAC_OPTIONS</span><span class=\"w\"> </span><span class=\"n\">ROOT.scala</span>\n<span class=\"n\">***</span><span class=\"w\"> </span><span class=\"n\">At</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"s\">\"export_code\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"n\">1408</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"s\">\"~~/src/HOL/Library/Finite_Map.thy\"</span><span class=\"o\">)</span>\n<span class=\"n\">FOL_Seq_Calc3</span><span class=\"w\"> </span><span class=\"n\">CANCELLED</span>\n<span class=\"n\">Unfinished</span><span class=\"w\"> </span><span class=\"n\">session</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">FOL_Seq_Calc3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Library</span>\n<span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">01</span><span class=\"o\">:</span><span class=\"n\">22</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">07</span><span class=\"o\">:</span><span class=\"n\">23</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">5.35</span>\n</code></pre></div>",
        "id": 515698983,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1746187660
    },
    {
        "content": "<p>Hm, those of course do match. Do you have some sort of non-standard config for that installation? E.g. what does <code>isabelle getenv ISABELLE_SCALAC_OPTIONS</code> return?</p>",
        "id": 515701130,
        "sender_full_name": "Fabian Huch",
        "timestamp": 1746188470
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">ISABELLE_SCALAC_OPTIONS</span><span class=\"o\">=-</span><span class=\"n\">encoding</span><span class=\"w\"> </span><span class=\"n\">UTF</span><span class=\"o\">-</span><span class=\"n\">8</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">feature</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">java</span><span class=\"o\">-</span><span class=\"kp\">output</span><span class=\"o\">-</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"n\">21</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">source</span><span class=\"w\"> </span><span class=\"n\">3.3</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">old</span><span class=\"o\">-</span><span class=\"k\">syntax</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">no</span><span class=\"o\">-</span><span class=\"n\">indent</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">color</span><span class=\"w\"> </span><span class=\"n\">never</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">pagewidth</span><span class=\"w\"> </span><span class=\"n\">78</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">J</span><span class=\"o\">-</span><span class=\"n\">Xms512m</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">J</span><span class=\"o\">-</span><span class=\"n\">Xmx4g</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">J</span><span class=\"o\">-</span><span class=\"n\">Xss16m</span>\n</code></pre></div>",
        "id": 515701589,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1746188668
    },
    {
        "content": "<p>No, that looks good. Your problem doesn't seem to be related to the AFP -- I assume <code>isabelle build -e HOL-Library</code> would already fail.<br>\nIf this is a unmodified Isabelle2025 installation then you should really report this problem to the mailing list, including more details about the system you're running this on</p>",
        "id": 515703286,
        "sender_full_name": "Fabian Huch",
        "timestamp": 1746189288
    },
    {
        "content": "<p>Okay, thanks for the help. I will try on my other pc to see whether the problem also exists, then write to the mailing list.</p>",
        "id": 515703907,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1746189518
    }
]