[
    {
        "content": "<p>Hi,</p>\n<p>I am trying to prove a large conjunction from a large conjunction, and being able to name each conjunct would allow solvers to pick from them individually, greatly helping the scalability. Here's a MWE demonstrating the ideal proof structure I want:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mwe</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"⟦a = 1+1 ∧ b = 2+1 ∧ c = 3+1 ⟧ ⟹ a + b = 5 ∧ b+c = 7 ∧ c+a = 6\"</span>\n<span class=\"o\">(</span><span class=\"kp\">is</span><span class=\"w\"> </span><span class=\"s\">\"?asmps ⟹ ?concls\"</span><span class=\"o\">)</span>\n<span class=\"k\">proof</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">conjI</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"a = 2\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">b3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"b = 3\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">c4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"c = 4\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"a+b = 5\"</span>\n<span class=\"w\">    </span><span class=\"k\">using</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"w\"> </span><span class=\"n\">b3</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"k\">next</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"b+c = 7\"</span>\n<span class=\"w\">    </span><span class=\"k\">using</span><span class=\"w\"> </span><span class=\"n\">b3</span><span class=\"w\"> </span><span class=\"n\">c4</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"c+a = 6\"</span>\n<span class=\"w\">    </span><span class=\"k\">using</span><span class=\"w\"> </span><span class=\"n\">c4</span><span class=\"w\"> </span><span class=\"n\">a2</span>\n<span class=\"k\">qed</span>\n</code></pre></div>\n<p>The idea is that facts like a2 b3 and c4 should be globally visible in the entire proof so that each subgoal can freely choose to pick facts they need. However using the proof method (intro conjI) they are only visible to the first subgoal. Of course I can replicate the <code>have a2 ...</code> bits in every subproof, but I wonder if there's a more efficient way to achieve the desired effect.</p>\n<p>Doing something like </p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mwe</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"⟦a = 1+1 ∧ b = 2+1 ∧ c = 3+1 ⟧ ⟹ a + b = 5 ∧ b+c = 7 ∧ c+a = 6\"</span>\n<span class=\"o\">(</span><span class=\"kp\">is</span><span class=\"w\"> </span><span class=\"s\">\"?asmps ⟹ ?concls\"</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"a = 2\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">b3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"b = 3\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">c4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"c = 4\"</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"k\">proof</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">conjI</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>also gives me error.</p>\n<p>Best wishes,<br>\nChengsong</p>",
        "id": 420583395,
        "sender_full_name": "Chengsong Tan",
        "timestamp": 1707451424
    },
    {
        "content": "<p>You can just remove the 'next' in this proof.</p>",
        "id": 420611333,
        "sender_full_name": "Maximilian Schäffeler",
        "timestamp": 1707469866
    }
]