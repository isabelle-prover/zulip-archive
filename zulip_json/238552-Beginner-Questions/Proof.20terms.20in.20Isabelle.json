[
    {
        "content": "<p>I know that you can see proof terms if you enable them and that you can use them with ML. </p>\n<p>I always thought that the choice for not having proof terms exposed to the user was because how the philosophy of Isabelle wants proofs to look like, focusing on structured proofs. </p>\n<p>But in a discussion it came up that Isabelle doesn't expose proof terms and doesn't use them because of performance reasons.</p>\n<p>So is it the case that proof terms, as a whole, are only an opt-in addon?</p>",
        "id": 339970538,
        "sender_full_name": "waynee95",
        "timestamp": 1678137908
    },
    {
        "content": "<p>I assume that you are refering to the session HOL-proofs</p>",
        "id": 340024355,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1678169567
    },
    {
        "content": "<p>The difference between HOL and HOL proofs is not wether you use proof terms or not. It is whether you export them or not.</p>",
        "id": 340024482,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1678169640
    },
    {
        "content": "<p>Normally the proofs passes through the Isabelle kernel and is not stored anyway.</p>",
        "id": 340024547,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1678169667
    },
    {
        "content": "<p>This is faster than explicitly building and storing them</p>",
        "id": 340024580,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1678169702
    },
    {
        "content": "<p>Proper timings on my machine:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">$</span><span class=\"w\"> </span><span class=\"n\">2022isabelle</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">j6</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"s\">\"threads=20\"</span><span class=\"w\">  </span><span class=\"o\">-</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Proofs</span>\n<span class=\"n\">Timing</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Proofs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">20</span><span class=\"w\"> </span><span class=\"n\">threads</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">186.387s</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">599.244s</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">364.895s</span><span class=\"w\"> </span><span class=\"n\">GC</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">3.22</span><span class=\"o\">)</span>\n<span class=\"n\">Finished</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Proofs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">03</span><span class=\"o\">:</span><span class=\"n\">33</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">11</span><span class=\"o\">:</span><span class=\"n\">19</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">3.18</span><span class=\"o\">)</span>\n\n<span class=\"n\">Finished</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">Tue</span><span class=\"w\"> </span><span class=\"n\">Mar</span><span class=\"w\"> </span><span class=\"n\">7</span><span class=\"w\"> </span><span class=\"n\">07</span><span class=\"o\">:</span><span class=\"n\">22</span><span class=\"o\">:</span><span class=\"n\">04</span><span class=\"w\"> </span><span class=\"n\">GMT</span><span class=\"o\">+</span><span class=\"n\">1</span><span class=\"w\"> </span><span class=\"n\">2023</span>\n<span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">03</span><span class=\"o\">:</span><span class=\"n\">39</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">11</span><span class=\"o\">:</span><span class=\"n\">19</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">3.10</span>\n\n\n<span class=\"n\">$</span><span class=\"w\"> </span><span class=\"n\">2022isabelle</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">j6</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"s\">\"threads=20\"</span><span class=\"w\">  </span><span class=\"o\">-</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"o\">-</span><span class=\"n\">Proofs</span>\n<span class=\"n\">Finished</span><span class=\"w\"> </span><span class=\"n\">HOL</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">01</span><span class=\"o\">:</span><span class=\"n\">40</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">11</span><span class=\"o\">:</span><span class=\"n\">29</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">6.88</span><span class=\"o\">)</span>\n<span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">01</span><span class=\"o\">:</span><span class=\"n\">45</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">0</span><span class=\"o\">:</span><span class=\"n\">11</span><span class=\"o\">:</span><span class=\"n\">29</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">factor</span><span class=\"w\"> </span><span class=\"n\">6.55</span>\n</code></pre></div>",
        "id": 340025625,
        "sender_full_name": "Mathias Fleury",
        "timestamp": 1678170313
    }
]