[
    {
        "content": "<p>How do I reuse notation introduced in a locale? I'm trying to reuse the Labeled Transition Systems module from AFP, but I can't get it to work. Interpreting the locale works fine, but then reusing notation for its abbreviation doesn't. E.g.:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">theory</span><span class=\"w\"> </span><span class=\"n\">LtsTry</span>\n<span class=\"w\">  </span><span class=\"kp\">imports</span><span class=\"w\"> </span><span class=\"n\">Main</span><span class=\"w\"> </span><span class=\"s\">\"Labeled_Transition_Systems.LTS\"</span>\n<span class=\"k\">begin</span>\n\n<span class=\"kn\">interpretation</span><span class=\"w\"> </span><span class=\"n\">LTS</span><span class=\"w\"> </span><span class=\"s\">\"{(a, b, c). b = a + c} :: (nat, nat) transition set\"</span>\n<span class=\"k\">proof</span><span class=\"w\"> </span><span class=\"o\">-</span>\n<span class=\"k\">qed</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"s\">\"step_relp a b\"</span><span class=\"w\"> </span><span class=\"c\">(* works, I can ctrl+click step_relp and it points to the above LTS instance *)</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"s\">\"a ⇒ b\"</span><span class=\"w\"> </span><span class=\"c\">(* inner syntax error, failed to parse prop. Even though this notation is added at the definition of step_relp *)</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"k\">end</span>\n</code></pre></div>\n<p>The first lemma works fine, the second has an inner syntax error on <code>=&gt;</code>. Do I have to specify all notation that I want manually using a <code>rewrites</code> clause on <code>interpretation</code>?  Or is there some additional flag I need to put somewhere to propagate notation from the interpreted locale to my global theory? <code>global_interpretation</code> also doesn't do it. Or is it nonsensical to want to reuse notation from a locale, for some reason I don't know about yet? I guess if really necessary I could create some new abbreviations to introduce the syntax I need, but it feels like I'm missing something...</p>",
        "id": 498068906,
        "sender_full_name": "Bob Rubbens",
        "timestamp": 1738832689
    },
    {
        "content": "<p>The interpretation seems to igore the notation introduced in the locale. Not sure how to do a clean solution, but you could do a quick hack by reintroducing the notation yourself with:<br>\nnotation step_relp (infix \"⇒\" 80)</p>\n<p>But if someone has a cleaner solution that does not involve introducing the same notation in two different places I would be happy to hear about it too.</p>",
        "id": 498073166,
        "sender_full_name": "Bram Kohlen",
        "timestamp": 1738833921
    }
]