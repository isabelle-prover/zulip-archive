[
    {
        "content": "<p>I am trying to be familar with locale and class type, when I try to write some down, I was stuck at this lemma proof. What it says is that for each x<em>, it equals to (1+x)</em>. My idea is prove by cases that 1 is in the x, but could solve it due to poor proof knowledge. Any helps would be appreciated.</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">monoid_mult</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">times_list</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"s\">\"xs * ys ≡ xs @ ys\"</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">one_list</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"s\">\"1 ≡ []\"</span>\n\n<span class=\"w\">  </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"k\">proof</span>\n<span class=\"w\">    </span><span class=\"k\">fix</span><span class=\"w\"> </span><span class=\"n\">xs</span><span class=\"w\"> </span><span class=\"n\">ys</span><span class=\"w\"> </span><span class=\"n\">zs</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"s\">\"'a list\"</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"xs * ys * zs = xs * (ys * zs)\"</span>\n<span class=\"w\">      </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">times_list</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"1 * xs = xs\"</span>\n<span class=\"w\">      </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">one_list</span><span class=\"w\"> </span><span class=\"n\">times_list</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"xs * 1 = xs\"</span>\n<span class=\"w\">      </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">one_list</span><span class=\"w\"> </span><span class=\"n\">times_list</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">qed</span>\n\n<span class=\"k\">end</span><span class=\"w\">  </span><span class=\"c\">(* instantiation *)</span>\n\n\n<span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">monoid_mult</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">power</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">one_set</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"s\">\"1 = {1}\"</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">times_set</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"s\">\"A * B = {u * v | u v. u ∈ A ∧ v ∈ B}\"</span>\n\n<span class=\"w\">  </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"ow\">..</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">monoid_mult</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">plus</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">plus_set</span><span class=\"o\">:</span>\n<span class=\"w\">      </span><span class=\"s\">\"A + B = A ∪ B\"</span>\n\n<span class=\"w\">  </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"ow\">..</span>\n<span class=\"k\">end</span>\n\n\n<span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">monoid_mult</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"n\">zero</span>\n<span class=\"k\">begin</span>\n\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">zero_set</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"s\">\"0 = {}\"</span>\n\n<span class=\"w\">  </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"ow\">..</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">monoid_mult</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"n\">monoid_mult</span>\n<span class=\"k\">begin</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"k\">proof</span>\n<span class=\"w\">  </span><span class=\"k\">fix</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"s\">\"'a set\"</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"a * b * c = a * (b * c)\"</span>\n<span class=\"w\">    </span><span class=\"kp\">apply</span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"n\">times_set</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">metis</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">no_types</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">opaque_lifting</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">mult.assoc</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"1 * a = a\"</span>\n<span class=\"w\">    </span><span class=\"kp\">apply</span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"n\">one_set</span><span class=\"w\"> </span><span class=\"n\">times_set</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">done</span>\n<span class=\"w\">  </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"s\">\"a * 1 = a\"</span>\n<span class=\"w\">    </span><span class=\"kp\">apply</span><span class=\"o\">(</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"o\">:</span><span class=\"n\">one_set</span><span class=\"w\"> </span><span class=\"n\">times_set</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">done</span>\n<span class=\"k\">qed</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">instantiation</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">monoid_mult</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">star_op</span>\n<span class=\"k\">begin</span>\n<span class=\"w\">  </span><span class=\"k\">definition</span><span class=\"w\"> </span><span class=\"n\">star_set</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s\">\"X⇧⋆ = (⋃n. X ^ n)\"</span>\n<span class=\"w\">  </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"ow\">..</span>\n<span class=\"k\">end</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"s\">\"x⇧⋆ = ((1::'a list set) + x)⇧⋆\"</span>\n</code></pre></div>",
        "id": 441085495,
        "sender_full_name": "Hongjian Jiang",
        "timestamp": 1716917996
    }
]