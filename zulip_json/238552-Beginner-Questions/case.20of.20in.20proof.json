[
    {
        "content": "<p>Hi, how do I properly use a <code>case a of b</code> statement given as an assumption in the proof state? Here is the example I am having trouble with:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"kn\">lemma</span> <span class=\"kp\">assumes</span> <span class=\"s\">\"seq (Suc m) (Suc n) (Node ts) (Node us)\"</span>\n  <span class=\"kp\">shows</span> <span class=\"s\">\"∀(t, u) ∈ set (zip ts us). seq m n t u\"</span>\n<span class=\"k\">proof</span>\n  <span class=\"k\">fix</span> <span class=\"n\">p</span> <span class=\"k\">assume</span> <span class=\"s\">\"p ∈ set (zip ts us)\"</span> <span class=\"c\">(*something to deal with \"case p of (t, u)\" here*)</span>\n  <span class=\"k\">then</span> <span class=\"k\">show</span> <span class=\"s\">\"seq m n (fst p) (snd p)\"</span>\n<span class=\"k\">qed</span>\n</code></pre></div>\n<p>Inside the <code>proof..qed</code> block, the proof state is:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"err\">⋀</span><span class=\"n\">x.</span> <span class=\"n\">x</span> <span class=\"err\">∈</span> <span class=\"n\">set</span> <span class=\"o\">(</span><span class=\"n\">zip</span> <span class=\"n\">ts</span> <span class=\"n\">us</span><span class=\"o\">)</span> <span class=\"err\">⟹</span>\n         <span class=\"k\">case</span> <span class=\"n\">x</span> <span class=\"n\">of</span>\n         <span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"err\">⇒</span> <span class=\"n\">seq</span> <span class=\"n\">m</span> <span class=\"n\">n</span> <span class=\"n\">t</span> <span class=\"n\">u</span>\n</code></pre></div>",
        "id": 291156226,
        "sender_full_name": "Adrián Doña Mateo",
        "timestamp": 1658998210
    },
    {
        "content": "<p>Hi Adrián, in this particular case you can consider using <code>fst</code> and <code>snd</code> to extract elements from a pair. For example, if you can show <code>have \"seq m n (fst x) (snd x)\" if \"x ∈ set (zip ts us)\" for x</code> then your target should follow:</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"k\">notepad</span>\n<span class=\"k\">begin</span>\n  <span class=\"k\">have</span> <span class=\"s\">\"seq m n (fst x) (snd x)\"</span> <span class=\"kp\">if</span> <span class=\"s\">\"x ∈ set (zip ts us)\"</span> <span class=\"kp\">for</span> <span class=\"n\">x</span>\n    <span class=\"gr\">sorry</span>\n  <span class=\"k\">then</span> <span class=\"k\">have</span> <span class=\"s\">\"⋀x. x ∈ set (zip ts us) ⟹</span>\n<span class=\"s\">         case x of</span>\n<span class=\"s\">         (t, u) ⇒ seq m n t u\"</span>\n    <span class=\"k\">by</span> <span class=\"n\">auto</span>\n<span class=\"k\">end</span>\n</code></pre></div>",
        "id": 291262463,
        "sender_full_name": "Wenda Li",
        "timestamp": 1659048411
    }
]