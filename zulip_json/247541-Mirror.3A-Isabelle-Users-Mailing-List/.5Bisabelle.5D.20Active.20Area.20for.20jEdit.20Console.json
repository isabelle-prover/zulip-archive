[
    {
        "content": "<p>From: Simon Foster via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHello everyone.</p>\n<p>I'm currently trying to implement an active area in Isabelle/jEdit that<br>\nwould allow me to open an instance of the jEdit console to interpret a file<br>\nproduced by the code generator. The workflow I'd like to achieve is that<br>\nthe user enters an Isabelle command into a theory (analogous to<br>\nexport_code), which runs the code generator and then produces an active<br>\narea in the Output pane with a link that opens the file produced in, say,<br>\nGHCi.</p>\n<p>I've looked at Pure/PIDE/Active.ML and I can see this allows sending markup<br>\nto PIDE for interpretation. As far as I can see there is currently a<br>\nlimited number of active area types that can be created, such as \"brower\",<br>\n\"theory_exports\" etc.</p>\n<p>One way to achieve opening a console is to use a jEdit action via<br>\n\"jedit_action\". The console plugin provides \"runInSystemShell(view,<br>\ncommand)\", which implements almost the functionality needed. I can indeed<br>\nexecute the command via BeanScript in jEdit. I've then tried to create a<br>\nnew jEdit action, by adding the following lines<br>\nto src/Tools/jEdit/src/actions.xml:</p>\n<p>&lt;ACTION NAME=\"ghci\"&gt;<br>\n     &lt;CODE&gt;<br>\n        runInSystemShell(view, \"ghci\");<br>\n     &lt;/CODE&gt;<br>\n&lt;/ACTION&gt;</p>\n<p>However, whilst jEdit recognises the new action on startup, and it can be<br>\ncalled using JEdit.check_action (\"ghci\", @{here}), when executed I get the<br>\nerror \"java.lang.NullPointerException: Cannot invoke<br>\n\"org.gjt.sp.jedit.EditAction.noRememberLast()\" because \"action\" is null\"<br>\n(see attached). It doesn't matter what I put in the ghci action code, it<br>\nalways produces the same error. I presume that I've not added the jEdit<br>\naction in the correct way.</p>\n<p>How can I fix this error? Is there a better way of achieving this workflow?<br>\nAny help would be appreciated.</p>\n<p>Regards,</p>\n<p>Simon.<br>\n<a href=\"/user_uploads/14278/tR9lGUQfsw4zQIDp-Loetsg7/action-error.log\">action-error.log</a></p>",
        "id": 243356244,
        "sender_full_name": "Email Gateway",
        "timestamp": 1624266639
    }
]