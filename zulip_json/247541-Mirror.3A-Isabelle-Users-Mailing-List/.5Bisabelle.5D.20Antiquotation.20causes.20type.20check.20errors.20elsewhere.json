[
    {
        "content": "<p>From: Stefan Haan &lt;<a href=\"mailto:stefan.haan@aau.at\">stefan.haan@aau.at</a>&gt;<br>\nAs discussed in the #isabelle IRC channel:<br>\nFollowing Isabelle code causes an <code>Bad number of arguments for type\nconstructor: \"Test.R\"</code> error at the \"x\" definition:</p>\n<div class=\"codehilite\"><pre><span></span><code>record (&#39;a, &#39;b) R =\n  field :: nat\n\nlocale L =\n  fixes r :: &quot;(&#39;a, &#39;b) R&quot;\nbegin\n  definition &quot;x ≡ 42&quot;\n   ― ‹ here something about \\&lt;^typ&gt;‹R› is wrong›\nend\n</code></pre></div>\n<p>I found this quite confusing as type <code>R</code> is never used in the<br>\ndefinition of x. But clearly something is wrong with it, so let's<br>\ndelete the x definition line. Surprisingly, this causes the error to<br>\njump further up to the locale declaration. This also confused me<br>\nbecause:</p>\n<p>1) I assumed the code to be correct until the definition line.</p>\n<p>2) Clearly I used the right number of type arguments in <code>fixes r</code>.</p>\n<p>It took me a while to realize that the problem was the <code>typ</code><br>\nantiquotation in the comment below the x definition. I think the error<br>\nshould have been shown on the antiquotation.</p>\n<p>Best greetings,<br>\nStefan Haan<br>\n<a href=\"/user_uploads/14278/6xQLvP5NCUK8Rd43Zc0owSMC/Test.thy\">Test.thy</a><br>\n<a href=\"/user_uploads/14278/UK8zWutmr0JTwYyyuO-DX2qv/smime.p7s\">smime.p7s</a></p>",
        "id": 272937235,
        "sender_full_name": "Email Gateway",
        "timestamp": 1645616687
    }
]