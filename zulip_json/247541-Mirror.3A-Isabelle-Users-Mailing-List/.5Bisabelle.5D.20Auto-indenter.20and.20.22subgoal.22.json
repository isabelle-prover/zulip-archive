[
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nIn an apply script, the auto-indenter tries to indicate the nesting of subgoals. <br>\nBut the subgoal command seems to disturb that:</p>\n<p>lemma assumes P Q R shows \"(P &amp; Q) &amp; R\"<br>\n   apply(rule conjI)<br>\n    apply(rule conjI)<br>\n   subgoal<br>\n     apply(fact ‹P›)<br>\n     done<br>\n   subgoal<br>\n     apply(fact ‹Q›)<br>\n     done<br>\n   subgoal<br>\n     apply(fact ‹R›)<br>\n     done<br>\n   done</p>\n<p>The first subgoal is exdented and all three subgoals look like they are on the <br>\nsame level. I (probably) understand why this happens, but could it be improved?</p>\n<p>Tobias<br>\n<a href=\"/user_uploads/14278/hoLgNV-oa6we2n0GpuAgJtwe/smime.p7s\">smime.p7s</a></p>",
        "id": 313448282,
        "sender_full_name": "Email Gateway",
        "timestamp": 1669969822
    },
    {
        "content": "<p>From: Peter Lammich &lt;<a href=\"mailto:lammich@in.tum.de\">lammich@in.tum.de</a>&gt;<br>\nI think that the indentation of subgoals (as well as the whole <br>\nindentation style) is pretty subjective.</p>\n<p>IMHO, a proof structure like</p>\n<p>subgoal by ...<br>\nsubgoal by ...<br>\nsubgoal by ...<br>\ndone</p>\n<p>clearly indicates that there are 3 subgoals, that are solved one after <br>\nthe other. No need for indentation.</p>\n<p>Indenting would be be similar to indenting the following:</p>\n<p>proof (cases)<br>\n    case 1 thus ?case by auto<br>\n   next<br>\n   case 2 thus ?case by auto<br>\n  next<br>\n  case 3 thus ?case by auto<br>\nqed</p>",
        "id": 313465896,
        "sender_full_name": "Email Gateway",
        "timestamp": 1669976193
    },
    {
        "content": "<p>From: Gerwin Klein &lt;<a href=\"mailto:kleing@unsw.edu.au\">kleing@unsw.edu.au</a>&gt;</p>\n<blockquote>\n<p>On 2 Dec 2022, at 21:15, Peter Lammich &lt;<a href=\"mailto:lammich@in.tum.de\">lammich@in.tum.de</a>&gt; wrote:<br>\nI think that the indentation of subgoals (as well as the whole indentation style) is pretty subjective. </p>\n</blockquote>\n<p>Sure is, otherwise there'd be no need to talk about it. But: whatever it is, it should be consistent, and what Tobias showed clearly is not consistent with existing practice.</p>\n<blockquote>\n<p>IMHO, a proof structure like<br>\nsubgoal by ...<br>\nsubgoal by ...<br>\nsubgoal by ...<br>\ndone</p>\n<p>clearly indicates that there are 3 subgoals, that are solved one after the other. No need for indentation.</p>\n</blockquote>\n<p>Neither would there be in an apply script that is</p>\n<p>apply fastforce<br>\napply fastforce<br>\napply fastforce</p>\n<p>yet we do still want to indent it. Why? Because it doesn't make sense to indent one part of a script one way and another part of the same script another way.</p>\n<p>You also conveniently left out the part that is the actual problem. Namely the rest of indentation in the middle of an apply script that Tobias showed:</p>\n<p>apply(rule conjI)<br>\n apply(rule conjI)<br>\n  apply(rule conjI)<br>\nsubgoal by ...<br>\n  apply fastforce</p>\n<p>This is clearly inconsistent.</p>\n<p>In the middle of a script you do <em>not</em> know how many subgoals there are if you don't indent, you just know how many subgoal commands you have used.</p>\n<p>To come back to the example of 3 subgoals: in a proof with 3 subgoals it doesn't matter much what you do anyway. Try a proof with 12 subgoals. Do you really want to say that we should count those manually? I have not seen any serious proofs that do that. I don't wonder why.</p>\n<blockquote>\n<p>Indenting would be be similar to indenting the following:<br>\nproof (cases)<br>\n   case 1 thus ?case by auto<br>\n   next<br>\n  case 2 thus ?case by auto<br>\n  next<br>\n case 3 thus ?case by auto<br>\nqed</p>\n</blockquote>\n<p>This is a strawman argument. Nobody is suggesting that Isar-style indentation needs adjustment and Tobias has not suggested that apply-style indentation has any problems. He is merely pointing out that the subgoal command should use the apply-style indentation, not the structured proof indentation, because apply scripts are where the subgoal command is used.</p>\n<p>And I strong agree.</p>\n<p>Cheers,<br>\nGerwin</p>",
        "id": 314188865,
        "sender_full_name": "Email Gateway",
        "timestamp": 1670314896
    }
]