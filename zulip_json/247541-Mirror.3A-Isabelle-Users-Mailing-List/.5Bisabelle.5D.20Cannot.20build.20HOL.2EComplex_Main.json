[
    {
        "content": "<p>From: Yann Leray &lt;<a href=\"mailto:yann.leray@inria.fr\">yann.leray@inria.fr</a>&gt;<br>\nHello,<br>\nI am working on Isabelle/Dedukti, a module to output Isabelle proofs in <br>\nDedukti and Lambdapi.<br>\nIn this context, I want to build the standard library, and I need Pure <br>\nas the basis (I think this is important for my problem).<br>\nHowever, the build won't finish for various reasons. (I got 2 different <br>\nreasons for 2 tries which I linked).<br>\nCan you explain what I may be doing wrong?</p>\n<p>I am new to Isabelle and not well acquainted to even the build <br>\nmechanism, as I had for a long time good enough sessions/config files, <br>\nso I may probably have missed an important setting or done something <br>\nblatantly problematic.</p>\n<p>Thanks for your time,</p>\n<p>Yann Leray</p>\n<p>NB: The machine where I'm running this has 64GB of RAM and about 5GB of <br>\nfree disk space<br>\nNB: I'm not exactly running \"isabelle build All\" but the module <br>\nDedukti_Import calls for a build, and I am convinced this is where my <br>\nproblem lies</p>\n<p>Relevant session definition:</p>\n<p>session All in \"Ex/All\" = Pure +<br>\n   options [export_theory, export_proofs, record_proofs = 2]<br>\n   sessions HOL<br>\n   theories<br>\n     HOL.Complex_Main</p>\n<p>Standard output:</p>\n<p>Started at Thu May 6 01:36:02 GMT 2021</p>\n<p>Build started for Isabelle/All ...<br>\nRunning All ...<br>\nAll: theory Tools.Code_Generator<br>\nAll: theory HOL.HOL<br>\nAll: theory HOL.Argo<br>\nAll: theory HOL.SAT<br>\n[cut ...]<br>\nAll: theory HOL.Presburger<br>\nAll: theory HOL.Sledgehammer<br>\nAll: theory HOL.List<br>\nAll: theory HOL.Groups_List<br>\nAll: theory HOL.Factorial<br>\nAll: theory HOL.Binomial<br>\nAll: theory HOL.GCD<br>\nAll: theory HOL.Map<br>\nAll: theory HOL.Enum<br>\nRun out of store - interrupting threads<br>\nAll FAILED<br>\n(see also <br>\n/home/ubuntu/.isabelle/Isabelle2021/heaps/polyml-5.8.2_x86_64_32-linux/log/All) </p>\n<p>*** exception Fail raised (line 2220 of \"proofterm.ML\"): Interrupt: <br>\npotential resource problems while exporting proof 2562160<br>\n*** At command \"by\" (line 933 of \"~~/src/HOL/Enum.thy\")<br>\nUnfinished session(s): All</p>\n<p>Finished at Thu May 6 02:56:39 GMT 2021<br>\n1:20:37 elapsed time</p>\n<p>Standard error:</p>\n<p>*** Failed to build Isabelle/All</p>\n<p>Standard output 2:</p>\n<p>Started at Thu May 6 15:36:00 GMT 2021</p>\n<p>Build started for Isabelle/All ...<br>\nRunning All ...<br>\nAll: theory Tools.Code_Generator<br>\nAll: theory HOL.HOL<br>\nAll: theory HOL.Argo<br>\nAll: theory HOL.SAT<br>\n[cut ...]<br>\nAll: theory HOL.Presburger<br>\nAll: theory HOL.Sledgehammer<br>\nAll: theory HOL.List<br>\nAll: theory HOL.Groups_List<br>\nAll: theory HOL.Factorial<br>\nAll: theory HOL.Binomial<br>\nAll: theory HOL.GCD<br>\nAll: theory HOL.Map<br>\nAll: theory HOL.Enum</p>\n<p>Standard error 2:</p>\n<p>Exception in thread \"Isabelle.message_output\" <br>\njava.lang.IndexOutOfBoundsException: Range [0, 0 + -194519867) out of <br>\nbounds for length 65536<br>\n         at <br>\njava.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)<br>\n         at <br>\njava.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromIndexSize(Preconditions.java:82)<br>\n         at <br>\njava.base/jdk.internal.util.Preconditions.checkFromIndexSize(Preconditions.java:343)<br>\n         at <br>\njava.base/java.util.Objects.checkFromIndexSize(Objects.java:411)<br>\n         at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:339)<br>\n         at <br>\njava.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)<br>\n         at <br>\njava.base/java.net.Socket$SocketInputStream.read(Socket.java:981)<br>\n         at isabelle.Prover.read_chunk_bytes$1(prover.scala:290)<br>\n         at isabelle.Prover.$anonfun$message_output$1(prover.scala:316)<br>\n         at <br>\nisabelle.Isabelle_Thread$.$anonfun$fork$2(isabelle_thread.scala:65)<br>\n         at isabelle.Isabelle_Thread.run(isabelle_thread.scala:141)</p>",
        "id": 239063021,
        "sender_full_name": "Email Gateway",
        "timestamp": 1621246057
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 17/05/2021 06:25, Yann Leray wrote:</p>\n<blockquote>\n<p>I am working on Isabelle/Dedukti, a module to output Isabelle proofs in<br>\nDedukti and Lambdapi.</p>\n</blockquote>\n<blockquote>\n<p>However, the build won't finish for various reasons.</p>\n<p>NB: The machine where I'm running this has 64GB of RAM and about 5GB of free<br>\ndisk space<br>\nNB: I'm not exactly running \"isabelle build All\" but the module Dedukti_Import<br>\ncalls for a build, and I am convinced this is where my problem lies</p>\n<p>Relevant session definition:</p>\n<p>session All in \"Ex/All\" = Pure +<br>\n  options [export_theory, export_proofs, record_proofs = 2]<br>\n  sessions HOL<br>\n  theories<br>\n    HOL.Complex_Main</p>\n<p>Standard output:</p>\n<p>Started at Thu May 6 01:36:02 GMT 2021</p>\n<p>Build started for Isabelle/All ...<br>\nRunning All ...<br>\nAll: theory Tools.Code_Generator<br>\nAll: theory HOL.HOL<br>\nAll: theory HOL.Argo<br>\nAll: theory HOL.SAT<br>\n[cut ...]<br>\nAll: theory HOL.Presburger<br>\nAll: theory HOL.Sledgehammer<br>\nAll: theory HOL.List<br>\nAll: theory HOL.Groups_List<br>\nAll: theory HOL.Factorial<br>\nAll: theory HOL.Binomial<br>\nAll: theory HOL.GCD<br>\nAll: theory HOL.Map<br>\nAll: theory HOL.Enum<br>\nRun out of store - interrupting threads<br>\nAll FAILED<br>\n(see also<br>\n/home/ubuntu/.isabelle/Isabelle2021/heaps/polyml-5.8.2_x86_64_32-linux/log/All)<br>\n*** exception Fail raised (line 2220 of \"proofterm.ML\"): Interrupt: potential<br>\nresource problems while exporting proof 2562160<br>\n*** At command \"by\" (line 933 of \"~~/src/HOL/Enum.thy\")<br>\nUnfinished session(s): All</p>\n</blockquote>\n<p>This looks fine so far. The export_proofs option is the result of some<br>\nexplorative work that I did with Michael Färber approx. 1 year ago, and we<br>\nmanaged to get exactly to HOL.Enum: it requires careful inspection how these<br>\nproofs are done internally to get beyond that stage.</p>\n<p>Afterwards, additional stages of exploration will be required to export all of<br>\nMain or even Complex_Main eventually.</p>\n<blockquote>\n<p>Exception in thread \"Isabelle.message_output\"<br>\njava.lang.IndexOutOfBoundsException: Range [0, 0 + -194519867) out of bounds<br>\nfor length 65536<br>\n        at<br>\njava.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)<br>\n        at<br>\njava.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromIndexSize(Preconditions.java:82)</p>\n<p>at<br>\njava.base/jdk.internal.util.Preconditions.checkFromIndexSize(Preconditions.java:343)</p>\n<p>at java.base/java.util.Objects.checkFromIndexSize(Objects.java:411)<br>\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:339)<br>\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)<br>\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:981)<br>\n        at isabelle.Prover.read_chunk_bytes$1(prover.scala:290)<br>\n        at isabelle.Prover.$anonfun$message_output$1(prover.scala:316)<br>\n        at isabelle.Isabelle_Thread$.$anonfun$fork$2(isabelle_thread.scala:65)<br>\n        at isabelle.Isabelle_Thread.run(isabelle_thread.scala:141)</p>\n</blockquote>\n<p>That is a Java crash, which I have not yet seen before. Maybe it is a<br>\nconsequence of recent renovations of the underlying socket implementation.</p>\n<p>The negative integer looks suspiciously like an overflow of the machine word<br>\ntype that is historically called \"int\".</p>\n<p>Anyway, I think we should have a private discussion (including Frederic<br>\nBlanqui) about the current status of this unfinished research and development<br>\nfrom last year.</p>\n<p>I am presently lagging behind many weeks in my mail folder, but this is<br>\nsufficiently important to move forward soon.</p>\n<p>Makarius</p>",
        "id": 239573925,
        "sender_full_name": "Email Gateway",
        "timestamp": 1621509961
    }
]