[
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nWhen building AFP/devel/Collections:</p>\n<p>Collections FAILED (see also \"isabelle build_log -H Error Collections\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls -XRankNTypes <br>\n-XScopedTypeVariables -odir build -hidir build -stubdir build -e \"\" <br>\nGenerated_Code.hs<br>\n*** At command \"export_code\" (line 90 of <br>\n\"$AFP/Collections/ICF/tools/Locale_Code_Ex.thy\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls -XRankNTypes <br>\n-XScopedTypeVariables -odir build -hidir build -stubdir build -e \"\" <br>\nGenerated_Code.hs<br>\n*** At command \"export_code\" (line 1095 of \"$AFP/Collections/Lib/Diff_Array.thy\")</p>\n<p>What is happening here? How can I avoid this?</p>\n<p>I am on AFP c69ba7047b69 and isabelle 4219bb3951de</p>\n<p>Thanks<br>\nTobias</p>\n<p>PS I know isabelle-dev is the correct destination but I am having problems with <br>\nthat one.</p>\n<p><a href=\"/user_uploads/14278/45EuyC0mPaW3eoDx2sg_sMrJ/smime.p7s\">smime.p7s</a></p>",
        "id": 491106452,
        "sender_full_name": "Email Gateway",
        "timestamp": 1735406049
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nFlorian,</p>\n<p>That seems to have been the problem. I have backed out that changeset and pushed <br>\nthat.</p>\n<p>Tobias</p>\n<p>On 28/12/2024 19:09, Florian Haftmann wrote:</p>\n<blockquote>\n<p>Hi Tobias,</p>\n<p>Am 28.12.24 um 18:13 schrieb Tobias Nipkow:</p>\n<blockquote>\n<p>When building AFP/devel/Collections:</p>\n<p>Collections FAILED (see also \"isabelle build_log -H Error Collections\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir build -e <br>\n\"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 90 of \"$AFP/Collections/ICF/tools/ <br>\nLocale_Code_Ex.thy\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir build -e <br>\n\"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 1095 of \"$AFP/Collections/Lib/ <br>\nDiff_Array.thy\")</p>\n<p>What is happening here? How can I avoid this?</p>\n<p>I am on AFP c69ba7047b69 and isabelle 4219bb3951de</p>\n</blockquote>\n<p>it might be related to some extension I made recently in <a href=\"https://isabelle-\">https://isabelle-</a> <br>\n<a href=\"http://dev.sketis.net/rISABELLE0ca0a47235e53ec93bce681e2a149726b829db61\">dev.sketis.net/rISABELLE0ca0a47235e53ec93bce681e2a149726b829db61</a> – although <br>\nisabelle build_task reported no issues (maybe I accidentally checked the wrong <br>\npoints in history?).</p>\n<p>Unfortunately I am currently away from anything and can’t check myself what’s <br>\ngoing on. Feel free to back out the changeset 0ca0a47235e5 (hg backout) and if <br>\nthat helps, push that also.</p>\n<blockquote>\n<p>PS I know isabelle-dev is the correct destination but I am having problems <br>\nwith that one.</p>\n</blockquote>\n<p>Me too, I made a new account using my @cit.tum.de mail address. Maybe this is <br>\nrelated of the enforced turning down of well-established domains like <br>\ninformatik.tu-muenchen.de…</p>\n<p>Cheers,<br>\n     Florian<br>\n</p>\n</blockquote>\n<p><a href=\"/user_uploads/14278/a_FN6Rs18CTD7OfZmOx_G76y/smime.p7s\">smime.p7s</a></p>",
        "id": 491118475,
        "sender_full_name": "Email Gateway",
        "timestamp": 1735418215
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;<br>\nHi Tobias,</p>\n<p>Am 28.12.24 um 18:13 schrieb Tobias Nipkow:</p>\n<blockquote>\n<p>When building AFP/devel/Collections:</p>\n<p>Collections FAILED (see also \"isabelle build_log -H Error Collections\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir <br>\nbuild -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 90 of \"$AFP/Collections/ICF/tools/ <br>\nLocale_Code_Ex.thy\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir <br>\nbuild -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 1095 of \"$AFP/Collections/Lib/ <br>\nDiff_Array.thy\")</p>\n<p>What is happening here? How can I avoid this?</p>\n<p>I am on AFP c69ba7047b69 and isabelle 4219bb3951de</p>\n</blockquote>\n<p>it might be related to some extension I made recently in <br>\n<a href=\"https://isabelle-dev.sketis.net/rISABELLE0ca0a47235e53ec93bce681e2a149726b829db61\">https://isabelle-dev.sketis.net/rISABELLE0ca0a47235e53ec93bce681e2a149726b829db61</a> <br>\n– although isabelle build_task reported no issues (maybe I accidentally <br>\nchecked the wrong points in history?).</p>\n<p>Unfortunately I am currently away from anything and can’t check myself <br>\nwhat’s going on. Feel free to back out the changeset 0ca0a47235e5 (hg <br>\nbackout) and if that helps, push that also.</p>\n<blockquote>\n<p>PS I know isabelle-dev is the correct destination but I am having <br>\nproblems with that one.</p>\n</blockquote>\n<p>Me too, I made a new account using my @cit.tum.de mail address. Maybe <br>\nthis is related of the enforced turning down of well-established domains <br>\nlike informatik.tu-muenchen.de…</p>\n<p>Cheers,<br>\n    Florian</p>\n<p><a href=\"/user_uploads/14278/R8SfGxCLJdK9PSRWT6KeN1-9/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/cMV5WbuthBmak61YZ3wVTk6f/OpenPGP_signature.asc\">OpenPGP_signature.asc</a></p>",
        "id": 492001704,
        "sender_full_name": "Email Gateway",
        "timestamp": 1736114123
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;</p>\n<blockquote>\n<blockquote>\n<p>Collections FAILED (see also \"isabelle build_log -H Error Collections\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir <br>\nbuild -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 90 of \"$AFP/Collections/ICF/tools/ <br>\nLocale_Code_Ex.thy\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls - <br>\nXRankNTypes -XScopedTypeVariables -odir build -hidir build -stubdir <br>\nbuild -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 1095 of \"$AFP/Collections/Lib/ <br>\nDiff_Array.thy\") <br>\nisabelle build_task reported no issues (maybe I accidentally checked <br>\nthe wrong points in history?).</p>\n</blockquote>\n</blockquote>\n<p>Note that clusterized builds do not have a Haskell environment, because <br>\nthe underlying Build_Cluster does not support remote *_setup operations <br>\nfor its nodes yet (and would ignore these components even if set up by <br>\nhand). This means that such code checks will be skipped (cf. the <br>\n'undefined ISABELLE_GHC' warnings in the log).</p>\n<p>Fabian</p>",
        "id": 492283530,
        "sender_full_name": "Email Gateway",
        "timestamp": 1736246243
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;</p>\n<p>On 1/7/25 11:29, Fabian Huch wrote:</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>Collections FAILED (see also \"isabelle build_log -H Error Collections\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls <br>\n- XRankNTypes -XScopedTypeVariables -odir build -hidir build <br>\n-stubdir build -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 90 of <br>\n\"$AFP/Collections/ICF/tools/ Locale_Code_Ex.thy\")<br>\n*** Code check failed for Haskell: \"$ISABELLE_GHC\" -XEmptyDataDecls <br>\n- XRankNTypes -XScopedTypeVariables -odir build -hidir build <br>\n-stubdir build -e \"\" Generated_Code.hs<br>\n*** At command \"export_code\" (line 1095 of \"$AFP/Collections/Lib/ <br>\nDiff_Array.thy\") <br>\nisabelle build_task reported no issues (maybe I accidentally checked <br>\nthe wrong points in history?).</p>\n</blockquote>\n</blockquote>\n<p>Note that clusterized builds do not have a Haskell environment, <br>\nbecause the underlying Build_Cluster does not support remote *_setup <br>\noperations for its nodes yet (and would ignore these components even <br>\nif set up by hand). This means that such code checks will be skipped <br>\n(cf. the 'undefined ISABELLE_GHC' warnings in the log).</p>\n</blockquote>\n<p>Correction, now that the server is back online: There is indeed a <br>\nmanually set up ISABELLE_GHC on there, since this one only depends on <br>\naccidental file system state -- other components (e.g. ISABELLE_GO) <br>\nrequire explicit management.</p>\n<p>Fabian</p>",
        "id": 492327064,
        "sender_full_name": "Email Gateway",
        "timestamp": 1736262342
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 07/01/2025 16:05, Fabian Huch wrote:</p>\n<blockquote>\n<blockquote>\n<p>Note that clusterized builds do not have a Haskell environment, because the <br>\nunderlying Build_Cluster does not support remote *_setup operations for its <br>\nnodes yet (and would ignore these components even if set up by hand). This <br>\nmeans that such code checks will be skipped (cf. the 'undefined <br>\nISABELLE_GHC' warnings in the log).</p>\n</blockquote>\n<p>Correction, now that the server is back online: There is indeed a manually set <br>\nup ISABELLE_GHC on there, since this one only depends on accidental file <br>\nsystem state -- other components (e.g. ISABELLE_GO) require explicit management.</p>\n</blockquote>\n<p>First note, that my plan for Isabelle2025-RC1 is to provide the missing <br>\nOther_Isabelle operations to do \"isabelle go_setup\" or \"isabelle ghc_setup\" on <br>\nthe target environment, in a way that works for historic versions, too.</p>\n<p>Further, I wonder what the uninformative test by Florian really looked like, <br>\nand if there were other reasons for the problem.</p>\n<p>Many years ago, when we came up with the \"isabelle ghc_setup\" plan via <br>\n\"stack\", the overall prospect was more optimistic. In the meantime I've see <br>\ntoo many odd failures: the setup is not as well-defined or \"statically <br>\nclosed\", as it should be. (GHC/Stack is much better than OCaml/OPAM, though.)</p>\n<p>Makarius</p>",
        "id": 492337696,
        "sender_full_name": "Email Gateway",
        "timestamp": 1736265519
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;</p>\n<blockquote>\n<blockquote>\n<p>Note that clusterized builds do not have a Haskell environment, <br>\nbecause the underlying Build_Cluster does not support remote *_setup <br>\noperations for its nodes yet (and would ignore these components even <br>\nif set up by hand). This means that such code checks will be skipped <br>\n(cf. the 'undefined ISABELLE_GHC' warnings in the log).</p>\n</blockquote>\n<p>Correction, now that the server is back online: There is indeed a <br>\nmanually set up ISABELLE_GHC on there, since this one only depends on <br>\naccidental file system state -- other components (e.g. ISABELLE_GO) <br>\nrequire explicit management.</p>\n</blockquote>\n<p>My check was to leave out the question mark after Haskell in</p>\n<p><a href=\"https://isabelle.in.tum.de/repos/isabelle/file/tip/src/HOL/Codegenerator_Test/Generate.thy#l18\">https://isabelle.in.tum.de/repos/isabelle/file/tip/src/HOL/Codegenerator_Test/Generate.thy#l18</a></p>\n<p>and schedule that as build task.</p>\n<p>Now with that background information I am aware that this just worked by <br>\naccident.</p>\n<p>So for the moment I will apply traditional build-all if needed.</p>\n<p>Cheers,<br>\n    Florian</p>\n<p><a href=\"/user_uploads/14278/BHMUEyLntXTy7uIliKdoXhce/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/bpPl83_QleivwXfRiolTYhe8/OpenPGP_signature.asc\">OpenPGP_signature.asc</a></p>",
        "id": 492374402,
        "sender_full_name": "Email Gateway",
        "timestamp": 1736278643
    }
]