[
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:paolo.crisafulli@irt-systemx.fr\">paolo.crisafulli@irt-systemx.fr</a>&gt;<br>\nHi all,</p>\n<p>I have the following error message in a thy file which uses both <br>\nsessions Ordinary_Differential_Equations and HOL-CSPM:</p>\n<p>exception THEORY raised (line 378 of \"context.ML\"):<br>\n   Duplicate theory name<br>\n   {..., Main, HOLCF.Porder, HOLCF.Pcpo, HOLCF.Cont, Discrete}<br>\n   {..., HOL.Transcendental, HOL.Complex, HOL.MacLaurin, Complex_Main, <br>\nDiscrete}</p>\n<p>A simple setup to reproduce the error is with the following theory:</p>\n<p>theory MyTheory<br>\n   imports<br>\n     \"HOLCF.Discrete\"<br>\n     \"HOL-Library.Library\"<br>\nbegin<br>\nend</p>\n<p>and a ROOTS file such as:</p>\n<p>/path/to/Isabelle2024/src/HOL</p>\n<p>Any idea on how to fix this?</p>\n<p>Thank you very much in advance.</p>\n<p>Paolo</p>",
        "id": 482033063,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731443150
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;<br>\nYou cannot have two theories with the same base name in an import path <br>\nunfortunately (a limitation coming from a time when theories were <br>\nconsidered globally unique entities).</p>\n<p>Currently, the only option (that I am aware of) is is to rename one of <br>\nthe theories.</p>\n<p>Fabian</p>\n<p>On 11/12/24 21:25, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I have the following error message in a thy file which uses both <br>\nsessions Ordinary_Differential_Equations and HOL-CSPM:</p>\n<p>exception THEORY raised (line 378 of \"context.ML\"):<br>\n  Duplicate theory name<br>\n  {..., Main, HOLCF.Porder, HOLCF.Pcpo, HOLCF.Cont, Discrete}<br>\n  {..., HOL.Transcendental, HOL.Complex, HOL.MacLaurin, Complex_Main, <br>\nDiscrete}</p>\n<p>A simple setup to reproduce the error is with the following theory:</p>\n<p>theory MyTheory<br>\n  imports<br>\n    \"HOLCF.Discrete\"<br>\n    \"HOL-Library.Library\"<br>\nbegin<br>\nend</p>\n<p>and a ROOTS file such as:</p>\n<p>/path/to/Isabelle2024/src/HOL</p>\n<p>Any idea on how to fix this?</p>\n<p>Thank you very much in advance.</p>\n<p>Paolo</p>\n</blockquote>",
        "id": 482118091,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731487591
    },
    {
        "content": "<p>From: bpuyobro &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nLe 2024-11-13 09:46, Fabian Huch a écrit :</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path <br>\nunfortunately (a limitation coming from a time when theories were <br>\nconsidered globally unique entities).</p>\n<p>Currently, the only option (that I am aware of) is is to rename one of <br>\nthe theories.</p>\n<p>Fabian</p>\n<p>On 11/12/24 21:25, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I have the following error message in a thy file which uses both <br>\nsessions Ordinary_Differential_Equations and HOL-CSPM:</p>\n<p>exception THEORY raised (line 378 of \"context.ML\"):<br>\n  Duplicate theory name<br>\n  {..., Main, HOLCF.Porder, HOLCF.Pcpo, HOLCF.Cont, Discrete}<br>\n  {..., HOL.Transcendental, HOL.Complex, HOL.MacLaurin, Complex_Main, <br>\nDiscrete}</p>\n<p>A simple setup to reproduce the error is with the following theory:</p>\n<p>theory MyTheory<br>\n  imports<br>\n    \"HOLCF.Discrete\"<br>\n    \"HOL-Library.Library\"<br>\nbegin<br>\nend</p>\n<p>and a ROOTS file such as:</p>\n<p>/path/to/Isabelle2024/src/HOL</p>\n<p>Any idea on how to fix this?</p>\n<p>Thank you very much in advance.</p>\n<p>Paolo</p>\n<p>Hi, I'm currently working with Paolo and we share the issue.</p>\n</blockquote>\n</blockquote>\n<p>Is there a way of renaming a theory during the import of said theory <br>\n(using long names maybe?) so that the solution of the issue is carried <br>\nin the theory file or should we just bruteforce it by renaming said <br>\ntheory \"by hand\" in the HOL/Library folder (we would like to avoid this) <br>\n?</p>\n<p>Regards,<br>\nBenjamin</p>",
        "id": 482132159,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731491904
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 13/11/2024 09:46, Fabian Huch wrote:</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path <br>\nunfortunately (a limitation coming from a time when theories were considered <br>\nglobally unique entities).</p>\n</blockquote>\n<p>Note that theory names are still globally unique, although the name is usually <br>\nqualified by the session name, so clashes don't occur in the session context.</p>\n<p>There is an additional restriction for theories that are formally merged: base <br>\nnames need to be unique, because thy are used for the standard name space <br>\npolicy. One happy day, when the name space policies are changed --- after a <br>\nlot of hard work --- this restriction will disappear.</p>\n<blockquote>\n<p>Currently, the only option (that I am aware of) is is to rename one of the <br>\ntheories.</p>\n</blockquote>\n<p>Yes, indeed.</p>\n<p>Dirty tricks should be avoided. The planet needs to be kept clean and alive.</p>\n<p>Although HOL-Library.Discrete could just as well be called something else, <br>\ne.g. HOL-Librrary.Discrete_Funs, it is probably easier to clean-up HOLCF a <br>\nlittle bit.</p>\n<p>Here is historic evidence for the introduction of this theory in 1997: <br>\n<a href=\"https://isabelle-dev.sketis.net/rISABELLEc2508f4ab739\">https://isabelle-dev.sketis.net/rISABELLEc2508f4ab739</a></p>\n<p>That is interesting on its own account: it shows how theory construction had <br>\nto alternate between .thy files (for specifications) and .ML files (for <br>\nproofs) a few decades ago.</p>\n<p>Today there is very little motivation of have these few specifications and <br>\nproofs in the separate theory HOLCF.Discrete. The material could be moved to <br>\nthe start of its descendent HOLCF.Lift (and maybe separated by 'section' <br>\nheadings).</p>\n<p>Makarius</p>",
        "id": 482154776,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731499106
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;<br>\nHello,</p>\n<p>it is somewhat rare to include all of HOL-Library in a theory. Usually <br>\nyou only import the bits of it that you actually need.</p>\n<p>If your work does not depend on HOL-Library.Discrete then I would <br>\nrecommend to simply import the bits of HOL-Library that you explicitly need.</p>\n<p>Of course we should try to make sure that at least within the HOL part <br>\nof the Isabelle distribution, no duplicate theory names occur. And in <br>\nthe future, in the AFP as well.</p>\n<p>Manuel</p>\n<p>On 13/11/2024 10:48, bpuyobro (via cl-isabelle-users Mailing List) wrote:</p>\n<blockquote>\n<p>Le 2024-11-13 09:46, Fabian Huch a écrit :</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import <br>\npath unfortunately (a limitation coming from a time when theories <br>\nwere considered globally unique entities).</p>\n<p>Currently, the only option (that I am aware of) is is to rename one <br>\nof the theories.</p>\n<p>Fabian</p>\n<p>On 11/12/24 21:25, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Hi all,</p>\n<p>I have the following error message in a thy file which uses both <br>\nsessions Ordinary_Differential_Equations and HOL-CSPM:</p>\n<p>exception THEORY raised (line 378 of \"context.ML\"):<br>\n  Duplicate theory name<br>\n  {..., Main, HOLCF.Porder, HOLCF.Pcpo, HOLCF.Cont, Discrete}<br>\n  {..., HOL.Transcendental, HOL.Complex, HOL.MacLaurin, <br>\nComplex_Main, Discrete}</p>\n<p>A simple setup to reproduce the error is with the following theory:</p>\n<p>theory MyTheory<br>\n  imports<br>\n    \"HOLCF.Discrete\"<br>\n    \"HOL-Library.Library\"<br>\nbegin<br>\nend</p>\n<p>and a ROOTS file such as:</p>\n<p>/path/to/Isabelle2024/src/HOL</p>\n<p>Any idea on how to fix this?</p>\n<p>Thank you very much in advance.</p>\n<p>Paolo</p>\n<p>Hi, I'm currently working with Paolo and we share the issue.</p>\n</blockquote>\n</blockquote>\n<p>Is there a way of renaming a theory during the import of said theory <br>\n(using long names maybe?) so that the solution of the issue is carried <br>\nin the theory file or should we just bruteforce it by renaming said <br>\ntheory \"by hand\" in the HOL/Library folder (we would like to avoid <br>\nthis) ?</p>\n<p>Regards,<br>\nBenjamin</p>\n</blockquote>",
        "id": 482165139,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731502310
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;</p>\n<p>On 11/13/24 11:03, Manuel Eberl wrote:</p>\n<blockquote>\n<p>Of course we should try to make sure that at least within the HOL part <br>\nof the Isabelle distribution, no duplicate theory names occur. And in <br>\nthe future, in the AFP as well.</p>\n</blockquote>\n<p>Note that the AFP submission checker explicitly warns of possible clashes.</p>\n<p>Fabian</p>",
        "id": 482165732,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731502484
    },
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:paolo.crisafulli@irt-systemx.fr\">paolo.crisafulli@irt-systemx.fr</a>&gt;<br>\nThank you for your responses, but does this mean that we should wait for <br>\nthe next Isabelle release, as both HOL-Library and HOLCSP are part of it?</p>\n<p>Is there a practical solution to allow us to submit our theories to AFP <br>\nbefore that?</p>\n<p>(For the record, we can't apply this advice:</p>\n<blockquote>\n<p>If your work does not depend on HOL-Library.Discrete then I would <br>\nrecommend to simply import the bits of HOL-Library that you explicitly need.</p>\n</blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF, these <br>\nare transitive dependencies of HOL-CSPM and <br>\nOrdinary_Differential_Equations.)</p>\n<p>Thank you all in advance for your help.</p>\n<p>Best,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 12:57, Makarius wrote:</p>\n<blockquote>\n<p>On 13/11/2024 09:46, Fabian Huch wrote:</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path<br>\nunfortunately (a limitation coming from a time when theories were considered<br>\nglobally unique entities).<br>\nNote that theory names are still globally unique, although the name is usually<br>\nqualified by the session name, so clashes don't occur in the session context.</p>\n</blockquote>\n<p>There is an additional restriction for theories that are formally merged: base<br>\nnames need to be unique, because thy are used for the standard name space<br>\npolicy. One happy day, when the name space policies are changed --- after a<br>\nlot of hard work --- this restriction will disappear.</p>\n<blockquote>\n<p>Currently, the only option (that I am aware of) is is to rename one of the<br>\ntheories.<br>\nYes, indeed.</p>\n</blockquote>\n<p>Dirty tricks should be avoided. The planet needs to be kept clean and alive.</p>\n<p>Although HOL-Library.Discrete could just as well be called something else,<br>\ne.g. HOL-Librrary.Discrete_Funs, it is probably easier to clean-up HOLCF a<br>\nlittle bit.</p>\n<p>Here is historic evidence for the introduction of this theory in 1997:<br>\n<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94</a></p>\n<p>That is interesting on its own account: it shows how theory construction had<br>\nto alternate between .thy files (for specifications) and .ML files (for<br>\nproofs) a few decades ago.</p>\n<p>Today there is very little motivation of have these few specifications and<br>\nproofs in the separate theory HOLCF.Discrete. The material could be moved to<br>\nthe start of its descendent HOLCF.Lift (and maybe separated by 'section'<br>\nheadings).</p>\n<p>Makarius</p>\n</blockquote>",
        "id": 482188741,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731509168
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;</p>\n<blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF, <br>\nthese are transitive dependencies of HOL-CSPM and <br>\nOrdinary_Differential_Equations.) <br>\nIf none of them actually need HOL-Library.Discrete one could change <br>\nthose entries to simply not import it.</p>\n</blockquote>\n<p>Other than that, the best option would probably to rename <br>\nHOL-Library.Discrete. In the long run, that is the only sensible option <br>\nanyway.</p>\n<blockquote>\n<p>Is there a practical solution to allow us to submit our theories to <br>\nAFP before that? <br>\nOnce the issue has been taken care of in afp-devel you can submit your <br>\nentry to afp-devel (<a href=\"https://devel.isa-afp.org/submission/\">https://devel.isa-afp.org/submission/</a>). It will <br>\nhowever only appear in the official release version of the AFP after the <br>\nnext Isabelle release (some time in Q1 of 2025, if I recall correctly).</p>\n</blockquote>\n<p>I don't think there is a sensible way to submit your entry to the <br>\n\"regular\" AFP before then.</p>\n<p>Cheers,</p>\n<p>Manuel</p>\n<p>On 13/11/2024 15:45, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Thank you for your responses, but does this mean that we should wait <br>\nfor the next Isabelle release, as both HOL-Library and HOLCSP are part <br>\nof it?</p>\n<p>Is there a practical solution to allow us to submit our theories to <br>\nAFP before that?</p>\n<p>(For the record, we can't apply this advice:</p>\n<blockquote>\n<p>If your work does not depend on HOL-Library.Discrete then I would <br>\nrecommend to simply import the bits of HOL-Library that you explicitly <br>\nneed.</p>\n</blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF, <br>\nthese are transitive dependencies of HOL-CSPM and <br>\nOrdinary_Differential_Equations.)</p>\n<p>Thank you all in advance for your help.</p>\n<p>Best,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 12:57, Makarius wrote:</p>\n<blockquote>\n<p>On 13/11/2024 09:46, Fabian Huch wrote:</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path<br>\nunfortunately (a limitation coming from a time when theories were <br>\nconsidered<br>\nglobally unique entities).<br>\nNote that theory names are still globally unique, although the name <br>\nis usually<br>\nqualified by the session name, so clashes don't occur in the session <br>\ncontext.</p>\n</blockquote>\n<p>There is an additional restriction for theories that are formally <br>\nmerged: base<br>\nnames need to be unique, because thy are used for the standard name <br>\nspace<br>\npolicy. One happy day, when the name space policies are changed --- <br>\nafter a<br>\nlot of hard work --- this restriction will disappear.</p>\n<blockquote>\n<p>Currently, the only option (that I am aware of) is is to rename one <br>\nof the<br>\ntheories.<br>\nYes, indeed.</p>\n</blockquote>\n<p>Dirty tricks should be avoided. The planet needs to be kept clean and <br>\nalive.</p>\n<p>Although HOL-Library.Discrete could just as well be called something <br>\nelse,<br>\ne.g. HOL-Librrary.Discrete_Funs, it is probably easier to clean-up <br>\nHOLCF a<br>\nlittle bit.</p>\n<p>Here is historic evidence for the introduction of this theory in 1997:<br>\n<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94</a> </p>\n<p>That is interesting on its own account: it shows how theory <br>\nconstruction had<br>\nto alternate between .thy files (for specifications) and .ML files (for<br>\nproofs) a few decades ago.</p>\n<p>Today there is very little motivation of have these few <br>\nspecifications and<br>\nproofs in the separate theory HOLCF.Discrete. The material could be <br>\nmoved to<br>\nthe start of its descendent HOLCF.Lift (and maybe separated by 'section'<br>\nheadings).</p>\n<p>Makarius</p>\n</blockquote>\n</blockquote>",
        "id": 482191906,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731510003
    },
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:paolo.crisafulli@irt-systemx.fr\">paolo.crisafulli@irt-systemx.fr</a>&gt;<br>\nThank you for you answer.</p>\n<p>HOL-Library.Discrete is used by HOL-Analysis (in Summation_Tests), fully <br>\nimported by Ordinary_Differential_Equations.Linear_ODE, through <br>\nBounded_Linear_Operator.</p>\n<p>On the other hand, I have renamed HOL-Library.Discrete to LDiscrete (not <br>\na great name, just testing), and it only requires a reasonable effort to <br>\npropagate the change:</p>\n<p>./HOL/ex/Function_Growth.thy:19<br>\n./HOL/Library/Library.thy:1<br>\n./HOL/Library/LDiscrete.thy:24<br>\n./HOL/Analysis/Summation_Tests.thy:14</p>\n<p>Didn't actually do it for the whole AFP, but it looks reasonable too:</p>\n<p>$ grep -r -l \"HOL-Library.Discrete\" . | xargs grep -c Discrete<br>\n./thys/Bertrands_Postulate/Bertrand.thy:26<br>\n./thys/Universal_Turing_Machine/Recs_alt_Def.thy:1<br>\n./thys/Universal_Turing_Machine/Recs.thy:1<br>\n./thys/Vickrey_Clarke_Groves/MiscTools.thy:3<br>\n./thys/Pell/Efficient_Discrete_Sqrt.thy:23<br>\n./thys/Pell/Pell_Algorithm.thy:6<br>\n./thys/Hoare_Time/Nielson_Sqrt.thy:11<br>\n./thys/Hoare_Time/QuantK_Sqrt.thy:11<br>\n./thys/LLL_Basis_Reduction/LLL_Complexity.thy:1<br>\n./thys/Continued_Fractions/Quadratic_Irrationals.thy:8<br>\n./thys/Number_Theoretic_Transform/Butterfly.thy:4<br>\n./thys/DPRM_Theorem/Diophantine/Exponentiation.thy:1<br>\n./thys/Karatsuba_Sqrt/Karatsuba_Sqrt_Library.thy:8<br>\n./thys/Karatsuba_Sqrt/Karatsuba_Sqrt.thy:40</p>\n<p>I am willing to do the job if necessary.</p>\n<p>Any thoughts anyone?</p>\n<p>Thank you,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 15:59, Manuel Eberl wrote:</p>\n<blockquote>\n<blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF,<br>\nthese are transitive dependencies of HOL-CSPM and<br>\nOrdinary_Differential_Equations.)<br>\nIf none of them actually need HOL-Library.Discrete one could change<br>\nthose entries to simply not import it.</p>\n</blockquote>\n<p>Other than that, the best option would probably to rename<br>\nHOL-Library.Discrete. In the long run, that is the only sensible option<br>\nanyway.</p>\n<blockquote>\n<p>Is there a practical solution to allow us to submit our theories to<br>\nAFP before that?<br>\nOnce the issue has been taken care of in afp-devel you can submit your<br>\nentry to afp-devel (<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fdevel.isa%2dafp.org%2fsubmission%2f&amp;umid=a4a9516f-bf37-440e-8da9-834154c471fb&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-e828e06bbdc7fff258c13967647d8aeeb6b4a4b2\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fdevel.isa%2dafp.org%2fsubmission%2f&amp;umid=a4a9516f-bf37-440e-8da9-834154c471fb&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-e828e06bbdc7fff258c13967647d8aeeb6b4a4b2</a>). It will<br>\nhowever only appear in the official release version of the AFP after the<br>\nnext Isabelle release (some time in Q1 of 2025, if I recall correctly).</p>\n</blockquote>\n<p>I don't think there is a sensible way to submit your entry to the<br>\n\"regular\" AFP before then.</p>\n<p>Cheers,</p>\n<p>Manuel</p>\n<p>On 13/11/2024 15:45, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Thank you for your responses, but does this mean that we should wait<br>\nfor the next Isabelle release, as both HOL-Library and HOLCSP are part<br>\nof it?</p>\n<p>Is there a practical solution to allow us to submit our theories to<br>\nAFP before that?</p>\n<p>(For the record, we can't apply this advice:</p>\n<blockquote>\n<p>If your work does not depend on HOL-Library.Discrete then I would<br>\nrecommend to simply import the bits of HOL-Library that you explicitly<br>\nneed.</p>\n</blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF,<br>\nthese are transitive dependencies of HOL-CSPM and<br>\nOrdinary_Differential_Equations.)</p>\n<p>Thank you all in advance for your help.</p>\n<p>Best,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 12:57, Makarius wrote:</p>\n<blockquote>\n<p>On 13/11/2024 09:46, Fabian Huch wrote:</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path<br>\nunfortunately (a limitation coming from a time when theories were<br>\nconsidered<br>\nglobally unique entities).<br>\nNote that theory names are still globally unique, although the name<br>\nis usually<br>\nqualified by the session name, so clashes don't occur in the session<br>\ncontext.</p>\n</blockquote>\n<p>There is an additional restriction for theories that are formally<br>\nmerged: base<br>\nnames need to be unique, because thy are used for the standard name<br>\nspace<br>\npolicy. One happy day, when the name space policies are changed ---<br>\nafter a<br>\nlot of hard work --- this restriction will disappear.</p>\n<blockquote>\n<p>Currently, the only option (that I am aware of) is is to rename one<br>\nof the<br>\ntheories.<br>\nYes, indeed.</p>\n</blockquote>\n<p>Dirty tricks should be avoided. The planet needs to be kept clean and<br>\nalive.</p>\n<p>Although HOL-Library.Discrete could just as well be called something<br>\nelse,<br>\ne.g. HOL-Librrary.Discrete_Funs, it is probably easier to clean-up<br>\nHOLCF a<br>\nlittle bit.</p>\n<p>Here is historic evidence for the introduction of this theory in 1997:<br>\n<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94</a></p>\n<p>That is interesting on its own account: it shows how theory<br>\nconstruction had<br>\nto alternate between .thy files (for specifications) and .ML files (for<br>\nproofs) a few decades ago.</p>\n<p>Today there is very little motivation of have these few<br>\nspecifications and<br>\nproofs in the separate theory HOLCF.Discrete. The material could be<br>\nmoved to<br>\nthe start of its descendent HOLCF.Lift (and maybe separated by 'section'<br>\nheadings).</p>\n<p>Makarius</p>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 482227802,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731519953
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 13/11/2024 15:59, Manuel Eberl wrote:</p>\n<blockquote>\n<p>Other than that, the best option would probably to rename HOL- <br>\nLibrary.Discrete. In the long run, that is the only sensible option anyway.</p>\n</blockquote>\n<p>Looking again more closely, I now understand the rather generic name of theory <br>\nHOL-Library.Discrete: it defines qualified functions like Discrete.log.</p>\n<p>In contrast, HOLCF.Discrete is merely \"internal\" to HOLCF and not used <br>\ndirectly elsewhere. So we could easily change that for Isabelle2025 (March <br>\n2025), using the included changeset.</p>\n<p>Makarius</p>\n<p><a href=\"/user_uploads/14278/DSwEzsv7PV93orYSFbCIodQ_/ch\">ch</a></p>",
        "id": 482246701,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731526785
    },
    {
        "content": "<p>From: Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;<br>\nTheory Library/Discrete is headed \"Common discrete functions”. I would suggest renaming it to Discrete_Functions in time for the next release. Quite apart from the propensity for name clashes, the current name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect sense in 1997, but no longer. Some of them have the suffix _cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of the Isabelle distribution, no duplicate theory names occur. And in the future, in the AFP as well.</p>\n</blockquote>",
        "id": 482602845,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731673983
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nGood suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I would suggest renaming it to Discrete_Functions in time for the next release. Quite apart from the propensity for name clashes, the current name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect sense in 1997, but no longer. Some of them have the suffix _cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of the Isabelle distribution, no duplicate theory names occur. And in the future, in the AFP as well.<br>\n</p>\n</blockquote>\n</blockquote>\n<p><a href=\"/user_uploads/14278/UaZsBLmlZVoXXsv0FgdaLChs/smime.p7s\">smime.p7s</a></p>",
        "id": 482609126,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731676022
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;<br>\nAs Makarius noted, the problem is that the functions defined in <br>\n\"HOL-Library.Discrete\" can (by design) only be used with their <br>\nfully-qualified names \"Discrete.sqrt\" and \"Discrete.log\".</p>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a <br>\nmouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" <br>\neither. Perhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my <br>\n\"ceillog2\" that Larry recently moved into the distribution). <br>\nAlternatively \"log2_nat\" and \"sqrt_nat\" would also work, but then the <br>\nquestion arises what one should call the corresponding versions that <br>\nround up instead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I <br>\nwould suggest renaming it to Discrete_Functions in time for the next <br>\nrelease. Quite apart from the propensity for name clashes, the <br>\ncurrent name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made <br>\nperfect sense in 1997, but no longer. Some of them have the suffix <br>\n_cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL <br>\npart of the Isabelle distribution, no duplicate theory names occur. <br>\nAnd in the future, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 482612636,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731677162
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;</p>\n<p>On 15/11/2024 14:25, Manuel Eberl wrote:</p>\n<blockquote>\n<p>As Makarius noted, the problem is that the functions defined in \"HOL- <br>\nLibrary.Discrete\" can (by design) only be used with their fully-qualified names <br>\n\"Discrete.sqrt\" and \"Discrete.log\".</p>\n</blockquote>\n<p>Sorry, yes, I'll leave Library.Discrete alone.</p>\n<blockquote>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a mouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" either. <br>\nPerhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my \"ceillog2\" that <br>\nLarry recently moved into the distribution).</p>\n</blockquote>\n<p>floor_log2? (Personally, I belive in having the important name components first <br>\nbut can see that floor_log2 is more natural).</p>\n<p>Tobias</p>\n<blockquote>\n<p>Alternatively \"log2_nat\" and <br>\n\"sqrt_nat\" would also work, but then the question arises what one should call <br>\nthe corresponding versions that round up instead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I would <br>\nsuggest renaming it to Discrete_Functions in time for the next release. Quite <br>\napart from the propensity for name clashes, the current name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect <br>\nsense in 1997, but no longer. Some of them have the suffix _cpo, but <br>\nunfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of <br>\nthe Isabelle distribution, no duplicate theory names occur. And in the <br>\nfuture, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p><a href=\"/user_uploads/14278/9jHUdyrHf_xX7f5SLCTUHPjn/smime.p7s\">smime.p7s</a></p>",
        "id": 482614107,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731677596
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;<br>\nI'd be fine with \"floor_log2\" as well, but then you should adjust <br>\n\"ceillog2\" as well.</p>\n<p>I think I picked \"ceillog2\" because there is something similar (but more <br>\ngeneral) called \"floorlog\" elsewhere in the library.</p>\n<p>On 15/11/2024 14:32, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>On 15/11/2024 14:25, Manuel Eberl wrote:</p>\n<blockquote>\n<p>As Makarius noted, the problem is that the functions defined in \"HOL- <br>\nLibrary.Discrete\" can (by design) only be used with their <br>\nfully-qualified names \"Discrete.sqrt\" and \"Discrete.log\".</p>\n</blockquote>\n<p>Sorry, yes, I'll leave Library.Discrete alone.</p>\n<blockquote>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a <br>\nmouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" <br>\neither. Perhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my <br>\n\"ceillog2\" that Larry recently moved into the distribution).</p>\n</blockquote>\n<p>floor_log2? (Personally, I belive in having the important name <br>\ncomponents first but can see that floor_log2 is more natural).</p>\n<p>Tobias</p>\n<blockquote>\n<p>Alternatively \"log2_nat\" and \"sqrt_nat\" would also work, but then the <br>\nquestion arises what one should call the corresponding versions that <br>\nround up instead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I <br>\nwould suggest renaming it to Discrete_Functions in time for the <br>\nnext release. Quite apart from the propensity for name clashes, the <br>\ncurrent name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made <br>\nperfect sense in 1997, but no longer. Some of them have the suffix <br>\n_cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL <br>\npart of the Isabelle distribution, no duplicate theory names <br>\noccur. And in the future, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 482617130,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731678542
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nHOLCF.Discrete has been renamed to HOLCF.Discrete_Cpo.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I would suggest <br>\nrenaming it to Discrete_Functions in time for the next release. Quite apart <br>\nfrom the propensity for name clashes, the current name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect <br>\nsense in 1997, but no longer. Some of them have the suffix _cpo, but <br>\nunfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of the <br>\nIsabelle distribution, no duplicate theory names occur. And in the future, in <br>\nthe AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p><a href=\"/user_uploads/14278/imucmqH9z3-iAzQ982ynUYro/smime.p7s\">smime.p7s</a></p>",
        "id": 482698683,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731706857
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nPresumably this means Discrete.sqrt -&gt; floor_sqrt as well?</p>\n<p>Tobias</p>\n<p>On 15/11/2024 14:48, Manuel Eberl wrote:</p>\n<blockquote>\n<p>I'd be fine with \"floor_log2\" as well, but then you should adjust \"ceillog2\" as <br>\nwell.</p>\n<p>I think I picked \"ceillog2\" because there is something similar (but more <br>\ngeneral) called \"floorlog\" elsewhere in the library.</p>\n<p>On 15/11/2024 14:32, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>On 15/11/2024 14:25, Manuel Eberl wrote:</p>\n<blockquote>\n<p>As Makarius noted, the problem is that the functions defined in \"HOL- <br>\nLibrary.Discrete\" can (by design) only be used with their fully-qualified <br>\nnames \"Discrete.sqrt\" and \"Discrete.log\".</p>\n</blockquote>\n<p>Sorry, yes, I'll leave Library.Discrete alone.</p>\n<blockquote>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a mouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" either. <br>\nPerhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my \"ceillog2\" that <br>\nLarry recently moved into the distribution).</p>\n</blockquote>\n<p>floor_log2? (Personally, I belive in having the important name components <br>\nfirst but can see that floor_log2 is more natural).</p>\n<p>Tobias</p>\n<blockquote>\n<p>Alternatively \"log2_nat\" and \"sqrt_nat\" would also work, but then the <br>\nquestion arises what one should call the corresponding versions that round up <br>\ninstead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I would <br>\nsuggest renaming it to Discrete_Functions in time for the next release. <br>\nQuite apart from the propensity for name clashes, the current name is <br>\nambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect <br>\nsense in 1997, but no longer. Some of them have the suffix _cpo, but <br>\nunfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of <br>\nthe Isabelle distribution, no duplicate theory names occur. And in the <br>\nfuture, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p><a href=\"/user_uploads/14278/jbLdEEAT7H4r3lAnrAHgI4gn/smime.p7s\">smime.p7s</a></p>",
        "id": 482863724,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731851464
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;<br>\nThat seems reasonable to me.</p>\n<p>On 17/11/2024 14:50, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Presumably this means Discrete.sqrt -&gt; floor_sqrt as well?</p>\n<p>Tobias</p>\n<p>On 15/11/2024 14:48, Manuel Eberl wrote:</p>\n<blockquote>\n<p>I'd be fine with \"floor_log2\" as well, but then you should adjust <br>\n\"ceillog2\" as well.</p>\n<p>I think I picked \"ceillog2\" because there is something similar (but <br>\nmore general) called \"floorlog\" elsewhere in the library.</p>\n<p>On 15/11/2024 14:32, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>On 15/11/2024 14:25, Manuel Eberl wrote:</p>\n<blockquote>\n<p>As Makarius noted, the problem is that the functions defined in <br>\n\"HOL- Library.Discrete\" can (by design) only be used with their <br>\nfully-qualified names \"Discrete.sqrt\" and \"Discrete.log\".</p>\n</blockquote>\n<p>Sorry, yes, I'll leave Library.Discrete alone.</p>\n<blockquote>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a <br>\nmouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" <br>\neither. Perhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my <br>\n\"ceillog2\" that Larry recently moved into the distribution).</p>\n</blockquote>\n<p>floor_log2? (Personally, I belive in having the important name <br>\ncomponents first but can see that floor_log2 is more natural).</p>\n<p>Tobias</p>\n<blockquote>\n<p>Alternatively \"log2_nat\" and \"sqrt_nat\" would also work, but then <br>\nthe question arises what one should call the corresponding versions <br>\nthat round up instead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I <br>\nwould suggest renaming it to Discrete_Functions in time for the <br>\nnext release. Quite apart from the propensity for name clashes, <br>\nthe current name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made <br>\nperfect sense in 1997, but no longer. Some of them have the <br>\nsuffix _cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the <br>\nHOL part of the Isabelle distribution, no duplicate theory names <br>\noccur. And in the future, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 482863749,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731851504
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;</p>\n<ul>\n<li>Theory \"HOL-Library/Discrete\" has been renamed \"HOL-Library/Discrete_Functions\"<br>\n   Discrete.log -&gt; floor_log<br>\n   Discrete.sqrt -&gt; floor_sqrt<br>\n   Renamed lemmas accordingly (...log/sqrt... -&gt; ...floor_log/sqrt...)</li>\n</ul>\n<p>Thus both Discrete theories have been renamed now.</p>\n<p>Tobias</p>\n<p>PS There was no log2. I did not touch other variants elsewhere, like ceillog2.</p>\n<p>On 15/11/2024 14:48, Manuel Eberl wrote:</p>\n<blockquote>\n<p>I'd be fine with \"floor_log2\" as well, but then you should adjust \"ceillog2\" as <br>\nwell.</p>\n<p>I think I picked \"ceillog2\" because there is something similar (but more <br>\ngeneral) called \"floorlog\" elsewhere in the library.</p>\n<p>On 15/11/2024 14:32, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>On 15/11/2024 14:25, Manuel Eberl wrote:</p>\n<blockquote>\n<p>As Makarius noted, the problem is that the functions defined in \"HOL- <br>\nLibrary.Discrete\" can (by design) only be used with their fully-qualified <br>\nnames \"Discrete.sqrt\" and \"Discrete.log\".</p>\n</blockquote>\n<p>Sorry, yes, I'll leave Library.Discrete alone.</p>\n<blockquote>\n<p>I don't think we want \"Discrete_Functions.log\" since that's quite a mouthful.</p>\n<p>Personally I'm not a huge fan of \"Discrete.log\" and \"Discrete.sqrt\" either. <br>\nPerhaps something like \"floorlog2\" and \"floorsqrt\"? (cf. my \"ceillog2\" that <br>\nLarry recently moved into the distribution).</p>\n</blockquote>\n<p>floor_log2? (Personally, I belive in having the important name components <br>\nfirst but can see that floor_log2 is more natural).</p>\n<p>Tobias</p>\n<blockquote>\n<p>Alternatively \"log2_nat\" and \"sqrt_nat\" would also work, but then the <br>\nquestion arises what one should call the corresponding versions that round up <br>\ninstead of down.</p>\n<p>Manuel</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I would <br>\nsuggest renaming it to Discrete_Functions in time for the next release. <br>\nQuite apart from the propensity for name clashes, the current name is <br>\nambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made perfect <br>\nsense in 1997, but no longer. Some of them have the suffix _cpo, but <br>\nunfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL part of <br>\nthe Isabelle distribution, no duplicate theory names occur. And in the <br>\nfuture, in the AFP as well.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p><a href=\"/user_uploads/14278/sw_KIRg7I2GT43mv2zhQgYQs/smime.p7s\">smime.p7s</a></p>",
        "id": 482895436,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731876759
    },
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:paolo.crisafulli@irt-systemx.fr\">paolo.crisafulli@irt-systemx.fr</a>&gt;<br>\nThank you very much.</p>\n<p>(For the record, Makarius' patch is enough to fix the issue locally, for <br>\nany user wanting to quickly import both HOLCF and HOL-Library.Discrete).</p>\n<p>Paolo</p>\n<p>On 15/11/2024 22:40, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>HOLCF.Discrete has been renamed to HOLCF.Discrete_Cpo.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 14:06, Tobias Nipkow wrote:</p>\n<blockquote>\n<p>Good suggestions. Happy to take care of it later today.</p>\n<p>Tobias</p>\n<p>On 15/11/2024 13:32, Lawrence Paulson wrote:</p>\n<blockquote>\n<p>Theory Library/Discrete is headed \"Common discrete functions”. I <br>\nwould suggest renaming it to Discrete_Functions in time for the next <br>\nrelease. Quite apart from the propensity for name clashes, the <br>\ncurrent name is ambiguous.</p>\n<p>Turning to HOLCF, many of the theories have short names that made <br>\nperfect sense in 1997, but no longer. Some of them have the suffix <br>\n_cpo, but unfortunately Discrete currently does not.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 13 Nov 2024, at 10:03, Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt; wrote:</p>\n<p>Of course we should try to make sure that at least within the HOL <br>\npart of the Isabelle distribution, no duplicate theory names occur. <br>\nAnd in the future, in the AFP as well.<br>\n</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 483038111,
        "sender_full_name": "Email Gateway",
        "timestamp": 1731940474
    },
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:paolo.crisafulli@irt-systemx.fr\">paolo.crisafulli@irt-systemx.fr</a>&gt;<br>\nThank you Manuel.</p>\n<p>To sum up:</p>\n<ul>\n<li>\n<p>to benefit from the renaming of HOL-Library.Discrete and <br>\nHOLCF.Discrete, we need to work with a development version of <br>\nIsabelle/HOL: <a href=\"https://isatest.sketis.net/devel/release_snapshot/\">https://isatest.sketis.net/devel/release_snapshot/</a></p>\n</li>\n<li>\n<p>as a consequence, we'll also have to work with a development version <br>\nof AFP, because of the impact of the renaming done in HOL-Library.Discrete</p>\n</li>\n<li>\n<p>and our submissions, if accepted, will be available in afp-devel only, <br>\nuntil Q1 2025; then AFP release.</p>\n</li>\n</ul>\n<p>Is that correct?</p>\n<p>Best,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 15:59, Manuel Eberl wrote:</p>\n<blockquote>\n<blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF,<br>\nthese are transitive dependencies of HOL-CSPM and<br>\nOrdinary_Differential_Equations.)<br>\nIf none of them actually need HOL-Library.Discrete one could change<br>\nthose entries to simply not import it.</p>\n</blockquote>\n<p>Other than that, the best option would probably to rename<br>\nHOL-Library.Discrete. In the long run, that is the only sensible option<br>\nanyway.</p>\n<blockquote>\n<p>Is there a practical solution to allow us to submit our theories to<br>\nAFP before that?<br>\nOnce the issue has been taken care of in afp-devel you can submit your<br>\nentry to afp-devel (<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fdevel.isa%2dafp.org%2fsubmission%2f&amp;umid=a4a9516f-bf37-440e-8da9-834154c471fb&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-e828e06bbdc7fff258c13967647d8aeeb6b4a4b2\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fdevel.isa%2dafp.org%2fsubmission%2f&amp;umid=a4a9516f-bf37-440e-8da9-834154c471fb&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-e828e06bbdc7fff258c13967647d8aeeb6b4a4b2</a>). It will<br>\nhowever only appear in the official release version of the AFP after the<br>\nnext Isabelle release (some time in Q1 of 2025, if I recall correctly).</p>\n</blockquote>\n<p>I don't think there is a sensible way to submit your entry to the<br>\n\"regular\" AFP before then.</p>\n<p>Cheers,</p>\n<p>Manuel</p>\n<p>On 13/11/2024 15:45, Paolo Crisafulli wrote:</p>\n<blockquote>\n<p>Thank you for your responses, but does this mean that we should wait<br>\nfor the next Isabelle release, as both HOL-Library and HOLCSP are part<br>\nof it?</p>\n<p>Is there a practical solution to allow us to submit our theories to<br>\nAFP before that?</p>\n<p>(For the record, we can't apply this advice:</p>\n<blockquote>\n<p>If your work does not depend on HOL-Library.Discrete then I would<br>\nrecommend to simply import the bits of HOL-Library that you explicitly<br>\nneed.</p>\n</blockquote>\n<p>We don't import anything directly from both HOL-Library or HOLCF,<br>\nthese are transitive dependencies of HOL-CSPM and<br>\nOrdinary_Differential_Equations.)</p>\n<p>Thank you all in advance for your help.</p>\n<p>Best,</p>\n<p>Paolo</p>\n<p>On 13/11/2024 12:57, Makarius wrote:</p>\n<blockquote>\n<p>On 13/11/2024 09:46, Fabian Huch wrote:</p>\n<blockquote>\n<p>You cannot have two theories with the same base name in an import path<br>\nunfortunately (a limitation coming from a time when theories were<br>\nconsidered<br>\nglobally unique entities).<br>\nNote that theory names are still globally unique, although the name<br>\nis usually<br>\nqualified by the session name, so clashes don't occur in the session<br>\ncontext.</p>\n</blockquote>\n<p>There is an additional restriction for theories that are formally<br>\nmerged: base<br>\nnames need to be unique, because thy are used for the standard name<br>\nspace<br>\npolicy. One happy day, when the name space policies are changed ---<br>\nafter a<br>\nlot of hard work --- this restriction will disappear.</p>\n<blockquote>\n<p>Currently, the only option (that I am aware of) is is to rename one<br>\nof the<br>\ntheories.<br>\nYes, indeed.</p>\n</blockquote>\n<p>Dirty tricks should be avoided. The planet needs to be kept clean and<br>\nalive.</p>\n<p>Although HOL-Library.Discrete could just as well be called something<br>\nelse,<br>\ne.g. HOL-Librrary.Discrete_Funs, it is probably easier to clean-up<br>\nHOLCF a<br>\nlittle bit.</p>\n<p>Here is historic evidence for the introduction of this theory in 1997:<br>\n<a href=\"https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94\">https://cas5-0-urlprotect.trendmicro.com:443/wis/clicktime/v1/query?url=https%3a%2f%2fisabelle%2ddev.sketis.net%2frISABELLEc2508f4ab739&amp;umid=070888fe-b1e4-40d4-8c4b-fc350f75d77e&amp;auth=b6005005a7b50bc3a68b2003f1e38d069f93f262-8a9ce3d82ace24c3827208341f125e1ee2693d94</a></p>\n<p>That is interesting on its own account: it shows how theory<br>\nconstruction had<br>\nto alternate between .thy files (for specifications) and .ML files (for<br>\nproofs) a few decades ago.</p>\n<p>Today there is very little motivation of have these few<br>\nspecifications and<br>\nproofs in the separate theory HOLCF.Discrete. The material could be<br>\nmoved to<br>\nthe start of its descendent HOLCF.Lift (and maybe separated by 'section'<br>\nheadings).</p>\n<p>Makarius</p>\n</blockquote>\n</blockquote>\n</blockquote>",
        "id": 483260935,
        "sender_full_name": "Email Gateway",
        "timestamp": 1732022227
    }
]