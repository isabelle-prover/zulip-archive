[
    {
        "content": "<p>From: Alex Meyer &lt;<a href=\"mailto:alex153@outlook.lv\">alex153@outlook.lv</a>&gt;<br>\nI had this question <a href=\"https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-January/msg00187.html\">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2021-January/msg00187.html</a> at the end of January, and there where some follow-up discussion in February and scala-isabelle emerged as fine library for this.</p>\n<p>I had quick idea to get theory (as isabelle AST) in JSON format and for that  tried the code:</p>\n<p>val ctxt = Context(\"HOL.Imperative_HOL.ex.Imperative_Quicksort\")</p>\n<p>import net.liftweb.json._<br>\nimport net.liftweb.json.Serialization.write</p>\n<p>implicit val formats = net.liftweb.json.DefaultFormatsval jsonString = write(ctxt)<br>\nprintln(\"before jsonString\")<br>\nprintln(jsonString)<br>\nprintln(\"after jsonString\")</p>\n<p>but the output it scarce (my full stackoverflow question is <a href=\"https://stackoverflow.com/questions/66626741/isabelle-hol-theory-hol-imperative-hol-ex-imperative-quicksort-as-json-with-sc\">https://stackoverflow.com/questions/66626741/isabelle-hol-theory-hol-imperative-hol-ex-imperative-quicksort-as-json-with-sc</a>):</p>\n<p>before jsonString<br>\n{\"mlValue\":{\"id\":{\"_fun\":{},\"_ec\":{},\"_arg\":null,\"_xform\":2}}}<br>\nafter jsonString</p>\n<p>Maybe I a overstretching the framework (error about which I have been extensively warned in the mentioned thread), but just quick qustion - is it possible to get AST JSON tree for the entire theory in scala-isabelle?</p>\n<p>The quick thought is that I can load theory in string and then try to load it like term in the conext that is preloaded by the same theory. But maybe it is not good ide.</p>\n<p>I am reading documentation, experimenting, doing some reasoning, etc.</p>\n<p>But maybe there is answer in couple of words that can shortcut my path?</p>\n<p>Alex</p>",
        "id": 230252845,
        "sender_full_name": "Email Gateway",
        "timestamp": 1615739963
    },
    {
        "content": "<p>From: Dominique Unruh &lt;<a href=\"mailto:unruh@ut.ee\">unruh@ut.ee</a>&gt;<br>\nHello,</p>\n<p>I have answered this in the Stackoverflow post. However, let me quote <br>\none of my claims here that goes beyond specifically scala-isabelle, <br>\nmaybe someone (Makarius) can comment on that from the Isabelle side:</p>\n<p>I am doubtful that there is a way to get an AST of a theory in any<br>\n    way (no matter whether scala-isabelle is used or whether it is done<br>\n    directly in Isabelle/ML). The only way, as far as I know, is to<br>\n    implement your own parser that imperfectly mimics Isabelle's parsing<br>\n    and constructs an AST.</p>\n<p>If this is not true and there are some ways to get an AST, I would be <br>\nplease to hear about it.</p>\n<p>Best wishes,<br>\nDominique.</p>",
        "id": 230331725,
        "sender_full_name": "Email Gateway",
        "timestamp": 1615809051
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThe quoted statement is true, but the true truth is even stronger: Isabelle<br>\ntheory content is produced by \"semantics\" in ML, and an overlall AST (syntax<br>\ntree) describing that does not exist.</p>\n<p>You can only get approximations, e.g. the Isabelle/PIDE document markup from<br>\n\"isabelle export\" (better: official Isabelle/Scala functions to access it; see<br>\nhow HTML output works in Isabelle2021).</p>\n<p>An alternative is to access foundational types/terms/theorems etc. as<br>\nIsabelle/MMT does it, e.g. see the paper<br>\n<a href=\"https://drops.dagstuhl.de/opus/volltexte/2020/13065\">https://drops.dagstuhl.de/opus/volltexte/2020/13065</a></p>\n<p>Many more alternatives are possible, as long as the conceptual structure of<br>\nthe system is taken seriously. \"AI\" is not going to make a wrong approach<br>\nright by magic.</p>\n<p>Makarius</p>",
        "id": 230334593,
        "sender_full_name": "Email Gateway",
        "timestamp": 1615810651
    }
]