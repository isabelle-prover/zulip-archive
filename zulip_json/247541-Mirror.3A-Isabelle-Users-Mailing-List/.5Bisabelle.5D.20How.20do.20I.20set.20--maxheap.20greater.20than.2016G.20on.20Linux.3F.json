[
    {
        "content": "<p>From: \"Eugene W. Stark\" &lt;<a href=\"mailto:isabelle-users@starkeffect.com\">isabelle-users@starkeffect.com</a>&gt;<br>\nI am using Ubuntu 18.04.  I am finding that the ML heap seems to be limited to 16G and I need to use<br>\na bit more.  I haven't really been able to find a comprehensible description of how to do this in<br>\nthe documentation I have looked at, so I attempted to follow the settings reported in the Jenkins<br>\nnightly build logs, which seem to use --maxheap 20G.  I put the following in ~/.isabelle/etc/settings:</p>\n<p>ML_PLATFORM=\"x86_64-linux\"<br>\nML_SYSTEM=\"polyml-5.8.2\"<br>\nML_OPTIONS=\"-H 4000 --maxheap 20G\"</p>\n<p>However, when I start Isabelle/JEdit I get the message shown below.  How can I get around this?<br>\nThanks for any help.</p>\n<p>-- Gene Stark</p>\n<p>Value of --maxheap option must not exceeed 16Gbytes<br>\n-H &lt;Initial heap size (MB)&gt;<br>\n--minheap &lt;Minimum heap size (MB)&gt;<br>\n--maxheap &lt;Maximum heap size (MB)&gt;<br>\n--gcpercent &lt;Target percentage time in GC (1-99)&gt;<br>\n--stackspace &lt;Space to reserve for thread stacks and C++ heap(MB)&gt;<br>\n--gcthreads &lt;Number of threads to use for garbage collection&gt;<br>\n--debug &lt;Debug options: checkmem, gc, x&gt;<br>\n--logfile &lt;Logging file (default is to log to stdout)&gt;<br>\n--exportstats &lt;Enable another process to read the statistics&gt;<br>\nDebug options:<br>\ncheckmem &lt;Perform additional debugging checks on memory&gt;<br>\ngc &lt;Log summary garbage-collector information&gt;<br>\ngcenhanced &lt;Log enhanced garbage-collector information&gt;<br>\ngcdetail &lt;Log detailed garbage-collector information&gt;<br>\nmemmgr &lt;Memory manager information&gt;<br>\nthreads &lt;Thread related information&gt;<br>\ngctasks &lt;Log multi-thread GC information&gt;<br>\nheapsize &lt;Log heap resizing data&gt;<br>\nx &lt;Log X-windows information&gt;<br>\nsharing &lt;Information from PolyML.shareCommonData&gt;<br>\nlocks &lt;Information about contended locks&gt;<br>\nrts &lt;General run-time system calls&gt;<br>\nsaving &lt;Saving and loading state; exporting&gt;<br>\nHOL CANCELLED<br>\nUnfinished session(s): HOL, Pure<br>\nReturn code: 1</p>\n<p>Session build failed -- prover process remains inactive!</p>",
        "id": 212892381,
        "sender_full_name": "Email Gateway",
        "timestamp": 1602292364
    },
    {
        "content": "<p>From: \"Eugene W. Stark\" &lt;<a href=\"mailto:isabelle-users@starkeffect.com\">isabelle-users@starkeffect.com</a>&gt;<br>\nAfter reading various of the Isabelle settings and start-up scripts, and also some trial and error,<br>\nI found that the following in my settings file produced the behavior I wanted:</p>\n<p>ML_SYSTEM=\"polyml-5.8.1-20200228\"<br>\nML_HOME=$ISABELLE_HOME/contrib/$ML_SYSTEM/x86_64-linux<br>\nML_OPTIONS=\"--maxheap 20G\"<br>\nML_PLATFORM=\"x86_64-linux\"</p>\n<p>I don't have any idea whether this is the \"right\" way of doing it, though.</p>",
        "id": 212924297,
        "sender_full_name": "Email Gateway",
        "timestamp": 1602349071
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nDid it work out for you? 20G for x86_64 is not so much, compared to 16G for<br>\nx86_64_32 (where everything is more compact).</p>\n<p>Note that the minimum setup works like this:</p>\n<p>* $ISABELLE_HOME_USER/etc/settings:<br>\n      ML_OPTIONS=\"--maxheap 20G\"</p>\n<p>* $ISABELLE_HOME_USER/etc/preferences:<br>\n      ML_system_64 = true</p>\n<p>If you have Isabelle/jEdit running, you can edit ML_system_64 in the Plugin<br>\nOptions dialog; on shutdown the preferences will be saved/overwritten.</p>\n<p>Makarius</p>",
        "id": 215973829,
        "sender_full_name": "Email Gateway",
        "timestamp": 1604783677
    },
    {
        "content": "<p>From: \"Eugene W. Stark\" &lt;<a href=\"mailto:isabelle-users@starkeffect.com\">isabelle-users@starkeffect.com</a>&gt;<br>\nThanks for the reply.</p>\n<p>Yes, it did work out.  I was able to process the session in a reasonable amount of time<br>\nwith a heap limit of 20-22G.  The 16GB heap under x86_64_32 was no longer cutting the mustard.<br>\nI replaced my existing 2x4GB DRAM with 2x8GB, to get a total of 32GB, which maxes out this<br>\nmotherboard.  It is a stretch to run Isabelle/JEdit on this system with a heap limit of more<br>\nthan about 22GB, because Java takes a few GB itself and thrashing starts to set in when the<br>\nheap reaches the maximum.</p>\n<p>I did notice that the \"cold start\" time on x86_64 was slower than on x86_64_32.  Perhaps this<br>\nis because I didn't bother to set the minimum heap size.</p>\n<p>If I start feeling rich due to all the money I am saving by not going anywhere or doing anything<br>\nduring the pandemic, I will build an i9 system to replace this 6-year-old i5 and put more memory<br>\non it.  But I am not there yet.</p>",
        "id": 215976066,
        "sender_full_name": "Email Gateway",
        "timestamp": 1604787295
    }
]