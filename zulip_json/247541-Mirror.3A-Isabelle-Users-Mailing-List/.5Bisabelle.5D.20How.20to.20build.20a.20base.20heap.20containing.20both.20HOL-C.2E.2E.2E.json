[
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi,</p>\n<p>I have the following ROOT file which allows me to quickly build session <br>\nHOL-CyberPhi, as it's built on top of a heap which contains session <br>\nHOL-CSPM and theory Ordinary_Differential_Equations.Linear_ODE, both of <br>\nwhich are very long to build.</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"n\">session</span><span class=\"w\"> </span><span class=\"s\">\"HOL-CSP-ODE\"</span><span class=\"w\"> </span><span class=\"kp\">in</span><span class=\"w\"> </span><span class=\"s\">\"HOL-CSP-ODE\"</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"HOL-CSPM\"</span><span class=\"w\"> </span><span class=\"o\">+</span>\n<span class=\"w\">   </span><span class=\"n\">options</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">document</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"n\">1200</span><span class=\"o\">]</span>\n<span class=\"w\">   </span><span class=\"n\">sessions</span>\n<span class=\"w\">     </span><span class=\"s\">\"Ordinary_Differential_Equations\"</span>\n<span class=\"w\">   </span><span class=\"n\">theories</span>\n<span class=\"w\">     </span><span class=\"s\">\"Ordinary_Differential_Equations.Linear_ODE\"</span>\n\n<span class=\"n\">session</span><span class=\"w\"> </span><span class=\"s\">\"HOL-CyberPhi\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">AFP</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"HOL-CSP-ODE\"</span><span class=\"w\"> </span><span class=\"o\">+</span>\n<span class=\"w\">   </span><span class=\"n\">options</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">document</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pdf</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">document_output</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"output\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"n\">1200</span><span class=\"o\">]</span>\n<span class=\"w\">   </span><span class=\"n\">directories</span><span class=\"w\"> </span><span class=\"n\">examples</span>\n<span class=\"w\">   </span><span class=\"n\">theories</span>\n<span class=\"w\">     </span><span class=\"s\">\"CyberPhi_Core\"</span>\n<span class=\"w\">     </span><span class=\"s\">\"Safety_Props\"</span>\n<span class=\"w\">     </span><span class=\"s\">\"ODE_Kinematics\"</span>\n<span class=\"w\">     </span><span class=\"s\">\"Bouncing_Ball\"</span>\n<span class=\"w\">     </span><span class=\"s\">\"Oscillator\"</span>\n<span class=\"w\">   </span><span class=\"n\">document_files</span>\n<span class=\"w\">     </span><span class=\"s\">\"root.tex\"</span>\n</code></pre></div>\n<p>As it is, HOL-CSP-ODE contains no thy file of its own. Nevertheless, I <br>\nhave to keep an empty HOL-CSP-ODE dir, otherwise (after removing the 'in <br>\n\"HOL-CSP-ODE\"' clause) I'm getting:</p>\n<p>*** Duplicate use of directory \"/home/paolo/dev/hol-cyberphi\"<br>\n***   for session \"HOL-CSP-ODE\" (line 45 of <br>\n\"/home/paolo/dev/hol-cyberphi/ROOT\")<br>\n***   vs. session \"HOL-CyberPhi\" (line 52 of <br>\n\"/home/paolo/dev/hol-cyberphi/ROOT\")</p>\n<p>As a perfectionist, I'm wondering: is there a way to get rid of the <br>\nHOL-CSP-ODE dir/clause? Or is there another, better, way to achieve the <br>\nsame goal (having a base heap to build fast)?</p>\n<p>In advance, thank you very much for your help!</p>\n<p>Cheers,</p>\n<p>Paolo</p>",
        "id": 512868501,
        "sender_full_name": "Email Gateway",
        "timestamp": 1744907368
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 17/04/2025 18:28, Paolo Crisafulli (via cl-isabelle-users Mailing List) wrote:</p>\n<blockquote>\n<p>I have the following ROOT file which allows me to quickly build session HOL- <br>\nCyberPhi, as it's built on top of a heap which contains session HOL-CSPM and <br>\ntheory Ordinary_Differential_Equations.Linear_ODE, both of which are very long <br>\nto build.</p>\n<p>As a perfectionist, I'm wondering: is there a way to get rid of the HOL-CSP- <br>\nODE dir/clause? Or is there another, better, way to achieve the same goal <br>\n(having a base heap to build fast)?</p>\n</blockquote>\n<p>Every session requires its own unique directory, so there is presently no way <br>\naround it.</p>\n<p>You don't need the auxiliary session at all, if your motivation is to speed-up <br>\nthe build for Isabelle/jEdit. See options -A and -R for \"isabelle jedit\", as <br>\nexplained in the \"isabelle doc jedit\".</p>\n<p>Overall, performance is often improved by removing too many intermediate <br>\nsessions. Thus option -A, which could be as extreme as \"-A HOL\" to skip <br>\neverything in between and just load the requirements into the background image.</p>\n<p>Makarius</p>",
        "id": 514116108,
        "sender_full_name": "Email Gateway",
        "timestamp": 1745498851
    },
    {
        "content": "<p>From: Paolo Crisafulli &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nThank you very much for your answer.</p>\n<p>I'm now using the following ROOT file:</p>\n<p>session \"HOL-CyberPhi\" (AFP) = \"HOL-CSPM\" +<br>\n   options [document = pdf, document_output = \"output\", timeout=1200, <br>\nquick_and_dirty=true]<br>\n   sessions<br>\n     \"Ordinary_Differential_Equations\"<br>\n   directories examples<br>\n   theories<br>\n     \"CyberPhi_Core\"<br>\n     \"Safety_Props\"<br>\n     \"ODE_Kinematics\"<br>\n     \"Bouncing_Ball\"<br>\n     \"Oscillator\"<br>\n     \"Forward_Stepwise_Kinematics\"<br>\n   document_files<br>\n     \"root.tex\"</p>\n<p>The following command produces the expected result: JEdit starts without <br>\nrecompiling Ordinary_Differential_Equations and its ancestors.</p>\n<p>isabelle jedit -d . -R HOL-CyberPhi ::</p>\n<p>Is there a way to get a similar speed up with \"isabelle build\"?</p>\n<p>Currently, without the intermediate session, all dependencies of <br>\nOrdinary_Differential_Equations get built each time I change a file in <br>\nmy session and build again, which is huge.</p>\n<p>Thank you,</p>\n<p>Paolo</p>\n<p>On 24/04/2025 14:39, Makarius wrote:</p>\n<blockquote>\n<p>On 17/04/2025 18:28, Paolo Crisafulli (via cl-isabelle-users Mailing <br>\nList) wrote:</p>\n<blockquote>\n<p>I have the following ROOT file which allows me to quickly build <br>\nsession HOL- CyberPhi, as it's built on top of a heap which contains <br>\nsession HOL-CSPM and theory <br>\nOrdinary_Differential_Equations.Linear_ODE, both of which are very <br>\nlong to build.</p>\n<p>As a perfectionist, I'm wondering: is there a way to get rid of the <br>\nHOL-CSP- ODE dir/clause? Or is there another, better, way to achieve <br>\nthe same goal (having a base heap to build fast)?</p>\n</blockquote>\n<p>Every session requires its own unique directory, so there is presently <br>\nno way around it.</p>\n<p>You don't need the auxiliary session at all, if your motivation is to <br>\nspeed-up the build for Isabelle/jEdit. See options -A and -R for <br>\n\"isabelle jedit\", as explained in the \"isabelle doc jedit\".</p>\n<p>Overall, performance is often improved by removing too many <br>\nintermediate sessions. Thus option -A, which could be as extreme as <br>\n\"-A HOL\" to skip everything in between and just load the requirements <br>\ninto the background image.</p>\n<p>Makarius<br>\n</p>\n</blockquote>",
        "id": 515501532,
        "sender_full_name": "Email Gateway",
        "timestamp": 1746104655
    }
]