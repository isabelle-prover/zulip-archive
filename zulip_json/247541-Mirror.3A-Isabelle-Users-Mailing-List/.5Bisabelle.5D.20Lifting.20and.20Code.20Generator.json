[
    {
        "content": "<p>From: \"\\\"Marmsoler, Diego\\\"\" &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi List,</p>\n<p>I do have a question regarding the lifting package and in particular its impact on the code generator.</p>\n<p>Let’s say I have two datatypes A and B and I want to use the lifting package to transfer terms (and properties) from A to B.<br>\nMoreover, I have a function defined over B.<br>\nThen, after setting up the lifting package, the code generator gives an error that a constructor for B is not a constructor.</p>\n<p>Here is a minimal example:</p>\n<hr>\n<p>datatype A =<br>\n  Value</p>\n<p>datatype B =<br>\n  Value</p>\n<p>fun myfun where<br>\n\"myfun Value = Value\"</p>\n<p>fun A_to_B where<br>\n  \"A_to_B (A.Value) = B.Value\"</p>\n<p>fun B_to_A where<br>\n  \"B_to_A (B.Value) = A.Value\"</p>\n<p>fun T where<br>\n  \"T (A.Value) (B.Value) = True\"</p>\n<p>lemma q: \"Quotient (=) A_to_B B_to_A T\"<br>\n  sorry</p>\n<p>setup_lifting q</p>\n<p>lemma \"myfun Value ≡ Value\" apply eval</p>\n<hr>\n<p>The last line gives the error that B.Value is not a constructor.</p>\n<p>Any suggestions about what I am doing wrong here would be much appreciated.</p>\n<p>Thanks,</p>\n<p>Diego</p>\n<p>Diego Marmsoler<br>\nSenior Lecturer (Education and Research), Computer Science<br>\nPI of Secure Smart Contracts with Isabelle/Solidity (<a href=\"https://sites.exeter.ac.uk/isabelle-solidity/\">https://sites.exeter.ac.uk/isabelle-solidity/</a>)<br>\nDeputy Director of Education and Student Experience<br>\nUniversity of Exeter, Innovation 1, Room 10<br>\nwww: marmsoler.com&lt;<a href=\"http://www.marmsoler.com/\">http://www.marmsoler.com/</a>&gt;<br>\nTwitter: @DiegoMarmsoler&lt;<a href=\"https://twitter.com/DiegoMarmsoler\">https://twitter.com/DiegoMarmsoler</a>&gt;</p>",
        "id": 525551598,
        "sender_full_name": "Email Gateway",
        "timestamp": 1750781114
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;<br>\nHi Diego,</p>\n<p>setup_lifting does some »smart« guessing whether and how the type <br>\nrelationship can be employed towards code generation.</p>\n<p>I found no option to suppress what, but maybe somebody else knows about <br>\nthis?</p>\n<p>You can restore the original code setup issuing</p>\n<p>code_datatype B.Value</p>\n<p>directly after setup_lifting.</p>\n<p>Hope this helps,<br>\n    Florian</p>\n<p>Am 24.06.25 um 18:04 schrieb \"Marmsoler, Diego\" (via cl-isabelle-users <br>\nMailing List):</p>\n<blockquote>\n<p>Hi List,</p>\n<p>I do have a question regarding the lifting package and in particular its <br>\nimpact on the code generator.</p>\n<p>Let’s say I have two datatypes A and B and I want to use the lifting <br>\npackage to transfer terms (and properties) from A to B.</p>\n<p>Moreover, I have a function defined over B.</p>\n<p>Then, after setting up the lifting package, the code generator gives an <br>\nerror that a constructor for B is not a constructor.</p>\n<p>Here is a minimal example:</p>\n<hr>\n<p>datatype A =</p>\n<p>Value</p>\n<p>datatype B =</p>\n<p>Value</p>\n<p>fun myfun where</p>\n<p>\"myfun Value = Value\"</p>\n<p>fun A_to_B where</p>\n<p>\"A_to_B (A.Value) = B.Value\"</p>\n<p>fun B_to_A where</p>\n<p>\"B_to_A (B.Value) = A.Value\"</p>\n<p>fun T where</p>\n<p>\"T (A.Value) (B.Value) = True\"</p>\n<p>lemma q: \"Quotient (=) A_to_B B_to_A T\"</p>\n<p>sorry</p>\n<p>setup_lifting q</p>\n<p>lemma \"myfun Value ≡ Value\" apply eval</p>\n<hr>\n<p>The last line gives the error that B.Value is not a constructor.</p>\n<p>Any suggestions about what I am doing wrong here would be much appreciated.</p>\n<p>Thanks,</p>\n<p>Diego</p>\n<p><em>Diego Marmsoler</em><br>\nSenior Lecturer (Education and Research), Computer Science<br>\nPI of Secure Smart Contracts with Isabelle/Solidity (https:// <br>\n<a href=\"http://sites.exeter.ac.uk/isabelle-solidity/\">sites.exeter.ac.uk/isabelle-solidity/</a> &lt;<a href=\"https://sites.exeter.ac.uk/\">https://sites.exeter.ac.uk/</a> <br>\nisabelle-solidity/&gt;)<br>\nDeputy Director of Education and Student Experience<br>\nUniversity of Exeter, Innovation 1, Room 10</p>\n<p>www: <a href=\"http://marmsoler.com\">marmsoler.com</a> &lt;<a href=\"http://www.marmsoler.com/\">http://www.marmsoler.com/</a>&gt;<br>\nTwitter: @DiegoMarmsoler &lt;<a href=\"https://twitter.com/DiegoMarmsoler\">https://twitter.com/DiegoMarmsoler</a>&gt;</p>\n</blockquote>\n<p><a href=\"/user_uploads/14278/ZnmFJJdXdShpE9IXX46AoP2C/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/cRy0_WbyZtA02cHaT3JnmT03/OpenPGP_signature.asc\">OpenPGP_signature.asc</a></p>",
        "id": 525556465,
        "sender_full_name": "Email Gateway",
        "timestamp": 1750782877
    }
]