[
    {
        "content": "<p>From: <a href=\"mailto:guilhermegfsilva@gmail.com\">guilhermegfsilva@gmail.com</a><br>\nI'm trying to use the export command to generate code based on a simulation of<br>\na state machine defined within a locale, where transitions between states<br>\noccur based on certain events. To do the code export from within a locale, I<br>\nbelieve I need to use the interpretation command to define some state machine<br>\nbased on said locale. Here is my code so far:</p>\n<p>theory SimpleStateMachine<br>\n  imports Main<br>\nbegin</p>\n<p>locale StateMachine =<br>\n  fixes<br>\n    states :: \"'state<br>\nset\"                                                   (* set of states that<br>\nmake up the machine *)<br>\n    and evs  :: \"'ev set\"                                                   (*<br>\nset of events *)<br>\n    and initial :: \"'state ⇒ bool\"                                        (*<br>\npredicate determining whether a state is the initial state *)<br>\n    and stateTrans :: \"'inE ⇒ ('state ⇒ 'state ⇒ bool)\"    (* predicate<br>\ndefining transitions between states according to which events happen *)<br>\nbegin<br>\n  inductive reachable:: \"'state ⇒ bool\" where                (* inductive<br>\ndefinition of whether a state is reachable *)<br>\n    base: \"initial x ⟹ reachable x\" |<br>\n    step: \"(∃ y i. (reachable y ∧<br>\n                    stateTrans i x y)) ⟹ reachable x\"</p>\n<p>global_interpretation interp_1: StateMachine \"states\" \"events\"  \"(λ x . True)\"<br>\n\"(λ i x y . True)\"           (* this is a simplified definition assuming that<br>\nevery state is initial and every transition is valid *)<br>\n  defines reachable_def = interp_1.reachable<br>\n(* incomplete, see point #3 below *)</p>\n<p>export_code<br>\n  reachable_def<br>\nin Haskell module_name simple_haskell_3</p>\n<p>What I would like to know is how to:</p>\n<ol>\n<li>\n<p>Define a set of arbitrary states (e.g. \"a, b, c\") and events (e.g. \"i1,<br>\ni2\") in my interpretation.</p>\n</li>\n<li>\n<p>Define the interpretation of the \"initial\" and \"stateTrans\" functions of<br>\nthe locale so that only some of the states (e.g. only \"a\") have the value of<br>\nthe initial predicate be True and that the proper transitions between states<br>\nare defined (e.g. stateTrans has the True value for the parameters \"i1 a b\",<br>\nindicating that event i1 causes a transition from state a to state b).</p>\n</li>\n<li>\n<p>Most importantly, how to specify the necessary proof in my interpretation<br>\nwith the \"defines\" command so that export can have the required code equations<br>\nfor \"reachable_def\". I believe I need to use \"defines ___ by\" followed by a<br>\nset of proof tactics, but how can I know what the necessary tactics are? If<br>\nthere are any tutorials of how to do interpretations like this that provide<br>\nexamples, that would be very helpful.</p>\n</li>\n</ol>\n<p>Thanks!</p>",
        "id": 357228607,
        "sender_full_name": "Email Gateway",
        "timestamp": 1683712438
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@informatik.tu-muenchen.de\">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>\nHi,</p>\n<p>[…]</p>\n<blockquote>\n<p>If<br>\nthere are any tutorials of how to do interpretations like this that provide<br>\nexamples, that would be very helpful.</p>\n</blockquote>\n<p>the Tutorial on Code Generation <br>\n&lt;<a href=\"https://isabelle.in.tum.de/dist/Isabelle2022/doc/codegen.pdf\">https://isabelle.in.tum.de/dist/Isabelle2022/doc/codegen.pdf</a>&gt; contains <br>\nsome basic examples.</p>\n<p>It is difficult to tell on the spot whether an how these relate to your <br>\nissue(s).  If the examples are not instructive, just come back to the <br>\nmailing list.</p>\n<p>Cheers,<br>\n    Florian</p>\n<p><a href=\"/user_uploads/14278/U3LVZT6TnHVIt3_qFN_zr7QP/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/iqCigTfKc_EHKr1oY3mh7a6i/OpenPGP_signature\">OpenPGP_signature</a></p>",
        "id": 357506999,
        "sender_full_name": "Email Gateway",
        "timestamp": 1683793702
    }
]