[
    {
        "content": "<p>From: Peter &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nDear list,</p>\n<p>is there a simple way to pretty-print a term without any syntactic sugar <br>\n(except basic lambda %_._ and application f x ). Ideally in an <br>\naccessible way for beginners.</p>\n<p>For example, \"{# x∈#S. x&lt;5 #}\" should be printed as \"filter_mset (λx. <br>\nless x 5) S\" and \"{ x∈S. x&lt;5 }\" as \"Collect (λx. x∈S ∧ less x 5)\"</p>\n<p>The only way I know to get a rough impression is to use</p>\n<p>ML_val ‹\\&lt;^term&gt;‹Collect (λx. x∈S ∧ less x 5)››</p>\n<p>but the output is pretty much unreadable.</p>\n<p>Background:</p>\n<ul>\n<li>\n<p>I'm explaining that there is a lot of syntactic sugar, but I don't <br>\nknow what to tell students that want to know how certain syntactic sugar <br>\nis actually translated.</p>\n</li>\n<li>\n<p>Also, it's sometimes important to know what constants your term <br>\ncomprises, e.g., to use find_theorems effectively, or to know what <br>\ndefinitions to unfold.</p>\n</li>\n</ul>\n<p>--</p>\n<p>Peter</p>",
        "id": 554113555,
        "sender_full_name": "Email Gateway",
        "timestamp": 1762441298
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;<br>\nI think I asked that question already a few years ago, and I once tried <br>\nbuilding a command that does this but didn't get very far.</p>\n<p>Of course, the question is what you mean by \"no syntactic sugar\". Even <br>\nin your example, you still had \"∈\" and \"∧\" as syntax in the output. <br>\nPrinting numerals without syntactic sugar will also lead to a lot of <br>\nclutter.</p>\n<p>Note however that since the last release (I think) you can actually <br>\nctrl+click on any notation and it will take you to the place where it <br>\nwas defined.</p>\n<p>Manuel</p>\n<p>On 06/11/2025 15:38, Peter (via cl-isabelle-users Mailing List) wrote:</p>\n<blockquote>\n<p>Dear list,</p>\n<p>is there a simple way to pretty-print a term without any syntactic <br>\nsugar (except basic lambda %_._ and application f x ). Ideally in an <br>\naccessible way for beginners.</p>\n<p>For example, \"{# x∈#S. x&lt;5 #}\" should be printed as \"filter_mset (λx. <br>\nless x 5) S\" and \"{ x∈S. x&lt;5 }\" as \"Collect (λx. x∈S ∧ less x 5)\"</p>\n<p>The only way I know to get a rough impression is to use</p>\n<p>ML_val ‹\\&lt;^term&gt;‹Collect (λx. x∈S ∧ less x 5)››</p>\n<p>but the output is pretty much unreadable.</p>\n<p>Background:</p>\n<ul>\n<li>\n<p>I'm explaining that there is a lot of syntactic sugar, but I don't <br>\nknow what to tell students that want to know how certain syntactic <br>\nsugar is actually translated.</p>\n</li>\n<li>\n<p>Also, it's sometimes important to know what constants your term <br>\ncomprises, e.g., to use find_theorems effectively, or to know what <br>\ndefinitions to unfold.</p>\n</li>\n</ul>\n<p>-- </p>\n<p>Peter</p>\n</blockquote>",
        "id": 554165950,
        "sender_full_name": "Email Gateway",
        "timestamp": 1762454936
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 06/11/2025 19:47, Manuel Eberl wrote:</p>\n<blockquote>\n<p>Note however that since the last release (I think) you can actually ctrl+click <br>\non any notation and it will take you to the place where it was defined.</p>\n</blockquote>\n<p>Yes, see this NEWS entry from Isabelle2025:</p>\n<ul>\n<li>Blocks in mixfix annotations now support properties \"open_block\"<br>\n(bool) and \"notation\" (string as cartouche). When \"open_block\" is<br>\nenabled, the block has no impact on formatting, but it may carry markup<br>\ninformation via \"notation\". The latter uses formal kinds (e.g. \"mixfix\",<br>\n\"infix\", \"binder\") together with informal words to describe the<br>\nnotation. This markup affects both parsing and printing --- it can be<br>\nexplored via mouse hovering in the Prover IDE, or programmatically by<br>\nIsabelle/Scala tools. Markup for \"infix\" and \"binder\" declarations are<br>\nautomatic, but general mixfix forms require manual annotations in the<br>\ntheory library. Plenty of existing examples may be found in the Isabelle<br>\nsources by searching for \"notation=\" (without quotes and no extra<br>\nspace). Occasional INCOMPATIBILITY for 'no_syntax' or 'no_notation'<br>\ndeclarations in user applications: the mixfix template needs to be<br>\nadapted accordingly, but it is often better to use \"unbundle no<br>\nfoobar_syntax\", as explained for HOL libraries below.</li>\n</ul>\n<p>That might be a bit too much text, which also needs to be understood in the <br>\ngreater context of other inner-syntax changes in that release.</p>\n<p>The short story:</p>\n<p>* infix and binder syntax get notation markup automatically<br>\n   * free-form mixfix syntax needs markup provided by the author of the theory <br>\nlibrary</p>\n<p>I've done a lot of such annotations for basic Isabelle/HOL libraries already, <br>\nbut there is plenty of room for further improvements, especially in AFP <br>\nlibrary sessions.</p>\n<p>Makarius</p>",
        "id": 554172628,
        "sender_full_name": "Email Gateway",
        "timestamp": 1762457088
    },
    {
        "content": "<p>From: Mikhail Mandrykin &lt;<a href=\"mailto:schrodibear@gmail.com\">schrodibear@gmail.com</a>&gt;<br>\nI sometimes use the attached hack to debug translations and checks. It<br>\nsimply adds an early un-check that temporarily renames all constants  in<br>\nthe printed terms and an AST print translation that renames them back<br>\nbefore printing. It only works if all printed terms are wrapped in either<br>\n‹Trueprop› or ‹Pure.term›, but that is often the case e.g. in proof states</p>\n<p>Mikhail</p>\n<p>On Thu, Nov 6, 2025 at 5:38 PM Peter &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nwrote:</p>\n<blockquote>\n<p>Dear list,</p>\n<p>is there a simple way to pretty-print a term without any syntactic sugar<br>\n(except basic lambda %_._ and application f x ). Ideally in an<br>\naccessible way for beginners.</p>\n<p>For example, \"{# x∈#S. x&lt;5 #}\" should be printed as \"filter_mset (λx.<br>\nless x 5) S\" and \"{ x∈S. x&lt;5 }\" as \"Collect (λx. x∈S ∧ less x 5)\"</p>\n<p>The only way I know to get a rough impression is to use</p>\n<p>ML_val ‹\\&lt;^term&gt;‹Collect (λx. x∈S ∧ less x 5)››</p>\n<p>but the output is pretty much unreadable.</p>\n<p>Background:</p>\n<ul>\n<li>\n<p>I'm explaining that there is a lot of syntactic sugar, but I don't<br>\nknow what to tell students that want to know how certain syntactic sugar<br>\nis actually translated.</p>\n</li>\n<li>\n<p>Also, it's sometimes important to know what constants your term<br>\ncomprises, e.g., to use find_theorems effectively, or to know what<br>\ndefinitions to unfold.</p>\n</li>\n</ul>\n<p>--</p>\n<p>Peter</p>\n</blockquote>\n<p><a href=\"/user_uploads/14278/iRroIX_CCvkwFFR8_whJnLVq/Test_Bypass_Translations.thy\">Test_Bypass_Translations.thy</a><br>\n<a href=\"/user_uploads/14278/85ZqEgFORRUcRxBW3ajb-cwY/Bypass_Translations.thy\">Bypass_Translations.thy</a></p>",
        "id": 555339952,
        "sender_full_name": "Email Gateway",
        "timestamp": 1763036285
    }
]