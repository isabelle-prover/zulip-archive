[
    {
        "content": "<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi, everyone,</p>\n<p>I use Isabelle for my research, and I find Isabelle server very helpful when you need to check dozens of theory files in parallel. My primary language is Python, so I prefer to communicate with the server through TCP. Some time ago, I wrote Python code to do that directly instead of invoking the native Isabelle client. Then I decided to take this script and create a piece of software that anyone interested can use.</p>\n<p>Here it is: <a href=\"https://github.com/inpefess/isabelle-client\">https://github.com/inpefess/isabelle-client</a></p>\n<p>Any comments are welcome since the client is very raw and has only one user at the moment:)</p>\n<p>Regards,<br>\nBoris</p>",
        "id": 227947414,
        "sender_full_name": "Email Gateway",
        "timestamp": 1614355004
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nGreat. I don't know Python myself and was hoping that someone else would start<br>\nconnecting it systematically to the Isabelle server.</p>\n<p>Your implementation looks mostly clear and straightforward. Just a few<br>\nspontaneous comments on current version d28d72f2c69e:</p>\n<p>* examples/dummy.thy: Isabelle theories should have a capitalized name;<br>\nimports for Isabelle/HOL below the checkpoint \"Main\" should be avoided, to<br>\navoid exposing the complexity of the theory/ML bootstrap to applications.</p>\n<p>* examples/example.py \"isabelle server &gt; <a href=\"http://server.info\">server.info</a>\": Here you ask user to<br>\nstart the server and provide its \"info\" to the Python function. Can this be<br>\ndone by Python as well? There is a technical delicacy behind it due to the way<br>\nhow the process is started and how it outputs the stdout message (this is not<br>\na regular Unix \"daemon\", because of the surrounding JVM).</p>\n<p>* For the low-level message formats (plain line, or line with length<br>\nfollowed by that number of bytes), see also these reference implementations in<br>\nML, Scala, Haskell --- it could make sense to follow the signatures more closely:</p>\n<p><a href=\"https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/PIDE/byte_message.ML\">https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/PIDE/byte_message.ML</a></p>\n<p><a href=\"https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/PIDE/byte_message.scala\">https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Pure/PIDE/byte_message.scala</a></p>\n<p><a href=\"https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Tools/Haskell/Haskell.thy#l1682\">https://isabelle.sketis.net/repos/isabelle-release/file/Isabelle2021/src/Tools/Haskell/Haskell.thy#l1682</a></p>\n<p>* isabelle_client.use_theories: here the bulk of prover messages appear in<br>\nthe response, but there is no way to \"tap\" into incremental message output as<br>\nit occurs. This will be probably one of the first \"feature requests\" (or<br>\nrather \"pull requests) when some other Isabelle users discover your Python<br>\nproject.</p>\n<p>Makarius</p>",
        "id": 228229276,
        "sender_full_name": "Email Gateway",
        "timestamp": 1614605360
    },
    {
        "content": "<p>From: Boris Shminke via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>\n<blockquote>\n<p>Great. I don't know Python myself and was hoping that someone else would start<br>\nconnecting it systematically to the Isabelle server.</p>\n</blockquote>\n<p>Thank you:)</p>\n<blockquote>\n<p>imports for Isabelle/HOL below the checkpoint \"Main\" should be avoided, to<br>\n    avoid exposing the complexity of the theory/ML bootstrap to applications.</p>\n</blockquote>\n<p>Do you mean one should change 'imports HOL.Nitpick' to 'imports Main'?</p>\n<blockquote>\n<p>Can this be done by Python as well? There is a technical delicacy behind it due to the way<br>\nhow the process is started and how it outputs the stdout message (this is not<br>\na regular Unix \"daemon\", because of the surrounding JVM).</p>\n</blockquote>\n<p>Do you mean one should add a function <code>start_isabelle_server</code> which, e.g. runs <code>isabelle server</code> command and returns 'info'?</p>\n<blockquote>\n<ul>\n<li>For the low-level message formats (plain line, or line with length<br>\n    followed by that number of bytes), see also these reference implementations in<br>\n    ML, Scala, Haskell --- it could make sense to follow the signatures more closely:</li>\n</ul>\n</blockquote>\n<p>Yes, that's good idea! I already look at the code and find it a bit primitive, so consulting some Scala code might be helpful to get some insights in doing it right.</p>\n<blockquote>\n<ul>\n<li>isabelle_client.use_theories: here the bulk of prover messages appear in<br>\n    the response, but there is no way to \"tap\" into incremental message output as<br>\n    it occurs. This will be probably one of the first \"feature requests\" (or<br>\n    rather \"pull requests) when some other Isabelle users discover your Python<br>\n    project.</li>\n</ul>\n</blockquote>\n<p>Yes, I already thought about that. I've created several issues following this email here: <a href=\"https://github.com/inpefess/isabelle-client/issues\">https://github.com/inpefess/isabelle-client/issues</a>.</p>\n<p>Thank you for helpful comments!</p>\n<p>Cheers,<br>\nBoris</p>",
        "id": 228413198,
        "sender_full_name": "Email Gateway",
        "timestamp": 1614693549
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 02/03/2021 14:58, Boris Shminke wrote:</p>\n<blockquote>\n<blockquote>\n<p>imports for Isabelle/HOL below the checkpoint \"Main\" should be avoided, to<br>\n    avoid exposing the complexity of the theory/ML bootstrap to applications.</p>\n</blockquote>\n<p>Do you mean one should change 'imports HOL.Nitpick' to 'imports Main'?</p>\n</blockquote>\n<p>Yes, Main is the default import for Isabelle/HOL applications.</p>\n<blockquote>\n<blockquote>\n<p>Can this be done by Python as well? There is a technical delicacy behind it due to the way<br>\nhow the process is started and how it outputs the stdout message (this is not<br>\na regular Unix \"daemon\", because of the surrounding JVM).</p>\n</blockquote>\n<p>Do you mean one should add a function <code>start_isabelle_server</code> which, e.g. runs <code>isabelle server</code> command and returns 'info'?</p>\n</blockquote>\n<p>Yes.</p>\n<p>Makarius</p>",
        "id": 228862635,
        "sender_full_name": "Email Gateway",
        "timestamp": 1614897010
    }
]