[
    {
        "content": "<p><strong>From:</strong> Peter Lammich &lt;<a href=\"mailto:lammich@in.tum.de\">lammich@in.tum.de</a>&gt;</p>\n<p>Dear List,</p>\n<p>I recently encountered my fan not stopping to spin. I wanted to delete <br>\nthe veriT threads, but found out that there was a poly thread sitting at <br>\n100% CPU, and not stopping. According to the theory panel, all theories <br>\nwhere completely processed, and according to the status bar, no GCs <br>\nwhere in progress.</p>\n<p>I'd expect no 100% CPU thread in this situation ... restarting Isabelle <br>\nsolved the problem.</p>\n<p>What information can/shall I collect the next time that happens, in <br>\norder to identify the reason?</p>\n<p>--</p>\n<p>Peter</p>\n<p>OS: Ubuntu on x86_64</p>",
        "id": 568075410,
        "sender_full_name": "Email Gateway",
        "timestamp": 1768422900
    },
    {
        "content": "<p><strong>From:</strong> Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;</p>\n<p>On 14/01/2026 21:34, Peter Lammich wrote:</p>\n<blockquote>\n<p>What information can/shall I collect the next time that happens, in order to <br>\nidentify the reason?</p>\n</blockquote>\n<p>Maybe some information from \"top\" about memory: VIRT, RES.</p>\n<p>Also a confirmation that the \"poly\" process is really the prover backend, not <br>\nthe ML runtime monitor process.</p>\n<p>You can see the difference via \"ps aux | grep poly\". The monitor has a <br>\ncommand-line like this:</p>\n<p>poly -q --use src/Pure/ML/ml_statistics.ML --eval ML_Statistics.monitor <br>\n5617 0.5</p>\n<p>Makarius</p>",
        "id": 568167374,
        "sender_full_name": "Email Gateway",
        "timestamp": 1768471483
    },
    {
        "content": "<p><strong>From:</strong> Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;</p>\n<p>On 18/01/2026 07:35, Vincent Jackson wrote:</p>\n<blockquote>\n<p>Here is my current Isabelle version:</p>\n<p>isabelle version -it<br>\n4b875a4c83b0<br>\nIsabelle2025</p>\n</blockquote>\n<p>That is already outdated. We are talking about Isabelle2025-1 here.</p>\n<blockquote>\n<blockquote>\n<p>Maybe some information from \"top\" about memory: VIRT, RES.</p>\n<p>Also a confirmation that the \"poly\" process is really the prover backend, <br>\nnot the ML runtime monitor process.<br>\nHere is the requested information:</p>\n</blockquote>\n<p>admin     145198  261 22.9 7786296 3698832 ?     Sl   16:04  21:19 poly -q --minheap 1000 --gcthreads 4 --exportstats --eval (PolyML.SaveState.loadHierarchy [\"&lt;...&gt;/Isabelle2025/heaps/polyml-for-isabelle-2025_x86_64-linux/Pure\", \"&lt;...&gt;/Isabelle2025/heaps/polyml-for-isabelle-2025_x86_64-linux/HOL\"]; PolyML.print_depth 0) --eval Options.load_default () --eval Resources.init_session_env () --eval Isabelle_Process.init ()<br>\nadmin     145229  0.0  0.1 2586568 25312 ?       Sl   16:05   0:00 poly -q --use src/Pure/ML/ml_statistics.ML --eval ML_Statistics.monitor 145198 0.5</p>\n</blockquote>\n<p>For claritiy, here are is the ps header line (on Linux):</p>\n<p>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</p>\n<p>It means that the poly process above is running at 261% --- which is a notable <br>\ndifference from the initial observation on this thread. 100% often means that <br>\na there is a single thread that \"hangs\".</p>\n<p>The scale for the process size is unclear to me. Maybe we see approx. 3.6 GiB <br>\nabove, which is not so much. (Assuming this is decent hardware with 16..32 GiB <br>\ntotal.)</p>\n<blockquote>\n<p>I have also noticed that whenever this does happen, the ML status indicator in <br>\njEdit reads \"ML cleanup\", but I have no idea if that's diagnostically relevant.</p>\n</blockquote>\n<p>That means poly is running garbage collection. It can take quite long, but <br>\nshould finish eventually. If it doesn't, it needs further investigation --- <br>\nusing a current version of Isabelle --- with an authentic Poly/ML component <br>\nthat has been provided by the Isabelle distribution.</p>\n<p>Makarius</p>",
        "id": 568658531,
        "sender_full_name": "Email Gateway",
        "timestamp": 1768737205
    },
    {
        "content": "<p><strong>From:</strong> Vincent Jackson &lt;<a href=\"mailto:vjjac@student.unimelb.edu.au\">vjjac@student.unimelb.edu.au</a>&gt;</p>\n<p>Hello, I am also experiencing this issue.</p>\n<p>Here is my current Isabelle version:</p>\n<p>isabelle version -it<br>\n4b875a4c83b0<br>\nIsabelle2025</p>\n<blockquote>\n<p>Maybe some information from \"top\" about memory: VIRT, RES.</p>\n<p>Also a confirmation that the \"poly\" process is really the prover <br>\nbackend, not the ML runtime monitor process.<br>\nHere is the requested information:</p>\n</blockquote>\n<p>admin     145198  261 22.9 7786296 3698832 ?     Sl   16:04  21:19 poly -q --minheap 1000 --gcthreads 4 --exportstats --eval (PolyML.SaveState.loadHierarchy [\"&lt;...&gt;/Isabelle2025/heaps/polyml-for-isabelle-2025_x86_64-linux/Pure\", \"&lt;...&gt;/Isabelle2025/heaps/polyml-for-isabelle-2025_x86_64-linux/HOL\"]; PolyML.print_depth 0) --eval Options.load_default () --eval Resources.init_session_env () --eval Isabelle_Process.init ()<br>\nadmin     145229  0.0  0.1 2586568 25312 ?       Sl   16:05   0:00 poly -q --use src/Pure/ML/ml_statistics.ML --eval ML_Statistics.monitor 145198 0.5</p>\n<p>(N.b. I have trimmed some excessively long paths generated by nixos.)</p>\n<p>I have also noticed that whenever this does happen, the ML status <br>\nindicator in jEdit reads \"ML cleanup\", but I have no idea if that's <br>\ndiagnostically relevant.</p>\n<p>Vincent</p>",
        "id": 568906094,
        "sender_full_name": "Email Gateway",
        "timestamp": 1768860579
    }
]