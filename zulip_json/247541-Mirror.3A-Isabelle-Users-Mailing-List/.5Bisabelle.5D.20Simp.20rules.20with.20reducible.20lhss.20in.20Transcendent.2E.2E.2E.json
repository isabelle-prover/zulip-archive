[
    {
        "content": "<p><strong>From:</strong> 山田晃久 &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>\n<p>Dear list,</p>\n<p>this is just a question, not a request. In HOL/Transcendental.thy, there are two simp rules whose lhss are reducible by other simp rules:</p>\n<ul>\n<li>lemma sin_cos_npi [simp]: \"sin (real (Suc (2 * n)) * pi/2) = (-1) ^ n\"</li>\n<li>lemma cos_pi_eq_zero [simp]: \"cos (pi * real (Suc (2 * m)) / 2) = 0\"</li>\n</ul>\n<p>To make them applied, one must disable of_nat_Suc. Is this intended?</p>\n<p>Best,<br>\nAkihisa</p>",
        "id": 564202730,
        "sender_full_name": "Email Gateway",
        "timestamp": 1765962843
    },
    {
        "content": "<p><strong>From:</strong> Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;</p>\n<p>That doesn't look intentional, no. No idea where this comes from and why <br>\nit's written that way. My guess would be that somebody added it without <br>\nthinking too much about it.</p>\n<p>In my experience rules like that don't work super well to begin with <br>\nthough. If your \"n\" is actually a \"Suc n\" or a numeral or a \"m + n\" the <br>\nrules aren't going to fire. So even if one were to replace the left-hand <br>\nside of this rule with its normal form, I don't think it would work <br>\nterribly well. I have been wondering whether one could build some sort <br>\nof simproc to deal with that sort of thing. But I never really got round <br>\nto doing that and it's not entirely clear what the scope would be.</p>\n<p>However, in Isabelle 2025-1 there will at least be some material that <br>\nmight help with this sort of thing in HOL-Library.Real_Mod, e.g.:</p>\n<blockquote>\n<p>lemma sin_rcong: \"[x = y] (rmod (2 * pi)) ⟹ sin x = sin y\"</p>\n</blockquote>\n<p>Or more generally:</p>\n<blockquote>\n<p>lemma sin_eq_sin_conv_rmod_iff: \"sin x = sin y ⟷ [x = y] (rmod 2 * <br>\npi) ∨ [x = pi - y] (rmod 2 * pi)\"<br>\nCombining this with the collection of intro rules rcong_intros allows <br>\nyou to simplify expressions involving sin/cos/tan/cis/etc. a lot more <br>\nnicely.</p>\n</blockquote>\n<p>Cheers,</p>\n<p>Manuel</p>\n<p>On 17/12/2025 10:13, 山田晃久 (via cl-isabelle-users Mailing List) wrote:</p>\n<blockquote>\n<p>Dear list,</p>\n<p>this is just a question, not a request. In HOL/Transcendental.thy, <br>\nthere are two simp rules whose lhss are reducible by other simp rules:</p>\n<ul>\n<li>lemma sin_cos_npi [simp]: \"sin (real (Suc (2 * n)) * pi/2) = (-1) ^ n\"</li>\n<li>lemma cos_pi_eq_zero [simp]: \"cos (pi * real (Suc (2 * m)) / 2) = 0\"</li>\n</ul>\n<p>To make them applied, one must disable of_nat_Suc. Is this intended?</p>\n<p>Best,<br>\nAkihisa</p>\n</blockquote>",
        "id": 564225170,
        "sender_full_name": "Email Gateway",
        "timestamp": 1765969825
    },
    {
        "content": "<p><strong>From:</strong> Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;</p>\n<p>On 17/12/2025 12:10, Manuel Eberl wrote:</p>\n<blockquote>\n<p>That doesn't look intentional, no. No idea where this comes from and why it's <br>\nwritten that way. My guess would be that somebody added it without thinking <br>\ntoo much about it.</p>\n</blockquote>\n<p>It comes from this changeset:</p>\n<p>changeset:   12196:a3be6b3a9c0b<br>\nuser:        paulson<br>\ndate:        Thu Nov 15 16:12:49 2001 +0100<br>\ndescription:<br>\nnew theories from Jacques Fleuriot</p>\n<p>Interesting to see how things were done &gt; 25 years ago.</p>\n<p>Makarius</p>",
        "id": 564236394,
        "sender_full_name": "Email Gateway",
        "timestamp": 1765973614
    },
    {
        "content": "<p><strong>From:</strong> 山田晃久 &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>\n<p>Thank you for clarification! I guess that long ago \"real\" wasn't a synonym of of_nat and the situation was different.</p>\n<p>And yes, just simplifying the lhss won't make them very applicable anyway. Then I would propose to add:</p>\n<p>lemma sin_add_pi_half [simp]: \"sin (x + pi/2) = cos x\" by (simp add: sin_add)<br>\nlemma cos_add_pi_half [simp]: \"cos (x + pi/2) = - sin x\" by (simp add: cos_add)</p>\n<p>Then the original statements can be derived by adding distribution rules:</p>\n<p>lemma sin_cos_npi: \"sin (real (Suc (2 * n)) * pi/2) = (-1) ^ n\" by (simp add: algebra_simps add_divide_distrib)<br>\nlemma cos_pi_eq_zero: \"cos (pi * real (Suc (2 * m)) / 2) = 0\" by (simp add: algebra_simps add_divide_distrib)</p>\n<p>Best,<br>\nAkihisa</p>\n<hr>\n<p>差出人: <a href=\"mailto:cl-isabelle-users-request@lists.cam.ac.uk\">cl-isabelle-users-request@lists.cam.ac.uk</a> &lt;<a href=\"mailto:cl-isabelle-users-request@lists.cam.ac.uk\">cl-isabelle-users-request@lists.cam.ac.uk</a>&gt; が Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; の代理で送信<br>\n送信: 2025 年 12 月 17 日 (水曜日) 21:13<br>\n宛先: Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;; <a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a> &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\n件名: Re: [isabelle] Simp rules with reducible lhss in Transcendental.thy</p>\n<p>On 17/12/2025 12:10, Manuel Eberl wrote:</p>\n<blockquote>\n<p>That doesn't look intentional, no. No idea where this comes from and why it's<br>\nwritten that way. My guess would be that somebody added it without thinking<br>\ntoo much about it.</p>\n</blockquote>\n<p>It comes from this changeset:</p>\n<p>changeset:   12196:a3be6b3a9c0b<br>\nuser:        paulson<br>\ndate:        Thu Nov 15 16:12:49 2001 +0100<br>\ndescription:<br>\nnew theories from Jacques Fleuriot</p>\n<p>Interesting to see how things were done &gt; 25 years ago.</p>\n<p>Makarius</p>",
        "id": 564374855,
        "sender_full_name": "Email Gateway",
        "timestamp": 1766028340
    },
    {
        "content": "<p><strong>From:</strong> Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;</p>\n<p>Many thanks for your suggestion. I'm surprised that those well-known facts are not available already in that exact form, although we have many related identities. As for your original question, I think that sometimes people apply the [simp] attribute without considering whether it makes sense, or else as you suggested, possibly it made sense back in 2001.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 18 Dec 2025, at 03:24, 山田晃久 &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt; wrote:</p>\n<p>Thank you for clarification! I guess that long ago \"real\" wasn't a synonym of of_nat and the situation was different.</p>\n<p>And yes, just simplifying the lhss won't make them very applicable anyway. Then I would propose to add:</p>\n<p>lemma sin_add_pi_half [simp]: \"sin (x + pi/2) = cos x\" by (simp add: sin_add)<br>\nlemma cos_add_pi_half [simp]: \"cos (x + pi/2) = - sin x\" by (simp add: cos_add)<br>\n</p>\n</blockquote>",
        "id": 564446725,
        "sender_full_name": "Email Gateway",
        "timestamp": 1766060779
    },
    {
        "content": "<p><strong>From:</strong> 山田晃久 &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;</p>\n<p>Thank you! It was actually a question regarding how to improve HOL/MacLaurin.thy, which I now propose as in the attached patch.​​</p>\n<p>Initial motivation was just to make proof export succeed (for the project of Frédéric), but I think eventually this is good enough to replace the original.<br>\nI did not change the main statements, though I think \"1/2 * ...\" should better be simplified to \"... / 2\".</p>\n<p>Best,<br>\nAkihisa</p>\n<hr>\n<p>差出人: Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;<br>\n送信: 2025 年 12 月 18 日 (木曜日) 21:26<br>\n宛先: 山田晃久 &lt;<a href=\"mailto:akihisa.yamada@aist.go.jp\">akihisa.yamada@aist.go.jp</a>&gt;<br>\nCc: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;; Manuel Eberl &lt;<a href=\"mailto:manuel@pruvisto.org\">manuel@pruvisto.org</a>&gt;; <a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a> &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\n件名: Re: [isabelle] Simp rules with reducible lhss in Transcendental.thy</p>\n<p>Many thanks for your suggestion. I'm surprised that those well-known facts are not available already in that exact form, although we have many related identities. As for your original question, I think that sometimes people apply the [simp] attribute without considering whether it makes sense, or else as you suggested, possibly it made sense back in 2001.</p>\n<p>Larry</p>\n<blockquote>\n<p>On 18 Dec 2025, at 03:24, 山田晃久 &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt; wrote:</p>\n<p>Thank you for clarification! I guess that long ago \"real\" wasn't a synonym of of_nat and the situation was different.</p>\n<p>And yes, just simplifying the lhss won't make them very applicable anyway. Then I would propose to add:</p>\n<p>lemma sin_add_pi_half [simp]: \"sin (x + pi/2) = cos x\" by (simp add: sin_add)<br>\nlemma cos_add_pi_half [simp]: \"cos (x + pi/2) = - sin x\" by (simp add: cos_add)<br>\n</p>\n</blockquote>\n<p><a href=\"/user_uploads/14278/MNiI_L3WyRwI6asqQXODi011/MacLaurin.patch\">MacLaurin.patch</a></p>",
        "id": 564711995,
        "sender_full_name": "Email Gateway",
        "timestamp": 1766155593
    }
]