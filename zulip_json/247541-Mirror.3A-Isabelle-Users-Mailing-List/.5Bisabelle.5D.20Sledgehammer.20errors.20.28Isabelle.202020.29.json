[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 21/04/2020 19:01, Peter Lammich wrote:</p>\n<blockquote>\n<p>I get the following error when running sledgehammer on certain<br>\nstatements. It seems to be reproducible on my machine, where I get the<br>\nsame output each time.</p>\n<p>I have already reported the \"bad SMT term: _ \" error from Z3, but the<br>\ncore dumps from CVC4 are new.</p>\n</blockquote>\n<blockquote>\n<p>theory Scratch<br>\nimports<br>\n   \"Word_Lib.Word_Lemmas\"<br>\nbegin<br>\n  (* TODO: Move *)  <br>\n  lemma word1_neqZ_is_one: \"(a::1 word) ≠ 0 ⟷ a=1\"  <br>\n    apply transfer<br>\n    subgoal for a<br>\n      apply (cases \"bin_last a\")<br>\n      by auto<br>\n    done</p>\n<p>lemma word1_cases[cases type]: <br>\n    fixes a :: \"1 word\" obtains (zero) \"a=0\" | (one) \"a=1\"<br>\n    apply (cases \"a=0\")<br>\n    by (auto simp: word1_neqZ_is_one)</p>\n<p>lemma \"from_bool (to_bool a ∧ to_bool b) = a &amp;&amp; b\" for a b :: \"1<br>\nword\"<br>\n    sledgehammer</p>\n<p>(*    </p>\n<p>Sledgehammering... <br>\nProof found... <br>\n/tmp/isabelle-j65266pl/process1068846226209823883/bash_script6413124:<br>\nline 1: 10915 Aborted                 (core dumped)<br>\n/home/j65266pl/opt/Isabelle2020/contrib/cvc4-1.5-5/x86_64-linux/cvc4 --<br>\nfull-saturate-quant --inst-when\\=full-last-call --inst-no-entail --<br>\nterm-db-mode\\=relevant --multi-trigger-linear --no-statistics --random-<br>\nseed\\=1 --lang\\=smt2 --continued-execution --tlimit 9990 /tmp/isabelle-<br>\nj65266pl/process1068846226209823883/cache-io-6413120 &gt; /tmp/isabelle-<br>\nj65266pl/process1068846226209823883/cache-io-6413122 2&gt;&amp;1 <br>\n/tmp/isabelle-j65266pl/process1068846226209823883/bash_script6417028:<br>\nline 1: 10942 Aborted                 (core dumped)<br>\n[...]<br>\n\"cvc4\": The prover crashed <br>\n\"e\": Try this: by (metis (full_types) from_bool_1 to_bool_0 to_bool_1<br>\nword1_neqZ_is_one word_bool_alg.conj_one_right word_log_esimps(1)) (119<br>\nms) <br>\n\"z3\": A prover error occurred:<br>\nbad SMT term: _ <br>\n\"vampire\": Try this: by (metis (full_types) from_bool_neq_0 to_bool_0<br>\nto_bool_1 word1_cases word_and_notzeroD word_bw_same(1)) (54 ms)  </p>\n<p>*)  </p>\n</blockquote>\n<p>Trying a variant of this example with Isabelle2021-RC1, I get soft failures<br>\nfor the SMT tools, without hard crashes. This is for AFP/a31f698ef3f8:</p>\n<p>Isabelle2021-RC1/bin/isabelle jedit -d afp-devel/thys Scratch.thy</p>\n<p>I can't say if it is within the intended range of functionality or<br>\nnon-functionality of the SMT tools with the HOL Word library.</p>\n<p>Makarius<br>\n<a href=\"/user_uploads/14278/HgW4NuL-RaEW3gQ99aHpLGVK/Scratch.thy\">Scratch.thy</a></p>",
        "id": 221453780,
        "sender_full_name": "Email Gateway",
        "timestamp": 1609684998
    },
    {
        "content": "<p>From: Mathias Fleury &lt;<a href=\"mailto:mathias.fleury12@gmail.com\">mathias.fleury12@gmail.com</a>&gt;<br>\nThanks for revisiting that thread.</p>\n<blockquote>\n<p>Trying a variant of this example with Isabelle2021-RC1, I get soft failures<br>\nfor the SMT tools, without hard crashes. This is for AFP/a31f698ef3f8:</p>\n<p>Isabelle2021-RC1/bin/isabelle jedit -d afp-devel/thys Scratch.thy</p>\n<p>I can't say if it is within the intended range of functionality or<br>\nnon-functionality of the SMT tools with the HOL Word library.</p>\n</blockquote>\n<p>The Z3 errors are expected, the CVC4 are not. I am working on it -- CVC4 <br>\nis producing warnings that are not properly ignored.</p>\n<p>Mathias</p>\n<blockquote>\n<p>Makarius</p>\n</blockquote>",
        "id": 221461100,
        "sender_full_name": "Email Gateway",
        "timestamp": 1609694351
    }
]