[
    {
        "content": "<p>From: wangsl &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi Fabian,</p>\n<p>Thank you for your response. Our work requires a rigorous numerical ODE <br>\nsolver with adaptive step size control—precisely the ODE solver you have <br>\nimplemented.<br>\nIn our implementation, we import Example_Utilities and use the constant <br>\nfunction in oracle @{computation_check …} to generate code.</p>\n<p>As you noted, we did specify some parameters in optnS as rational <br>\nnumbers, and the error has just been resolved in the generated code <br>\nafter we modified them to float.</p>\n<p>Thanks again!</p>\n<p>Best,<br>\nShuling</p>\n<p>在 2025-10-19 11:03，cl-isabelle-users-request@lists.cam.ac.uk 写道：</p>\n<blockquote>\n<p>cl-isabelle-users digest Sun, 19 Oct 2025</p>\n<p>Table of contents:</p>\n<ul>\n<li>1 - Re: [isabelle] Question on Cycle dependency error when exporting <br>\ncode<br>\n  from verified ODE solver in AFP - Fabian Immler <br>\n&lt;<a href=\"mailto:fabian.immler@gmail.com\">fabian.immler@gmail.com</a>&gt;</li>\n</ul>\n<hr>\n<p>Message-ID:<br>\n &lt;CAHBFu06z6RYGrw8m=puBeO_ZbY9itXzZUuG08770rVwD3NczKg@mail.gmail.com&gt;<br>\nDate: Sat, 18 Oct 2025 16:00:46 +0200<br>\nFrom: Fabian Immler &lt;<a href=\"mailto:fabian.immler@gmail.com\">fabian.immler@gmail.com</a>&gt;<br>\nSubject: Re: [isabelle] Question on Cycle dependency error when <br>\nexporting code<br>\n from verified ODE solver in AFP</p>\n<p>Hi,</p>\n<p>Glad to hear that you are trying to use my ODE solver :)</p>\n<p>My AFP entries modify the code setup for type “real”: reals are <br>\nrepresented<br>\nas float, and not rat (as in the Isabelle distribution).<br>\nIn this code setup, division is only defined for powers of 2, and if <br>\nyour<br>\ncode attempts to divide by something else, it raises this exception.</p>\n<p>Did you perhaps specify some parameters in optnS (like stepsize or<br>\ntolerances) as a rational number (e.g. 0.1 or something like that)?</p>\n<p>Code for the ODE solver is generated only internally for the<br>\n@{computation_check …} oracle in theory Example_Utilities. If you do an<br>\nexport_code … in module …</p>\n<p>for any of the constants involved in that oracle declaration, you <br>\nshould<br>\nget the “right” code generated (assuming you import Example_Utilities <br>\nto<br>\nget the correct code setup).</p>\n<p>Hope this helps, best wishes,</p>\n<p>Fabian</p>\n<p>On Thu, Oct 16, 2025 at 13:19 Florian Haftmann <br>\n&lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;<br>\nwrote:</p>\n<blockquote>\n<p>Hi,</p>\n<blockquote>\n<p>I'm using the verified ODE solver authored by Fabian Immler from the AFP<br>\nfor code generation:</p>\n<p>export_code one_step_until_time_impl_aform in SML</p>\n<p>then it produces the following error information:</p>\n<p>Dependency \"real\" :: \"metric_space\" -&gt; \"real\" :: \"t4_space\" would<br>\nresult in module dependency cycle</p>\n</blockquote>\n<p>Try</p>\n<blockquote>\n<p>export_code one_step_until_time_impl_aform in SML module_name Example</p>\n</blockquote>\n<p>instead</p>\n<blockquote>\n<p>I also tried the following:</p>\n<p>definition \"fs = one_step_until_time_impl_aform optnS 2<br>\n(init_ode_ops False False (the_odo e1_fas true_form)) x0 False 1\"</p>\n<p>value fs</p>\n<p>It seems value generates code successfully but encounters an error at<br>\nrun time, part of the compile information is shown below:</p>\n<p>Warning: Value identifier (x) has not been referenced.<br>\n     At (line 10565 of \"generated code\")<br>\n     Warning: Value identifier (dummy) has not been referenced.<br>\n     At (line 10669 of \"generated code\")<br>\n     Exception- Fail \"division not by 2\" raised</p>\n</blockquote>\n<p>It seems this can only be answered by the author of the entry <br>\nproviding<br>\nthat particular code setup<br>\n(<a href=\"https://www.isa-afp.org/entries/Affine_Arithmetic.html\">https://www.isa-afp.org/entries/Affine_Arithmetic.html</a>), which is <br>\nalso<br>\nFabian Immler.</p>\n<p>Cheers,<br>\n        Florian</p>\n</blockquote>\n<hr>\n<hr>\n<p>End of cl-isabelle-users Digest Sun, 19 Oct 2025</p>\n</blockquote>",
        "id": 545900592,
        "sender_full_name": "Email Gateway",
        "timestamp": 1760946108
    }
]