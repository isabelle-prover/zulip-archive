[
    {
        "content": "<p>From: Amarin Phaosawasdi &lt;<a href=\"mailto:amarin.uiuc@gmail.com\">amarin.uiuc@gmail.com</a>&gt;<br>\nHello,</p>\n<p>(Apologies if you received this twice. I tried sending this to the mailing<br>\nlist yesterday but I'm not sure it got through.)</p>\n<p>I'm reading the coinduction example from this blog post:<br>\n<a href=\"https://www.joachim-breitner.de/blog/726-Coinduction_in_Coq_and_Isabelle\">https://www.joachim-breitner.de/blog/726-Coinduction_in_Coq_and_Isabelle</a></p>\n<p>In particular, the Isabelle section that defines</p>\n<p>coinductive le where<br>\n  leN: \"le N m\"<br>\n| leS: \"le n m =&gt; le (S n) (S m)\"</p>\n<p>and tries to prove</p>\n<p>lemma min_le: \"le (min n m) n\"</p>\n<p>The first step applies the coinduction proof method and shows this proof<br>\nobligation.</p>\n<p>forall n m. (exists x. min n m = N /\\ n = x) \\/<br>\n            (exists x y.<br>\n                 min n m = S x /\\<br>\n                 n = S y /\\<br>\n                 ((exists x' y'. x = min x' y' ∧ x = x') ∨ le x y))</p>\n<p>(I did a bit of renaming and using ascii here.)</p>\n<p>To prove by coinduction, I need to show that \"le (min n m) n\" was formed by<br>\nthe rules that define le. So it's either leN or leS.</p>\n<p>For the leN case, I need to find an x such that</p>\n<ul>\n<li>min n m = N (the first argument of le)</li>\n<li>n = x (the second argument of le)</li>\n</ul>\n<p>This makes sense.</p>\n<p>For the leS case, I need to find an x and y such that</p>\n<ul>\n<li>min n m = S x (the first argument of le)</li>\n<li>n = S y (the second argument of le)</li>\n<li>le x y (the assumption of leS)</li>\n</ul>\n<p>But I'm missing where<br>\n   exists x' y'. x = min x' y' ∧ x = x'<br>\ncame from.</p>\n<p>I've found some helpful resources online:</p>\n<ul>\n<li><a href=\"https://www.andreipopescu.uk/MGS2021/Lecture3_Coinductive_Predicates.pdf\">https://www.andreipopescu.uk/MGS2021/Lecture3_Coinductive_Predicates.pdf</a></li>\n<li><a href=\"https://xavierleroy.org/CdF/2018-2019/9.pdf\">https://xavierleroy.org/CdF/2018-2019/9.pdf</a><br>\nbut neither of them seem to discuss any thing that maps to this extra<br>\n    exists x' y'. x = min x' y' ∧ x = x'<br>\nclause. Or I'm not pattern matching the predicate P correctly.</li>\n</ul>\n<p>Is it something along the lines of the coinduction hypothesis?</p>\n<p>Thank you so much,<br>\nAmarin</p>",
        "id": 320270312,
        "sender_full_name": "Email Gateway",
        "timestamp": 1673281917
    },
    {
        "content": "<p>From: Dmitriy Traytel &lt;<a href=\"mailto:traytel@di.ku.dk\">traytel@di.ku.dk</a>&gt;<br>\nHi Amarin,</p>\n<p>The coinduction rule for le is as follows:</p>\n<p>X a b ⟹<br>\n(⋀x1 x2.<br>\n    X x1 x2 ⟹<br>\n    (∃m. x1 = N ∧ x2 = m) ∨ (∃n m. x1 = S n ∧ x2 = S m ∧ (X n m ∨ le n m))) ⟹<br>\nle a b</p>\n<p>To use coinduction, you need to exhibit the relation X that is closed under the application of the introduction rules (in case of equality this would be the bisimulation witness). The disjunction with \"le n m” is actually a small strengthening (not actually stronger than the rule without this disjunct, but convenient) that I would assume to be omitted in the tutorials you cite below. For many examples it will not be relevant.</p>\n<p>Now the coinduction proof method instantiates X in your example with the relation \"λa b. ∃n m. a = min n m ∧ b = m”. This is what you see below. Our ITP’14 paper (<a href=\"https://doi.org/10.1007/978-3-319-08970-6_7\">https://doi.org/10.1007/978-3-319-08970-6_7</a>) describes this behavior of coinduction in Section 7.</p>\n<p>Best wishes,<br>\nDmitriy</p>",
        "id": 320276279,
        "sender_full_name": "Email Gateway",
        "timestamp": 1673283490
    },
    {
        "content": "<p>From: Amarin Phaosawasdi &lt;<a href=\"mailto:amarin.uiuc@gmail.com\">amarin.uiuc@gmail.com</a>&gt;<br>\nAh, thanks so much, also for the link to the paper!</p>",
        "id": 320282938,
        "sender_full_name": "Email Gateway",
        "timestamp": 1673285262
    }
]