[
    {
        "content": "<p>From: Kevin Kappelmann &lt;<a href=\"mailto:kevin.kappelmann@tum.de\">kevin.kappelmann@tum.de</a>&gt;<br>\nDear list,</p>\n<p>I fail to understand the signature provided by<br>\n<code>Pure/ML/ml_antiquotation.ML</code> (see below).<br>\nCan someone explain the meaning of <code>declaration</code>, <code>inline</code>, <code>value</code>, and<br>\n<code>special_form</code>? Moreover, what is the meaning of <code>embedded</code> (e.g.<br>\n<code>inline</code> vs <code>inline_embedded</code>)?</p>\n<p>Best wishes,</p>\n<p>Kevin</p>\n<div class=\"codehilite\"><pre><span></span><code>val value_decl: string -&gt; string -&gt; Proof.context -&gt;\n(Proof.context -&gt; string * string) * Proof.context\nval declaration: binding -&gt; &#39;a context_parser -&gt;\n(Token.src -&gt; &#39;a -&gt; Proof.context -&gt; (Proof.context -&gt; string * string)\n* Proof.context) -&gt;\ntheory -&gt; theory\nval declaration_embedded: binding -&gt; &#39;a context_parser -&gt;\n(Token.src -&gt; &#39;a -&gt; Proof.context -&gt; (Proof.context -&gt; string * string)\n* Proof.context) -&gt;\ntheory -&gt; theory\nval inline: binding -&gt; string context_parser -&gt; theory -&gt; theory\nval inline_embedded: binding -&gt; string context_parser -&gt; theory -&gt; theory\nval value: binding -&gt; string context_parser -&gt; theory -&gt; theory\nval value_embedded: binding -&gt; string context_parser -&gt; theory -&gt; theory\nval special_form: binding -&gt; string -&gt; theory -&gt; theory\n</code></pre></div>",
        "id": 257041905,
        "sender_full_name": "Email Gateway",
        "timestamp": 1633947243
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 11/10/2021 12:13, Kevin Kappelmann wrote:</p>\n<blockquote>\n<p>I fail to understand the signature provided by<br>\n<code>Pure/ML/ml_antiquotation.ML</code> (see below).<br>\nCan someone explain the meaning of <code>declaration</code>, <code>inline</code>, <code>value</code>, and<br>\n<code>special_form</code>? Moreover, what is the meaning of <code>embedded</code> (e.g.<br>\n<code>inline</code> vs <code>inline_embedded</code>)?</p>\n</blockquote>\n<p>Isabelle sources are written for the human reader, but one needs to read them<br>\nproperly:</p>\n<p>0. Overview: read the signatures as entries in \"table of contents\" of a<br>\nmodule (not as \"specifications\").</p>\n<p>1. Look inside: the definitions in the body tell how things are constructed<br>\nfrom more basic things. Usually there are extra headlines and other clues in<br>\nthe source text.</p>\n<p>2. Look outside: do a hypersearch in Isabelle/jEdit as \"induction over the<br>\nsources\" to see how certain items are being used. This implicitly defines<br>\nintended semantics for them, and provides examples.</p>\n<blockquote>\n<p>val special_form: binding -&gt; string -&gt; theory -&gt; theory</p>\n</blockquote>\n<p>I don't see this in the published Isabelle2021, which is the implicit context<br>\nof this mailing list. If you have a different version, you need to say which one.</p>\n<p>The terminology \"special form\" is standard in LISP.</p>\n<p>The terminology \"embedded\" refers to Isabelle embedded languages, normally via<br>\ncartouches. The idea is also from LISP, but the syntax from myself after<br>\nstaying &gt; 3 years in France.</p>\n<p>Makarius</p>",
        "id": 257225092,
        "sender_full_name": "Email Gateway",
        "timestamp": 1634053744
    },
    {
        "content": "<p>From: Kevin Kappelmann &lt;<a href=\"mailto:kevin.kappelmann@tum.de\">kevin.kappelmann@tum.de</a>&gt;<br>\nHi Makarius,</p>\n<p>Thanks for the hints. I am very well aware of what you call an<br>\n\"induction over the sources\" and do it all the time. In this particular<br>\ncase, however, I got lost because there are no extra headlines and<br>\nchasing down the definitions for the flag \"embedded\" left me puzzled (I<br>\nstopped at <code>update_reports</code> in <code>antiquote.ML</code>). I'd find a note about<br>\nthe meaning of the flag <code>embedded</code> helpful.</p>\n<p>Thanks and best wishes,</p>\n<p>Kevin.</p>",
        "id": 257235106,
        "sender_full_name": "Email Gateway",
        "timestamp": 1634057491
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThere is another meta story behind it that is not explained anywhere, but very<br>\nimplicit in the history of the past 10 years.</p>\n<p>The traditional antiquotation syntax @{name args} stems from the early times<br>\nof Isabelle/Isar &gt; 20 years ago.</p>\n<p>Approx. 7 years ago, this was refined for control-cartouches:</p>\n<p>@{NAME CARTOUCHE}</p>\n<p>becomes</p>\n<p>\\&lt;^NAME&gt;CARTOUCHE</p>\n<p>usually with fancy symbol rendering for the control symbol, e.g. \\&lt;^verbatim&gt;<br>\nfor string literals in Isabelle/ML (or verbatim text in LaTeX documents).</p>\n<p>The \"embedded\" antiquotations prefer this syntax, with formal markup to update<br>\nsources via \"isabelle update_cartouches\". Thus there is a chance to<br>\ndiscontinue the old antiquotation syntax eventually. (But that will require to<br>\nchange syntax e.g. for @{thms} or @{lemma}).</p>\n<p>There will be more such \"embedded\" forms in other sublanguages of Isabelle<br>\nwithout the old antiquote syntax. E.g. in inner syntax (types and terms).</p>\n<p>Makarius</p>",
        "id": 257241097,
        "sender_full_name": "Email Gateway",
        "timestamp": 1634059806
    }
]