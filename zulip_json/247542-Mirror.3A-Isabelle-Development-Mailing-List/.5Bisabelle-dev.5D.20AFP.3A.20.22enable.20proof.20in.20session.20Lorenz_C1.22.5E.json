[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nAn odd (unexplained) change has occurred on AFP:</p>\n<p>changeset:   14197:ddf90847bfa5<br>\nuser:        immler<br>\ndate:        Tue Feb 27 15:10:13 2024 +0100<br>\nfiles:       thys/Ordinary_Differential_Equations/Ex/Lorenz/C1/Lorenz_C1.thy <br>\nthys/Ordinary_Differential_Equations/ROOT<br>\ndescription:<br>\nenable proof in session Lorenz_C1</p>\n<p>Looking briefly into the history reveals this evidence:</p>\n<p>changeset:   8561:13b3e24a71b0<br>\nuser:        wenzelm<br>\ndate:        Mon Nov 20 07:50:03 2017 +0100<br>\nfiles:       thys/Ordinary_Differential_Equations/Ex/Lorenz/Lorenz_C1.thy <br>\nthys/Ordinary_Differential_Equations/ROOT<br>\ndescription:<br>\nadapted to timing on lxcisa0 with threads=8: (8:08:58 elapsed time, 47:18:51 <br>\ncpu time, factor 5.81);</p>\n<p>Although lxcisa0 has grown old, it is still representative for the performance <br>\nbaseline of testing.</p>\n<p>Yesterday, I've started the session on more current hardware to see how it <br>\nworks now, but that is still running. Maybe something else is wrong on that <br>\nmachine.</p>\n<p>Further note that the standard nightly build (isabelle_cronjob) is affected: <br>\nit will probably terminate within 1-3 more days. See also lrzcloud2 on <br>\n<a href=\"https://isatest.sketis.net/devel/cronjob-main.log\">https://isatest.sketis.net/devel/cronjob-main.log</a></p>\n<p>So what is the reasoning behind the change ddf90847bfa5? The log does not say <br>\nanything tangible.</p>\n<p>Of course it is better to check things formally, instead of having them <br>\ncommented-out. So far, I thought that Lorenz_C0 was there to be tested <br>\nproperly, and Lorenz_C1 an untested add-on example that is unlikely to fail on <br>\nits own account.</p>\n<p>If huge and heavy things like Lorenz_C1 should get a more formal status in <br>\nAFP, we probably need a session group \"very_very_slow\" or alternatively <br>\n\"untested\" to say that it is not tested regularly.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 423981388,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709199547
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI've sent this with CC to immler.emails.immler_email according to <br>\nAFP/38e4f6bce76e metadata, but that address did not work.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 423986015,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709201096
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nIt has now terminated as follows (on <a href=\"http://of1.proof.cit.tum.de\">of1.proof.cit.tum.de</a>):</p>\n<p>Finished Lorenz_C1 (11:29:26 elapsed time, 67:46:46 cpu time, factor 5.90)</p>\n<p>That is something to be investigated. Either there is something odd in the <br>\nmachine configuration, or this bulky test now takes much longer than in 2017.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 423989355,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709202327
    },
    {
        "content": "<p>From: Tobias Nipkow &lt;<a href=\"mailto:nipkow@in.tum.de\">nipkow@in.tum.de</a>&gt;<br>\nI have forwarded your email to a working email address.</p>\n<p>Tobias</p>\n<p><a href=\"/user_uploads/14278/OxOFvsOUZ9rhUVnDPa15mWGv/smime.p7s\">smime.p7s</a></p>",
        "id": 423989995,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709202590
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;<br>\nOn 2/29/24 10:38, Makarius wrote:</p>\n<blockquote>\n<p>An odd (unexplained) change has occurred on AFP:</p>\n<p>changeset:   14197:ddf90847bfa5<br>\nuser:        immler<br>\ndate:        Tue Feb 27 15:10:13 2024 +0100<br>\nfiles: thys/Ordinary_Differential_Equations/Ex/Lorenz/C1/Lorenz_C1.thy <br>\nthys/Ordinary_Differential_Equations/ROOT<br>\ndescription:<br>\nenable proof in session Lorenz_C1</p>\n<p>I heard from Fabian that nowadays the session runs reasonably fast (6 <br>\nhrs -- Flyspec-Tame-computation is nearly 5 hrs). But this does not seem <br>\nto fit with your results.</p>\n</blockquote>\n<blockquote>\n<p>Looking briefly into the history reveals this evidence:</p>\n<p>changeset:   8561:13b3e24a71b0<br>\nuser:        wenzelm<br>\ndate:        Mon Nov 20 07:50:03 2017 +0100<br>\nfiles: thys/Ordinary_Differential_Equations/Ex/Lorenz/Lorenz_C1.thy <br>\nthys/Ordinary_Differential_Equations/ROOT<br>\ndescription:<br>\nadapted to timing on lxcisa0 with threads=8: (8:08:58 elapsed time, <br>\n47:18:51 cpu time, factor 5.81);</p>\n<p>Although lxcisa0 has grown old, it is still representative for the <br>\nperformance baseline of testing.</p>\n<p>Yesterday, I've started the session on more current hardware to see <br>\nhow it works now, but that is still running. Maybe something else is <br>\nwrong on that machine.</p>\n<p>Further note that the standard nightly build (isabelle_cronjob) is <br>\naffected: it will probably terminate within 1-3 more days. See also <br>\nlrzcloud2 on <a href=\"https://isatest.sketis.net/devel/cronjob-main.log\">https://isatest.sketis.net/devel/cronjob-main.log</a></p>\n</blockquote>\n<p>If it should be nightly we really need high-end hardware here (not 1/4 <br>\nslice of a Xeon 4316) -- we won't have free access to these machines for <br>\nmuch longer anyway.</p>\n<blockquote>\n<p>So what is the reasoning behind the change ddf90847bfa5? The log does <br>\nnot say anything tangible.</p>\n<p>Of course it is better to check things formally, instead of having <br>\nthem commented-out. So far, I thought that Lorenz_C0 was there to be <br>\ntested properly, and Lorenz_C1 an untested add-on example that is <br>\nunlikely to fail on its own account.</p>\n<p>If huge and heavy things like Lorenz_C1 should get a more formal <br>\nstatus in AFP, we probably need a session group \"very_very_slow\" or <br>\nalternatively \"untested\" to say that it is not tested regularly.</p>\n</blockquote>\n<p>Im am in favor of having an \"untested\" groups vs. commenting out proofs.</p>\n<p>Fabian</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 423990726,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709202850
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 29/02/2024 11:33, Fabian Huch wrote:</p>\n<blockquote>\n<p>On 2/29/24 10:38, Makarius wrote:</p>\n<blockquote>\n<p>An odd (unexplained) change has occurred on AFP:</p>\n<p>changeset:   14197:ddf90847bfa5<br>\nuser:        immler<br>\ndate:        Tue Feb 27 15:10:13 2024 +0100<br>\nfiles: thys/Ordinary_Differential_Equations/Ex/Lorenz/C1/Lorenz_C1.thy <br>\nthys/Ordinary_Differential_Equations/ROOT<br>\ndescription:<br>\nenable proof in session Lorenz_C1</p>\n<p>I heard from Fabian that nowadays the session runs reasonably fast (6 hrs -- <br>\nFlyspec-Tame-computation is nearly 5 hrs). But this does not seem to fit with <br>\nyour results.</p>\n</blockquote>\n</blockquote>\n<p>On which hardware precisely?</p>\n<p>This question also touches Intel vs. ARM: the native ARM Poly/ML is incredibly <br>\nfast in most applications, but can be slower in some of these computations. I <br>\ndid not investigate this systematically so far.</p>\n<p>Presently we are testing Intel only.</p>\n<blockquote>\n<blockquote>\n<p>Of course it is better to check things formally, instead of having them <br>\ncommented-out. So far, I thought that Lorenz_C0 was there to be tested <br>\nproperly, and Lorenz_C1 an untested add-on example that is unlikely to fail <br>\non its own account.</p>\n<p>If huge and heavy things like Lorenz_C1 should get a more formal status in <br>\nAFP, we probably need a session group \"very_very_slow\" or alternatively <br>\n\"untested\" to say that it is not tested regularly.</p>\n</blockquote>\n</blockquote>\n<p>Concerning the unequal, but related brothers Lorenz_C0 and Lorenz_C1, I have <br>\nnow collected all available timing information since 2017. The command-line <br>\nfor that is \"isabelle build_status -S Lorenz_C0 -l 10000\", but it requires <br>\naccess to a non-public PostgreSQL server. The result is in the attached .csv: <br>\nnothing special to be seen here, looks fine.</p>\n<p>Makarius</p>\n<p><a href=\"/user_uploads/14278/Hwg-k4x_vbx98YTMozjImH4F/Lorenz_C0.csv\">Lorenz_C0.csv</a></p>",
        "id": 423994721,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709204166
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI now recall, that \"slow\" and \"very_slow\" tests are traditionally understood <br>\nin the context of ML_system_64 = true, and that the Lorenz computations were <br>\nslow in the default 64_32 model.</p>\n<p>So everything looks like it has always been since 2017.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 424005257,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709208288
    },
    {
        "content": "<p>From: Fabian Immler &lt;<a href=\"mailto:fabian.immler@gmail.com\">fabian.immler@gmail.com</a>&gt;<br>\nOn Thu, Feb 29, 2024 at 10:39 Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>So what is the reasoning behind the change ddf90847bfa5? The log does not<br>\nsay<br>\nanything tangible.</p>\n</blockquote>\n<p>You are right, unfortunately that ended up as a „parrot“ commit message.</p>\n<p>&gt;</p>\n<blockquote>\n<p>Of course it is better to check things formally, instead of having them<br>\ncommented-out.</p>\n</blockquote>\n<p>That is the motovation for the change: it is better to check things<br>\nformally. Talking to Fabian Huch, I got the impression that now there are<br>\nmore compute resources than five or six years ago.</p>\n<p>So far, I thought that Lorenz_C0 was there to be tested</p>\n<blockquote>\n<p>properly, and Lorenz_C1 an untested add-on example that is unlikely to<br>\nfail on<br>\nits own account.</p>\n</blockquote>\n<p>Mathematically, Lorenz_C0 is of not much value. Lorenz_C1 is a formal proof<br>\nfor the computational part of Tucker‘s proof of Smale‘s 14th problem. So<br>\nLorenz_C1 is of actual value and worth testing „regularly“.</p>\n<p>„Regularly“ could also be weekly, monthly, or even just once for every<br>\nIsabelle release. It probably makes sense to reflect that in a new session<br>\ngroup „very_very_slow“ or the like.</p>\n<p>On Thu, Feb 29, 2024 at 11:55 Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<p>On 29/02/2024 11:33, Fabian Huch wrote:</p>\n<blockquote>\n<p>I heard from Fabian that nowadays the session runs reasonably fast (6 hrs</p>\n</blockquote>",
        "id": 424044010,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709220243
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 29/02/2024 16:23, Fabian Immler wrote:</p>\n<blockquote>\n<p>Of course it is better to check things formally, instead of having them<br>\n    commented-out.</p>\n<p>That is the motovation for the change: it is better to check things formally. <br>\nTalking to Fabian Huch, I got the impression that now there are more compute <br>\nresources than five or six years ago.</p>\n</blockquote>\n<p>There are indeed a few more hardware resources, and hopefully more to come <br>\nvery soon, but right now the production test environment is rather underpowered.</p>\n<p>I am speaking here of the official isabelle_cronjob nightly build with <br>\nrepeatable performance measurements. Although many people don't know about <br>\nthat, it is the main way to oversee Isabelle/AFP resource requirements. If <br>\nthat does not work properly, we are \"flying blind\" --- we used to do that over <br>\nseveral years around 2015 +/-.</p>\n<p>That build environment defines what can be active as \"slow\" or \"very_slow\". <br>\nStarting with April 2024 there will be a new situation, hopefully with some <br>\nnew hardware somewhere. That is necessary, because the LRZ will shut down its <br>\nexperimental free-as-in-beer Linux cluster.</p>\n<p>I do hope that within a few weeks there will be regular AFP tests on good <br>\nhardware. Here is an example timing on the super high-end consumer hardware <br>\norganized by Fabian Huch:</p>\n<p>AFP/ddf90847bfa5<br>\n       Host <a href=\"http://of1.proof.cit.tum.de\">of1.proof.cit.tum.de</a></p>\n<p>ML_PLATFORM=\"x86_64-linux\"<br>\n       ML_HOME=\"/u/home/wenzelm/.isabelle/contrib/polyml-5.9.1/x86_64-linux\"<br>\n       ML_SYSTEM=\"polyml-5.9.1\"<br>\n       ML_OPTIONS=\"--minheap 1500\"</p>\n<p>threads=8</p>\n<p>Finished HOL (0:01:58 elapsed time, 0:06:19 cpu time, factor 3.21)<br>\n       Finished HOL-Analysis (0:04:03 elapsed time, 0:19:05 cpu time, factor 4.70)<br>\n       Finished Ordinary_Differential_Equations (0:01:02 elapsed time, 0:03:43 <br>\ncpu time, factor 3.59)</p>\n<p>Finished Lorenz_C0 (0:05:06 elapsed time, 0:29:38 cpu time, factor 5.80)<br>\n       Finished Lorenz_C1 (3:17:28 elapsed time, 19:25:10 cpu time, factor 5.90)<br>\n       3:34:09 elapsed time, 21:06:14 cpu time, factor 5.91</p>\n<p>Not bad. But also note that ARM is much slower: the analogous test on Mac <br>\nStudio M1 from some hours ago is still running, here are some results so far:</p>\n<p>Finished HOL (0:02:08 elapsed time, 0:07:09 cpu time, factor 3.33)<br>\n       Finished HOL-Analysis (0:04:34 elapsed time, 0:21:46 cpu time, factor 4.77)<br>\n       Finished Ordinary_Differential_Equations (0:01:06 elapsed time, 0:04:11 <br>\ncpu time, factor 3.81)<br>\n       Finished Lorenz_C0 (0:17:58 elapsed time, 1:45:23 cpu time, factor 5.86)</p>\n<blockquote>\n<p>So far, I thought that Lorenz_C0 was there to be tested<br>\n    properly, and Lorenz_C1 an untested add-on example that is unlikely to<br>\n    fail on<br>\n    its own account.</p>\n<p>Mathematically, Lorenz_C0 is of not much value. Lorenz_C1 is a formal proof <br>\nfor the computational part of Tucker‘s proof of Smale‘s 14th problem. So <br>\nLorenz_C1 is of actual value and worth testing „regularly“.</p>\n<p>„Regularly“ could also be weekly, monthly, or even just once for every <br>\nIsabelle release. It probably makes sense to reflect that in a new session <br>\ngroup „very_very_slow“ or the like.</p>\n</blockquote>\n<p>OK, lets see what will emerge rather soon.</p>\n<p>Right now Lorenz_C1 needs to remain inactive to avoid bombing the <br>\nisabelle_cronjob AFP test: Today it actually failed due to file-system <br>\nshortage, so it did not bump into the next day.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 424059015,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709224238
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI've now killed that test after it had accumulated &gt; 60h CPU time without <br>\nterminating.</p>\n<p>See further AFP/fd41e17fc7bd, where we are back to sanity for now.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 424121542,
        "sender_full_name": "Email Gateway",
        "timestamp": 1709246194
    }
]