[
    {
        "content": "<p>From: Martin Desharnais &lt;<a href=\"mailto:martin.desharnais@posteo.de\">martin.desharnais@posteo.de</a>&gt;<br>\nDear Isabelle developers,</p>\n<p>I was just found guilty of repeating a mistake that I sadly perpetrate <br>\nevery now and then when writing markup commands in Isabelle theories. <br>\nThis is not intentional of my part and I would like to start a <br>\ndiscussion about ways this could be avoided in the future. Maybe I am <br>\nnot the only one in this situation.</p>\n<p>Consider the following example markup command.</p>\n<p>text ‹Compactness of @{term entails} implies that Red_I and Red_F are <br>\nequivalent to ...›</p>\n<p>No warning or error in Isabelle/jEdit nor when building the (AFP in this <br>\ncase) entry with \"isabelle build -c -d $AFP -B Entry_Name\". Only later <br>\nwhen building the corresponding document with \"-o document\" option does <br>\nan error is (rightfully) reported. e.g.</p>\n<p>Latex error (line N of \"File.thy\"):<br>\n   Missing $ inserted.<br>\n   &lt;inserted text&gt;<br>\n   $<br>\n   ...harparenright}{\\kern0pt}} implies that Red_<br>\nLatex error (line N of \"File.thy\"):<br>\n   Missing $ inserted.<br>\n   &lt;inserted text&gt;<br>\n   $<br>\n   \\end{isamarkuptext}</p>\n<p>Knowing that there is an error on this line, I immediately noticed that <br>\nI used unescaped underscores, which is now allowed in LaTeX. Here, the <br>\nsolution was, as often, to use proper antiquotation, i.e., @{const <br>\nRed_I} and @{const Red_F}.</p>\n<p>I believe that reporting this situation as soon as possible would be <br>\nbeneficial for the user experience and could help minimize unfortunate <br>\nmistakes such as inadvertently pushing changesets that fail when <br>\nbuilding documents. One could also argue that it wastes CPU cycles and <br>\ntime to build the full entry, fail building the document, correct the <br>\ntext, rebuild the entry, and finally build the full document.</p>\n<p>Would it be possible for Isabelle to check for unescaped underscores in <br>\nmarkup commands and report a warning of incompatibility with LaTeX?</p>\n<p>Regards,<br>\nMartin Desharnais</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 261147173,
        "sender_full_name": "Email Gateway",
        "timestamp": 1636644379
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThe problem can be avoided by not thinking in terms of \"guilt\", \"mistake\" or<br>\n\"perpretration\". LaTeX is a very fragile language and no amount of precautions<br>\nnor tests will change the situation substantially.</p>\n<p>Too much testing can also become a problem on its own account, being neither<br>\nnecessary nor sufficient for a \"good\" situation. (We have too many<br>\n\"uninformative green lights\" on the planet, and too much obsession in<br>\nproducing them.)</p>\n<p>In your change e5eeaaf2bd5b you claim to have \"fixed\" a LaTeX failure, but you<br>\nalso turned the unchecked formal text \\&lt;open&gt;wlog_non_Red_F\\&lt;close&gt; into<br>\nchecked @{thm wlog_non_Red_F}, with different output: the thm statement (with<br>\nschematic variables) instead of the thm name. You probably intended to say<br>\n@{thm [source] ...} here.</p>\n<p>Typical LaTeX document errors are actually of that kind, and often remain<br>\nundetected for years. There are also situations where gradual changes in the<br>\nLaTeX system give a different appearance of the document at a later stage.</p>\n<p>In retrospect, I regret to have given so much weight to LaTeX in 1999, when<br>\nthe Isabelle document system emerged for the first time.</p>\n<p>Makarius</p>\n<hr>\n<p>isabelle-dev mailing list<br>\n<a href=\"mailto:isabelle-dev@in.tum.de\">isabelle-dev@in.tum.de</a><br>\n<a href=\"https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev\">https://mailman46.in.tum.de/mailman/listinfo/isabelle-dev</a></p>",
        "id": 261366399,
        "sender_full_name": "Email Gateway",
        "timestamp": 1636818067
    }
]