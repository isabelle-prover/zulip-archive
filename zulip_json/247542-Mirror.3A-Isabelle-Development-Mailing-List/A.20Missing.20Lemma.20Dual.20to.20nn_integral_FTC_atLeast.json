[
    {
        "content": "<p><strong>From:</strong> 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt;</p>\n<p>Dear Isabelle developers,</p>\n<p>Could you consider adding the following code<br>\nto Equivalence_Lebesgue_Henstock_Integration.thy?<br>\nThis is the counterpart of the lemma nn_integral_FTC_atLeast.</p>\n<hr>\n<p>lemma nn_integral_FTC_atMost:<br>\n  fixes f :: \"real \\&lt;Rightarrow&gt; real\"<br>\n  assumes f_borel: \"f \\&lt;in&gt; borel_measurable borel\"<br>\n  assumes f: \"\\&lt;And&gt;x. x \\&lt;le&gt; b \\&lt;Longrightarrow&gt; DERIV F x :&gt; f x\"<br>\n  assumes nonneg: \"\\&lt;And&gt;x. x \\&lt;le&gt; b \\&lt;Longrightarrow&gt; 0 \\&lt;le&gt; f x\"<br>\n  assumes lim: \"(F \\&lt;longlongrightarrow&gt; U) at_bot\"<br>\n  shows \"(\\&lt;integral&gt;\\&lt;^sup&gt;+x. ennreal (f x) * indicator {.. b} x<br>\n\\&lt;partial&gt;lborel) = F b - U\"<br>\nproof -<br>\n  let ?f = \"\\&lt;lambda&gt;(i::nat) (x::real). ennreal (f x) * indicator {b -<br>\nreal i .. b} x\"<br>\n  let ?fR = \"\\&lt;lambda&gt;x. ennreal (f x) * indicator {.. b} x\"</p>\n<p>have F_mono: \"y \\&lt;le&gt; b \\&lt;Longrightarrow&gt; x \\&lt;le&gt; y \\&lt;Longrightarrow&gt; F x<br>\n\\&lt;le&gt; F y\" for x y<br>\n    using f nonneg by (intro DERIV_nonneg_imp_nondecreasing[of x y F])<br>\n(auto intro: order_trans)<br>\n  then have F_ge_U: \"x \\&lt;le&gt; b \\&lt;Longrightarrow&gt; F x \\&lt;ge&gt; U\" for x<br>\n    by (intro tendsto_upperbound[OF lim])<br>\n       (auto simp: eventually_at_bot_linorder)</p>\n<p>have \"(SUP i. ?f i x) = ?fR x\" for x<br>\n  proof (rule LIMSEQ_unique[OF LIMSEQ_SUP])<br>\n    obtain n where \"b - x &lt; real n\"<br>\n      using reals_Archimedean2[of \"b - x\"] ..<br>\n    then have \"eventually (\\&lt;lambda&gt;n. ?f n x = ?fR x) sequentially\"<br>\n      by (auto simp: frequently_def intro!: eventually_sequentiallyI[where<br>\nc=n] split: split_indicator)<br>\n    then show \"(\\&lt;lambda&gt;n. ?f n x) \\&lt;longlonglongrightarrow&gt; ?fR x\"<br>\n      by (rule tendsto_eventually)<br>\n  qed (auto simp: nonneg incseq_def le_fun_def split: split_indicator)<br>\n  then have \"integral\\&lt;^sup&gt;N lborel ?fR = (\\&lt;integral&gt;\\&lt;^sup&gt;+ x. (SUP i.<br>\n?f i x) \\&lt;partial&gt;lborel)\"<br>\n    by simp<br>\n  also have \"\\&lt;dots&gt; = (SUP i. (\\&lt;integral&gt;\\&lt;^sup&gt;+ x. ?f i x<br>\n\\&lt;partial&gt;lborel))\"<br>\n  proof (rule nn_integral_monotone_convergence_SUP)<br>\n    show \"incseq ?f\"<br>\n      using nonneg by (auto simp: incseq_def le_fun_def split:<br>\nsplit_indicator)<br>\n    show \"\\&lt;And&gt;i. (?f i) \\&lt;in&gt; borel_measurable lborel\"<br>\n      using f_borel by auto<br>\n  qed<br>\n  also have \"\\&lt;dots&gt; = (SUP i. ennreal (F b - F (b - real i)))\"<br>\n    by (subst nn_integral_FTC_Icc[OF f_borel f nonneg]) auto<br>\n  also have \"\\&lt;dots&gt; = F b - U\"<br>\n  proof (rule LIMSEQ_unique[OF LIMSEQ_SUP])<br>\n    have \"LIM n sequentially. b - real n :&gt; at_bot\"<br>\n      by real_asymp<br>\n    then have \"(\\&lt;lambda&gt;n. F (b - real n)) \\&lt;longlonglongrightarrow&gt; U\"<br>\n      using filterlim_compose lim by force<br>\n    then show \"(\\&lt;lambda&gt;n. ennreal (F b - F (b - real n)) )<br>\n\\&lt;longlonglongrightarrow&gt; ennreal (F b - U)\"<br>\n      by (simp add: F_mono F_ge_U tendsto_diff)<br>\n  qed (auto simp: incseq_def intro!: ennreal_le_iff[THEN iffD2] F_mono)<br>\n  finally show ?thesis .<br>\nqed</p>\n<hr>\n<p>Best regards,</p>\n<p>-- <br>\n伊藤 洋介<br>\nYosuke ITO<br>\n+81 80-5057-6931<br>\n<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a></p>",
        "id": 573278888,
        "sender_full_name": "Email Gateway",
        "timestamp": 1770814714
    },
    {
        "content": "<p><strong>From:</strong> Lawrence Paulson via isabelle-dev &lt;<a href=\"mailto:isabelle-dev@mailman.proof.cit.tum.de\">isabelle-dev@mailman.proof.cit.tum.de</a>&gt;</p>\n<p>Thanks for the suggestion. I did this and I was able to find a proof by symmetry, avoiding a near-repetition of the previous proof.</p>\n<blockquote>\n<p>On 11 Feb 2026, at 12:57, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Dear Isabelle developers,</p>\n<p>Could you consider adding the following code to Equivalence_Lebesgue_Henstock_Integration.thy?<br>\nThis is the counterpart of the lemma nn_integral_FTC_atLeast.<br>\n</p>\n</blockquote>",
        "id": 573891688,
        "sender_full_name": "Email Gateway",
        "timestamp": 1771070554
    },
    {
        "content": "<p><strong>From:</strong> 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt;</p>\n<p>Hello,</p>\n<p>Thank you for the reply.<br>\nI was surprised since I could not find a proof by symmetry.<br>\nI am looking forward to seeing the proof.</p>\n<p>2026年2月14日(土) 21:02 Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;:</p>\n<blockquote>\n<p>Thanks for the suggestion. I did this and I was able to find a proof by<br>\nsymmetry, avoiding a near-repetition of the previous proof.</p>\n<blockquote>\n<p>On 11 Feb 2026, at 12:57, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Dear Isabelle developers,</p>\n<p>Could you consider adding the following code to<br>\nEquivalence_Lebesgue_Henstock_Integration.thy?<br>\nThis is the counterpart of the lemma nn_integral_FTC_atLeast.<br>\n</p>\n</blockquote>\n</blockquote>\n<p>-- <br>\n伊藤 洋介<br>\n080-5057-6931<br>\n<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a></p>",
        "id": 573892368,
        "sender_full_name": "Email Gateway",
        "timestamp": 1771071164
    },
    {
        "content": "<p><strong>From:</strong> Lawrence Paulson via isabelle-dev &lt;<a href=\"mailto:isabelle-dev@mailman.proof.cit.tum.de\">isabelle-dev@mailman.proof.cit.tum.de</a>&gt;</p>\n<p>It took a little work to find the right lemmas. But it's worth having these lemmas in the long run.</p>\n<blockquote>\n<p>On 14 Feb 2026, at 12:12, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Thank you for the reply.<br>\nI was surprised since I could not find a proof by symmetry.<br>\nI am looking forward to seeing the proof.</p>\n<p>2026年2月14日(土) 21:02 Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;:<br>\nThanks for the suggestion. I did this and I was able to find a proof by symmetry, avoiding a near-repetition of the previous proof.</p>\n<blockquote>\n<p>On 11 Feb 2026, at 12:57, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Dear Isabelle developers,</p>\n<p>Could you consider adding the following code to Equivalence_Lebesgue_Henstock_Integration.thy?<br>\nThis is the counterpart of the lemma nn_integral_FTC_atLeast.<br>\n</p>\n</blockquote>\n</blockquote>",
        "id": 573892556,
        "sender_full_name": "Email Gateway",
        "timestamp": 1771071341
    },
    {
        "content": "<p><strong>From:</strong> 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt;</p>\n<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>\n<p>伊藤洋介 さんが Gmail<br>\n&lt;<a href=\"https://www.google.com/gmail/about/?utm_source=gmail-in-product&amp;utm_medium=et&amp;utm_campaign=emojireactionemail#app\">https://www.google.com/gmail/about/?utm_source=gmail-in-product&amp;utm_medium=et&amp;utm_campaign=emojireactionemail#app</a>&gt;<br>\nでリアクションしました</p>\n<p>2026年2月14日(土) 21:15 Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;:</p>\n<blockquote>\n<p>It took a little work to find the right lemmas. But it's worth having<br>\nthese lemmas in the long run.</p>\n<blockquote>\n<p>On 14 Feb 2026, at 12:12, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Thank you for the reply.<br>\nI was surprised since I could not find a proof by symmetry.<br>\nI am looking forward to seeing the proof.</p>\n<p>2026年2月14日(土) 21:02 Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;:<br>\nThanks for the suggestion. I did this and I was able to find a proof by<br>\nsymmetry, avoiding a near-repetition of the previous proof.</p>\n<blockquote>\n<p>On 11 Feb 2026, at 12:57, 伊藤洋介 &lt;<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a>&gt; wrote:</p>\n<p>Dear Isabelle developers,</p>\n<p>Could you consider adding the following code to<br>\nEquivalence_Lebesgue_Henstock_Integration.thy?<br>\nThis is the counterpart of the lemma nn_integral_FTC_atLeast.<br>\n</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>-- <br>\n伊藤 洋介<br>\n080-5057-6931<br>\n<a href=\"mailto:glacier345@gmail.com\">glacier345@gmail.com</a></p>",
        "id": 573892993,
        "sender_full_name": "Email Gateway",
        "timestamp": 1771071723
    }
]