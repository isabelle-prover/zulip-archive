[
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;<br>\nOn</p>\n<p>isabelle: 24c1edcbcc6b tip<br>\nafp: 209f3131a057 tip</p>\n<p>command</p>\n<p>isabelle build_task -A : -a</p>\n<p>yields</p>\n<p>*** Unable to convert bytea parameter at position 7 to literal</p>\n<p><a href=\"https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d\">https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d</a></p>\n<p>Whats going wrong here?</p>\n<p>Florian</p>\n<p><a href=\"/user_uploads/14278/qrt7DKIpQUXfW2gu0W-movXT/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/UqykIlT1SyJ1Kp50jPzjUhIo/OpenPGP_signature.asc\">OpenPGP_signature.asc</a></p>",
        "id": 489957841,
        "sender_full_name": "Email Gateway",
        "timestamp": 1734612662
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 19/12/2024 13:50, Florian Haftmann wrote:</p>\n<blockquote>\n<p>*** Unable to convert bytea parameter at position 7 to literal</p>\n<p><a href=\"https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d\">https://build.proof.cit.tum.de/build?id=c2a000a2-aa24-4481-806e-196c5a06fa4d</a></p>\n<p>Whats going wrong here?</p>\n</blockquote>\n<p>I've seen this and a few other breakdowns as well, shortly after I've updated <br>\nsome relevant Isabelle components, e.g. see Isabelle/f48597f265ff.</p>\n<p>I am presently trying out some variations, directly on the build manager <br>\nserver, to see if this is the reason, or something completely different.</p>\n<p>Makarius</p>",
        "id": 490056914,
        "sender_full_name": "Email Gateway",
        "timestamp": 1734646035
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 19/12/2024 23:06, Makarius wrote:</p>\n<blockquote>\n<p>I am presently trying out some variations, directly on the build manager <br>\nserver, to see if this is the reason, or something completely different.</p>\n</blockquote>\n<p>I failed to get back to a situation that works, even after reverting all my <br>\nrecent updates of Isabelle components (the local Admin/components/main on the <br>\nserver is changed wrt. the repository version, a copy is attached here).</p>\n<p>Even \"bin/isabelle build_manager_database -A:\" did not help to return to <br>\nconsistent db content, see this error <br>\n<a href=\"https://build.proof.cit.tum.de/build?name=user%2F927\">https://build.proof.cit.tum.de/build?name=user%2F927</a></p>\n<p>We need Fabian to sort it out ...</p>\n<p>Makarius</p>\n<p><a href=\"/user_uploads/14278/RjxYnUAuoKcqLFqPRiu8Bu8n/main\">main</a></p>",
        "id": 490060000,
        "sender_full_name": "Email Gateway",
        "timestamp": 1734647608
    },
    {
        "content": "<p>From: Fabian Huch &lt;<a href=\"mailto:huch@in.tum.de\">huch@in.tum.de</a>&gt;<br>\nIn our discussion yesterday I got slightly confused since we were <br>\njumping between database updates and inconsistent build database states. <br>\nThere are two databases:</p>\n<ul>\n<li>the build database (for the build cluster), that can end up in an <br>\ninconsistent state if the build process was terminated abnormally. This <br>\ncan be solved on our installation switching to the build_cluster <br>\nidentifier (as the \"build\" user) and cleaning the db:</li>\n</ul>\n<p>export ISABELLE_IDENTIFIER=\"build_cluster\"</p>\n<p>bin/isabelle build_process -C -r -f</p>\n<ul>\n<li>the build manager database that needs to be updated if the Isabelle <br>\nversion running on the server is out of sync with the repository version <br>\nthat submits the build_task, SQL-wise. This is done by stopping the <br>\nmanager, updating the repository, running</li>\n</ul>\n<p>bin/isabelle build_manager_database -A:</p>\n<p>The underlying problem was that 4 GB of JVM seem to be no longer <br>\nsufficient for the \"all\" job. I've increased the limit to 8GB.</p>\n<p>Fabian</p>\n<p>On 12/19/24 23:32, Makarius wrote:</p>\n<blockquote>\n<p>On 19/12/2024 23:06, Makarius wrote:</p>\n<blockquote>\n<p>I am presently trying out some variations, directly on the build <br>\nmanager server, to see if this is the reason, or something completely <br>\ndifferent.</p>\n</blockquote>\n<p>I failed to get back to a situation that works, even after reverting <br>\nall my recent updates of Isabelle components (the local <br>\nAdmin/components/main on the server is changed wrt. the repository <br>\nversion, a copy is attached here).</p>\n<p>Even \"bin/isabelle build_manager_database -A:\" did not help to return <br>\nto consistent db content, see this error <br>\n<a href=\"https://build.proof.cit.tum.de/build?name=user%2F927\">https://build.proof.cit.tum.de/build?name=user%2F927</a></p>\n<p>We need Fabian to sort it out ...</p>\n<p>Makarius</p>\n</blockquote>",
        "id": 490108972,
        "sender_full_name": "Email Gateway",
        "timestamp": 1734680513
    }
]