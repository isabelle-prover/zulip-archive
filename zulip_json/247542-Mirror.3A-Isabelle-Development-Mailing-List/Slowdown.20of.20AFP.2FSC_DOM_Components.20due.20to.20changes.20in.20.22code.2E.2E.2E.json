[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nHere is a notable slowdown of SC_DOM_Components from some months ago: <br>\nAFP/42327343c286. \"hg bisect\" in the interval of Isabelle/b69e4da2604b .. <br>\n32dd31062eaa says:</p>\n<p>The first bad revision is:<br>\nchangeset:   82692:8f0b2daa7eaa<br>\nuser:        haftmann<br>\ndate:        Thu Jun 12 08:03:05 2025 +0200<br>\nsummary:     reorganized more code-only operations</p>\n<p>Here are the timings on my local machine, before and after that change:</p>\n<p>Finished HOL (0:01:51 elapsed time, 0:05:49 cpu time, factor 3.14)<br>\nFinished HOL-Library (0:01:21 elapsed time, 0:05:50 cpu time, factor 4.33)<br>\nFinished Core_SC_DOM (0:01:17 elapsed time, 0:04:43 cpu time, factor 3.63)<br>\nFinished Shadow_SC_DOM (0:03:24 elapsed time, 0:13:24 cpu time, factor 3.94)<br>\nFinished SC_DOM_Components (0:01:54 elapsed time, 0:09:45 cpu time, factor 5.11)</p>\n<p>Finished HOL (0:01:49 elapsed time, 0:05:42 cpu time, factor 3.12)<br>\nFinished HOL-Library (0:01:21 elapsed time, 0:05:51 cpu time, factor 4.31)<br>\nFinished Core_SC_DOM (0:01:17 elapsed time, 0:04:39 cpu time, factor 3.62)<br>\nFinished Shadow_SC_DOM (0:03:22 elapsed time, 0:13:10 cpu time, factor 3.90)<br>\nFinished SC_DOM_Components (0:05:45 elapsed time, 0:14:29 cpu time, factor 2.52)</p>\n<p>That also demonstrates my \"cheap midrange workstation\" from some months ago, <br>\nwith AMD Ryzen 9 7950X 16-Core Processor at almost 5.8 GHz. Only 8 threads <br>\nhave been used above.</p>\n<p>Makarius</p>",
        "id": 530967669,
        "sender_full_name": "Email Gateway",
        "timestamp": 1753546327
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@cit.tum.de\">florian.haftmann@cit.tum.de</a>&gt;<br>\nAm 26.07.25 um 18:11 schrieb Makarius:</p>\n<blockquote>\n<p>Here is a notable slowdown of SC_DOM_Components from some months ago: <br>\nAFP/42327343c286. \"hg bisect\" in the interval of Isabelle/ <br>\nb69e4da2604b .. 32dd31062eaa says:</p>\n<p>The first bad revision is:<br>\nchangeset:   82692:8f0b2daa7eaa<br>\nuser:        haftmann<br>\ndate:        Thu Jun 12 08:03:05 2025 +0200<br>\nsummary:     reorganized more code-only operations<br>\n</p>\n</blockquote>\n<p>This is not easy to pin down.</p>\n<p>That session is very special: it provides monadic specifications <br>\n(presumably an error monad), and uses code_simp as a device to basically <br>\nunfold all (!) operations, leaving the resulting gigantic proof goal to <br>\nthe mercy of the classical reasoner. The excessive use of the code_simp <br>\nalso brings in a lot of things which are only intended for code <br>\ngeneration, e.g. class equal and a lot of auxiliary operations on lists.</p>\n<p>When I had to visit that session during the reorganization, I had the <br>\nimpression that any proper migration would require to rework the whole <br>\nsession, starting with elementary rules to conduct proofs on monadic <br>\nexpressions.</p>\n<p>This is the reason why in AFP 4450de6d0858 I restric myself to remove <br>\nsome simp rules in an ad-hoc manner to make things run again.</p>\n<p>Maybe I could risk a blind shot and just remove the simp rules added in <br>\nthe change above and see if this gains something.</p>\n<p>Cheers,<br>\n    Florian</p>\n<p><a href=\"/user_uploads/14278/TXddZfetKq9Fm3Jb02sIzai8/OpenPGP_0xA707172232CFA4E9.asc\">OpenPGP_0xA707172232CFA4E9.asc</a><br>\n<a href=\"/user_uploads/14278/tLwpzPLK8zAabCp2t0WOlIUI/OpenPGP_signature.asc\">OpenPGP_signature.asc</a></p>",
        "id": 533332550,
        "sender_full_name": "Email Gateway",
        "timestamp": 1754586489
    }
]