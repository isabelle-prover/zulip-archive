[
    {
        "content": "<p><strong>From:</strong> Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;</p>\n<p><strong>* ML </strong>*</p>\n<ul>\n<li>Obsolete Thy_Info.use_thy_legacy has been removed. Rare<br>\nINCOMPATIBILITY: need to use formal PIDE session to load theories, e.g.<br>\nvia \"isabelle build\" or \"isabelle process_theories\".</li>\n</ul>\n<p>This refers to Isabelle/955f8ac18136.</p>\n<p>The Isabelle2025-1 release already had this NEWS entry:</p>\n<ul>\n<li>The former command-line tool \"isabelle process\" has been renamed to<br>\n\"isabelle ML_process\", with new options -C DIR and -r (redirect). The<br>\nold option option -T to load individual theories via the Isabelle/ML<br>\n\"use_thy\" function has been removed. It is still possible to use<br>\n\"Thy_Info.use_thy_legacy\" together with \"isabelle ML_process -e ...\",<br>\nbut that low-level entry to the theory loader will be removed at a later<br>\nstage. The proper way to process individual theories under program<br>\ncontrol is via \"isabelle process_theories\". INCOMPATIBILITY.</li>\n</ul>\n<p>So that's finally it: no \"use_thy\" anymore. It was the central Isabelle/ML <br>\noperation since 1992, and already present in changeset 0 (Sep-1993):<br>\n<a href=\"https://isabelle.in.tum.de/repos/isabelle/file/a5a9c433f639/src/Pure/Thy/read.ML\">https://isabelle.in.tum.de/repos/isabelle/file/a5a9c433f639/src/Pure/Thy/read.ML</a></p>\n<p>The implementation behind it has changed many times since then, but now we <br>\nhave better ways to communicate between Isabelle/Scala and Isabelle/ML, <br>\nwithout the old toplevel loop.</p>\n<p>Rather soon, I will revisit the protocol function \"build_theories\" and its <br>\nunderlying ML function Thy_Info.use_theories, in order to make it more <br>\nscalable and less sequential: meaning that intermediate states are removed <br>\nearlier in the process, and heap space is released.</p>\n<p>Makarius</p>",
        "id": 568075527,
        "sender_full_name": "Email Gateway",
        "timestamp": 1768422946
    }
]