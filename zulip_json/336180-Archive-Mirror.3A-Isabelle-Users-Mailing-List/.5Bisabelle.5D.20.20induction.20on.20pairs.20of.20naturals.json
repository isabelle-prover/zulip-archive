[
    {
        "content": "<p>From: Christian Urban &lt;<a href=\"mailto:urbanc@in.tum.de\">urbanc@in.tum.de</a>&gt;<br>\nHi John,</p>\n<p>There is a really cool feature of the function package that is not widely<br>\nknown and that helps tremendously with such proofs. It cannot deal with <br>\npairs, I think, but if you formulate the induction predicate as a function <br>\ntaking two arguments then you can solve your problem like this.</p>\n<p>lemma <br>\n  assumes \"!!n. P 0 n\"<br>\n  and     \"!!m. P m 0\"<br>\n  and     \"!!n m. [|P n (Suc m); P (Suc n) m|] ==&gt; P (Suc n) (Suc m)\"<br>\n  shows \"P m n\"<br>\nusing assms<br>\napply(induction_schema)<br>\napply(pat_completeness)<br>\napply(lexicographic_order)<br>\ndone</p>\n<blockquote>\n<p>From this you original lemma should follow.  Have a look at <br>\nsrc/HOL/ex/Induction_Schema.thy for further examples.</p>\n</blockquote>\n<p>I think it will also help in your case with lists.</p>\n<p>Best wishes,<br>\nChristian</p>\n<p>John Wickerson writes:</p>\n<blockquote>\n<p>Hello,</p>\n<p>I'm trying to justify the following induction principle over pairs of naturals. The principle is that if you can show Phi(0,n) for all n, and Phi(m,0) for all m, and if you also show that Phi(m,n+1) and Phi(m+1,n) imply Phi(m+1,n+1) for all m and n, then you can deduce Phi(m,n) for all m and n.</p>\n<p>My proof plan is to show that this is an instance of wf induction, but I'm really struggling! (I previously tried to justify it using ordinary mathematical induction, but got stuck on that too.) I would very much appreciate any suggestions people may have for how I can complete this proof.</p>\n<p>lemma pair_induction:<br>\n  fixes \\&lt;Phi&gt; :: \"nat \\&lt;times&gt; nat \\&lt;Rightarrow&gt; bool\"<br>\n  assumes \"\\&lt;And&gt;n2. \\&lt;Phi&gt;(0, n2)\"<br>\n  assumes \"\\&lt;And&gt;n1. \\&lt;Phi&gt;(n1, 0)\"<br>\n  assumes \"\\&lt;And&gt;n1 n2. \\&lt;lbrakk&gt;\\&lt;Phi&gt;(Suc n1, n2); \\&lt;Phi&gt;(n1, Suc n2)\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; \\&lt;Phi&gt;(Suc n1, Suc n2)\"<br>\n  shows \"\\&lt;And&gt;n1 n2. \\&lt;Phi&gt;(n1,n2)\"<br>\nproof -<br>\n  fix n1 n2<br>\n  let ?r = \"{((m1,m2),(n1,n2)) | m1 m2 n1 n2. <br>\n    (Suc m1 = n1 \\&lt;and&gt; Suc m2 = n2) \\&lt;or&gt; (m1 = n1 \\&lt;and&gt; Suc m2 = n2)<br>\n    \\&lt;or&gt; (Suc m1 = n1 \\&lt;and&gt; m2 = n2)}\"<br>\n  have \"wf ?r\"<br>\n    and \"\\&lt;And&gt;p. (\\&lt;And&gt;q. (q, p) \\&lt;in&gt; ?r \\&lt;Longrightarrow&gt; \\&lt;Phi&gt; q) \\&lt;Longrightarrow&gt; \\&lt;Phi&gt; p\" sorry<br>\n  from wf_induct_rule[OF this] <br>\n  show \"\\&lt;Phi&gt;(n1,n2)\" sorry<br>\nqed</p>\n<p>Many thanks!</p>\n<p>john</p>\n</blockquote>",
        "id": 294146869,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660847831
    }
]