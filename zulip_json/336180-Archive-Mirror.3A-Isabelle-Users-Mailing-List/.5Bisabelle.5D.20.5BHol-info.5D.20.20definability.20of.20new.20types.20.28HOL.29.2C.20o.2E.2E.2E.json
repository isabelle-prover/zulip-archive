[
    {
        "content": "<p>From: Scott Owens &lt;<a href=\"mailto:S.A.Owens@kent.ac.uk\">S.A.Owens@kent.ac.uk</a>&gt;<br>\nI don’t want to put words in Rob’s mouth, as he’s far more knowledgable in this area than I am.</p>\n<p>As far as I know, there is no mechanised conservativity proof for HOL’s recent generalised constant specification mechanism. (Here I’m in agreement that “conservativity” without any other modification should refer to the proof theoretic notion, and that’s what I mean here.) Rob certainly has a pencil-and-paper proof. Ramana, Rob, Magnus, and I (although mostly Ramana) proved the soundness of a HOL Light-style logical system, including the generalised constant specification mechanism that Rob refers to (and also designed) and type definition mechanism, with respect to a standard model of higher-order logic. I worked on a mechanised conservativity proof for the definition mechanism for a bit two years ago but got distracted and haven’t returned to it. I think it would be a suitable student project, but I’m not convinced that it’s really that interesting — I wouldn’t be bothered by a sound and consistent definition principle that allowed one to prove more things.</p>\n<p>Scott</p>",
        "id": 294694629,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178021
    },
    {
        "content": "<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nScott,</p>\n<p>Apologies if I claimed you had formalised more than you actually did.</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294694743,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178064
    },
    {
        "content": "<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nOndrej,</p>\n<blockquote>\n<p>On 22 Oct 2016, at 20:07, Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt; wrote:</p>\n<p>Hi Rob,<br>\nyou are right that we mention only the plain definitions in HOL and not <br>\nthe implicit ones, when we compare the definitional mechanism of HOL and <br>\nIsabelle/HOL. (If this what you meant; I assume you didn't mean to say <br>\nthat the overloading in Isabelle is 25 years out of date).</p>\n</blockquote>\n<p>No. I was just referring to new_specification.</p>\n<blockquote>\n<p>I clearly remember that one of the early versions of our paper contained <br>\nthe comment that the current HOL provers use the more powerful mechanism <br>\nthat you mentioned but I guess that it was lost during later editing. We <br>\nwill include it again into the journal version of the paper.</p>\n<p>Thanks. I’m glad I raised my comment in time for you to do that.</p>\n</blockquote>\n<blockquote>\n<p>I wanted to comment on your statement that A. Pitts proved that <br>\ndefinitions in HOL are conservative. Such statements are always a little <br>\nbit puzzling to me because when you say conservative (without any <br>\nmodifier), I always think that you mean the notion that \"nothing new can <br>\nbe proved if you extend your theory (by a definition)\". I think a lot of <br>\npeople (including me) think that this is THE conservativity. There is <br>\nalso a notion of the model-theoretic conservativity that requires that <br>\nevery model of the old theory can be expanded to a model of the new <br>\ntheory. This is a stronger notion and implies the proof conservativity.<br>\n</p>\n</blockquote>\n<p>It’s the other way round. Soundness implies that proof-theoretic<br>\nconservativity implies model-theoretic conservativity. In the absence of<br>\ncompleteness, an x with some property phi(x) might exist in every model,<br>\nbut you might not be able to prove that. Taking phi(c) as the defining<br>\nproperty of a new constant c would then be conservative model-theoretically<br>\nbut not proof-theoretically.</p>\n<blockquote>\n<p>As far as I know, A. Pitts considers only a subset of all possible <br>\nmodels (so called standard models) in his proof and he only proves that <br>\nthese models can be extended from the old to the new theory. But as far <br>\nas I know this does not imply the proof conservativity.</p>\n</blockquote>\n<p>Andy Pitts gives a proof of the model-theoretic conservativity of new_specification<br>\nwith respect to standard models. You are quite right that in the absence of completeness<br>\nthis is a weaker result than proof-theoretic completeness.  I don’t think it’s difficult<br>\nto extend the result to general models (Henkin models) and so get proof-theoretic conservativity.<br>\nI suspect Andy just didn’t want to introduce a lot of extra technical detail.</p>\n<p>I proved proof-theoretic conservativity for the new mechanism gen_new_specification.<br>\nAs new_specification is derivable using gen_new_specification, this gives you<br>\nproof-theoretic conservativity for both. (Thanks to Scott for correcting my statement<br>\nabout what has been formalised so far in HOL4). </p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294694763,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178073
    },
    {
        "content": "<p>From: Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt;<br>\nHi Rob,</p>\n<blockquote>\n<blockquote>\n<p>It’s the other way round. Soundness implies that proof-theoretic conservativity implies model-theoretic conservativity.</p>\n</blockquote>\n</blockquote>\n<p>Ondra's statement was the correct one.</p>\n<p>Let's spell this out, to make sure we are speaking of the same thing. Say you have a signature Sigma' extending a signature Sigma (by adding some constant and type constructor symbols). Then every Sigma'-model M' produces a Sigma-Model, Forget(M'), by forgetting the interpretation of the symbols in Sigma' minus Sigma. Moreover,</p>\n<p>(*) For every closed Sigma-formula  phi, we have that M |= phi holds iff Forget(M) |= phi holds.</p>\n<p>Let T be a Sigma-theory (i.e., a set of closed Sigma-formulas), and let T' be a Sigma'-theory that includes T.<br>\nT' is called:</p>\n<p>(A) a model-theoretic conservative extension of T if, for all Sigma-models M of T, there exists a Sigma'-model M' of T' such that Forget(M') = M.</p>\n<p>(B) a proof-theoretic conservative extension of T if, for all closed Sigma-formulas phi, T' |- phi implies T |- phi.</p>\n<p>Assuming soundness <em>and completeness</em>, we have (A) implies (B). Proof: We can reason about semantic deduction |= instead of syntactic deduction. Assume T'|= phi .To prove T|= phi, let M |= T; by (A), we find M' |= T' such that Forget(M') = M. With T'|= phi, we obtain Forget(M')|= phi. From this and (*), we obtain M' |= phi, as desired.</p>\n<p>In general, (B) does not imply (A), and I don't know of interesting sufficient conditions for when it does.</p>\n<p>Best,<br>\n  Andrei</p>\n<hr>\n<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nSent: 23 October 2016 12:23<br>\nTo: Ondřej Kunčar<br>\nCc: Ken Kubota; Prof. Andrew M. Pitts; Prof. Thomas F. Melham; <a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>; Roger Bishop Jones; Prof. Peter B. Andrews; Andrei Popescu; HOL-info list<br>\nSubject: Re: [Hol-info] [isabelle] definability of new types (HOL), overloaded constant definitions for axiomatic type classes (Isabelle) - Re: Who is ProofPower \"by\" (and STT)?</p>\n<p>Ondrej,</p>\n<blockquote>\n<p>On 22 Oct 2016, at 20:07, Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt; wrote:</p>\n<p>Hi Rob,<br>\nyou are right that we mention only the plain definitions in HOL and not<br>\nthe implicit ones, when we compare the definitional mechanism of HOL and<br>\nIsabelle/HOL. (If this what you meant; I assume you didn't mean to say<br>\nthat the overloading in Isabelle is 25 years out of date).</p>\n</blockquote>\n<p>No. I was just referring to new_specification.</p>\n<blockquote>\n<p>I clearly remember that one of the early versions of our paper contained<br>\nthe comment that the current HOL provers use the more powerful mechanism<br>\nthat you mentioned but I guess that it was lost during later editing. We<br>\nwill include it again into the journal version of the paper.</p>\n<p>Thanks. I’m glad I raised my comment in time for you to do that.</p>\n</blockquote>\n<blockquote>\n<p>I wanted to comment on your statement that A. Pitts proved that<br>\ndefinitions in HOL are conservative. Such statements are always a little<br>\nbit puzzling to me because when you say conservative (without any<br>\nmodifier), I always think that you mean the notion that \"nothing new can<br>\nbe proved if you extend your theory (by a definition)\". I think a lot of<br>\npeople (including me) think that this is THE conservativity. There is<br>\nalso a notion of the model-theoretic conservativity that requires that<br>\nevery model of the old theory can be expanded to a model of the new<br>\ntheory. This is a stronger notion and implies the proof conservativity.<br>\n</p>\n</blockquote>\n<p>It’s the other way round. Soundness implies that proof-theoretic<br>\nconservativity implies model-theoretic conservativity. In the absence of<br>\ncompleteness, an x with some property phi(x) might exist in every model,<br>\nbut you might not be able to prove that. Taking phi(c) as the defining<br>\nproperty of a new constant c would then be conservative model-theoretically<br>\nbut not proof-theoretically.</p>\n<blockquote>\n<p>As far as I know, A. Pitts considers only a subset of all possible<br>\nmodels (so called standard models) in his proof and he only proves that<br>\nthese models can be extended from the old to the new theory. But as far<br>\nas I know this does not imply the proof conservativity.</p>\n</blockquote>\n<p>Andy Pitts gives a proof of the model-theoretic conservativity of new_specification<br>\nwith respect to standard models. You are quite right that in the absence of completeness<br>\nthis is a weaker result than proof-theoretic completeness.  I don’t think it’s difficult<br>\nto extend the result to general models (Henkin models) and so get proof-theoretic conservativity.<br>\nI suspect Andy just didn’t want to introduce a lot of extra technical detail.</p>\n<p>I proved proof-theoretic conservativity for the new mechanism gen_new_specification.<br>\nAs new_specification is derivable using gen_new_specification, this gives you<br>\nproof-theoretic conservativity for both. (Thanks to Scott for correcting my statement<br>\nabout what has been formalised so far in HOL4).</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294694778,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178077
    },
    {
        "content": "<p>From: Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt;<br>\nHi Rob,</p>\n<blockquote>\n<blockquote>\n<p>As discussed off-list with you and Ondrej, the case covered by new_specification or gen_new_specification is one where (B) implies (A).</p>\n</blockquote>\n</blockquote>\n<p>Indeed. Many thanks (to you and Roger) for the clarifications.</p>\n<blockquote>\n<blockquote>\n<p>Of course, none of the above works for an extension that introduces new types.<br>\nYour paper is a very nice contribution to the problem of defining new types.</p>\n</blockquote>\n</blockquote>\n<p>Thanks. Also, thanks for bringing up new_specification and gen_new_specification. After having a closer look at them, I see that the definitional dependency analysis we introduce in the paper can be easily extended to cope with these mechanisms -- which means that they don't raise additional difficulties in the delicate balance between constant overloading and typedef, and therefore are in principle suitable for Isabelle/HOL. We'll add a discussion of this in the journal version (and point you to it when it's available).</p>\n<p>Best,</p>\n<p>Andrei</p>\n<hr>\n<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nSent: 23 October 2016 22:56<br>\nTo: Andrei Popescu<br>\nCc: Ondřej Kunčar; Prof. Andrew M. Pitts; Prof. Thomas F. Melham; <a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>; Roger Bishop Jones; Prof. Peter B. Andrews; HOL-info list<br>\nSubject: Re: [Hol-info] [isabelle] definability of new types (HOL), overloaded constant definitions for axiomatic type classes (Isabelle) - Re: Who is ProofPower \"by\" (and STT)?</p>\n<p>Andrei,</p>\n<blockquote>\n<p>On 23 Oct 2016, at 14:31, Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt; wrote:</p>\n<p>Hi Rob,</p>\n<blockquote>\n<blockquote>\n<p>It's the other way round. Soundness implies that proof-theoretic conservativity implies model-theoretic conservativity.</p>\n</blockquote>\n</blockquote>\n<p>Ondra's statement was the correct one.</p>\n<p>Let's spell this out, to make sure we are speaking of the same thing. Say you have a signature Sigma' extending a signature Sigma (by adding some constant and type constructor symbols). Then every Sigma'-model M' produces a Sigma-Model, Forget(M'), by forgetting the interpretation of the symbols in Sigma' minus Sigma. Moreover,</p>\n<p>(*) For every closed Sigma-formula  phi, we have that M |= phi holds iff Forget(M) |= phi holds.</p>\n<p>Let T be a Sigma-theory (i.e., a set of closed Sigma-formulas), and let T' be a Sigma'-theory that includes T.<br>\nT' is called:</p>\n<p>(A) a model-theoretic conservative extension of T if, for all Sigma-models M of T, there exists a Sigma'-model M' of T' such that Forget(M') = M.</p>\n<p>(B) a proof-theoretic conservative extension of T if, for all closed Sigma-formulas phi, T' |- phi implies T |- phi.</p>\n<p>Assuming soundness <em>and completeness</em>, we have (A) implies (B). Proof: We can reason about semantic deduction |= instead of syntactic deduction. Assume T'|= phi .To prove T|= phi, let M |= T; by (A), we find M' |= T' such that Forget(M') = M. With T'|= phi, we obtain Forget(M')|= phi. From this and (*), we obtain M' |= phi, as desired.</p>\n<p>In general, (B) does not imply (A), and I don't know of interesting sufficient conditions for when it does.</p>\n</blockquote>\n<p>As discussed off-list with you and Ondrej, the case covered by<br>\nnew_specification or gen_new_specification is one where (B) implies (A).<br>\nThe interesting sufficient conditions that apply are; (1) T' is a finitely axiomatizable<br>\nexpansion of T introducing finitely many new constants and no new types<br>\nand (2) the logical language admits an existential quantifier<br>\nwith the usual proof rules and semantics. For then if T' satisfies (B), let<br>\nphi(x_1, ... x_n) denote the result of taking the conjunction of the formulas<br>\nthat axiomatize T' and replacing the new constants c_1, ..., c_n<br>\nby variables x_1, ..., x_n. Then T' proves psi ::= exists x_1, ... , x_n. phi(x_1, ..., x_n).<br>\nBy (B), T proves psi, but then, by soundness, psi holds in every model of T, which implies (A).</p>\n<p>Of course, none of the above works for an extension that introduces new types.<br>\nYour paper is a very nice contribution to the problem of defining new types.</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294694814,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178089
    }
]