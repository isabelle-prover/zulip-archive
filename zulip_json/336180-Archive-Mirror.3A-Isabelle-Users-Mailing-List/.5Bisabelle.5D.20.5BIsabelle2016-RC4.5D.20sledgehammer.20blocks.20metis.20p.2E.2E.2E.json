[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Wed, 10 Feb 2016, Andreas Lochbihler wrote:</p>\n<blockquote>\n<p>Consider the following scenario in Isabelle2016-RC4:</p>\n<ol>\n<li>I run sledgehammer via the sledgehammer panel,</li>\n<li>One of the provers comes back with a metis proof while the others are <br>\nstill running.</li>\n<li>I click on the metis proof which gets inserted into the main text area.</li>\n</ol>\n<p>The metis proof is not run until all other provers have finished or I <br>\nmanually cancel them. In Isabelle2015, metis used to check while the other <br>\nprovers are still working. Is there any setting to prioritize Isabelle proof <br>\nmethods over sledgehammer provers?</p>\n</blockquote>\n<p>Note that priorities don't help, when all worker threads are already busy <br>\nworking on tasks. So the usual working hypothesis is that sledgehammer is <br>\nalready saturating all threads, and the PIDE execution task (after an <br>\nedit) is still waiting in the queue.</p>\n<blockquote>\n<p>List of provers: cvc4 z3 spass e remote_vampire<br>\nTry methods checkbox in Sledgehammer panel: enabled<br>\nSystem: Ubuntu 14.04 LTS<br>\nHardware: Intel(R) Core(TM) i7-3630QM CPU @ 2.40GHz, 16GB RAM</p>\n</blockquote>\n<p>This hardware provides 4 active worker threads by default.</p>\n<p>I have experimented a bit with threads=4 and<br>\n~~/src/HOL/Metis_Examples/Big_O.thy: lemma <br>\nbigo_elt_subset (after the \"rule_tac\" and before the \"metis\"), both in <br>\nIsabelle2015 and Isabelle2016-RC4.</p>\n<p>After pushing the Sledgehammer button, I waited for the first result and <br>\ncopied that into the text:</p>\n<p>apply (smt less_imp_le less_le_trans mult.assoc mult.commute<br>\n     mult_less_cancel_right not_less zero_less_mult_iff)</p>\n<p>Later I also let Sledgehammer provers run and just copied the same text to <br>\nsee what happens.</p>\n<p>This uniformly leads to a \"pink\" (i.e. queued, not yet evaluated) 'apply' <br>\ncommand. Both for Isabelle2015 and Isabelle2016-RC4.</p>\n<p>The key difference: Isabelle2015 with default configuration immediately <br>\nsays: \"remote_vampire\": Error: SystemOnTPTP is not available. In that <br>\nsituation, the 'apply' line was checked earlier, probably because one <br>\nthread became free on time to continue the PIDE execution.</p>\n<p>In Isabelle2015 with proper remote_vampire, I've seen the unchecked pink <br>\n'apply' again.</p>\n<p>In all situations with threads=6, I see immediate checking of the 'apply' <br>\nline.</p>\n<p>So unless there is a clear indication that something changed to the worse, <br>\nI would say it is the normal state of affairs.</p>\n<p>BTW, with 4 cores and hyperthreading you could experiment with threads=5 <br>\nor threads=6; threads=8 will probably make the machine very hot without <br>\nmuch benefit.</p>\n<p>Makarius</p>",
        "id": 294666384,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661171899
    },
    {
        "content": "<p>From: Andreas Lochbihler &lt;<a href=\"mailto:andreas.lochbihler@inf.ethz.ch\">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>\nHi Makarius,</p>\n<p>You are right. With threads=5, the metis proof is being processed while the other provers <br>\nare still running. So this was really just a coincidence that Isabelle2015 has one thread <br>\navailable for processing.</p>\n<p>Thanks,<br>\nAndreas</p>",
        "id": 294666854,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661172045
    },
    {
        "content": "<p>From: Andreas Lochbihler &lt;<a href=\"mailto:andreas.lochbihler@inf.ethz.ch\">andreas.lochbihler@inf.ethz.ch</a>&gt;<br>\nDear Jasmin and Makarius,</p>\n<p>Consider the following scenario in Isabelle2016-RC4:</p>\n<ol>\n<li>I run sledgehammer via the sledgehammer panel,</li>\n<li>One of the provers comes back with a metis proof while the others are still running.</li>\n<li>I click on the metis proof which gets inserted into the main text area.</li>\n</ol>\n<p>The metis proof is not run until all other provers have finished or I manually cancel <br>\nthem. In Isabelle2015, metis used to check while the other provers are still working. Is <br>\nthere any setting to prioritize Isabelle proof methods over sledgehammer provers?</p>\n<p>Some configuration data:</p>\n<p>List of provers: cvc4 z3 spass e remote_vampire<br>\nTry methods checkbox in Sledgehammer panel: enabled<br>\nSystem: Ubuntu 14.04 LTS<br>\nHardware: Intel(R) Core(TM) i7-3630QM CPU @ 2.40GHz, 16GB RAM</p>\n<p>Best,<br>\nAndreas</p>",
        "id": 294668879,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661172763
    }
]