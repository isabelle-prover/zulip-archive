[
    {
        "content": "<p>From: Mathias Fleury &lt;<a href=\"mailto:mathias.fleury12@gmail.com\">mathias.fleury12@gmail.com</a>&gt;<br>\nHi Michael,</p>\n<p>here is a slightly shortened (and completed) version of proof:</p>\n<p>theorem (in solid) PLATONIC_SOLIDS:<br>\n  fixes s::nat ― ‹number of sides on each face›<br>\n    and m::nat ― ‹number of faces that meet at each vertex›<br>\n  assumes \"s ≥ 3\"  ― ‹faces must have at least 3 sides›<br>\n      and \"m ≥ 3\"  ― ‹at least three faces must meet at each vertex›<br>\n      and \"E&gt;0\"<br>\n      and eq0: \"s * F = 2 * E\"<br>\n      and eq1: \"m * V = 2 * E\"<br>\n    shows \"(s,m) ∈ {(3,3), (3,4), (3,5), (4,3), (5,3)}\" <br>\nproof -<br>\n  ― ‹Following Euler, as explained here:<br>\n<a href=\"https://www.mathsisfun.com/geometry/platonic-solids-why-five.html›\">https://www.mathsisfun.com/geometry/platonic-solids-why-five.html›</a><br>\n  have iq0: \"1/s + 1/m &gt; 1/2\" <br>\n  proof -<br>\n    have f:\"F = 2*E/s\" using <code>s ≥ 3</code> eq0 <code>E&gt;0</code><br>\n      by (metis mult_eq_0_iff neq0_conv nonzero_mult_div_cancel_left of_nat_eq_0_iff of_nat_mult zero_neq_numeral)<br>\n    have v:\"V = 2*E/m\" using <code>m ≥ 3</code> eq1 <code>E&gt;0</code><br>\n      by (metis mult_eq_0_iff neq0_conv nonzero_mult_div_cancel_left of_nat_eq_0_iff of_nat_mult zero_neq_numeral)<br>\n    have  \"F + V - E = 2\" using polyhedron_formula .<br>\n    hence \"(1/s + 1/m - 1/2) = 1/E\" using <code>E&gt;0</code> f v<br>\n      by (simp add: field_simps)<br>\n    moreover from <code>E&gt;0</code> have \"1/E&gt;0\" by simp<br>\n    ultimately show ?thesis by argo<br>\n  qed<br>\n  hence \"s ≤ 5\" and \"m ≤ 5\"<br>\n  proof -<br>\n    have le5: \"s≤5\" if iq0: \"1/s + 1/m &gt; 1/2\" and \"m≥3\" for s m :: nat<br>\n    proof (rule ccontr)<br>\n      assume \"¬s≤5\"<br>\n      hence \"s &gt; 5\" by simp<br>\n      hence \"1/s &lt; 1/5\" by simp<br>\n      hence \"1/5 + 1/m &gt; 1/2\" using iq0 by linarith<br>\n      hence \"1/m &gt; 3/10\" by simp<br>\n      hence \"m ≤ 3\" using less_imp_inverse_less by fastforce<br>\n      moreover have \"m≠3\"<br>\n        using iq0 div_by_1 floor_of_nat <code>s &gt; 5</code> by (auto simp: linorder_not_le field_simps)<br>\n      ultimately show \"False\" using <code>m≥3</code> by auto<br>\n    qed<br>\n    show \"s≤5\"<br>\n      using le5[of s m] iq0 <code>m ≥ 3</code> by blast<br>\n    show \"m≤5\"<br>\n      using le5[of m s] iq0 <code>s ≥ 3</code> by linarith<br>\n  qed<br>\n  hence \"(s,m) ∈ {3,4,5} × {3,4,5}\" using assms by force<br>\n  thus \"(s,m) ∈ {(3,3), (3,4), (3,5), (4,3), (5,3)}\" using iq0 by force<br>\nqed</p>\n<p>Some comments:<br>\nThe step \"le5\" corresponds to your comment \\&lt;open&gt;!HELP!: same argument as above, swapping m and s\\&lt;close&gt;: I have generalised the expression to work for any s and m.<br>\nYou had several steps either repeating the previous step (like hence \"m &lt; 10/3\" […] hence \"m &lt; 10/3\" by simp) or repeating it in an equivalent form (like hence \"s ≤ 5\" and \"m ≤ 5\" […] hence \"s ≤ 5 ∧ m ≤ 5\").<br>\nthus \"¬s≤5 ⟹ False\" by simp works but is strange. You already have the assumption \"¬s≤5\", so \"thus False\" is enough (in this case it can be merged with the previous line).<br>\nac_simps, algebra_simps, and field_simps are collections of simplifications lemmas that are useful here. It is probably possible to shorten the proof more with these lemmas.</p>\n<blockquote>\n<p>Any thoughts on how I could streamline this?</p>\n</blockquote>\n<p>If you finish the proof of polyhedron_formula, it would be a good candidate for an AFP entry &lt;<a href=\"https://www.isa-afp.org/\">https://www.isa-afp.org/</a>&gt;. </p>\n<p>Cheers,<br>\nMathias</p>\n<blockquote>\n<p>On 24. Jul 2018, at 08:44, Michal Wallace &lt;<a href=\"mailto:michal.wallace@gmail.com\">michal.wallace@gmail.com</a>&gt; wrote:</p>\n<p>Hi all,</p>\n<p>I made a start on a proof of the number of platonic solids (#50 on Freek<br>\nWiedijk's \"formalizing 100 theorems\" page):</p>\n<p>(nicely formatted gist:)<br>\n<a href=\"https://gist.github.com/tangentstorm/23bed08c4086a22c7100982790cbda83\">https://gist.github.com/tangentstorm/23bed08c4086a22c7100982790cbda83</a></p>\n<p>(actual isar file:)<br>\n<a href=\"https://github.com/tangentstorm/tangentlabs/blob/master/isar/Poly100.thy\">https://github.com/tangentstorm/tangentlabs/blob/master/isar/Poly100.thy</a></p>\n<p>It relies on the polyhedron formula, which is #13 on the list, and also<br>\noutstanding in Isabelle, AFAIK. I'm planning to take that on next, but I<br>\nwas hoping to get some feedback on what I've done so far... It feels pretty<br>\nverbose/redundant, and I'm hoping some of you Isabelle experts can help me<br>\nmake it nicer. :)</p>\n<p>Any thoughts on how I could streamline this?</p>\n<p>Thanks!</p>\n<p>Michal J Wallace<br>\n<a href=\"http://tangentstorm.com/\">http://tangentstorm.com/</a></p>\n</blockquote>",
        "id": 294736714,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190054
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nA note on Isar style: you are using 'hence' with 'using' a lot, but that<br>\nis slightly awkward.</p>\n<p>Isar proofs become more smooth (and overall shorter) if you abandon<br>\n'hence' and 'thus' altogether and use 'have' / 'show' with 'from' /<br>\n'with' more often than 'using'.</p>\n<p>The general pattern is as follows:</p>\n<p>have something \\&lt;proof&gt;  (* last fact: \"this\" *)</p>\n<p>with primary_facts have something_else<br>\n    using secondary_facts \\&lt;proof&gt;</p>\n<p>Where primary_facts are things you just had a few lines before, and<br>\nsecondary_facts from further off or from the library.</p>\n<p>Makarius</p>",
        "id": 294736850,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190102
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI've now seen your updates on Github:<br>\n<a href=\"https://github.com/tangentstorm/tangentlabs/commit/09a7b30a9a3758d5648a0e424541dec3195c0966\">https://github.com/tangentstorm/tangentlabs/commit/09a7b30a9a3758d5648a0e424541dec3195c0966</a></p>\n<p>Some more hints:</p>\n<p>from facts have something .</p>\n<p>is more often written like this:</p>\n<p>have something by (rule facts)</p>\n<p>or more rarely like this:</p>\n<p>have something by (fact facts)</p>\n<p>or occasionally even:</p>\n<p>note ‹something›</p>\n<p>The last form has a delicate point, though: its literal fact proposition<br>\ndoes not bind the ellipsis (\"…\") for the ongoing calculation.</p>\n<p>Makarius</p>",
        "id": 294737001,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190145
    },
    {
        "content": "<p>From: Michal Wallace &lt;<a href=\"mailto:michal.wallace@gmail.com\">michal.wallace@gmail.com</a>&gt;<br>\nHi all,</p>\n<p>I made a start on a proof of the number of platonic solids (#50 on Freek<br>\nWiedijk's \"formalizing 100 theorems\" page):</p>\n<p>(nicely formatted gist:)<br>\n<a href=\"https://gist.github.com/tangentstorm/23bed08c4086a22c7100982790cbda83\">https://gist.github.com/tangentstorm/23bed08c4086a22c7100982790cbda83</a></p>\n<p>(actual isar file:)<br>\n<a href=\"https://github.com/tangentstorm/tangentlabs/blob/master/isar/Poly100.thy\">https://github.com/tangentstorm/tangentlabs/blob/master/isar/Poly100.thy</a></p>\n<p>It relies on the polyhedron formula, which is #13 on the list, and also<br>\noutstanding in Isabelle, AFAIK. I'm planning to take that on next, but I<br>\nwas hoping to get some feedback on what I've done so far... It feels pretty<br>\nverbose/redundant, and I'm hoping some of you Isabelle experts can help me<br>\nmake it nicer. :)</p>\n<p>Any thoughts on how I could streamline this?</p>\n<p>Thanks!</p>\n<p>Michal J Wallace<br>\n<a href=\"http://tangentstorm.com/\">http://tangentstorm.com/</a></p>",
        "id": 294739063,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190842
    }
]