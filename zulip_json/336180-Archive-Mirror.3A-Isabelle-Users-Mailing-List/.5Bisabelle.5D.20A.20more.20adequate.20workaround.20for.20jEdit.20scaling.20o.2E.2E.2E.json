[
    {
        "content": "<p>From: Johannes Choo &lt;<a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a>&gt;<br>\nHi all,</p>\n<p>the documentation on Isabelle/jEdit has a subsection on scaling it on high<br>\nresolution screens (\"Displays with high resolution\"). It discusses scaling<br>\nfonts, but this leaves certain UI elements unchanged. There exists a<br>\ndifferent workaround that should produce better results in most situations.</p>\n<p>You will have to invoke Isabelle/jEdit via the command line, and pass in<br>\nthe option <code>-J \"-Dsun.java2d.uiScale=2.0\"</code>. For example,</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"err\">$</span> <span class=\"n\">isabelle</span> <span class=\"n\">jedit</span> <span class=\"o\">-</span><span class=\"n\">J</span> <span class=\"s\">\"-Dsun.java2d.uiScale=2.0\"</span>\n</code></pre></div>\n<p>this should uniformly scale all UI elements by 2x. Other integer quantities<br>\nshould work as well. Additionally, specifically for GNOME Linux, Java 9 or<br>\nnewer, it suffices to set an environment variable <code>GDK_SCALE</code> instead; that<br>\nis, the same can be achieved with</p>\n<div class=\"codehilite\" data-code-language=\"Isabelle\"><pre><span></span><code><span class=\"err\">$</span> <span class=\"n\">GDK_SCALE</span><span class=\"o\">=</span><span class=\"s\">\"2\"</span> <span class=\"n\">bin</span><span class=\"err\">/</span><span class=\"n\">isabelle</span> <span class=\"n\">jedit</span>\n</code></pre></div>\n<p>It would please me to see this added in the documentation, or somewhere<br>\nmore visible by someone with the ability to edit the relevant documents.<br>\nThanks!</p>\n<p>Bests,<br>\nJohannes Choo</p>",
        "id": 294760898,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199498
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI did not know this property yet, thanks for pointing it out.</p>\n<p>Trying it briefly with the Java 11 that is bundled with Isabelle2019, it<br>\nbasically works, but in the default \"Metal\" L&amp;F there are occasional<br>\nfont-metric problems (button \"Cancel\" displayed as \"Can...\"). With<br>\n\"GTK+\" L&amp;F there seems to be a conflict with its own GUI scaling (which<br>\nI usually use on Linux, but that is not quite portable and thus not the<br>\ndefault).</p>\n<p>So there is both some improvement and some remaining<br>\ncomplexity/fragility here. I will try again with the Java version that<br>\nwill be bundled with the next Isabelle release (presumably March/April<br>\n2020).</p>\n<p>Makarius</p>",
        "id": 294761012,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199564
    },
    {
        "content": "<p>From: Johannes Choo &lt;<a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a>&gt;<br>\nThanks for looking into it!</p>\n<p>The setting is incompatible with GTK+ look and feel since inherited UI<br>\nelements and settings seem to be scaled twice.</p>\n<p>With regard to the Cancel button, it seems to be a very edge case:<br>\nincreasing the point size from 12 -&gt; 13 using the Isabelle fonts without<br>\nthe scaling setting gives the same defective \"Can...\" result, and<br>\ndecreasing the point size 12 -&gt; 11 using the Isabelle fonts with scaling<br>\nresolves the issue. Using the default Dialog font for standalone jEdit in<br>\nthe usual 12 points does not seem to result this defect under scaling.</p>\n<p>Bests,<br>\nJohannes</p>",
        "id": 294761036,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199578
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI have briefly experimented with the \"Can...\" problem in the following<br>\nvariations (without any improvement):</p>\n<p>* latest jdk-12.0.2+10 from <a href=\"https://adoptopenjdk.net\">https://adoptopenjdk.net</a></p>\n<p>* button font \"DejaVu Sans\" instead of \"Isabelle DejaVu Sans\" (12px)</p>\n<p>This also means that the problem is not introduced by the home-made<br>\n\"Isabelle DejaVu Sans\" font: that is important to have proper Isabelle<br>\nsymboles uniformly in the GUI everywhere.</p>\n<p>Makarius</p>",
        "id": 294761061,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199597
    },
    {
        "content": "<p>From: Johannes Choo &lt;<a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a>&gt;<br>\nI don't think it's specifically the font either. My primary suspicion is<br>\nthat there is some small incompatibility between the process by which the<br>\nUI elements are scaled and that by which the fonts are scaled (by the java<br>\nruntime).</p>\n<p>UI elements seem to be scaled by a raster method or by making each pixel of<br>\nthe image twice wide. Fonts are scaled by a different process so that they<br>\nremain smooth on HiDPI. It may be the case that hinting and other systems<br>\nmakes the scaled font have slightly different dimensions than a naive 2x of<br>\nthe original size. Then, DejaVu Sans sits in an unfortunate spot where<br>\nthese slightly different dimensions are significant.</p>",
        "id": 294761162,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199628
    },
    {
        "content": "<p>From: Johannes Choo &lt;<a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a>&gt;<br>\nTwo small clarifications:</p>\n<blockquote>\n<p>the UI elements are scaled and that by which the fonts are scaled (by the<br>\njava runtime)</p>\n</blockquote>\n<p>I mean that scaling of both the UI elements and the fonts are handled by<br>\nthe java runtime (though by different systems within).</p>\n<blockquote>\n<p>Fonts are scaled by a different process so that they remain smooth on<br>\nHiDPI.</p>\n</blockquote>\n<p>I mean that fonts seem to be \"scaled\" by rendering them at a higher point<br>\nsize.</p>\n<p>On Thu, Jul 25, 2019 at 11:47 AM Johannes Choo &lt;<a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a>&gt; wrote:</p>\n<blockquote>\n<p>I don't think it's specifically the font either. My primary suspicion is<br>\nthat there is some small incompatibility between the process by which the<br>\nUI elements are scaled and that by which the fonts are scaled (by the java<br>\nruntime).</p>\n<p>UI elements seem to be scaled by a raster method or by making each pixel<br>\nof the image twice wide. Fonts are scaled by a different process so that<br>\nthey remain smooth on HiDPI. It may be the case that hinting and other<br>\nsystems makes the scaled font have slightly different dimensions than a<br>\nnaive 2x of the original size. Then, DejaVu Sans sits in an unfortunate<br>\nspot where these slightly different dimensions are significant.</p>\n<p>On Wed, Jul 24, 2019 at 5:53 PM Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>On 24/07/2019 09:49, Johannes Choo wrote:</p>\n<blockquote>\n<p>The setting is incompatible with GTK+ look and feel since inherited UI<br>\nelements and settings seem to be scaled twice.</p>\n<p>With regard to the Cancel button, it seems to be a very edge case:<br>\nincreasing the point size from 12 -&gt; 13 using the Isabelle fonts without<br>\nthe scaling setting gives the same defective \"Can...\" result, and<br>\ndecreasing the point size 12 -&gt; 11 using the Isabelle fonts with scaling<br>\nresolves the issue. Using the default Dialog font for standalone jEdit<br>\nin the usual 12 points does not seem to result this defect under<br>\nscaling.</p>\n</blockquote>\n<p>I have briefly experimented with the \"Can...\" problem in the following<br>\nvariations (without any improvement):</p>\n<p>* latest jdk-12.0.2+10 from <a href=\"https://adoptopenjdk.net\">https://adoptopenjdk.net</a></p>\n<p>* button font \"DejaVu Sans\" instead of \"Isabelle DejaVu Sans\" (12px)</p>\n<p>This also means that the problem is not introduced by the home-made<br>\n\"Isabelle DejaVu Sans\" font: that is important to have proper Isabelle<br>\nsymboles uniformly in the GUI everywhere.</p>\n<p>Makarius<br>\n</p>\n</blockquote>\n<p>--<br>\nBests,<br>\nJohannes</p>\n<p>Email: <a href=\"mailto:jhanschoo@gmail.com\">jhanschoo@gmail.com</a><br>\nSkype: jhanschoo<br>\nMobile: +6584817735</p>\n</blockquote>",
        "id": 294761175,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199637
    }
]