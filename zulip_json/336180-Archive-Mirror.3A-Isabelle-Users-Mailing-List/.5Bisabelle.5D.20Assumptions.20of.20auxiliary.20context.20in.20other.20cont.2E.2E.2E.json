[
    {
        "content": "<p>From: Andreas Lochbihler &lt;<a href=\"mailto:andreas.lochbihler@kit.edu\">andreas.lochbihler@kit.edu</a>&gt;<br>\nHi all,</p>\n<p>I want to nest an auxiliary context inside another local context to factor out a <br>\nbunch of assumptions. The assumptions should refer to fixed parameters of the <br>\nsurrounding context, like in the following example:</p>\n<p>locale l = fixes n :: nat begin<br>\ncontext assumes n: \"n ~= 0\" begin<br>\nlemma L: True ..<br>\nend<br>\nthm L<br>\nend</p>\n<p>Unfortunately, thm L refers to \"(!!n. n ~= 0) ==&gt; True\" instead of \"n ~= 0 ==&gt; <br>\nTrue\", i.e., the assumption n generalises over n instead of taking it as a fixed <br>\nparameter. Consequently, L's assumption is unprovable and therefore L unusable.</p>\n<p>How can I refer to the fixed parameter n of the surrounding context in the <br>\nassumption n?</p>\n<p>I tried the following:</p>\n<p>locale l = fixes n :: nat begin<br>\ndefinition n' where \"n' = n\"<br>\ncontext assumes n: \"n' ~= 0\" begin<br>\nlemma L: \"True\" ..<br>\nend<br>\nthm L<br>\nend</p>\n<p>But thm L still contains the unprovable assumption: \"(!!n. L.n' n = 0) ==&gt; True\"</p>\n<p>By the way: The Isar/Ref manual mentions that unnamed contexts may be nested <br>\nwithin other targets and mentions locales, type classes etc. as examples. May I <br>\nalso nest unnamed contexts inside unnamed contexts? Isabelle2012 does not <br>\ncomplain, if I do so, but is this officially supported?</p>\n<p>Andreas</p>",
        "id": 294163453,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660854088
    }
]