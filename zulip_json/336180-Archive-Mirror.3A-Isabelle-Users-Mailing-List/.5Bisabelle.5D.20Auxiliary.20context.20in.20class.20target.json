[
    {
        "content": "<p>From: Andreas Lochbihler &lt;<a href=\"mailto:andreas.lochbihler@kit.edu\">andreas.lochbihler@kit.edu</a>&gt;<br>\nHi all,</p>\n<p>I am having trouble to use Isabelle's new auxiliary contexts inside a class <br>\ncontext, as in the following example:</p>\n<p>context ord begin<br>\ncontext fixes x :: 'a begin<br>\ndefinition bar where \"bar = x\"</p>\n<p>The definition is rejected because x is erroneously identified as a free variable:</p>\n<p>*** Extra variables on rhs: \"x\"<br>\n*** The error(s) above occurred in definition \"ord_class.ord_class.bar_dict\":<br>\n***   \"bar == <a href=\"http://ord.bar\">ord.bar</a> x\"<br>\n*** At command \"definition\"</p>\n<p>The same error occurs when I use fun with a more complicated function.<br>\nI would like to use such a context to emulate the \"for\" clause of inductive for <br>\nfunction defintions, because the induction rule generated by fun is nicer.</p>\n<p>Is this just not yet implemented or am I again abusing things here?</p>\n<p>Andreas</p>",
        "id": 294159933,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660852756
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI still did not find time to look again at this, and probably won't before <br>\ngetting on 3 weeks vacation at the end of the week.</p>\n<p>Generally, context-begin-end needs to interact with various local theory <br>\ntargets, and some of them might not be ready for the nested context yet. <br>\nAbove it looks like the canonical interpretation that turns locale into <br>\nclass does not cope with additional parameters. It will probably take more <br>\nthan one more release cycle to get an almost complete coverage of all <br>\ntheses things.</p>\n<p>Reporting such problems helps to see where the important applications are, <br>\nand to assign priorities where to continue further refinement of nested <br>\ncontext.  Especially the still underdeveloped bundles should join the <br>\ntarget context game at some point.</p>\n<p>Makarius</p>",
        "id": 294160187,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660852830
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@informatik.tu-muenchen.de\">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>\nHi Andreas,</p>\n<p>this is indeed a current restriction in the class target; it expects all<br>\noccuring auxiliary parameters to be class parameters, which is a very<br>\nstrong assumption.  I am currently testing a patch<br>\n(<a href=\"http://isabelle.in.tum.de/testboard/Isabelle/rev/d4b6b21b75e2\">http://isabelle.in.tum.de/testboard/Isabelle/rev/d4b6b21b75e2</a>) which is<br>\nsupposed to lift this restriction.</p>\n<p>Cheers,<br>\n    Florian<br>\n<a href=\"/user_uploads/14278/jLWaVriGQeG-2oACk6ms1lVN/signature.asc\">signature.asc</a></p>",
        "id": 294165082,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660854432
    }
]