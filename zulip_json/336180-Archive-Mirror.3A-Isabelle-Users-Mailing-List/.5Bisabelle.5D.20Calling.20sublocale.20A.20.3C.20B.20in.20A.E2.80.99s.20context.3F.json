[
    {
        "content": "<p>From: Joachim Breitner &lt;<a href=\"mailto:breitner@kit.edu\">breitner@kit.edu</a>&gt;<br>\nHi,</p>\n<p>I have a pattern in my theories where I have a series of locales, each<br>\nrefining the previous, e.g.</p>\n<p>locale A =<br>\n          fixes param :: bool<br>\n        begin<br>\n          lemma A_lem: \"param = param\"..<br>\n        end</p>\n<p>locale B = A + assumes \"param = True\"</p>\n<p>and then in a different locale, I instantiate the initial locale and<br>\nstep-for-step work through the assumptions of the following locales. So<br>\nwhat Iâ€™d like to do is something like</p>\n<p>locale C =<br>\n          fixes n :: nat<br>\n        begin<br>\n          (* ... *)<br>\n          interpretation A \"n = 0\".<br>\n          (* ... *)<br>\n          lemma n: \"n = 0\" sorry<br>\n          interpretation B \"n = 0\" by (unfold_locales, simp add: n)<br>\n          (* ... *)<br>\n        end</p>\n<p>but (as documented, and quite correctly) now the results from locales A<br>\nand B are not available when interpreting C, or even when opening<br>\n\"context C\" again later. So what I have to do instead is:</p>\n<p>locale C =<br>\n          fixes n :: nat<br>\n        begin<br>\n          (* ... *)<br>\n        end<br>\n        sublocale C &lt; A \"n = 0\".<br>\n        context C begin<br>\n          (* ... *)<br>\n          lemma n: \"n = 0\" sorry<br>\n        end<br>\n        sublocale C &lt; B \"n = 0\" by (unfold_locales, simp add: n)<br>\n        context C begin<br>\n          (* ... *)<br>\n        end</p>\n<p>which I find a bit ugly. Is there a way to declare a sublocale<br>\nrelationship for the current locale form within that locale?</p>\n<p>Thanks,<br>\nJoachim<br>\n<a href=\"/user_uploads/14278/w6UcYYnlr3A04vgSnC4_JEUF/signature.asc\">signature.asc</a></p>",
        "id": 294251879,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660911046
    }
]