[
    {
        "content": "<p>From: Moa Johansson &lt;<a href=\"mailto:moa.johansson@chalmers.se\">moa.johansson@chalmers.se</a>&gt;<br>\nHi,</p>\n<p>Updating the code for our Hipster system which relies on the code generator. I notice that the function ‘export_code’ has changed, and obtained an extra boolean argument ‘all_public’. I also notice that the generated code now differs, in that it now exports the functions given from Isabelle, so we get the module header:</p>\n<p>module Main (Tree, tmap, mirror) where…</p>\n<p>instead of as previously (in Isabelle2013-2):</p>\n<p>module Main where…</p>\n<p>I would have assumed that setting ‘all_public’ to false would have produced the same version of Isabelle2013-2, which is what our tool expects the Haskell file to look like. However, this does not appear to be the case. So:</p>\n<ul>\n<li>What does ‘all_public’ change? </li>\n<li>Is there a possibility to get the code generator to produce the same header as in Isabelle2013-2, or do I have to work around the fact that it insist on exporting my functions? </li>\n</ul>\n<p>I’m aware that we’re probably not using the code generator for the same purpose as most users, but still… :)</p>\n<p>Cheers,<br>\nMoa</p>",
        "id": 294306582,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660924492
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@informatik.tu-muenchen.de\">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>\nHi Moa,</p>\n<blockquote>\n<p>Updating the code for our Hipster system which relies on the code<br>\ngenerator. I notice that the function ‘export_code’ has changed, and<br>\nobtained an extra boolean argument ‘all_public’. I also notice that the<br>\ngenerated code now differs, in that it now exports the functions given<br>\nfrom Isabelle, so we get the module header:</p>\n<p>module Main (Tree, tmap, mirror) where…</p>\n<p>instead of as previously (in Isabelle2013-2):</p>\n<p>module Main where…</p>\n<p>I would have assumed that setting ‘all_public’ to false would have produced the same version of Isabelle2013-2, which is what our tool expects the Haskell file to look like. However, this does not appear to be the case. So:</p>\n<ul>\n<li>What does ‘all_public’ change? </li>\n<li>Is there a possibility to get the code generator to produce the same header as in Isabelle2013-2, or do I have to work around the fact that it insist on exporting my functions? </li>\n</ul>\n</blockquote>\n<p>see NEWS:</p>\n<blockquote>\n<ul>\n<li>Code generator: minimize exported identifiers by default.  Minor<br>\nINCOMPATIBILITY.</li>\n</ul>\n</blockquote>\n<p>I.e. by default (not all_public) only the requested set of identifiers<br>\nis exported, else (all_public) all are exported explicitly.</p>\n<p>There is no way to get the pre-Isabelle2014 headers back.  I have no<br>\nidea what your application is, but you can strip the export lists using<br>\ne.g. a suitable perl script.</p>\n<p>Hope this helps,<br>\n    Florian<br>\n<a href=\"/user_uploads/14278/myvFiFAVmTutH0y7u5mU1Gx8/signature.asc\">signature.asc</a></p>",
        "id": 294306598,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660924496
    }
]