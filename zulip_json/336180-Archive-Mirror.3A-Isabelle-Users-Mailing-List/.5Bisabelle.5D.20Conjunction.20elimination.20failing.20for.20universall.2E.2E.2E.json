[
    {
        "content": "<p>From: Joshua Chen &lt;<a href=\"mailto:joshua.chen@uni-bonn.de\">joshua.chen@uni-bonn.de</a>&gt;<br>\nDear all,</p>\n<p>I'm finding that</p>\n<p>lemma assumes \"A: U(i) &amp;&amp;&amp; (x: A ==&gt; b(x): B(x))\" shows <br>\n\"x:A ==&gt; b(x): B(x)\" using assms by (rule conjunctionD2)</p>\n<p>works, but</p>\n<p>lemma assumes \"A: U(i) &amp;&amp;&amp; (!!x. x: A ==&gt; b(x): B(x))\" <br>\nshows \"!!x. x:A ==&gt; b(x): B(x)\" using assms by (rule <br>\nconjunctionD2)</p>\n<p>fails.</p>\n<p>Why does this happen?</p>\n<p>Best wishes,<br>\nJosh</p>",
        "id": 294740157,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661191229
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\n(This looks like Type-Theory reasoning, but the notation also happens to <br>\nwork in the context of Main or ZF.)</p>\n<p>The Pure conjunction (with notation &amp;&amp;&amp;) is for internal use, e.g. to <br>\nrepresent simultaneous results in intermediate situations. Its rule <br>\nviolate certain disciplines of object-logic rule composition, e.g. as <br>\nexplained in the \"implementation\" manual, section 2.4.</p>\n<p>Operationally, the proof step \"using assms by (rule conjunctionD2)\" <br>\nstarts out with the following rule compositions (before failing):</p>\n<p>apply (rule conjunctionD2 [OF assms])</p>\n<p>You can inspect applied fact as usual:</p>\n<p>thm conjunctionD2 [OF assms]</p>\n<p>This reveals a fact that is not in HHF normal form: it does not work <br>\ntogether with the usual \"lifting\" of rules into the subgoal structure.</p>\n<p>Here is a structured Isar proof to illustrate the situation further, and <br>\nto provide a workaround:</p>\n<p>lemma<br>\n   assumes \"A: U(i) &amp;&amp;&amp; (!!x. x: A ==&gt; b(x): B(x))\"<br>\n   shows \"!!x. x:A ==&gt; b(x): B(x)\"<br>\nproof -<br>\n   fix x<br>\n   assume *: \"x:A\"<br>\n   show \"b(x): B(x)\"<br>\n   proof -<br>\n     { note conjunctionD2 [OF assms] }<br>\n     from this [OF *] show ?thesis .<br>\n   qed<br>\nqed</p>\n<p>The curly braces delimit a local block: the exported fact at its closing <br>\nis always put into HHF normal form, thus it becomes possible to apply <br>\n\"this\" properly to the pending problem.</p>\n<p>The conclusion of the experiment is that &amp;&amp;&amp; should not be used in <br>\nregular proofs -- it does not fit into the standard policies.</p>\n<p>What application did you have in mind in the first place?</p>\n<p>Makarius</p>",
        "id": 294740528,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661191360
    }
]