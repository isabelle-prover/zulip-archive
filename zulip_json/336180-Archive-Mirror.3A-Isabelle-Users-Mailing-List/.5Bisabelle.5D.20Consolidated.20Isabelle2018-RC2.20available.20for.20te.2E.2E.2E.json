[
    {
        "content": "<p>From: Bertram Felgenhauer via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nDear Makarius,</p>\n<p>I have encountered a minor snag with document preparation using a custom<br>\n\"build\" script (as commonly used for snippets). The build script never<br>\ngenerates a root.pdf file (only document.pdf), and producs an obscure<br>\nerror:</p>\n<p>isabelle document -d snippets/document -o pdf -n document<br>\n  *** Error</p>\n<p>The error appears to be the result of the following command</p>\n<p>[ -f root.pdf ] &amp;&amp; cp -f root.pdf ../document.pdf</p>\n<p>which returns a non-zero exit code if root.pdf does not exist.</p>\n<p>This can be traced to the build_document function in<br>\nsrc/Pure/present.scala, which does</p>\n<p>bash(\"[ -f \" + root_bash(document_format) + \" ] &amp;&amp; cp -f \" +<br>\n      root_bash(document_format) + \" \" + File.bash_path(document_target)).check</p>\n<p>The .check here seems over-zealous.</p>\n<p>(It's easy to work around the problem by generating root.pdf instead of<br>\ndocument.pdf)</p>\n<p>Cheers,</p>\n<p>Bertram</p>",
        "id": 294736754,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190065
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 25/07/18 15:19, Bertram Felgenhauer via Cl-isabelle-users wrote:</p>\n<blockquote>\n<p>isabelle document -d snippets/document -o pdf -n document<br>\n  *** Error</p>\n<p>The error appears to be the result of the following command</p>\n<p>[ -f root.pdf ] &amp;&amp; cp -f root.pdf ../document.pdf</p>\n<p>which returns a non-zero exit code if root.pdf does not exist.</p>\n<p>This can be traced to the build_document function in<br>\nsrc/Pure/present.scala, which does</p>\n<p>bash(\"[ -f \" + root_bash(document_format) + \" ] &amp;&amp; cp -f \" +<br>\n      root_bash(document_format) + \" \" + File.bash_path(document_target)).check</p>\n</blockquote>\n<p>Thanks for keeping an eye on such details.</p>\n<p>The problem here is the boolean expression instead of a regular<br>\nif-statement. I have now amended that for the next release candidate:<br>\n<a href=\"https://isabelle.sketis.net/repos/isabelle-release/rev/71aa5a9128c2\">https://isabelle.sketis.net/repos/isabelle-release/rev/71aa5a9128c2</a></p>\n<blockquote>\n<p>The .check here seems over-zealous.</p>\n</blockquote>\n<p>I've left that in, but changed the shell script instead. By default,<br>\nbash invocations under program control should be strict, to imitate the<br>\nnormal evaluation of Isabelle/ML and Isabelle/Scala.</p>\n<p>Makarius</p>",
        "id": 294736989,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190139
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nDear Isabelle users,</p>\n<p>the coming Isabelle2018 release is scheduled for August 2018, approx. 3<br>\nweeks from now. A consolidated release candidate is now available<br>\nfor general testing: <a href=\"https://isabelle.in.tum.de/website-Isabelle2018-RC2\">https://isabelle.in.tum.de/website-Isabelle2018-RC2</a><br>\n-- it is already forked off the main Isabelle repository, so very few<br>\nchanges will happen until the final version.</p>\n<p>The corresponding repository versions of Isabelle and AFP are<br>\n<a href=\"https://isabelle.sketis.net/repos/isabelle-release/rev/89e05bd572c6\">https://isabelle.sketis.net/repos/isabelle-release/rev/89e05bd572c6</a> and<br>\n<a href=\"https://bitbucket.org/isa-afp/afp-devel/commits/7175b64d54a4\">https://bitbucket.org/isa-afp/afp-devel/commits/7175b64d54a4</a> respectively.</p>\n<p>The website, NEWS, ANNOUNCE etc. are already up-to-date, but some<br>\ndocumentation still requires update.</p>\n<p>The ongoing release process is continuously documented on my blog:<br>\n<a href=\"https://sketis.net/2018/release-candidates-for-isabelle2018\">https://sketis.net/2018/release-candidates-for-isabelle2018</a></p>\n<p>When discussing observations about release candidates, please provide<br>\na mail Subject line that fits to the content, not just a clone of the<br>\nannouncement.</p>\n<p>The time for final testing and reporting pending problems is getting<br>\nvery short now. After the release has been published, it is too late to<br>\nchange anything (before the next release in approx. 10 months).</p>\n<p>Makarius</p>",
        "id": 294738924,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190801
    }
]