[
    {
        "content": "<p>From: Gottfried Barrow &lt;<a href=\"mailto:gottfried.barrow@gmx.com\">gottfried.barrow@gmx.com</a>&gt;<br>\nHi,</p>\n<p>I'm trying to define the singleton \"{x} == {x,x}\", as shown on line 90 <br>\nof the attached screenshot. I've tried lots of different things, but I <br>\nhave the following four lines, :</p>\n<p>consts upS    :: \"??e?t ? ??e?t ? ??e?t\"<br>\n     syntax \"_upS\" :: \"args ? ??e?t\" (\"{_}??\")<br>\n     translations \"{u,v}??\" == \"CONST upS u v\"<br>\n     translations \"{u}??\"   == \"{u,u}??\"</p>\n<p>On the fourth line above, I get this error:</p>\n<p>Error in syntax translation rule: duplicate vars in lhs<br>\n     (\"_upS\" (\"_args\" u u))  -&gt;  (\"_upS\" u)</p>\n<p>QUESTION: Can I somehow get \"{x} == {x,x}\" using only \"syntax\", <br>\n\"translations\", and the one function \"upS\"? I'm trying not to introduce <br>\na second function.</p>\n<p><em>EXAMPLES I'VE LOOKED AT</em></p>\n<p><em>src/ZF/ZF.thy line 141:</em></p>\n<p>translations<br>\n      ....<br>\n      \"&lt;x, y, z&gt;\"   == \"&lt;x, &lt;y, z&gt;&gt;\"<br>\n      \"&lt;x, y&gt;\"      == \"CONST Pair(x, y)\"</p>\n<p><em>src/HOL/Set.thy line 140:</em></p>\n<p>syntax<br>\n   \"_Finset\" :: \"args =&gt; 'a set\"    (\"{(_)}\")<br>\ntranslations<br>\n   \"{x, xs}\" == \"CONST insert x {xs}\"<br>\n   \"{x}\" == \"CONST insert x {}\"</p>\n<p><em>src/HOL/ZF/HOLZF.thy:</em></p>\n<p>definition Singleton:: \"ZF \\&lt;Rightarrow&gt; ZF\" where<br>\n   \"Singleton x == Upair x x\"</p>\n<p>So this last example shows me a simple way to get what I'm trying to do, <br>\nbut, at least at this point, I'd rather not introduce another function.</p>\n<p>Thanks,<br>\nGB<br>\n<a href=\"/user_uploads/14278/PrTqRB-VkaIRplCVTUjFR7lA/singleton_def_error.png\">singleton_def_error.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/14278/PrTqRB-VkaIRplCVTUjFR7lA/singleton_def_error.png\" title=\"singleton_def_error.png\"><img src=\"/user_uploads/14278/PrTqRB-VkaIRplCVTUjFR7lA/singleton_def_error.png\"></a></div>",
        "id": 294220821,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660897387
    },
    {
        "content": "<p>From: Gottfried Barrow &lt;<a href=\"mailto:gottfried.barrow@gmx.com\">gottfried.barrow@gmx.com</a>&gt;<br>\nI'd still prefer to do as I say in my first email, but I go ahead and <br>\nintroduce the second function for the singleton set, and so I end up <br>\nwith something like this:</p>\n<p>(<em>Ct....Unordered pair: constant set to be axiomatized.</em>)<br>\n    consts upS    :: \"sT =&gt; sT =&gt; sT\"<br>\n    syntax \"_upS\" :: \"args =&gt; sT\" (\"{_}\")<br>\n    translations \"{u,v}\" == \"CONST upS u v\"</p>\n<p>(<em>Df....Unordered pair: singleton set.</em>)<br>\n    definition upSs :: \"sT =&gt; sT\" where<br>\n       \"upSs u == upS u u\"<br>\n    translations \"{u}\" == \"CONST upSs u\"</p>\n<p>Due to the last line of the code above, my next theorem gets this error:</p>\n<p>Undeclared constant: \"_args\"</p>\n<p>If I delete <code>translations \"{u}\" == \"CONST upSs u\"</code>, the error goes away.</p>\n<p>I can use two \"syntax\" commands for a \"_upS\" and \"_upSs\", and not use <br>\n\"args\", but I like the idea of using the \"args\" that I get from this <br>\nfollowing code in Set.thy, line 140:</p>\n<p>syntax<br>\n      \"_Finset\" :: \"args =&gt; 'a set\"    (\"{(_)}\")<br>\n    translations<br>\n      \"{x, xs}\" == \"CONST insert x {xs}\"<br>\n      \"{x}\" == \"CONST insert x {}\"</p>\n<p>I haven't tracked down what \"args\" does, but it would be nice to leave <br>\nthat in, so in the future I can define finite sets similar to ZF.thy and <br>\nSet.thy.</p>\n<p>Thanks,<br>\nGB</p>",
        "id": 294220823,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660897388
    },
    {
        "content": "<p>From: Gottfried Barrow &lt;<a href=\"mailto:gottfried.barrow@gmx.com\">gottfried.barrow@gmx.com</a>&gt;<br>\nI got something that works. If someone wants to tell me how to do it <br>\nwith only the one function \"consts upS\", that would be okay.</p>\n<p>I couldn't find where \"args\" is defined. It appears that it's defined <br>\nsomewhere in Pure. I found \"args\" in the index of isar-ref.pdf (pg. 58), <br>\nbut I couldn't tell if it was a reference to the \"args\" below.</p>\n<p>This works:</p>\n<p>consts     upS :: \"sT =&gt; sT =&gt; sT\"<br>\n    definition usS :: \"sT =&gt; sT\" where \"usS u == upS u u\"<br>\n    syntax \"_upS\" :: \"args =&gt; sT\" (\"\\&lt;lbrace&gt;(_)\\&lt;rbrace&gt;\")<br>\n    translations \"\\&lt;lbrace&gt;u,v\\&lt;rbrace&gt;\" == \"CONST upS u v\"<br>\n                         \"\\&lt;lbrace&gt;u\\&lt;rbrace&gt;\"   == \"CONST usS u\"</p>\n<p>This doesn't work:</p>\n<p>consts     upS :: \"sT =&gt; sT =&gt; sT\"<br>\n    definition usS :: \"sT =&gt; sT\" where \"usS u == upS u u\"<br>\n    syntax \"_upS\" :: \"args =&gt; sT\" (\"\\&lt;lbrace&gt;(_)\\&lt;rbrace&gt;\")<br>\n    translations \"\\&lt;lbrace&gt;u,v\\&lt;rbrace&gt;\" == \"CONST upS u v\"<br>\n    translations \"\\&lt;lbrace&gt;u\\&lt;rbrace&gt;\"   == \"CONST usS u\"</p>\n<p>Using the two \"translations\" causes this error on the next theorem:</p>\n<p>Undeclared constant: \"_args\"</p>\n<p>Regards,<br>\nGB</p>",
        "id": 294220832,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660897395
    }
]