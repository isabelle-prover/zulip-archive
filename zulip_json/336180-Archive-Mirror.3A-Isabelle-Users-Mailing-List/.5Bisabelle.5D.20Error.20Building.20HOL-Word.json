[
    {
        "content": "<p>From: Mario Alvarez &lt;<a href=\"mailto:mmalvare@eng.ucsd.edu\">mmalvare@eng.ucsd.edu</a>&gt;<br>\nHi Isabelle-Users,</p>\n<p>I am trying to compile some files from the eth-isabelle<br>\n&lt;<a href=\"https://github.com/pirapira/eth-isabelle\">https://github.com/pirapira/eth-isabelle</a>&gt; project using the command-line<br>\nversion of Isabelle (e.g. isabelle process -T TheoryName). It seems like<br>\nthe error is due to a dependency on the HOL-Word library.</p>\n<p>In fact, I notice that the HOL-Word library fails to build. When I run<br>\nisabelle build HOL-Word, I get a failure with the following error (at the<br>\nend):</p>\n<h3>theory \"HOL-Word.WordBitwise\"</h3>\n<h3>0.591s elapsed time, 2.297s cpu time, 0.234s GC time</h3>\n<p>*** Solver z3: Solver terminated abnormally with error code 110<br>\n*** At command \"apply\" (line 284 of<br>\n\"~~/src/HOL/Word/Bit_Representation.thy\")<br>\n*** Solver z3: Solver terminated abnormally with error code 110<br>\n*** At command \"by\" (line 12 of \"~~/src/HOL/Word/Misc_Numeric.thy\")<br>\nUnfinished session(s): HOL-Word<br>\n0:00:37 elapsed time, 0:01:11 cpu time, factor 1.91</p>\n<p>I assume this isn't expected behavior for trying to build HOL-Word (but let<br>\nme know if I'm wrong about that).</p>\n<p>Strangely, this doesn't appear to be a problem when I open the files that<br>\nrequire this dependency in the JEdit interface to Isabelle: the file<br>\nprocesses successfully without any errors. Do you have any ideas why this<br>\nmight be failing and what I can do to get it to build?</p>\n<p>Best,<br>\nMario</p>",
        "id": 294729556,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661187533
    },
    {
        "content": "<p>From: <a href=\"mailto:Thomas.Sewell@data61.csiro.au\">Thomas.Sewell@data61.csiro.au</a><br>\nHello Mario.</p>\n<p>It looks like z3 isn't working in your environment. There's a copy of z3 bundled with isabelle, which is meant to work on any given platform, but a colleague of mine has had it terminate like that when running on his Windows machine.</p>\n<p>There was a patch we recommended a while back which replaces the two uses of \"smt\" in the standard Isabelle theories with other proof methods. I think that patch has now been accepted, but you might be using a version where you don't have it yet. You can probably hand apply it.</p>\n<p>OK, found it. There was a discussion here in December, which you can see on the web here:<br>\n<a href=\"https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2017-December/msg00004.html\">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2017-December/msg00004.html</a></p>\n<p>You could hand-edit the two theories I quoted to replace the proofs with the ones I mentioned in that email. It's a dirty solution, but it should get you going for now.</p>\n<p>An alternative would be to try to figure out what's up with executing z3 in your system. I don't know so much about that.</p>\n<p>Cheers,<br>\n    Thomas.</p>",
        "id": 294729595,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661187548
    },
    {
        "content": "<p>From: Mario Alvarez &lt;<a href=\"mailto:mmalvare@eng.ucsd.edu\">mmalvare@eng.ucsd.edu</a>&gt;<br>\nHi Thomas,</p>\n<p>Thanks for the advice.</p>\n<p>I am running the Windows Subsystem for Linux, which should be<br>\nbinary-compatible with Linux. However, perhaps this binary compatibility<br>\nhas a bug in the case of z3. I'll try manually editing those two theories<br>\nfor now.</p>\n<p>--Mario</p>",
        "id": 294729614,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661187554
    },
    {
        "content": "<p>From: Mario Alvarez &lt;<a href=\"mailto:mmalvare@eng.ucsd.edu\">mmalvare@eng.ucsd.edu</a>&gt;<br>\n(Re-sending because I sent this from the wrong address originally, sorry if<br>\nboth posts end up getting through)</p>\n<p>---------- Forwarded message ---------<br>\nFrom: Mario Alvarez &lt;<a href=\"mailto:mariomcgilvrayalvarez@gmail.com\">mariomcgilvrayalvarez@gmail.com</a>&gt;<br>\nDate: Wed, May 2, 2018, 1:49 PM<br>\nSubject: Re: [isabelle] Error Building HOL-Word<br>\nTo: &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nCc: Mario Alvarez &lt;<a href=\"mailto:mmalvare@eng.ucsd.edu\">mmalvare@eng.ucsd.edu</a>&gt;, &lt;<a href=\"mailto:isabelle-users@cl.cam.ac.uk\">isabelle-users@cl.cam.ac.uk</a>&gt;</p>\n<p>Hi Makarius,</p>\n<p>Thanks for checking this out.</p>\n<p>In case you're curious to know more about my development environment: I use<br>\nWSL for command-line interaction, but a windows-native version of<br>\nIsabelle/JEdit for actual development. This works mostly fine except for<br>\nthis issue around Z3 integration, which I've managed to work around now by<br>\nchanging some proofs in the standard library. When I get a chance (which<br>\nmay not be for a while) I may play around with Z3 a little more on WSL to<br>\nsee when/why it's failing.</p>\n<p>Also, if you really want a GUI environment for WSL, you can install a<br>\nWindows-native X-server. I've gotten Isabelle/JEdit to work this way, but<br>\nit tends to be slower (especially UI interactions) than the Windows-native<br>\nIsabelle/JEdit.</p>\n<p>--Mario</p>\n<p>On Wed, May 2, 2018 at 2:47 AM Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>On 22/03/18 01:30, Mario Alvarez wrote:</p>\n<blockquote>\n<p>I am running the Windows Subsystem for Linux, which should be<br>\nbinary-compatible with Linux. However, perhaps this binary compatibility<br>\nhas a bug in the case of z3.</p>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>*** Solver z3: Solver terminated abnormally with error code 110<br>\n*** At command \"apply\" (line 284 of<br>\n\"~~/src/HOL/Word/Bit_Representation.thy\")<br>\n*** Solver z3: Solver terminated abnormally with error code 110<br>\n*** At command \"by\" (line 12 of \"~~/src/HOL/Word/Misc_Numeric.thy\")</p>\n</blockquote>\n</blockquote>\n<p>I have now experimented with the new Windows Subsystem for Linux (on<br>\nWindows 10 with Ubuntu from the MS app store). It is interesting that<br>\nWindows has now become another platform for Linux. It generally looks<br>\nfine, but there are some restrictions:</p>\n<p>- there is no GUI environment, only a bash command-line<br>\n  - I did not manage to run x86-linux executables, only x86_64-linux<br>\n(this is relevant for poly)</p>\n<p>For z3, I had to install libgomp1, but it still produced error code 110<br>\nas above.</p>\n<p>I have also made a quick experiment with Z3 4.6.0<br>\n<a href=\"https://github.com/Z3Prover/z3/releases\">https://github.com/Z3Prover/z3/releases</a> -- it does not crash, but causes<br>\nother problems, e.g. in ~~/src/HOL/SMT_Examples/SMT_Tests.thy like<br>\n\"Unsupported: trans*\" and many timeouts.</p>\n<p>Makarius<br>\n</p>\n</blockquote>",
        "id": 294731902,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661188374
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThe subsequent problem is still open for Isabelle2018-RC1, i.e. Z3 does<br>\nnot work with the Linux Subsystem for Windows 10. This is particularly<br>\nsad, since HOL-Algebra now requires it, too.</p>\n<p>Note that Larry Paulson and/or Jasmin Blanchette need to say what to do<br>\nabout it for the Isabelle2018 release.</p>\n<p>Makarius</p>",
        "id": 294737703,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190378
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;</p>\n<blockquote>\n<p>On 6 Jul 2018, at 21:40, Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>The subsequent problem is still open for Isabelle2018-RC1, i.e. Z3 does<br>\nnot work with the Linux Subsystem for Windows 10. This is particularly<br>\nsad, since HOL-Algebra now requires it, too.</p>\n<p>Note that Larry Paulson and/or Jasmin Blanchette need to say what to do<br>\nabout it for the Isabelle2018 release.</p>\n</blockquote>\n</blockquote>",
        "id": 294737812,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661190427
    }
]