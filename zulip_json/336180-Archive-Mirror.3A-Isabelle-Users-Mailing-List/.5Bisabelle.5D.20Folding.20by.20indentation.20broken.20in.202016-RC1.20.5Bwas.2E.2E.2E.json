[
    {
        "content": "<p>From: bnord &lt;<a href=\"mailto:bnord01@gmail.com\">bnord01@gmail.com</a>&gt;<br>\nDear Isabelle developers,</p>\n<p>as the Isabelle/jEdit folding feature has no support for folding proofs <br>\nbased on proof structure I used to use indentation based folding in <br>\njEdit. In 2016-RC1 this seems to be broken and I get very wired folding <br>\nthat doesn't correspond to my indentation. I enabled \"fold mode: indent\" <br>\nin the global editing options.</p>\n<p>Example:</p>\n<p>lemma x<br>\nproof<br>\n   have y proof<br>\n     (<em>stuff</em>)<br>\n   qed<br>\n   have z sorry proof<br>\n     (<em>stuff</em>)<br>\n   qed<br>\nqed</p>\n<p>folding at the first proof in line 2 used to yield</p>\n<p>lemma x<br>\nproof [6 lines]<br>\nqed</p>\n<p>with 2016-RC1 it yields</p>\n<p>lemma x<br>\nproof [3 lines]<br>\n   have z sorry proof<br>\n     (<em>stuff</em>)<br>\n   qed<br>\nqed</p>\n<p>and awkwardly moving the proof from line 2 to line 1 and folding there <br>\nfolds the hole proof as expected.</p>\n<p>Best<br>\n    Benedikt</p>",
        "id": 294662392,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661170413
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Wed, 20 Jan 2016, bnord wrote:</p>\n<blockquote>\n<p>as the Isabelle/jEdit folding feature has no support for folding proofs based <br>\non proof structure I used to use indentation based folding in jEdit.</p>\n</blockquote>\n<p>That approach was already obsolete in Isabelle2015, see this old NEWS <br>\nentry:</p>\n<p><strong>* Prover IDE -- Isabelle/Scala/jEdit </strong>*</p>\n<ul>\n<li>Improved folding mode \"isabelle\" based on Isar syntax. Alternatively,<br>\nthe \"sidekick\" mode may be used for document structure.</li>\n</ul>\n<blockquote>\n<p>In 2016-RC1 this seems to be broken and I get very wired folding that <br>\ndoesn't correspond to my indentation. I enabled \"fold mode: indent\" in <br>\nthe global editing options.</p>\n<p>Example:<br>\n[...]</p>\n</blockquote>\n<p>I think there are 3 mistakes here:</p>\n<p>1) Isabelle2016-RC1 has indeed a problem with the fold depth for<br>\n      proof-qed parentheses, which were not counted as blocks in<br>\n      Isabelle2015 at all.  This should work better with the next release<br>\n      candidate.</p>\n<p>2) Your example has one 'sorry' too much for proper nesting of proof<br>\n      structure.  Or is this part of the bad situation?</p>\n<p>3) I guess that in the experiment, the fold mode was actually \"isabelle\"<br>\n      and not \"indent\".</p>\n<p>I don't really know how \"indent\" fold mode works: if there is a change in <br>\nthat respect from Isabelle2015 to Isabelle2016-RC1 it might be an issue of <br>\njedit-5.2.0 vs. jedit-5.3.0.</p>\n<p>Or there might be a problem of jEdit selecting the fold mode that you've <br>\nhad in mind.</p>\n<p>Makarius</p>",
        "id": 294663057,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661170677
    },
    {
        "content": "<p>From: bnord &lt;<a href=\"mailto:bnord01@gmail.com\">bnord01@gmail.com</a>&gt;<br>\nAm 24.01.16 um 20:57 schrieb Makarius:</p>\n<blockquote>\n<p>I don't really know how \"indent\" fold mode works: if there is a change <br>\nin that respect from Isabelle2015 to Isabelle2016-RC1 it might be an <br>\nissue of jedit-5.2.0 vs. jedit-5.3.0.<br>\nIt worked by folding up to the next line with same or less indentation, <br>\nthereby giving the user full control over what needs to be folded away. <br>\nIn particular it allowed one to fold away cases such that even in a <br>\ndeeply nested proof with many cases one could have all assumptions made <br>\nbefore on screen at the same time. I.e. folding from a proof to the <br>\n\"next\" statement.<br>\nThat approach was already obsolete in Isabelle2015, see this old NEWS <br>\nentry:<br>\nI wouldn't call it obsolete if it had useful features that the new <br>\nmethod didn't have.<br>\nI think there are 3 mistakes here:</p>\n<p>1) Isabelle2016-RC1 has indeed a problem with the fold depth for<br>\n     proof-qed parentheses, which were not counted as blocks in<br>\n     Isabelle2015 at all.  This should work better with the next release<br>\n     candidate.<br>\nYes I just tried out the RC2 version, folding from proof to qed works <br>\nnow fine, which is very nice, but  I still can't fold away a case i.e. <br>\nto the \"next\" statement. I could start making case distinctions like <br>\n\"proof cases assume a show ?case proof - ... qed\" but its additional <br>\nboilerplate code.<br>\n  2) Your example has one 'sorry' too much for proper nesting of proof<br>\n     structure.  Or is this part of the bad situation?<br>\nYes sorry, messed that up but it wouldn't have made a difference for <br>\nfolding by indentation.<br>\n  3) I guess that in the experiment, the fold mode was actually <br>\n\"isabelle\"<br>\n     and not \"indent\".<br>\nI double checked the fold mode was set to indent, I also switched it <br>\nback and forth.<br>\nOr there might be a problem of jEdit selecting the fold mode that <br>\nyou've had in mind.<br>\nYes, it seems like the setting is ignored or somehow overwritten to <br>\nisabelle folding. Even if I select \"none\" I still get Isabelle folding.</p>\n</blockquote>\n<p>By the way, after updating to RC2 (I need do mention that I'm working of <br>\nthe isabelle-release repository because I have my bsup/esub display <br>\npatch running on top) the jEdit window wouldn't start up after building <br>\nHOL and I had to kill and restart the process. Afterwards it started <br>\nfine but there was no output panel anywhere, but this might be a side <br>\neffect of my old configuration where it was a floating instance. <br>\n(Running on OS X by the way)</p>\n<p>Best<br>\n   Benedikt</p>",
        "id": 294663230,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661170733
    },
    {
        "content": "<p>From: bnord &lt;<a href=\"mailto:bnord01@gmail.com\">bnord01@gmail.com</a>&gt;<br>\nIgnore this, just downloaded the genuine RC2 from the website, works <br>\nfine there.</p>",
        "id": 294663247,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661170738
    }
]