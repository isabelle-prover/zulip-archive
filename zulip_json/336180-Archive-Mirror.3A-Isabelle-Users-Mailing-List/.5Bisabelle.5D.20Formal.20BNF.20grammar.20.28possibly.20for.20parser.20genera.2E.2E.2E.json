[
    {
        "content": "<p>From: Alex Meyer &lt;<a href=\"mailto:alex153@outlook.lv\">alex153@outlook.lv</a>&gt;<br>\nHello!</p>\n<p>I am trying to ignite my framework (in very early, experimental stage, I still don’t know whether I can succeed) for program synthesis/algorithm synthesis and all of that reduces to the generation of the thy files, like one for the insertion sort algorithm <a href=\"https://www.isa-afp.org/browser_info/current/AFP/Imperative_Insertion_Sort/Imperative_Insertion_Sort.html\">https://www.isa-afp.org/browser_info/current/AFP/Imperative_Insertion_Sort/Imperative_Insertion_Sort.html</a> (from <a href=\"https://www.isa-afp.org/entries/Imperative_Insertion_Sort.html\">https://www.isa-afp.org/entries/Imperative_Insertion_Sort.html</a>). For that to happen I am going to try to read thy files, translate concrete syntax to AST, manipulate, translate from AST to concrete Isabelle syntax and write back thy files. To set up such infrastructure more or less automatically, the BNF files for the HOL/Isar grammar should be available. I am trying to find them, so far I have found:</p>\n<p><a href=\"https://isabelle.in.tum.de/dist/Isabelle2020/doc/logics.pdf\">https://isabelle.in.tum.de/dist/Isabelle2020/doc/logics.pdf</a></p>\n<p>Fig. 2.2. is HOL grammar (inner grammar)</p>\n<p><a href=\"https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf\">https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf</a></p>\n<p>Fig. 2.2 is Isabelle outer grammar, Isar reference contains lot of grammar rules apart from this picture – I wonder – whether they are available as one file.</p>\n<p>Repository <a href=\"https://isabelle-dev.sketis.net/source/isabelle/browse/default/src/HOL/\">https://isabelle-dev.sketis.net/source/isabelle/browse/default/src/HOL/</a> (and others) contain BNF_... files that may hint to Backus-Naur Form, but I have heard that BNF can be abbreviation for something else too in Isabelle context.</p>\n<p>So – maybe there is some set of complete BNF grammar files for thy files, than contain both inner and outer syntax. E.g. there is <a href=\"https://github.com/antlr/grammars-v4/blob/master/fol/fol.g4\">https://github.com/antlr/grammars-v4/blob/master/fol/fol.g4</a> grammar which ANTLR 4 uses for generation of Java parser for FOL (classical syntax), and from that parser I can easily build processors that extracts AST from the parsed FOL text. I would like to gather full grammar for thy files and use it with ANTLR to generate Java parser for thy files. And then I can write AST manipulate code in Java.</p>\n<p>___Is it achievable task, are there similar efforts and are there complete grammars for thy files?___</p>\n<p>I guess that already found grammars (HOL and Isar outers syntax) is sufficient for me to continue my effort, but maybe there are some roadblocks ahead?</p>\n<p>I have heard about Czech efforts to set up neural theorem provers and possibly they use some custom thy parsers and thy AST manipulators as well.</p>\n<p>Thanks, Alex</p>\n<p>[https://ipmcdn.avast.com/images/icons/icon-envelope-tick-green-avg-v1.png]&lt;<a href=\"http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail\">http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail</a>&gt;     Virus-free. www.avg.com&lt;<a href=\"http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail\">http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail</a>&gt;</p>",
        "id": 294830414,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246364
    },
    {
        "content": "<p>From: Simon Wimmer &lt;<a href=\"mailto:wimmersimon@gmail.com\">wimmersimon@gmail.com</a>&gt;<br>\n---------- Forwarded message ---------<br>\nVon: Simon Wimmer &lt;<a href=\"mailto:wimmersimon@gmail.com\">wimmersimon@gmail.com</a>&gt;<br>\nDate: Do., 9. Juli 2020 um 10:04 Uhr<br>\nSubject: Re: [isabelle] Formal BNF grammar (possibly for parser generation,<br>\ne.g. with antlr 4) for Isar/HOL, for thy files?<br>\nTo: Alex Meyer &lt;<a href=\"mailto:alex153@outlook.lv\">alex153@outlook.lv</a>&gt;</p>\n<p>Hi Alex,</p>\n<p>there is no such thing as a BNF for Isabelle's inner or outer syntax.<br>\nTo be able to fully parse theory files, you need to have loaded the full<br>\ncontext information by checking the underlying stack of theories first.<br>\nThis means that theory files can only really be parsed by Isabelle.</p>\n<p>You can get various versions of the \"AST\" by hooking into Isabelle/Scala or<br>\nusing the \"isabelle dump\" tool.<br>\nHowever, it seems to me that you have in mind would work much better as a<br>\nfancy parser for inner syntax.<br>\nYou can find examples of this in these AFP entries:</p>\n<ul>\n<li><a href=\"https://www.isa-afp.org/entries/Isabelle_C.html\">https://www.isa-afp.org/entries/Isabelle_C.html</a></li>\n<li><a href=\"https://www.isa-afp.org/entries/IMP2.htm\">https://www.isa-afp.org/entries/IMP2.htm</a><br>\n&lt;<a href=\"https://www.isa-afp.org/entries/IMP2.html\">https://www.isa-afp.org/entries/IMP2.html</a>&gt;<br>\nBoth of them deal with program verification.</li>\n</ul>\n<p>Simon</p>\n<p>Am Do., 9. Juli 2020 um 09:44 Uhr schrieb Alex Meyer &lt;<a href=\"mailto:alex153@outlook.lv\">alex153@outlook.lv</a>&gt;:</p>\n<blockquote>\n<p>Hello!</p>\n<p>I am trying to ignite my framework (in very early, experimental stage, I<br>\nstill don’t know whether I can succeed) for program synthesis/algorithm<br>\nsynthesis and all of that reduces to the generation of the thy files, like<br>\none for the insertion sort algorithm<br>\n<a href=\"https://www.isa-afp.org/browser_info/current/AFP/Imperative_Insertion_Sort/Imperative_Insertion_Sort.html\">https://www.isa-afp.org/browser_info/current/AFP/Imperative_Insertion_Sort/Imperative_Insertion_Sort.html</a><br>\n(from <a href=\"https://www.isa-afp.org/entries/Imperative_Insertion_Sort.html\">https://www.isa-afp.org/entries/Imperative_Insertion_Sort.html</a>).<br>\nFor that to happen I am going to try to read thy files, translate concrete<br>\nsyntax to AST, manipulate, translate from AST to concrete Isabelle syntax<br>\nand write back thy files. To set up such infrastructure more or less<br>\nautomatically, the BNF files for the HOL/Isar grammar should be available.<br>\nI am trying to find them, so far I have found:</p>\n<p><a href=\"https://isabelle.in.tum.de/dist/Isabelle2020/doc/logics.pdf\">https://isabelle.in.tum.de/dist/Isabelle2020/doc/logics.pdf</a></p>\n<p>Fig. 2.2. is HOL grammar (inner grammar)</p>\n<p><a href=\"https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf\">https://isabelle.in.tum.de/dist/Isabelle2020/doc/isar-ref.pdf</a></p>\n<p>Fig. 2.2 is Isabelle outer grammar, Isar reference<br>\ncontains lot of grammar rules apart from this picture – I wonder – whether<br>\nthey are available as one file.</p>\n<p>Repository<br>\n<a href=\"https://isabelle-dev.sketis.net/source/isabelle/browse/default/src/HOL/\">https://isabelle-dev.sketis.net/source/isabelle/browse/default/src/HOL/</a><br>\n(and others) contain BNF_... files that may hint to Backus-Naur Form, but I<br>\nhave heard that BNF can be abbreviation for something else too in Isabelle<br>\ncontext.</p>\n<p>So – maybe there is some set of complete BNF grammar files for thy files,<br>\nthan contain both inner and outer syntax. E.g. there is<br>\n<a href=\"https://github.com/antlr/grammars-v4/blob/master/fol/fol.g4\">https://github.com/antlr/grammars-v4/blob/master/fol/fol.g4</a> grammar which<br>\nANTLR 4 uses for generation of Java parser for FOL (classical syntax), and<br>\nfrom that parser I can easily build processors that extracts AST from the<br>\nparsed FOL text. I would like to gather full grammar for thy files and use<br>\nit with ANTLR to generate Java parser for thy files. And then I can write<br>\nAST manipulate code in Java.</p>\n<p>___Is it achievable task, are there similar efforts and are there complete<br>\ngrammars for thy files?___</p>\n<p>I guess that already found grammars (HOL and Isar outers syntax) is<br>\nsufficient for me to continue my effort, but maybe there are some<br>\nroadblocks ahead?</p>\n<p>I have heard about Czech efforts to set up neural theorem provers and<br>\npossibly they use some custom thy parsers and thy AST manipulators as well.</p>\n<p>Thanks, Alex</p>\n<p>[https://ipmcdn.avast.com/images/icons/icon-envelope-tick-green-avg-v1.png<br>\n]&lt;<br>\n<a href=\"http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail\">http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail</a>&gt;<br>\n   Virus-free. www.avg.com&lt;<br>\n<a href=\"http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail\">http://www.avg.com/email-signature?utm_medium=email&amp;utm_source=link&amp;utm_campaign=sig-email&amp;utm_content=webmail</a><br>\n&gt;</p>\n</blockquote>",
        "id": 294830425,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246369
    },
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:eberlm@in.tum.de\">eberlm@in.tum.de</a>&gt;<br>\nPeople are also generally discouraged from generating .thy files<br>\ntextually. It is usually a better approach to write an Isabelle command<br>\nthat does what the generated theory file is supposed to do (definitions,<br>\nproofs, etc.) in ML.</p>\n<p>However, generating small snippets (like Sledgehammer does) might be<br>\nokay; maybe that's what you were thinking of.</p>\n<p>Manuel</p>",
        "id": 294830437,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246377
    }
]