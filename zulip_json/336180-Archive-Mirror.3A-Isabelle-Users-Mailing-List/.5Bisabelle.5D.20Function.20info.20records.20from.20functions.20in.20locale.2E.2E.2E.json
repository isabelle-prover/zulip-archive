[
    {
        "content": "<p>From: Manuel Eberl &lt;<a href=\"mailto:eberlm@in.tum.de\">eberlm@in.tum.de</a>&gt;<br>\nHallo,</p>\n<p>given a function definition like this:</p>\n<p>fun f :: \"'a =&gt; 'a\" where \"f x = x\"</p>\n<p>the info record of the function can be obtained with the function constant</p>\n<p>Function.get_info @{context} @{term \"f\"}</p>\n<p>However, now consider the same definition in the context of a locale <br>\nwith a fixed parameter:</p>\n<p>locale foo = fixes a :: 'a<br>\nbegin<br>\nfun f :: \"'a =&gt; 'a\" where \"f x = x\"</p>\n<p>Now \"f\" (or rather \"local.f\") is just an abbreviation for \"foo.f a\", and <br>\none would have to passe \"foo.f a\" into Function.get_info, not, as I <br>\nwould expect, \"foo.f\". This makes it very difficult to obtain the info <br>\nrecord when given a function application like \"f 2\", i.e. \"foo.f a 2\", <br>\nbecause there is no way of knowing how many arguments to strip away from <br>\n\"foo.f a 2\".</p>\n<p>When leaving the context with \"end\", I would have expected it to be <br>\nexported in some way (e.g. by adding the locale assumptions to all the <br>\ntheorems). This does not happen â€“ the function is deleted from the <br>\ncontext completely.</p>\n<p>Is this behaviour known?Is it intentional? Is there some reasonable way <br>\nof changing it to what I described?</p>\n<p>Cheers,</p>\n<p>Manuel</p>",
        "id": 294640119,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661161746
    }
]