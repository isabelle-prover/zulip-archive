[
    {
        "content": "<p>From: Johannes Hoelzl &lt;<a href=\"mailto:hoelzl@in.tum.de\">hoelzl@in.tum.de</a>&gt;<br>\nI want to hide the \"int\", \"nat\" and \"real\" conversion functions when<br>\nIsabelle outputs an term. So that a term like <br>\n\"nat (x * int y - f (int z))\" gets written as \"x * y - f z\" human users<br>\nare usually capable of interfering the correct conversion functions.</p>\n<p>First I tried to just add a translation:</p>\n<blockquote>\n<p>translations<br>\n \"N\" &lt;= \"of_nat N\" (* \"int\" do not work, it is represented as \"of_nat\" internally *)</p>\n</blockquote>\n<blockquote>\n<p>term \"int 1 + 2\"<br>\n(* output: \"2\"  HUH! *)</p>\n</blockquote>\n<p>This breaks the entire output process! Is this a bug in the pretty<br>\nprinter or should I just not add this translation. In OptionalSugar the<br>\nsame is done with the \"set :: 'a list =&gt; 'a set\" conversion function!</p>\n<p>As alternative I'm currently using a notation:</p>\n<blockquote>\n<p>notation (output) int (\"_\" 70)<br>\nterm \"x * int (a + b) + f (int a)\"<br>\n(* output: \"x * (a + b) + f (a)\" *)</p>\n</blockquote>\n<p>This nearly works, but I don't get rid of the parenthesis around the<br>\nfunction parameter. I tried several other precedencies but no one<br>\nworked. There are parenthesis around the function parameter or the<br>\nparenthesis around the addition are missing.</p>\n<p>Has anyone a solution to this problem?</p>\n<p>Regards,<br>\n   Johannes HÃ¶lzl</p>",
        "id": 294071287,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660827261
    }
]