[
    {
        "content": "<p>From: \"Dr. Brendan Patrick Mahony\" &lt;<a href=\"mailto:Brendan.Mahony@dsto.defence.gov.au\">Brendan.Mahony@dsto.defence.gov.au</a>&gt;<br>\nIs this a bug in the locale mechanism?</p>\n<p>theory test = Main:</p>\n<p>locale Double =<br>\n   fixes x :: \"nat\" and y :: \"nat\"<br>\n   assumes double: \"x = 2*y\"</p>\n<p>lemma (in Double) z1:<br>\n   assumes \"z = x\"<br>\n   shows \"z = 2*y\"<br>\n   by (auto ! intro: double)</p>\n<p>print_locale! Double (* z1 appears + un-named copy *)</p>\n<p>lemma (in Double) z2:<br>\n   \"z = x ==&gt; z = 2*y\"<br>\n   by (auto ! intro: double)</p>\n<p>print_locale! Double (* no un-named copy of z2 *)</p>\n<p>lemmas (in Double) z3 = z1 z2</p>\n<p>interpretation i0: Double [\"4\" \"2\"]<br>\n     by (auto simp add: Double_def)</p>\n<p>lemmas (in Double) z1' = z1</p>\n<p>lemmas (in Double) z2' = z2</p>\n<p>lemmas (in Double) z4 = z1 z2</p>\n<p>this last fails with</p>\n<p>*** Match<br>\n*** At command \"lemmas\".</p>\n<hr>\n<p>Dr Brendan Mahony<br>\nInformation Networks Division                   ph +61 8 8259 6046<br>\nDefence Science and Technology Organisation     fx +61 8 8259 5589<br>\nEdinburgh, South Australia      <a href=\"mailto:Brendan.Mahony@dsto.defence.gov.au\">Brendan.Mahony@dsto.defence.gov.au</a></p>\n<p>Important: This document remains the property of the Australian<br>\nGovernment Department of Defence and is subject to the jurisdiction<br>\nof the Crimes Act section 70. If you have received this document in<br>\nerror, you are requested to contact the sender and delete the document.</p>",
        "id": 294043278,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660816233
    },
    {
        "content": "<p>From: Clemens Ballarin &lt;<a href=\"mailto:ballarin@in.tum.de\">ballarin@in.tum.de</a>&gt;<br>\nWhich version of Isabelle are you refering to?  The exception is no <br>\nlonger present in the current repository version.</p>\n<p>Clemens</p>",
        "id": 294043316,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660816250
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Mon, 30 Oct 2006, Dr. Brendan Patrick Mahony wrote:</p>\n<blockquote>\n<p>Is this a bug in the locale mechanism?</p>\n<p>theory test = Main:</p>\n<p>locale Double =<br>\n  fixes x :: \"nat\" and y :: \"nat\"<br>\n  assumes double: \"x = 2*y\"</p>\n<p>interpretation i0: Double [\"4\" \"2\"]<br>\n    by (auto simp add: Double_def)</p>\n<p>lemmas (in Double) z4 = z1 z2</p>\n<p>this last fails with</p>\n<p>*** Match<br>\n*** At command \"lemmas\".</p>\n</blockquote>\n<p>The problem here is that in Isabelle2005 the interpretation command <br>\nchooses to fail for lemma collections where the RHS mentions multiple <br>\nfacts.  Here is a shorter example to reproduce the problem:</p>\n<p>locale foo<br>\n  interpretation foo .<br>\n  lemmas (in foo) foo = refl refl</p>\n<p>We have fixed that in recent development snapshots, although this won't <br>\nhelp you for the actual Isabelle2005 release.</p>\n<blockquote>\n<p>lemma (in Double) z1:<br>\n  assumes \"z = x\"<br>\n  shows \"z = 2*y\"<br>\n  by (auto ! intro: double)</p>\n<p>print_locale! Double (* z1 appears + un-named copy *)</p>\n</blockquote>\n<p>This is merely due to the multiple views on a complex statements, which is <br>\nin general as follows:</p>\n<p>lemma a: fixes ... assumes ... shows b: ...</p>\n<p>This results in separate facts named a, b etc.</p>\n<p>Some further (unrelated) notes:</p>\n<p>* The old theory header ``theory test = Main:'' will no longer work <br>\n    after Isabelle2005.</p>\n<p>* Capitalized names are normally used for theories only; better use <br>\n    plain lower-case for locales.  (Otherwise it is easy to run into <br>\n    unexpected effects with name space accesses.)</p>\n<p>Makarius</p>",
        "id": 294043347,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660816263
    }
]