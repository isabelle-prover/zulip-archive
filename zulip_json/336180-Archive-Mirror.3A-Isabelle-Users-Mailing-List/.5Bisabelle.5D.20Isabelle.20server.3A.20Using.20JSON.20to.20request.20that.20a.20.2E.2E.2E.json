[
    {
        "content": "<p>From: Yakoub Nemouchi &lt;<a href=\"mailto:y.nemouchi@gmail.com\">y.nemouchi@gmail.com</a>&gt;<br>\nDear users(ccing other interested users),</p>\n<p>I am trying to use Isabelle client to talk to Isabelle server. I want to<br>\nsend a JSON request to Isabelle server saying  that a given top-level<br>\ncommand in my theory was edited.</p>\n<p>What is the corresponding JSON request? I imagine, to do such a request, I<br>\nneed the Isabelle server command that somehow takes as argument the ID of<br>\nthe top-level command !</p>\n<p>In the sequel is a successfully tested example  from<br>\n<a href=\"https://sketis.net/2018/the-isabelle-server-responsive-control-of-prover-sessions\">https://sketis.net/2018/the-isabelle-server-responsive-control-of-prover-sessions</a></p>\n<p>Best wishes,</p>\n<p>Yakoub</p>\n<p><strong><em><strong><em><strong><em><strong><em>EXAMPLE</em></strong></em></strong></em></strong></em></strong><strong>*</strong>*<br>\nisabelle client<br>\nserver \"isabelle\" = 127.0.0.1:34329 (password<br>\n\"e64b1abe-1b8a-4c61-b4c5-fbe7eb04b350\")<br>\nOK {\"isabelle_id\":\"91162dd89571\",\"isabelle_version\":\"Isabelle2018: August<br>\n2018\"}<br>\nsession_start {\"session\": \"HOL\"}<br>\nOK {\"task\":\"8b1d25b4-dc1e-420d-b377-72d419fdded0\"}<br>\nNOTE {\"kind\":\"writeln\",\"message\":\"Starting HOL<br>\n...\",\"task\":\"8b1d25b4-dc1e-420d-b377-72d419fdded0\"}<br>\n177<br>\nFINISHED<br>\n{\"session_id\":\"b11041f2-ac33-43c0-94ac-715d6f26fd41\",\"tmp_dir\":\"/tmp/isabelle-yakoubn/server_session1411428207973312821\",\"task\":\"8b1d25b4-dc1e-420d-b377-72d419fdded0\"}<br>\nuse_theories {\"session_id\": \"b11041f2-ac33-43c0-94ac-715d6f26fd41\",<br>\n\"theories\":[\"~~/src/HOL/ex/Seq\"]}<br>\nOK {\"task\":\"70b9abee-bfa2-428c-b8b2-b5b08119be0c\"}<br>\n133<br>\nNOTE<br>\n{\"task\":\"70b9abee-bfa2-428c-b8b2-b5b08119be0c\",\"session\":\"\",\"theory\":\"Draft.Seq\",\"message\":\"theory<br>\nDraft.Seq\",\"kind\":\"writeln\"}<br>\n838<br>\nFINISHED<br>\n{\"ok\":true,\"errors\":[],\"nodes\":[{\"messages\":[{\"kind\":\"writeln\",\"message\":\"Found<br>\ntermination order: \\\"(\\\\&lt;lambda&gt;p. size (fst p)) &lt;<em>mlex</em>&gt;<br>\n{}\\\"\",\"pos\":{\"line\":13,\"offset\":163,\"end_offset\":166,\"file\":\"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy\"}},{\"kind\":\"writeln\",\"message\":\"Found<br>\ntermination order: \\\"size &lt;<em>mlex</em>&gt;<br>\n{}\\\"\",\"pos\":{\"line\":18,\"offset\":276,\"end_offset\":279,\"file\":\"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy\"}}],\"theory_name\":\"Draft.Seq\",\"node_name\":\"/home/yakoubn/Desktop/Work/Practice/Isabelle2018_app/Isabelle2018/src/HOL/ex/Seq.thy\",\"exports\":[],\"status\":{\"unprocessed\":0,\"initialized\":true,\"running\":0,\"finished\":29,\"failed\":0,\"total\":29,\"consolidated\":true,\"ok\":true,\"warned\":0}}],\"task\":\"70b9abee-bfa2-428c-b8b2-b5b08119be0c\"}<br>\nsession_stop {\"session_id\":\"70b9abee-bfa2-428c-b8b2-b5b08119be0c\"}<br>\nOK {\"task\":\"4f792742-0f98-4b94-bc63-c048bc9e3d82\"}<br>\n132<br>\nFAILED {\"kind\":\"error\",\"message\":\"No session<br>\n'70b9abee-bfa2-428c-b8b2-b5b08119be0c'\",\"task\":\"4f792742-0f98-4b94-bc63-c048bc9e3d82\"}<br>\nsession_stop {\"session_id\":\"b11041f2-ac33-43c0-94ac-715d6f26fd41\"}<br>\nOK {\"task\":\"3330a613-28cd-4d17-aa70-d42a15ee0575\"}<br>\nFINISHED<br>\n{\"ok\":true,\"return_code\":0,\"task\":\"3330a613-28cd-4d17-aa70-d42a15ee0575\"}<br>\nshutdown<br>\nOK</p>",
        "id": 294760253,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199211
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nAs explained in the documentation (\"system\" manual chapter 4), the<br>\nIsabelle server takes document content from the file-system, e.g. a<br>\ntemporary directory provided by the session context. PIDE edits are<br>\nderived from that for each use_theories protocol command (section 4.4.8).</p>\n<p>Fine-grained PIDE command IDs are not directly involved here. The server<br>\nprotocol imitates old-style REPL interaction in some sense.</p>\n<p>Makarius</p>",
        "id": 294760584,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199357
    },
    {
        "content": "<p>From: Yakoub Nemouchi &lt;<a href=\"mailto:y.nemouchi@gmail.com\">y.nemouchi@gmail.com</a>&gt;<br>\nI thought that Isabelle server is the future for developing Isabelle apps<br>\nin a very clean way.<br>\nBut, if it does not support all the features of PIDE protocol, it does not<br>\nmake sens to me to use it now!<br>\nMaybe it is too early to start using it.<br>\nAny further development in the future for Isabelle server or it is meant<br>\nfor something else?</p>\n<p>I have one more question, will the usage of the non fine grained command<br>\n\"use_theories\" affect the the performance of the application?<br>\nHow scalable it is with regard the fine grained PIDE commands?<br>\nThe amazing feature of Isabelle is its parallel infrastructure and fine<br>\ngrained PIDE protocol commands allows to take full advantage of that.<br>\nWhat is the best way to use \"use_theories\"  to take advantage of the<br>\nparallel infrastructure of Isabelle?</p>\n<p>It is very important to me to have some numbers on \"use_theories\", and know<br>\nits limitations, in order I take the right decision to develop my next<br>\napplication.</p>\n<p>Best wishes,</p>\n<p>Yakoub.</p>",
        "id": 294760628,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199364
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 15/07/2019 11:52, Yakoub Nemouchi wrote:</p>\n<blockquote>\n<p>I thought that Isabelle server is the future for developing Isabelle<br>\napps in a very clean way.<br>\nBut, if it does not support all the features of PIDE protocol, it does<br>\nnot make sens to me to use it now!<br>\nMaybe it is too early to start using it.<br>\nAny further development in the future for Isabelle server or it is meant<br>\nfor something else?</p>\n</blockquote>\n<p>Have you studied the documentation (\"system\" manual chapter 4)?</p>\n<p>The server does support full PIDE, but presents it in a more<br>\nconventional way, with a directory of your choice as local scratchpad.<br>\nThe main PIDE application (Isabelle/jEdit) does that on its own account,<br>\nusing the builtin file-system view of the jEdit text editor (which is by<br>\nitself not an IDE).</p>\n<blockquote>\n<p>I have one more question, will the usage of the non fine grained command<br>\n\"use_theories\" affect the the performance of the application?</p>\n</blockquote>\n<p>It depends how you do it. You can present the server updated files and<br>\nrepeated use_theories protocol commands. The headless PIDE session<br>\nshould do the right thing about it, i.e. derive edits from the implicit<br>\nchange of files and re-check what needs to be re-checked, in the same<br>\nmanner.</p>\n<p>Makarius</p>",
        "id": 294760645,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661199370
    }
]