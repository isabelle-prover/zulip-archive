[
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@informatik.tu-muenchen.de\">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>\nIt is maybe too late to do any work on the following issue which I have<br>\nstumbled over today.</p>\n<p>In Product_Type.thy there is some syntax fiddling to print binders over<br>\nproduct values conveniently, as in the following statements:</p>\n<p>lemma \"∀(a, b) ∈ A. P b a\"<br>\n  apply simp -- {* and this is what we get *}<br>\n  oops</p>\n<p>lemma Collect_Pair_syntax:<br>\n  \"{(x, y). P x y} = {p. (case p of (x, y) ⇒ P x y)}\"<br>\n    -- {* and this is what we get for Collect *}<br>\n  oops</p>\n<p>This works only if those expressions are proper eta-contracted.  For<br>\nthis sake there are print translations in Product_Type.thy.  Alas, as<br>\nthe examples above demonstrate, they seem to be inoperative.  A<br>\nsuperficial analysis is presented in the attached theory: the print<br>\ntranslations try to match against @{const_syntax case_prod}, but this<br>\nnever occurs in the terms to be translated!</p>\n<p>I did not attempt to do a bisection so far.</p>\n<p>Maybe something got broken during refinements of the case pattern<br>\nsyntax.  Any suspicions?</p>\n<p>Cheers,<br>\n    Florian<br>\n<a href=\"/user_uploads/14278/ZBqAp10ebQ7VrKtjtEnFt2MO/Patterns.thy\">Patterns.thy</a><br>\n<a href=\"/user_uploads/14278/l_vii9-MwUrauSJwh-veIT9G/signature.asc\">signature.asc</a></p>",
        "id": 294290412,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660923257
    },
    {
        "content": "<p>From: Dmitriy Traytel &lt;<a href=\"mailto:traytel@in.tum.de\">traytel@in.tum.de</a>&gt;<br>\nHi Florian,</p>\n<p>indeed the observed behaviour is due to the changes from early 2013 in <br>\nhow the case syntax is handled. This is also related to the discussion <br>\non isabelle-dev [1], where the consensus seemed to be that the <br>\nsimplified behaviour of the pretty printer is desirable (such that I <br>\ndidn't attempt to integrate the print translations from Product_Type).</p>\n<p>So one should either drop the inoperative translation altogether or <br>\ntransform it into a proper syntax uncheck phase (where one operates on <br>\nthe real constant case_prod, not its syntactic representation). Any <br>\nopinion (different from the one in [1])?</p>\n<p>Dmitriy</p>\n<p>[1] <br>\n<a href=\"https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2013-April/004091.html\">https://mailmanbroy.informatik.tu-muenchen.de/pipermail/isabelle-dev/2013-April/004091.html</a></p>",
        "id": 294290492,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660923281
    }
]