[
    {
        "content": "<p>From: \"C. Diekmann\" &lt;<a href=\"mailto:diekmann@in.tum.de\">diekmann@in.tum.de</a>&gt;<br>\nHi,</p>\n<p>I discovered an error reporting behavior of isabelle that might be misleading.</p>\n<p>Assume I have a file bar.thy.</p>\n<p>The file contains<br>\ntheory foo<br>\nimports<br>\n  Main<br>\nbegin</p>\n<p>end</p>\n<p>In the output field, I get the expected error message:<br>\n  Bad theory name \"foo\" for file \"bar.thy\"</p>\n<p>However, if I change the file to the following, the error reporting<br>\ngets misleading:</p>\n<p>theory foo<br>\nimports<br>\n  Main<br>\nbegin<br>\n  baz<br>\nend</p>\n<p>Now jEdit presents a red exclamation mark right next to \"baz\" and the error is:<br>\n Outer syntax error⌂: command expected,<br>\n  but identifier baz⌂ was found<br>\nThe error about the bad theory name is no longer reported.</p>\n<p>Expected behavior: The first error is the wrong theory name and should<br>\nbe reported first.</p>\n<p>Circumstances how I triggered this:<br>\nI triggered this behavior when I copy-pasted a theory. The theory had<br>\nmany other theories imported. One of them defined the command \"baz\".<br>\nBecause of the bad theory name, jEdit did not load the theory which<br>\ndefined \"baz\". But jEdit displayed an error at baz. It took a few<br>\nminutes of debugging the call to baz to figure out that the error was<br>\nsomewhere else.</p>\n<p>Best Regards<br>\n  Cornelius</p>",
        "id": 294665521,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661171617
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Mon, 1 Feb 2016, C. Diekmann wrote:</p>\n<blockquote>\n<p>Expected behavior: The first error is the wrong theory name and should <br>\nbe reported first.</p>\n</blockquote>\n<p>The system disagrees with the user about what is the first error.  This <br>\neffect occasionally happens with malformed input.  It is particularly <br>\ncritical for the theory header, but I can imagine many other improvements <br>\nhere:</p>\n<p>* automatically create a well-formed header (template) for new files</p>\n<p>* provide hyperlinks to theory imports</p>\n<p>* remind the user of hard and fast naming conventions for theory names<br>\n     (capitalized words, usually in singular, separated by underscore)</p>\n<blockquote>\n<p>I triggered this behavior when I copy-pasted a theory. The theory had <br>\nmany other theories imported. One of them defined the command \"baz\". <br>\nBecause of the bad theory name, jEdit did not load the theory which <br>\ndefined \"baz\". But jEdit displayed an error at baz. It took a few <br>\nminutes of debugging the call to baz to figure out that the error was <br>\nsomewhere else.</p>\n</blockquote>\n<p>Variations on that confusion can happen.  In the past, the system would <br>\npretend that all commands are always defined.  Now it requires proper <br>\ntheory imports to have commands in the theory body.</p>\n<p>None of this is a regression wrt. Isabelle2015.  So these observation are <br>\nstacked on the pile of possible improvements for future releases.</p>\n<p>Makarius</p>",
        "id": 294668022,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661172451
    }
]