[
    {
        "content": "<p>From: Clemens Ballarin &lt;<a href=\"mailto:ballarin@in.tum.de\">ballarin@in.tum.de</a>&gt;<br>\nDear David,</p>\n<p>the type variables in the error message are fixed ('a, not ?'a) and  <br>\nhence do not unify.</p>\n<p>The reason is that in the context of a locale, the parameters  <br>\n(including type parameters) are considered given and hence cannot be  <br>\ninstantiated.</p>\n<p>Unfortunately, locales and local theories are notorious in renaming  <br>\ntype variables, so the type names you write are not the type names  <br>\nyou will get.  It's best to look at Isabelle's output at the  <br>\n\"begin\" (after the locale declaration).  For hhs, this is:</p>\n<p>theory Ex<br>\nlocale hhs =<br>\n   fixes Adt :: \"int =&gt; ('c * 'c) set\"<br>\n     and sem :: \"int =&gt; (int =&gt; ('c * 'c) set) =&gt; ('c * 'c) set\"<br>\n     and sem_prod :: \"('c * 'c) set =&gt; ('c * 'c) set =&gt; ('c * 'c) set\"<br>\n     and Adt' :: \"int =&gt; ('d * 'd) set\"<br>\n     and sem' :: \"int =&gt; (int =&gt; ('d * 'd) set) =&gt; ('d * 'd) set\"<br>\n     and sem_prod' :: \"('d * 'd) set =&gt; ('d * 'd) set =&gt; ('d * 'd) set\"<br>\n     and \\&lt;psi&gt; :: \"'a =&gt; 'b\"<br>\n   assumes \"!!i a. \\&lt;lbrakk&gt;i\\&lt;rbrakk&gt; a == a i\"<br>\n     and \"!!i a. \\&lt;lbrakk&gt;i\\&lt;rbrakk&gt;r a == a i\"<br>\n     and \"hhs op \\&lt;otimes&gt; op \\&lt;otimes&gt;r\"</p>\n<p>This should give you the right types.  It also shows that the type of  <br>\n\\&lt;psi&gt; is unrelated to the types of the other parameter, which is  <br>\nprobably not what you intended.</p>\n<p>Clemens</p>",
        "id": 294055576,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660821439
    }
]