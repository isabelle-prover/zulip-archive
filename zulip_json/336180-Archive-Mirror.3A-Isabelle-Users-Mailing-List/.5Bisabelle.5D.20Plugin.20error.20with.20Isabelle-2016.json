[
    {
        "content": "<p>From: \"Eugene W. Stark\" &lt;<a href=\"mailto:isabelle-users@starkeffect.com\">isabelle-users@starkeffect.com</a>&gt;<br>\nI experience this type of failure on the next start up after having<br>\nterminated Isabelle abnormally (e.g. by killing the process).  When the<br>\nfailure occurs, exiting JEdit and restarting Isabelle results in a normal<br>\nstartup.  There is evidently some state information that is used on startup<br>\nthat is not left in the proper condition on an abnormal shutdown.<br>\n(I use Isabelle on Ubuntu 14.04LTS using the default Unity window manager.)</p>\n<p>Could it be that the failures you are seeing are the result of abnormal<br>\nshutdowns of the immediately preceding sessions?</p>\n<p>- Gene Stark</p>",
        "id": 294678013,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661175647
    },
    {
        "content": "<p>From: Hans-Jörg Schurr &lt;<a href=\"mailto:lists@schurr.at\">lists@schurr.at</a>&gt;<br>\nHello everyone,</p>\n<p>I have encountered this error too. In my case it appears reproducible <br>\nwhen Isabelle is not shut down normally. E.g. when the machine crashed <br>\nor the editor window is killed via xkill. After a restart Isabelle works <br>\nnormally.</p>\n<p>Hope this helps,<br>\n  Hans-Jörg</p>",
        "id": 294678032,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661175656
    },
    {
        "content": "<p>From: Dominic Mulligan via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi Eugene, Hans-Joerg,</p>\n<blockquote>\n<p>Could it be that the failures you are seeing are the result of abnormal<br>\nshutdowns of the immediately preceding sessions?</p>\n</blockquote>\n<p>It may very well be, though I admit I haven't been paying enough<br>\nattention to confirm one way or the other!  Hans-Joerg's e-mail seems<br>\nto suggest that this is a likely cause, however.</p>\n<p>Thanks,<br>\nDominic</p>",
        "id": 294678059,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661175667
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nStudying all mails on this thread again, I am unsure if the problems are<br>\nnecessarily related.</p>\n<p>The general situation is that Isabelle application startup needs to load<br>\nand warm-up many jars. If anything goes wrong, e.g. due to network<br>\nfile-system errors, bad things might happen.</p>\n<p>I am not really an expert on the JVM, even after almost 10 years of<br>\nusing it routinely. jEdit has its own tricks for class loading, but this<br>\nis only for the topmost plugin container, not the underlying Scala<br>\nlibraries -- these are loaded before jedit.jar itself.</p>\n<p>To rule out accidental problems with a particular JVM version, I've made<br>\nthe following alternative application bundles of Isabelle2016 with old<br>\nbut stable jdk-7u80 and newly updated jdk-8u102:</p>\n<p><a href=\"http://www4.in.tum.de/~wenzelm/test/Isabelle2016_jdk-7u80\">http://www4.in.tum.de/~wenzelm/test/Isabelle2016_jdk-7u80</a><br>\n<a href=\"http://www4.in.tum.de/~wenzelm/test/Isabelle2016_jdk-8u102\">http://www4.in.tum.de/~wenzelm/test/Isabelle2016_jdk-8u102</a></p>\n<p>After the summer, we will be heading again towards the next Isabelle<br>\nrelease (before the end of the year).</p>\n<p>It would be nice if known JVM instabilities are clearly isolated and<br>\neliminated until then.</p>\n<p>Makarius</p>",
        "id": 294678252,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661175732
    },
    {
        "content": "<p>From: \"Eugene W. Stark\" &lt;<a href=\"mailto:isabelle-users@starkeffect.com\">isabelle-users@starkeffect.com</a>&gt;<br>\nWhat I am easily and reliably able to reproduce is as follows:</p>\n<p>% /opt/Isabelle2016/Isabelle2016 &amp;<br>\n(wait for Isabelle to start)<br>\n% kill -KILL 29909   # or whatever the PID is of the Java process<br>\n[1]  + Killed                        /opt/Isabelle2016/Isabelle2016<br>\n% /opt/Isabelle2016/Isabelle2016&amp;<br>\n[1] 9015<br>\n% 7:40:39 AM [main] [error] PluginJAR: Error while starting plugin isabelle.jedit.Plugin<br>\n7:40:39 AM [main] [error] PluginJAR: java.lang.NoClassDefFoundError: scala/Function0<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.Class.getDeclaredConstructors0(Native Method)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.Class.getConstructor0(Class.java:3075)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.Class.newInstance(Class.java:412)<br>\n7:40:39 AM [main] [error] PluginJAR:  at org.gjt.sp.jedit.PluginJAR.activatePlugin(PluginJAR.java:933)<br>\n7:40:39 AM [main] [error] PluginJAR:  at org.gjt.sp.jedit.PluginJAR.activatePluginIfNecessary(PluginJAR.java:1021)<br>\n7:40:39 AM [main] [error] PluginJAR:  at org.gjt.sp.jedit.jEdit.main(jEdit.java:549)<br>\n7:40:39 AM [main] [error] PluginJAR: Caused by: java.lang.ClassNotFoundException: scala.Function0<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)<br>\n7:40:39 AM [main] [error] PluginJAR:  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)<br>\n7:40:39 AM [main] [error] PluginJAR:  at org.gjt.sp.jedit.JARClassLoader.loadFromParent(JARClassLoader.java:518)<br>\n7:40:39 AM [main] [error] PluginJAR:  at org.gjt.sp.jedit.JARClassLoader.loadClass(JARClassLoader.java:87)<br>\n7:40:39 AM [main] [error] PluginJAR:  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)<br>\n7:40:39 AM [main] [error] PluginJAR:  ... 7 more<br>\n7:40:39 AM [main] [error] ErrorListDialog$ErrorEntry: /opt/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\n7:40:39 AM [main] [error] ErrorListDialog$ErrorEntry: Cannot start: java.lang.NoClassDefFoundError: scala/Function0<br>\n7:40:39 AM [main] [error] ErrorListDialog$ErrorEntry: Try updating to a newer version of the plugin.<br>\n7:40:39 AM [main] [error] View: No docking framework PIDE available, using the original one<br>\n7:40:43 AM [AWT-EventQueue-0] [error] DockableWindowManagerImpl: Unknown dockable window: isabelle-output<br>\n7:40:43 AM [AWT-EventQueue-0] [error] DockableWindowManagerImpl: Unknown dockable window: isabelle-theories</p>\n<p>JEdit displays a \"Plugin Error\" pop-up that says:</p>\n<p>/opt/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\nCannot start: java.lang.NoClassDefFoundError: scala/Function0<br>\nTry updating to a newer version of the plugin.</p>\n<p>(Click on OK)<br>\n(Exit JEdit using the menu)</p>\n<p>[1]    Done                          /opt/Isabelle2016/Isabelle2016<br>\n% /opt/Isabelle2016/Isabelle2016&amp;</p>\n<p>(Isabelle starts normally)</p>\n<p>This is on Ubuntu 14.04LTS using Unity.</p>\n<p>- Gene Stark</p>",
        "id": 294678265,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661175738
    },
    {
        "content": "<p>From: Dominic Mulligan via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi,</p>\n<p>Intermittently when starting Isabelle 2016 there is some failure<br>\nstarting isabelle.jedit.Plugin.  I get a popup containing the<br>\nfollowing information:</p>\n<p>/auto/homes/dpm36/LocalInstalls/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\nCannot start: java.lang.NoClassDefFoundError: scala/Function0<br>\nTry updating to a newer version of the plugin.</p>\n<p>and printed to the terminal window is the following:</p>\n<p>dpm36@pratello:~/Work/Cambridge/github/profuse-formalisation/src$<br>\n08:16:00 [main] [error] PluginJAR: Error while starting plugin<br>\nisabelle.jedit.Plugin<br>\n08:16:00 [main] [error] PluginJAR: java.lang.NoClassDefFoundError:<br>\nscala/Function0<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.Class.getDeclaredConstructors0(Native Method)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.Class.privateGetDeclaredConstructors(Class.java:2671)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.Class.getConstructor0(Class.java:3075)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.Class.newInstance(Class.java:412)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\norg.gjt.sp.jedit.PluginJAR.activatePlugin(PluginJAR.java:933)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\norg.gjt.sp.jedit.PluginJAR.activatePluginIfNecessary(PluginJAR.java:1021)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\norg.gjt.sp.jedit.jEdit.main(jEdit.java:549)<br>\n08:16:00 [main] [error] PluginJAR: Caused by:<br>\njava.lang.ClassNotFoundException: scala.Function0<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.net.URLClassLoader.findClass(URLClassLoader.java:381)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.ClassLoader.loadClass(ClassLoader.java:424)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\nsun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.ClassLoader.loadClass(ClassLoader.java:357)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\norg.gjt.sp.jedit.JARClassLoader.loadFromParent(JARClassLoader.java:518)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\norg.gjt.sp.jedit.JARClassLoader.loadClass(JARClassLoader.java:87)<br>\n08:16:00 [main] [error] PluginJAR:  at<br>\njava.lang.ClassLoader.loadClass(ClassLoader.java:357)<br>\n08:16:00 [main] [error] PluginJAR:  ... 7 more<br>\n08:16:00 [main] [error] ErrorListDialog$ErrorEntry:<br>\n/auto/homes/dpm36/LocalInstalls/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\n08:16:00 [main] [error] ErrorListDialog$ErrorEntry: Cannot start:<br>\njava.lang.NoClassDefFoundError: scala/Function0<br>\n08:16:00 [main] [error] ErrorListDialog$ErrorEntry: Try updating to a<br>\nnewer version of the plugin.<br>\n08:16:00 [main] [error] View: No docking framework PIDE available,<br>\nusing the original one<br>\n08:16:01 [AWT-EventQueue-0] [error] DockableWindowManagerImpl: Unknown<br>\ndockable window: isabelle-output<br>\n08:16:01 [AWT-EventQueue-0] [error] DockableWindowManagerImpl: Unknown<br>\ndockable window: isabelle-theories</p>\n<p>Strangely, after quitting and restarting Isabelle/jEdit after seeing<br>\nthis error, all mathematical symbols in the file I was originally<br>\ntrying to open when the error occurred are no longer rendered.<br>\nFurther, there seems to be no way to get any symbols back in a file<br>\nwithout copying and pasting the original contents into a completely<br>\nnew file (i.e. when typing \\rightharpoonup, the usual symbol popup box<br>\nappears, but there are no symbols contained within the box rather only<br>\ntheir textual codes, and selecting \\rightharpoonup from the popup<br>\nsimply places the text \\rightharpoonup into my theory file, not a<br>\nharpoon symbol).</p>\n<p>What is happening to an Isabelle .thy file when the failure above<br>\noccurs to cause symbols to stop rendering, and how do I fix a file to<br>\nget all my symbols back without needing to keep copying-and-pasting<br>\ntext into fresh files?</p>\n<p>Thanks for any help,<br>\nDominic</p>",
        "id": 294679744,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176290
    },
    {
        "content": "<p>From: Lars Hupel &lt;<a href=\"mailto:hupel@in.tum.de\">hupel@in.tum.de</a>&gt;<br>\nHi Dominic,</p>\n<p>while I don't know the exact cause of the symptoms you're describing, it<br>\nsounds like you have a bad Isabelle installation.</p>\n<blockquote>\n<p>/auto/homes/dpm36/LocalInstalls/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\nCannot start: java.lang.NoClassDefFoundError: scala/Function0<br>\nTry updating to a newer version of the plugin.</p>\n</blockquote>\n<p>This is the absence of a definition from the Scala library. This could<br>\neither mean that the JAR file is corrupted or missing. By chance, are<br>\nyou running this from an NFS?</p>\n<blockquote>\n<p>What is happening to an Isabelle .thy file when the failure above<br>\noccurs to cause symbols to stop rendering, and how do I fix a file to<br>\nget all my symbols back without needing to keep copying-and-pasting<br>\ntext into fresh files?</p>\n</blockquote>\n<p>This usually happens when one copy-pastes something from outside into<br>\nIsabelle/jEdit. For me it works after pressing F5 to reload the file.<br>\nBut the absence of rendering definitely should not happen when you load<br>\na file into the editor.</p>\n<p>Cheers<br>\nLars</p>",
        "id": 294679761,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176297
    },
    {
        "content": "<p>From: Dominic Mulligan via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi Lars,</p>\n<p>Thanks for the reply.  I'm running Isabelle on my university machine,<br>\nwhich I believe means that I'm running Isabelle over an NFS, yes.</p>\n<p>Thanks,<br>\nDominic</p>",
        "id": 294679776,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176304
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 25/07/16 09:35, Dominic Mulligan via Cl-isabelle-users wrote:</p>\n<blockquote>\n<p>Intermittently when starting Isabelle 2016 there is some failure<br>\nstarting isabelle.jedit.Plugin.  I get a popup containing the<br>\nfollowing information:</p>\n<p>/auto/homes/dpm36/LocalInstalls/Isabelle2016/src/Tools/jEdit/dist/jars/Isabelle-jEdit.jar:<br>\nCannot start: java.lang.NoClassDefFoundError: scala/Function0<br>\nTry updating to a newer version of the plugin.</p>\n</blockquote>\n<p>Does \"intermittently\" mean that the failure happens every time you start<br>\nIsabelle/jEdit, or only sometimes?</p>\n<p>Technically, it means that the JVM cannot access certain jars, notably<br>\nthe ones of Scala itself. Without that, Isabelle does not work at all.</p>\n<blockquote>\n<p>Strangely, after quitting and restarting Isabelle/jEdit after seeing<br>\nthis error, all mathematical symbols in the file I was originally<br>\ntrying to open when the error occurred are no longer rendered.</p>\n</blockquote>\n<p>You need to make sure that files are loaded with the encoding<br>\nUTF-8-Isabelle (see the menu File / Reload with Encoding).</p>\n<p>This encoding is provided by the Isabelle plugin of jEdit, so without<br>\nthe plugin editor falls back on something else and makes that persistent<br>\nfor next time.</p>\n<p>Makarius</p>",
        "id": 294679813,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176319
    },
    {
        "content": "<p>From: Dominic Mulligan via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi Makarius,</p>\n<blockquote>\n<p>Does \"intermittently\" mean that the failure happens every time you start<br>\nIsabelle/jEdit, or only sometimes?</p>\n</blockquote>\n<p>I'd estimate one in every twenty Isabelle starts suffers from this<br>\nproblem on my machine.  So, not every time I start Isabelle, but often<br>\nenough for it to start becoming a pain.  Further, I have also<br>\nwitnessed this same problem on another machine, when Isabelle was<br>\nstarted inside a Docker container.</p>\n<blockquote>\n<p>You need to make sure that files are loaded with the encoding<br>\nUTF-8-Isabelle (see the menu File / Reload with Encoding).</p>\n<p>This encoding is provided by the Isabelle plugin of jEdit, so without<br>\nthe plugin editor falls back on something else and makes that persistent<br>\nfor next time.</p>\n</blockquote>\n<p>Thanks, this fixed the problem with my file not having symbols replaced.</p>\n<p>Thanks,<br>\nDominic</p>",
        "id": 294679899,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176331
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThanks. This is sufficient to reproduce the problem, which is actually<br>\nrather profane and without esoteric effects of JVM startup or warmup.</p>\n<p>The problem is some invalid application state that remains after killing<br>\nthe JVM. The next startup tries to connect to an already running<br>\napplications, but it does not work.</p>\n<p>The situation can be improved by replacing Isabelle2016/Isabelle2016.run<br>\nwith the included version. Note that the file needs to be executable.</p>\n<p>This is only relevant to Linux: the Windows and Mac OS X applications<br>\nare different.</p>\n<p>Makarius<br>\n<a href=\"/user_uploads/14278/Prqr1FGSIwtp8PxE3n6N3gv9/Isabelle2016.run\">Isabelle2016.run</a></p>",
        "id": 294681450,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661176855
    }
]