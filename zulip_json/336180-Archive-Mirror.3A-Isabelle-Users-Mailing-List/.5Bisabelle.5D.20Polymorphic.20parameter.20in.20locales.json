[
    {
        "content": "<p>From: Ewaryst Schulz &lt;<a href=\"mailto:ewaryst.schulz@dfki.de\">ewaryst.schulz@dfki.de</a>&gt;<br>\nHi,<br>\nis it possible in Isabelle 2009 to define local theories which can <br>\nhandle polymorphic function-parameters whose type-variables aren't fixed <br>\nin the body of the local theory?<br>\nAs what I understood reading the paper local theory specifications in <br>\nIsabelle/Isar it is not possible to do that, because Isabelle doesn't <br>\nsupport type quantification.<br>\nBut perhaps there is another way to solve my problem, I don't know. All <br>\nwhat I want is to be able to outsource some part of my theory which will <br>\nbe reused in many other theories (it's just a modularization/reuse issue).</p>\n<p>Consider the following theory:</p>\n<hr>\n<p>theory T</p>\n<p>...</p>\n<p>consts<br>\nmy_subt :: \"'a =&gt; 'b =&gt; bool\"</p>\n<p>... other consts ...</p>\n<p>axioms<br>\ntype_transitive:<br>\n\"ALL (x :: 'a).<br>\n ALL (y :: 'b).<br>\n ALL (z :: 'c). (my_subt x y) &amp; (my_subt y z) --&gt; (my_subt x z)\"</p>\n<p>... other axioms ...</p>\n<p>lemma my_type_lemma1: \"... my_subt x y ...\"<br>\n...<br>\nlemma my_type_lemmaN: \"...\"</p>\n<p>... other lemmas ...</p>\n<hr>\n<p>I would like to move the type lemmas into a locale and interpret the <br>\nlocale in theory T with the my_subt const:</p>\n<hr>\n<p>theory L</p>\n<p>locale subtype =<br>\n  fixes<br>\n  subt :: \"'a =&gt; 'b =&gt; bool\"</p>\n<p>assumes</p>\n<p>trans :<br>\n  \"ALL (x :: 'a) (y :: 'b) (z :: 'c). subt x y &amp; subt y z --&gt; subt x z\"<br>\nbegin</p>\n<p>lemma type_lemma1: \"... subt x y ...\"<br>\n...<br>\nlemma type_lemmaN: \"...\"</p>\n<p>...</p>\n<hr>\n<p>theory T<br>\nimports L ...</p>\n<p>...</p>\n<p>consts<br>\nmy_subt :: \"'a =&gt; 'b =&gt; bool\"</p>\n<p>... other consts ...</p>\n<p>axioms<br>\ntype_transitive:<br>\n\"ALL (x :: 'a).<br>\n ALL (y :: 'b).<br>\n ALL (z :: 'c). (my_subt x y) &amp; (my_subt y z) --&gt; (my_subt x z)\"</p>\n<p>... other axioms ...</p>\n<ul>\n<li>\n<p>interpretation of locale subtype by my_subt</p>\n</li>\n<li>\n<p>now I want type_lemma1 until type_lemmaN to be accessible for subt <br>\nsubstituted by my_subt</p>\n</li>\n</ul>\n<p>... other lemmas ...</p>\n<hr>\n<p>The main problem is that in the locale subtype the signature of the <br>\nparameter subt is fixed, i.e., I get an typing error in<br>\nthe assumption trans, because subt is used there with the 3 type-signatures:<br>\nsubt :: \"'a =&gt; 'b =&gt; bool\"<br>\nsubt :: \"'b =&gt; 'c =&gt; bool\"<br>\nsubt :: \"'a =&gt; 'c =&gt; bool\"</p>\n<p>Isabelle tries to match 'a with 'b and 'b with 'c and gets a clash.</p>\n<p>Any suggestions or workarounds?<br>\nI have in addition the constraint that I can't remove the const <br>\ndeclaration of my_subt and its axioms from theory T because it's <br>\nauto-generated in my scenario. Otherwise I wouldn't have to use an <br>\ninterpretation, but just the usual import mechanism.</p>\n<p>Thank you in advance,</p>\n<p>cheers,</p>\n<p>Ewaryst</p>",
        "id": 294084208,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660831643
    },
    {
        "content": "<p>From: Florian Haftmann &lt;<a href=\"mailto:florian.haftmann@informatik.tu-muenchen.de\">florian.haftmann@informatik.tu-muenchen.de</a>&gt;<br>\nHi Ewaryst,</p>\n<p>perhaps theory interpretation is something suitable for your problem;<br>\nsee <a href=\"http://www.informatik.uni-bremen.de/~cxl/awe/\">http://www.informatik.uni-bremen.de/~cxl/awe/</a>.</p>\n<p>Hope this helps<br>\n    Florian<br>\n<a href=\"/user_uploads/14278/tO-sloEeg3vqNIpPmEgXH3os/signature.asc\">signature.asc</a></p>",
        "id": 294091686,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660832075
    }
]