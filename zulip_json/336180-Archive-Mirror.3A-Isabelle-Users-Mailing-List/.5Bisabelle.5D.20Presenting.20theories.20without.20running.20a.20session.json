[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThere is a misunderstanding here.  There is no option for help or usage, <br>\nbut you get the latter whenever the command line is syntactically <br>\nmalformed.  Passing \"-?\" provokes such a syntax error, so you get the <br>\nusage of the command line as advertized.  This was part of my minimalistic <br>\ndesign when I did this many years ago.</p>\n<p>You can understand it as an instance of the original Unix attitude to <br>\navoid extra features if the same can be achieved as a consequence of <br>\nexisting functionality.  Or as an instance of the principle in logic that <br>\nredundant axioms are avoided in favour of lemmas.</p>\n<p>Anyway, I have now tried it myself with zsh (from Mac Ports).  The shell <br>\nclearly reports:</p>\n<p>zsh: no matches found: -?</p>\n<p>The reading of this message should be obvious to seasoned users of the <br>\nshell.  And it also works directly when I pass \"-?\" for tool specific <br>\nhelp, with the literal quotes.</p>\n<p>Makarius</p>",
        "id": 294129050,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842176
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nOn Tue, Feb 15, 2011 at 11:52 AM, Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>On Mon, 14 Feb 2011, Robert Lamar wrote:</p>\n<blockquote>\n<blockquote>\n<p>But you did get the usage, right?  The error is a known feature,<br>\nbecause \"?\" is not an option.</p>\n</blockquote>\n<p>With all due respect, if 'isabelle' (without any arguments) tells me<br>\nthat I should add '-?' to a command to find out more, I should not get<br>\nan error message when I follow the instructions.  If usage info is a<br>\nfeature, the command-line option should exist.  Otherwise it is<br>\nconfusing, as a user.</p>\n</blockquote>\n<p>There is a misunderstanding here.  There is no option for help or usage,<br>\nbut you get the latter whenever the command line is syntactically<br>\nmalformed.  Passing \"-?\" provokes such a syntax error, so you get the<br>\nusage of the command line as advertized.  This was part of my minimalistic<br>\ndesign when I did this many years ago.</p>\n<p>You can understand it as an instance of the original Unix attitude to<br>\navoid extra features if the same can be achieved as a consequence of<br>\nexisting functionality.  Or as an instance of the principle in logic that<br>\nredundant axioms are avoided in favour of lemmas.</p>\n</blockquote>\n<p>Yes, I clearly misunderstood.  When I ran 'isabelle' with no<br>\narguments, it told me,</p>\n<p>Start Isabelle tool NAME with ARGS; pass \"-?\" for tool specific help.</p>\n<p>And I assumed that \"-?\" had a special status, where it is simply one<br>\nof many strings which will cause the command line arguments to be<br>\nmalformed.  My mistake.</p>\n<p>I perceived that there was some inconsistency in the documentation,<br>\nand was mentioning these things in a helpful effort to provide a bug<br>\nreport.  But I can see that my understanding of the system design was<br>\nflawed, so there is no bug and nothing to fix.</p>\n<blockquote>\n<p>Anyway, I have now tried it myself with zsh (from Mac Ports).  The shell<br>\nclearly reports:</p>\n<p>zsh: no matches found: -?</p>\n<p>The reading of this message should be obvious to seasoned users of the<br>\nshell.  And it also works directly when I pass \"-?\" for tool specific<br>\nhelp, with the literal quotes.</p>\n</blockquote>\n<p>I would not yet call myself a 'seasoned' user of zsh, but I did<br>\nunderstand the above meaning for the message.  I deeply regret not<br>\nsaying so in my initial email.  I got that error, and it did not<br>\nconfuse me: I mentioned it because the choice of \"-?\" caused different<br>\nbehaviors in different shells, and I thought that the developers might<br>\nlike to know this so that users could have a more uniform experience<br>\nacross systems.  I really expressed this poorly.</p>\n<p>But as we established above, \"-?\" does not actually have a<br>\ndistinguished status, so I can use any of the following, so long as<br>\nthere is no filename match:</p>\n<p>isabelle usedir \"-?\"<br>\n  isabelle usedir -h<br>\n  isabelle usedir --help<br>\n  isabelle usedir help<br>\n  isabelle usedir foobarbaz</p>",
        "id": 294129166,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842204
    },
    {
        "content": "<p>From: Timothy McKenzie &lt;<a href=\"mailto:tjm1983@gmail.com\">tjm1983@gmail.com</a>&gt;<br>\nIs guess this partly depends on what you mean by \"feature\", and <br>\nmore specifically, whether you consider error messages to be <br>\nordinary features.  It seems strange to me that you're inviting <br>\nusers to obtain usage information by provoking an error, rather <br>\nthan by invoking a help or usage option.  You said yourself that <br>\n\"There is no option for help or usage\".  I think this is what <br>\nseemed strange to Robert, too.</p>\n<p>Of course, it's not a big problem, because the usage information <br>\nis available, but it could easily confuse users who are not used <br>\nto having computer programs invite them to deliberately provoke <br>\nerrors.</p>\n<p>Tim<br>\n&lt;&gt;&lt;<br>\n<a href=\"/user_uploads/14278/aiAjWil7pvvJ9WTKb_xkdW5H/signature.asc\">signature.asc</a></p>",
        "id": 294129172,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842206
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nHello, Isabelle users,</p>\n<p>I am curious about converting .thy files to .tex files without running a<br>\nsession to verify the document (with Isabelle 2011).  Is this possible?  I<br>\nhave been looking at the documentation for 'isabelle make', 'isabelle<br>\nusedir', 'isabelle document', and 'isabelle latex', but I cannot conclude if<br>\nproducing LaTeX code depends on processing the documents, producing the<br>\nheap, and so on.  Clearly, running the following is sufficient to produce<br>\nthe .tex files.  What is necessary?</p>\n<p>isabelle usedir -D generated HOL Foo<br>\n&gt;</p>\n<p>As an aside, here is something I noticed about the behavior of the isabelle<br>\ncommand line tool.  I can work around it, I am just sharing it for your<br>\ninformation as a possible bug: typing 'isabelle' at a command prompt gives<br>\nusage information, and includes the message 'pass \"-?\" for tool specific<br>\nhelp.'  But if I type, say, 'isabelle usedir -?', it gives the following<br>\nmessage along with the expected usage info for usedir:</p>\n<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?<br>\n&gt;</p>\n<p>That is in bash.  In my favored shell, zsh, the shell gives an error because<br>\nit thinks the ? is a wildcard.</p>\n<p>Take care,<br>\nRobert</p>",
        "id": 294131354,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842930
    },
    {
        "content": "<p>From: Brian Huffman &lt;<a href=\"mailto:brianh@cs.pdx.edu\">brianh@cs.pdx.edu</a>&gt;<br>\nHi Robert,</p>\n<p>Due to the possibility of document antiquotations like @{thm foo},<br>\ngenerating the .tex file for a given .thy file is not trivial, and<br>\ndepends on having access to the current theory database. So you will<br>\nneed to run an Isabelle session.</p>\n<p>You can speed things up a bit by running Isabelle in \"skip proofs\"<br>\nmode. Try adding commands to set the following two references before<br>\n\"use_thys\" in ROOT.ML:</p>\n<p>quick_and_dirty := true;<br>\nToplevel.skip_proofs := true;<br>\nuse_thys [\"MyTheory\"];</p>\n<p>This will cut running time by a fair amount. I do not know whether<br>\nthere is a command-line option to do the same thing. (Although you can<br>\nmake a separate copy of ROOT.ML file and select it with a \"-f\"<br>\noption.)</p>\n<p>You can also save time by not saving a heap image. Run isabelle usedir<br>\nwithout the \"-b\" option (note that you may have to run \"isabelle<br>\nusedir\" from the parent directory for this to work).</p>\n<ul>\n<li>Brian</li>\n</ul>",
        "id": 294131370,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842937
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nHello Brian,</p>\n<p>Very interesting.  Thank you for your thoughts on the matter.</p>\n<p>As I think about it, the Isabelle session will also determine the<br>\ndependencies between theories, and thus the order that they will appear in<br>\nsession.tex.  I am not suprised to hear that the document preparation system<br>\nrelies heavily on the results of an Isabelle session; I suppose I was just<br>\nwriting in to confirm that this was the case.</p>\n<p>Robert</p>",
        "id": 294131486,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842967
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nI've seen this effect for the last time with tcsh, many many years ago.</p>\n<p>The usage message of the Isabelle scripts is correct in asking for \"-?\" <br>\nbut it depends on the context how you need to produce that externally. <br>\nHere the context is prose English, so I have some quotes around it.  Bash <br>\nwill accept it without quotes.  Other shells will have there own idea.</p>\n<p>Makarius</p>",
        "id": 294131519,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842985
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThe main idea behind the Isabelle document preparation system is to <br>\nproduce a pinted \"proof\" of your formal development, using standard <br>\ntypesetting technology.  This explains some biases towards properly <br>\nchecked sources, although there are numerous ways to print anything you <br>\nwant, rearrange the order of theories etc.  There are open-ended <br>\npossibilities that some users have turned this into an art in itself.</p>\n<p>There are alternative ways to make simple draft printouts of the sources, <br>\nnotable the 'display_drafs' command (the the isar-ref manual) or the <br>\nstandard File/Print operation of Isabelle/jEdit.  The latter works <br>\nsurpringly well together with the IsabelleText font.</p>\n<p>Makarius</p>",
        "id": 294131528,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660842991
    },
    {
        "content": "<p>From: Matthew Fernandez &lt;<a href=\"mailto:matthew.fernandez@nicta.com.au\">matthew.fernandez@nicta.com.au</a>&gt;<br>\n-\\? does the trick in zsh, Robert.</p>\n<p>Matthew.</p>\n<p>The information in this e-mail may be confidential and subject to legal professional privilege and/or copyright. National ICT Australia Limited accepts no liability for any damage caused by this email or its attachments.</p>",
        "id": 294131575,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843010
    },
    {
        "content": "<p>From: Lars Noschinski &lt;<a href=\"mailto:noschinl@in.tum.de\">noschinl@in.tum.de</a>&gt;<br>\nOn 13.02.2011 15:16, Makarius wrote:</p>\n<blockquote>\n<p>On Thu, 10 Feb 2011, Robert Lamar wrote:</p>\n<blockquote>\n<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?</p>\n<p>That is in bash. In my favored shell, zsh, the shell gives an error<br>\nbecause it thinks the ? is a wildcard.</p>\n</blockquote>\n</blockquote>\n<p>It is a wildcard, so you will get strange effects if you've got a file <br>\nnamed e.g. \"-b\" in your current directory ;)</p>\n<blockquote>\n<p>I've seen this effect for the last time with tcsh, many many years ago.</p>\n</blockquote>\n<p>I can reproduce this error message with bash 4.1.5(1); on a Debian <br>\nsystem. This is a warning output by getopts, as \"?\" is not in the list <br>\nof valid arguments (nor \":\" is given as first element in the optstring, <br>\nto enable silent error reporting).</p>\n<p>-- Lars</p>",
        "id": 294131635,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843032
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nBut you did get the usage, right?  The error is a known feature, because <br>\n\"?\" is not an option.</p>\n<p>Over many years Isabelle shell scripts have converged towards a certain <br>\nstandard form that minimizes various real problems, like spaces or unicode <br>\nin directory names.  It all has become surprisingly complex, and indeed <br>\nthe semantics of bash is very complicated.  Any adhoc changes in the <br>\nscripts to do not really make a fundamental difference are likely to <br>\nincrease the entropy.</p>\n<p>Generally, there is a tendency to reduce traditional shell exposure of <br>\nIsabelle more and more, as the Isabelle/Scala layer takes over the main <br>\nresponsibility of system integration.  (Many users on Mac OS X and Windows <br>\ndo not even know what a command-line based shell is and even failed to <br>\ndo the \"tar\" invokations on the download site.)</p>\n<p>Makarius</p>",
        "id": 294131645,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843034
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nThanks, but actually I realized that. (I had been getting around it by<br>\nusing double-quotes: \"-?\".)  I suppose that my point was, implicitly,<br>\nthat it might be better to use a character which is never used as a<br>\nwildcard.  For instance, '-h' is common for many commands in the Linux<br>\nuserspace.  I will acknowledge that if you are coming from the Windows<br>\ncommand shell, '-?' makes good sense.</p>\n<p>Alternatively, Isabelle could use a scheme like certain version<br>\ncontrol systems use: type \"isabelle help\" for general guidance and<br>\n\"isabelle help TOOL\" for guidance on the tool mentioned.  (Subversion<br>\nis an example of such a system.)</p>",
        "id": 294131672,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843045
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nOn Mon, Feb 14, 2011 at 10:11 AM, Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>On Mon, 14 Feb 2011, Christian Sternagel wrote:</p>\n<blockquote>\n<p>I think what Robert finds strange (and me too, by the way), is that even<br>\nif using an (due to the message) existing flag like \"-?\", Isabelle<br>\nproduces an error message before giving the usage information. Typing<br>\neither of</p>\n<p>isabelle usedir -?<br>\nisabelle usedir \"-?\"<br>\nisabelle usedir '-?'</p>\n<p>in bash, using Isabelle2011 (down to at least Isabelle2007), I always<br>\nget the error message \"illegal option -- ?\".</p>\n</blockquote>\n</blockquote>\n<p>This was exactly the point I was trying to bring up.</p>\n<blockquote>\n<p>But you did get the usage, right?  The error is a known feature, because<br>\n\"?\" is not an option.</p>\n</blockquote>\n<p>With all due respect, if 'isabelle' (without any arguments) tells me<br>\nthat I should add '-?' to a command to find out more, I should not get<br>\nan error message when I follow the instructions.  If usage info is a<br>\nfeature, the command-line option should exist.  Otherwise it is<br>\nconfusing, as a user.</p>\n<p>In the case of 'usedir', for instance, there is already a branch in<br>\nthe case statement.  If '\\?' was passed in as the value of '$OPT' on<br>\nline 95 of $ISABELLE_HOME/lib/Tools/usedir, it will be caught at line<br>\n171 and invoke the usage() function.  It looks to me that the<br>\nfollowing is sufficient to make the error message disappear (Thanks to<br>\nLars for pointing out that the error comes from getopts):</p>\n<p>--- lib/Tools/usedir.OLD        2011-02-14 15:17:05.000000000 +0000<br>\n+++ lib/Tools/usedir    2011-02-14 15:18:20.000000000 +0000<br>\n@@ -90,7 +90,7 @@<br>\n function getoptions()<br>\n {<br>\n   OPTIND=1</p>\n<ul>\n<li>while getopts \"C:D:M:P:T:V:bd:f:g:i:m<span aria-label=\"p\" class=\"emoji emoji-1f17f\" role=\"img\" title=\"p\">:p:</span>q:rs:t:v:\" OPT</li>\n<li>while getopts \"C:D:M:P:T:V:bd:f:g:i:m<span aria-label=\"p\" class=\"emoji emoji-1f17f\" role=\"img\" title=\"p\">:p:</span>q:rs:t:v:\\?\" OPT<br>\n   do<br>\n     case \"$OPT\" in<br>\n       C)</li>\n</ul>\n<p>Many of the other tool scripts are in the same state, while others<br>\n(dimacs2hol, doc, env, make, makeall, and unsymbolize) handle the '-?'<br>\noption properly.</p>\n<blockquote>\n<p>Over many years Isabelle shell scripts have converged towards a certain<br>\nstandard form that minimizes various real problems, like spaces or unicode<br>\nin directory names.  It all has become surprisingly complex, and indeed<br>\nthe semantics of bash is very complicated.  Any adhoc changes in the<br>\nscripts to do not really make a fundamental difference are likely to<br>\nincrease the entropy.</p>\n</blockquote>\n<p>I certainly understand that this is not an easy problem, and must be<br>\nsecondary to developments in more interesting proof assistant work.<br>\nHowever, I humbly suggest, as I wrote in reply to Matthew, that<br>\nchoosing an option like '-h' instead of '-?' might make the standard<br>\nform of expressions even more robust.  (Not to mention more consistent<br>\nwith typical Linux command-line options.)</p>\n<blockquote>\n<p>Generally, there is a tendency to reduce traditional shell exposure of<br>\nIsabelle more and more, as the Isabelle/Scala layer takes over the main<br>\nresponsibility of system integration.  (Many users on Mac OS X and Windows<br>\ndo not even know what a command-line based shell is and even failed to<br>\ndo the \"tar\" invokations on the download site.)</p>\n</blockquote>\n<p>If command line users are in the minority (and shrinking), then the<br>\nstatus quo is probably fine.  I can certainly use the software right<br>\nnow without too much trouble.  Thank you very much for your thoughts<br>\non the situation!</p>\n<p>-- Robert</p>",
        "id": 294131675,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843047
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nOn Mon, Feb 14, 2011 at 9:17 AM, Lars Noschinski &lt;<a href=\"mailto:noschinl@in.tum.de\">noschinl@in.tum.de</a>&gt; wrote:</p>\n<blockquote>\n<p>On 13.02.2011 15:16, Makarius wrote:</p>\n<blockquote>\n<p>On Thu, 10 Feb 2011, Robert Lamar wrote:</p>\n<blockquote>\n<p>/scratch/usr/Isabelle2011/lib/Tools/usedir: illegal option -- ?</p>\n<p>That is in bash. In my favored shell, zsh, the shell gives an error<br>\nbecause it thinks the ? is a wildcard.</p>\n</blockquote>\n</blockquote>\n<p>It is a wildcard, so you will get strange effects if you've got a file<br>\nnamed e.g. \"-b\" in your current directory ;)</p>\n</blockquote>\n<p>Indeed!  I was merely suggesting that it would be <em>even better</em> to use<br>\na character that is not a wildcard.  :c)  I propos '-h', as it does<br>\nnot seem to be used as an option by any of the tools.</p>\n<blockquote>\n<blockquote>\n<p>I've seen this effect for the last time with tcsh, many many years ago.</p>\n</blockquote>\n<p>I can reproduce this error message with bash 4.1.5(1); on a Debian<br>\nsystem. This is a warning output by getopts, as \"?\" is not in the list<br>\nof valid arguments (nor \":\" is given as first element in the optstring,<br>\nto enable silent error reporting).</p>\n</blockquote>\n<p>Very interesting.  I had not dug quite that deeply.  It looks to me<br>\nthat appending '\\?' to the lists of getopts options (for instance,<br>\nline 93 in lib/Tools/usedir) would make the error go away.  Can you<br>\nsee any problem with this?</p>",
        "id": 294131692,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843052
    },
    {
        "content": "<p>From: Robert Lamar &lt;<a href=\"mailto:rlamar@stetson.edu\">rlamar@stetson.edu</a>&gt;<br>\nThank you very much for these pointers. I will give them a closer look.</p>",
        "id": 294131709,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660843059
    }
]