[
    {
        "content": "<p>From: David Schneider &lt;<a href=\"mailto:david.f.schneider@gmail.com\">david.f.schneider@gmail.com</a>&gt;<br>\nI am having trouble installing Isabelle on Mac OS X (10.12). (It has been a<br>\nfew years since I last actually installed Isabelle.) I have tried Isabelle<br>\n2015, 2016-1, and 2017, all with no success. Upon starting the application,<br>\nIsabelle appears briefly in the dock and then just closes again.</p>\n<p>I am suspecting that this has something to do with the remark \"Note that<br>\nthe target directory needs to be writable when Isabelle is started for the<br>\nfirst time, to build the required logic image\" in the installation guide,<br>\nbut it is not clear to me what exactly this directory is.</p>\n<p>Any help is greatly appreciated.</p>\n<p>Best,<br>\nDavid</p>",
        "id": 294722419,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185285
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThat is only relevant for the Isabelle session build process, when the<br>\nmain application is already running.</p>\n<p>I guess this new note from our \"Installation\" page id relevant:</p>\n<p>Note: The Isabelle application lacks special certificates and<br>\nsignatures, so Apple tends to reject it by default. Running it for the<br>\nfirst time might require a right-click or control-click on the<br>\napplication icon to open it explicitly.</p>\n<p>Makarius</p>",
        "id": 294722425,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185290
    },
    {
        "content": "<p>From: David Schneider &lt;<a href=\"mailto:david.f.schneider@gmail.com\">david.f.schneider@gmail.com</a>&gt;<br>\nI've put the bundle into the Applications folder as described in the<br>\ninstallation notes. Hence, this directory should be writable.</p>\n<p>I am also not getting any notification that execution was blocked due the<br>\ndeveloper being unverified.</p>\n<p>As a little experiment, I tried starting the build process on the terminal<br>\nby calling ./bin/isabelle build -a. Interestingly, when doing this, I am<br>\ngetting errors that Scala methods are missing. For Isabelle2016-1, this is<br>\n  Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Predef$.ArrowAssoc(Ljava/lang/Object;)Ljava/lang/Object;</p>\n<p>For Isabelle2017, this is<br>\n  Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Product.$init$(Lscala/Product;)V</p>\n<p>I am not sure whether this is the actual problem or whether this just<br>\nhappens because the build process is not supposed to be called in this way.<br>\nThis looks like I might be running with an old version of the Scala<br>\nlibraries on the class path. However, I am not aware of any other Scala<br>\ninstallation on my machine (after having looked thoroughly).</p>\n<p>Best,<br>\nDavid</p>",
        "id": 294722453,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185300
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nIt should be definitely possible to run the Isabelle command-line tools<br>\nvia bin/isabelle from the app directory. In particular, it often makes<br>\nsense to run something like \"<a href=\"http://Isabelle2017.app/Isabelle/bin/isabelle\">Isabelle2017.app/Isabelle/bin/isabelle</a><br>\njedit\" with special options.</p>\n<p>The above class loader errors indicate a more fundamental problem. Here<br>\nare some guesses from a distance:</p>\n<p>* The download somehow went wrong and the jars are broken.</p>\n<p>* The target file-system is somehow odd, e.g. with encryption options<br>\nthat Java and/or Scala don't like.</p>\n<p>* Your process environment (e.g. .bashrc) provides JAVA_HOME and/or<br>\nSCALA_HOME that is incompatible with the Java and Scala included in the<br>\nIsabelle app. You can also try \"bin/isabelle getenv JAVA_HOME\" or the<br>\nsame with SCALA_HOME to investigate this.</p>\n<p>Makarius</p>",
        "id": 294722460,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185302
    },
    {
        "content": "<p>From: David Schneider &lt;<a href=\"mailto:david.f.schneider@gmail.com\">david.f.schneider@gmail.com</a>&gt;<br>\nI finally got around to investigating this further. However, I am<br>\nunfortunately still at a loss.</p>\n<p>2017-11-06 21:57 GMT+01:00 Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;:</p>\n<blockquote>\n<p>On 06/11/17 20:02, David Schneider wrote:</p>\n<blockquote>\n<p>As a little experiment, I tried starting the build process on the<br>\nterminal by calling ./bin/isabelle build -a. Interestingly, when doing<br>\nthis, I am getting errors that Scala methods are missing. For<br>\nIsabelle2016-1, this is<br>\n  Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Predef$.ArrowAssoc(Ljava/lang/Object;)Ljava/lang/Object;</p>\n<p>For Isabelle2017, this is<br>\n  Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Product.$init$(Lscala/Product;)V</p>\n<p>I am not sure whether this is the actual problem or whether this just<br>\nhappens because the build process is not supposed to be called in this<br>\nway. This looks like I might be running with an old version of the Scala<br>\nlibraries on the class path. However, I am not aware of any other Scala<br>\ninstallation on my machine (after having looked thoroughly).</p>\n</blockquote>\n<p>It should be definitely possible to run the Isabelle command-line tools<br>\nvia bin/isabelle from the app directory. In particular, it often makes<br>\nsense to run something like \"<a href=\"http://Isabelle2017.app/Isabelle/bin/isabelle\">Isabelle2017.app/Isabelle/bin/isabelle</a><br>\njedit\" with special options.</p>\n</blockquote>\n<p>I tried this out, but it also leads to the following error, which is<br>\nsimilar to those I encountered when running isabelle build:</p>\n<p>David:<a href=\"http://Isabelle2017.app\">Isabelle2017.app</a> david$ ./Isabelle/bin/isabelle jedit</p>\n<p>Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Predef$.augmentString(Ljava/lang/String;)Ljava/lang/String;</p>\n<p>at isabelle.GUI$.&lt;init&gt;(gui.scala:127)</p>\n<p>at isabelle.GUI$.&lt;clinit&gt;(gui.scala)</p>\n<p>at isabelle.Main$.main(main.scala:110)</p>\n<p>at isabelle.Main.main(main.scala)</p>\n<blockquote>\n<p>The above class loader errors indicate a more fundamental problem. Here<br>\nare some guesses from a distance:</p>\n<p>* The download somehow went wrong and the jars are broken.<br>\n</p>\n</blockquote>\n<p>Since I tried downloading the versions of Isabelle multiple times, both<br>\ntimes with no indications of any problems and both times giving the same<br>\nresults, I think I can rule out this possibility.</p>\n<blockquote>\n<p>* The target file-system is somehow odd, e.g. with encryption options<br>\nthat Java and/or Scala don't like.<br>\n</p>\n</blockquote>\n<p>I am using the standard APFS file system. In particular, I am not using<br>\nFileVault encryption. I also tried running Isabelle from external drives<br>\nusing HFS+ and FAT, both times with the same result. Hence, I think I can<br>\nalso conclude that this is not a problem of the file system.</p>\n<blockquote>\n<p>* Your process environment (e.g. .bashrc) provides JAVA_HOME and/or<br>\nSCALA_HOME that is incompatible with the Java and Scala included in the<br>\nIsabelle app. You can also try \"bin/isabelle getenv JAVA_HOME\" or the<br>\nsame with SCALA_HOME to investigate this.<br>\n</p>\n</blockquote>\n<p>Everything seems to be in order here as well. For Isabelle 2017, I get the<br>\nfollowing results:</p>\n<p>David:<a href=\"http://Isabelle2017.app\">Isabelle2017.app</a> david$ ./Isabelle/bin/isabelle getenv JAVA_HOME</p>\n<p>JAVA_HOME=/Applications/Isabelle2017.app/Contents/Resources/Isabelle2017/contrib/jdk/x86_64-darwin/Contents/Home/jre</p>\n<p>David:<a href=\"http://Isabelle2017.app\">Isabelle2017.app</a> david$ ./Isabelle/bin/isabelle getenv SCALA_HOME</p>\n<p>SCALA_HOME=/Applications/Isabelle2017.app/Contents/Resources/Isabelle2017/contrib/scala-2.12.3</p>\n<blockquote>\n<p>Makarius<br>\n</p>\n</blockquote>\n<p>In conclusion, I am still none the wiser what the problem actually is. This<br>\nis most frustrating. I'd be very grateful for any further ideas.</p>\n<p>Best,<br>\nDavid</p>",
        "id": 294722972,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185480
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn 15/11/17 16:16, David Schneider wrote:</p>\n<blockquote>\n<p>I finally got around to investigating this further. However, I am<br>\nunfortunately still at a loss.</p>\n<p>Everything seems to be in order here as well. For Isabelle 2017, I get<br>\nthe following results:</p>\n<p>David:<a href=\"http://Isabelle2017.app\">Isabelle2017.app</a> david$ ./Isabelle/bin/isabelle getenv JAVA_HOME</p>\n<p>JAVA_HOME=/Applications/Isabelle2017.app/Contents/Resources/Isabelle2017/contrib/jdk/x86_64-darwin/Contents/Home/jre</p>\n<p>David:<a href=\"http://Isabelle2017.app\">Isabelle2017.app</a> david$ ./Isabelle/bin/isabelle getenv SCALA_HOME</p>\n<p>SCALA_HOME=/Applications/Isabelle2017.app/Contents/Resources/Isabelle2017/contrib/scala-2.12.3</p>\n</blockquote>\n<p>Both of this looks OK.</p>\n<blockquote>\n<p>In conclusion, I am still none the wiser what the problem actually is.<br>\nThis is most frustrating. I'd be very grateful for any further ideas.</p>\n</blockquote>\n<p>Yet another idea: instead of using the official application bundle, run<br>\neverything from the repository. See the section \"Quick start in 30min\"<br>\nin<br>\n<a href=\"http://isabelle.in.tum.de/repos/isabelle/file/Isabelle2017/README_REPOSITORY\">http://isabelle.in.tum.de/repos/isabelle/file/Isabelle2017/README_REPOSITORY</a></p>\n<p>If you use \"hg clone -r Isabelle2017\" or after the clone \"hg up -r<br>\nIsabelle2017\", you get exactly to the official release with its add-on<br>\ncomponents. Otherwise you get an arbitrary version in the middle of<br>\nnowhere between releases.</p>\n<p>The remaining command sequence from README_REPOSITORY should all work,<br>\nalthough there can be confusion of command-line tools in rare cases<br>\n(official ones by Apple vs. other ones from MacPorts, Homebrew etc.).</p>\n<p>Makarius</p>",
        "id": 294722986,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185486
    },
    {
        "content": "<p>From: David Schneider &lt;<a href=\"mailto:david.f.schneider@gmail.com\">david.f.schneider@gmail.com</a>&gt;<br>\nI tried this out and ran the following:</p>\n<p>hg clone <a href=\"http://isabelle.in.tum.de/repos/isabelle\">http://isabelle.in.tum.de/repos/isabelle</a> -r Isabelle2017<br>\ncd isabelle<br>\n./bin/isabelle components -I<br>\n./bin/isabelle components -a<br>\n./bin/isabelle jedit -l HOL</p>\n<p>No luck, unfortunately. After building Isabelle/Scala and Isabelle/jEdit,<br>\nthis leads to the same error as before:</p>\n<p>Exception in thread \"main\" java.lang.NoSuchMethodError:<br>\nscala.Predef$.augmentString(Ljava/lang/String;)Ljava/lang/String;</p>\n<p>at isabelle.GUI$.&lt;init&gt;(gui.scala:127)</p>\n<p>at isabelle.GUI$.&lt;clinit&gt;(gui.scala)</p>\n<p>at isabelle.Main$.main(main.scala:110)</p>\n<p>at isabelle.Main.main(main.scala)</p>\n<p>The paths are now the following:</p>\n<p>SCALA_HOME=/Users/david/.isabelle/contrib/scala-2.12.3</p>\n<p>JAVA_HOME=/Users/david/.isabelle/contrib/jdk-8u144/<br>\nx86_64-darwin/Contents/Home/jre</p>\n<p>Best,<br>\nDavid</p>",
        "id": 294723007,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185499
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nCan you show me the result of this:</p>\n<p>./bin/isabelle getenv CLASSPATH ISABELLE_CLASSPATH</p>\n<p>Makarius</p>",
        "id": 294723041,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185511
    },
    {
        "content": "<p>From: David Schneider &lt;<a href=\"mailto:david.f.schneider@gmail.com\">david.f.schneider@gmail.com</a>&gt;<br>\nI was able to fix the problem now: In the process of trying to install the<br>\nright version of Scala on my machine, I found that SBT did not run either.<br>\nGoogling that particular error message pointed me to the fact that I had an<br>\nancient version of the Scala library (from 2012) in the Java extension<br>\ndirectory (/Library/Java/Extensions). After removing this library, Isabelle<br>\nnow runs perfectly fine. Apparently, the last version of Isabelle I<br>\ninstalled on the machine in question did not use Scala yet, which is why I<br>\ndid not encounter this problem before.</p>\n<p>Thanks a lot for the help!</p>\n<p>Best,<br>\nDavid</p>",
        "id": 294723212,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661185563
    }
]