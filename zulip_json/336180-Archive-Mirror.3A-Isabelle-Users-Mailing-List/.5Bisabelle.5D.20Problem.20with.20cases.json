[
    {
        "content": "<p>From: Peter Lammich &lt;<a href=\"mailto:peter.lammich@uni-muenster.de\">peter.lammich@uni-muenster.de</a>&gt;<br>\nI have the following problem with rule-setup for cases:</p>\n<p>I have the following lemma:<br>\nlemma HpreE[cases set, case_names nospawn spawn]:<br>\n  \"\\&lt;lbrakk&gt;<br>\n    h\\&lt;in&gt;Hpre;<br>\n    !!h1 lab t' h2. \\&lt;lbrakk&gt;h=h1@NNOSPAWN lab t'#h2; final h1; final<br>\nh2; final_t t'\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; P;<br>\n    !!h1 lab ts t' h2. \\&lt;lbrakk&gt; h=h1@NSPAWN lab ts t'#h2; final h1;<br>\nfinal h2; final_t ts; final_t t'\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; P<br>\n  \\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; P\"<br>\n  by (unfold Hpre_def) blast</p>\n<p>However, if I want  to use it with the cases method, it does not work:<br>\nlemma \"\\&lt;lbrakk&gt;h\\&lt;in&gt;Hpre; sched h ll\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; length<br>\nll = 1\"<br>\nproof (cases rule: HpreE)</p>\n<p>The goals here are the following, and the assumptions of the generated<br>\ncase_names are empty. However, I would have expected only two goals.<br>\ngoal (3 subgoals):</p>\n<ol>\n<li>\n<p>\\&lt;lbrakk&gt;h \\&lt;in&gt; Hpre; sched h ll\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; ?h<br>\n\\&lt;in&gt; Hpre</p>\n</li>\n<li>\n<p>\\&lt;And&gt;h1 lab t' h2. \\&lt;lbrakk&gt;h \\&lt;in&gt; Hpre; sched h ll; ?h = h1 @<br>\nNNOSPAWN lab t' # h2; final h1; final h2; final_t t'\\&lt;rbrakk&gt;<br>\n\\&lt;Longrightarrow&gt; length ll = 1</p>\n</li>\n<li>\n<p>\\&lt;And&gt;h1 lab ts t' h2. \\&lt;lbrakk&gt;h \\&lt;in&gt; Hpre; sched h ll; ?h = h1 @<br>\nNSPAWN lab ts t' # h2; final h1; final h2; final_t ts; final_t<br>\nt'\\&lt;rbrakk&gt; \\&lt;Longrightarrow&gt; length ll = 1</p>\n</li>\n</ol>\n<p>What is going wrong there ?</p>\n<p>Regards &amp; thanks in advance for any help<br>\n  Peter</p>",
        "id": 294070767,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660827088
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nYou need to use explicit forward chaining of the \"h\\&lt;in&gt;Hpre\" assumption <br>\nin the \"cases\" proof step.  I.e. like this:</p>\n<p>lemma<br>\n    assumes \"h\\&lt;in&gt;Hpre\"<br>\n    shows XXX<br>\n  using assms<br>\n  proof cases<br>\n    ...</p>\n<p>Also note that elimination rules like HpreE can be written conveniently <br>\nusing the 'obtains' format.  Try 'print_statement' on your rule to see the <br>\ngeneral layout.  You can also add case names in parentheses here, to avoid <br>\nslightly low-level attribute specification as above.</p>\n<p>Makarius</p>",
        "id": 294070785,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660827094
    }
]