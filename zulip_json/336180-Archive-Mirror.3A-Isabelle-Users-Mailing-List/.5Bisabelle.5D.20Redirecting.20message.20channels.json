[
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nSome Isabelle users have asked about redirecting the message channels to a <br>\nseparate file, e.g. to prevent Proof General from choking on massive <br>\namounts of trace output.</p>\n<p>The hooks for these message functions are in src/Pure/General/output.ML, <br>\ne.g. Output.tracing_fn for tracing.  In principle they can be changed <br>\narbitrarily, although Proof General needs some for internal control <br>\n(notably the \"error\" and \"priority\" channels).  Moreover, Proof General <br>\noutput will always be decorated according to the active print mode -- one <br>\nwould normally want to strip that for logging to a file.</p>\n<p>So the most basic Output.tracing_fn setup for the \"PGASCII\" mode of Proof <br>\nGeneral (the one that works with UTF-8, c.f. option -U) looks like this:</p>\n<p>val strip_specials =<br>\n  let<br>\n    fun strip (\"\\^A\" :: _ :: cs) = strip cs<br>\n      | strip (c :: cs) = c :: strip cs<br>\n      | strip [] = [];<br>\n  in implode o strip o explode end;</p>\n<p>fun redirect_tracing stream =<br>\n  Output.tracing_fn := (fn s =&gt;<br>\n    (TextIO.output (stream, (strip_specials s));<br>\n     TextIO.output (stream, \"\\n\");<br>\n     TextIO.flushOut stream));</p>\n<p>The next generation of Isabelle interfaces will cope with huge amounts of <br>\nmessages by default ...</p>\n<p>Makarius</p>",
        "id": 294065458,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660825279
    }
]