[
    {
        "content": "<p>From: Joachim Breitner &lt;<a href=\"mailto:breitner@kit.edu\">breitner@kit.edu</a>&gt;<br>\nDear List,</p>\n<p>in order to get a better handle on my formalizations I’d like to build<br>\nsome tools, similar to unused_thms, that can aid guide my reorganization<br>\nof lemmas and theories. The data I need for that are the theory graph<br>\nand the lemma dependencies.</p>\n<p>I found this code to extract the list of theorems used by a particular<br>\ntheorem:<br>\n<a href=\"https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2006-March/msg00091.html\">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2006-March/msg00091.html</a><br>\nwhich I adjusted to today’s definition of PThm.</p>\n<p>In that thread it is noted that \"-p 1\" has to be used. Is that<br>\ninformation still valid in 2014? I could not find a mention of this<br>\noption in the systems manual nor \"isabelle jedit --help\". Note that I do<br>\nnot care about the dependencies on lemmas in the underlying heap (if<br>\nthat makes a difference).</p>\n<p>It seems that adding<br>\n        ML \"Proofterm.proofs := 2\"<br>\nto the top of my developments makes the code above actually do something<br>\nuseful, but not \":= 1\", which I presume corresponds to what \"-p 1\" used<br>\nto be. Is this mode \"1\" still supported?</p>\n<p>Thanks,<br>\nJoachim<br>\n<a href=\"/user_uploads/14278/qTken0DovAl9Vy9RwHCMb9oD/signature.asc\">signature.asc</a></p>",
        "id": 294323934,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660927876
    },
    {
        "content": "<p>From: Lars Noschinski &lt;<a href=\"mailto:noschinl@in.tum.de\">noschinl@in.tum.de</a>&gt;<br>\nOn 18.12.2014 11:24, Joachim Breitner wrote:</p>\n<blockquote>\n<p>in order to get a better handle on my formalizations I’d like to build<br>\nsome tools, similar to unused_thms, that can aid guide my reorganization<br>\nof lemmas and theories. The data I need for that are the theory graph<br>\nand the lemma dependencies.</p>\n<p>I found this code to extract the list of theorems used by a particular<br>\ntheorem:<br>\n<a href=\"https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2006-March/msg00091.html\">https://lists.cam.ac.uk/pipermail/cl-isabelle-users/2006-March/msg00091.html</a><br>\nwhich I adjusted to today’s definition of PThm.</p>\n</blockquote>\n<p>There should be some newer code for that, written by Lukas Bulwahn and<br>\nRafal Kolanski about two years ago. IIRC it went into the Isabelle Cookbook.</p>\n<p>Have a look at the stuff around page 66 (in chapter 3.7 Theorems)<br>\nThere ought to be some newer code in the Isabelle Cookbook (generated<br>\nfrom changeset 8d30446d89f0).</p>\n<blockquote>\n<p>In that thread it is noted that \"-p 1\" has to be used. Is that<br>\ninformation still valid in 2014? I could not find a mention of this<br>\noption in the systems manual nor \"isabelle jedit --help\". Note that I do<br>\nnot care about the dependencies on lemmas in the underlying heap (if<br>\nthat makes a difference).</p>\n</blockquote>\n<p>As far as I understand, the default level of 0 already stores the<br>\nreferences to named theorems, so there should be no need to enable more<br>\ndetailed proof terms.</p>\n<p>-- Lars<br>\n<a href=\"/user_uploads/14278/ohkV5Q2iMwBZuNigrCtPDPJw/signature.asc\">signature.asc</a></p>",
        "id": 294323950,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660927882
    },
    {
        "content": "<p>From: Joachim Breitner &lt;<a href=\"mailto:breitner@kit.edu\">breitner@kit.edu</a>&gt;<br>\nHi Lars,</p>\n<p>Am Donnerstag, den 18.12.2014, 11:47 +0100 schrieb Lars Noschinski:</p>\n<blockquote>\n<p>On 18.12.2014 11:24, Joachim Breitner wrote:<br>\nThere should be some newer code for that, written by Lukas Bulwahn and<br>\nRafal Kolanski about two years ago. IIRC it went into the Isabelle Cookbook.</p>\n<p>Have a look at the stuff around page 66 (in chapter 3.7 Theorems)<br>\nThere ought to be some newer code in the Isabelle Cookbook (generated<br>\nfrom changeset 8d30446d89f0).</p>\n</blockquote>\n<p>thanks for the pointer. I often forget about the Cookboook. Is there a<br>\ngood reason it is not included with the other documentation that comes<br>\nwith Isabelle?</p>\n<p>Based on the information there I came up with this code that traverses<br>\nthe tree of used theorems, stopping at those that have a name:</p>\n<p>fun thms_used_by_thm thm =<br>\n  let<br>\n  fun used_by_proof_body (PBody {thms, ...}) = thms |&gt; map #2 |&gt; map go |&gt; List.concat<br>\n  and go (\"\", _, pbodyf) = pbodyf |&gt; Future.join |&gt; used_by_proof_body<br>\n    | go (s, _, _) = [s]<br>\n  in thm |&gt; Thm.proof_body_of |&gt; Proofterm.strip_thm |&gt; used_by_proof_body<br>\n  end;</p>\n<blockquote>\n<p>As far as I understand, the default level of 0 already stores the<br>\nreferences to named theorems, so there should be no need to enable more<br>\ndetailed proof terms.</p>\n</blockquote>\n<p>Indeed, thanks!</p>\n<p>Greetings,<br>\nJoachim<br>\n<a href=\"/user_uploads/14278/cNeclQODZ4iI_8E-aQSjuDSR/signature.asc\">signature.asc</a></p>",
        "id": 294323964,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660927888
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Thu, 18 Dec 2014, Joachim Breitner wrote:</p>\n<blockquote>\n<p>I often forget about the Cookboook. Is there a good reason it is not <br>\nincluded with the other documentation that comes with Isabelle?</p>\n</blockquote>\n<p>The Cookbook is generally lagging behind in accuracy and quality.  Many <br>\nthings in it have a point and many things are very odd or outright wrong. <br>\nI have pointed out small and big mistakes quite often in the past, but it <br>\ndid not improve much.  Moreover, Isabelle has changed quite substantially <br>\nsince the start of the Cookbook, but it did not catch up.</p>\n<blockquote>\n<p>Based on the information there I came up with this code that traverses<br>\nthe tree of used theorems, stopping at those that have a name:</p>\n<p>fun thms_used_by_thm thm =<br>\n let<br>\n fun used_by_proof_body (PBody {thms, ...}) = thms |&gt; map #2 |&gt; map go |&gt; List.concat<br>\n and go (\"\", _, pbodyf) = pbodyf |&gt; Future.join |&gt; used_by_proof_body<br>\n   | go (s, _, _) = [s]<br>\n in thm |&gt; Thm.proof_body_of |&gt; Proofterm.strip_thm |&gt; used_by_proof_body<br>\n end;</p>\n<blockquote>\n<p>As far as I understand, the default level of 0 already stores the <br>\nreferences to named theorems, so there should be no need to enable more <br>\ndetailed proof terms.</p>\n</blockquote>\n</blockquote>\n<p>PThm names are always stored since about 2008.  None of this really works, <br>\nthough.  Even 'unused_thms' remained unfinished over many years until <br>\ntoday, and has a bunch of conceptual problems.</p>\n<p>There is no point to make 2-3 half-working variants of something that <br>\nneeds to be done right once and for all.  Anything else is just a waste of <br>\ntime -- it actually prevents to get things right eventually.</p>\n<p>Makarius</p>\n<hr>\n<p><a href=\"http://stop-ttip.org\">http://stop-ttip.org</a>  1,169,875 people so far</p>\n<hr>",
        "id": 294323990,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660927895
    }
]