[
    {
        "content": "<p>From: Ognjen Maric &lt;<a href=\"mailto:ognjen.maric@gmail.com\">ognjen.maric@gmail.com</a>&gt;<br>\nHello all,</p>\n<p>I'm having some problems transferring heap images between different<br>\nmachines. My ROOT file looks like this:</p>\n<p>session Full_Ref = \"HOL\" +<br>\n  options [<br>\n    document = false]<br>\n  theories<br>\n    Full_Ref<br>\nsession Snippets = \"Full_Ref\" +<br>\n  options [<br>\n    document = \"pdf\",<br>\n    document_output = \"generated\"]<br>\n  theories<br>\n    Snippets<br>\n  files<br>\n    \"document/build\"</p>\n<p>On fast-machine, I build the heap using:</p>\n<p>isabelle build -b -d . -o threads=16 Full_Ref</p>\n<p>I can now copy the resulting heap image from<br>\nfast-machine:~user/.isabelle to the corresponding location on<br>\nslow-machine, and use it with:</p>\n<p>isabelle emacs -l Full_Ref Snippets.thy</p>\n<p>This works fine, so there should not be any problems with mismatched<br>\nPolyML versions or anything of the sort (I'm using the same release<br>\ntarball on both machines).</p>\n<p>However, trying either of:</p>\n<p>isabelle jedit -d . -l Full_Ref Snippets.thy</p>\n<p>or</p>\n<p>isabelle build -d . Snippets</p>\n<p>on slow-machine results in Isabelle trying to (re)build Full_Ref on<br>\nslow-machine, while it happily uses uses the generated heap if ran on on<br>\nfast-machine.</p>\n<p>Any help is appreciated.</p>\n<p>Thanks,<br>\nOgnjen</p>",
        "id": 294248448,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660909846
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Thu, 26 Sep 2013, Ognjen Maric wrote:</p>\n<blockquote>\n<p>I can now copy the resulting heap image from<br>\nfast-machine:~user/.isabelle to the corresponding location on<br>\nslow-machine</p>\n</blockquote>\n<p>How do you make the copy?  You need to preserve the modification time of <br>\nthe heap files here.</p>\n<blockquote>\n<p>, and use it with:</p>\n<p>isabelle emacs -l Full_Ref Snippets.thy</p>\n<p>This works fine, so there should not be any problems with mismatched<br>\nPolyML versions or anything of the sort (I'm using the same release<br>\ntarball on both machines).</p>\n<p>However, trying either of:</p>\n<p>isabelle jedit -d . -l Full_Ref Snippets.thy</p>\n<p>or</p>\n<p>isabelle build -d . Snippets</p>\n<p>on slow-machine results in Isabelle trying to (re)build Full_Ref on<br>\nslow-machine, while it happily uses uses the generated heap if ran on on<br>\nfast-machine.</p>\n</blockquote>\n<p>isabelle jedit and build check the sources according to SHA1 and the heaps <br>\naccording to size + modification time, and rebuild if anything has <br>\nchanged.</p>\n<p>The legacy mode of isabelle tty and emacs omits the integrity check, which <br>\nis why it happens to work by accident.</p>\n<p>Just out of curiosity: What is the fast and the slow machine like?  I have <br>\nrecently started to think again about reintroducing remote connection to <br>\nthe prover in Isabelle/Scala/jEdit, as was very common &gt; 10 years ago.</p>\n<p>The asymmetry of local vs. remote hardware is coming back ...</p>\n<p>Makarius</p>",
        "id": 294248462,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660909851
    },
    {
        "content": "<p>From: Ognjen Maric &lt;<a href=\"mailto:ognjen.maric@gmail.com\">ognjen.maric@gmail.com</a>&gt;<br>\nMistakingly took the reply off the list, posting back in case it's<br>\nuseful to somebody else.</p>\n<p>Thanks Makarius, this clears it up. I did not copy the log files.<br>\nAdditionally, while my Full_Ref images were the same, the HOL and Pure<br>\nimages on the two machines were different (the parent image fingerprint<br>\nis also present in the log file).</p>\n<p>Ognjen</p>",
        "id": 294248475,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660909857
    }
]