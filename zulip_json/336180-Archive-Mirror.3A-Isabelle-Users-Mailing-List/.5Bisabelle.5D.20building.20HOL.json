[
    {
        "content": "<p>From: Gergely Buday &lt;<a href=\"mailto:gbuday@gmail.com\">gbuday@gmail.com</a>&gt;<br>\nHi there,</p>\n<p>I've tried to build Pure and HOL with</p>\n<p>./build HOL</p>\n<p>but got the following with the new Poly/ML 5.3:</p>\n<p>val share_common_data = fn : unit -&gt; unit<br>\nError- in 'ML-Systems/polyml.ML', line 56.<br>\nType error in function application.<br>\n   Function: PolyML.Compiler.CPErrorMessageProc :<br>\n      (<br>\n      {hard: bool, context: pretty option, message: pretty, location: location}<br>\n      -&gt; unit) -&gt; Compiler.compilerParameters<br>\n   Argument: (put o message) : string * bool * int -&gt; unit<br>\n   Reason:<br>\n      Can't unify<br>\n      {hard: bool, context: pretty option, message: pretty, location: location}<br>\n      to string * bool * int (Different number of fields)<br>\nFound near<br>\n  [<br>\n     PolyML.Compiler.CPOutStream put,<br>\n     PolyML.Compiler.CPLineNo (fn () =&gt; ... ...),<br>\n     PolyML.Compiler.CPErrorMessageProc (put o message),<br>\n     PolyML.Compiler.CPNameSpace name_space<br>\n     ]</p>\n<p>What can I do to make it compile? Should I contact the Poly/ML list about this?</p>\n<p>The settings were</p>\n<p>ML_SYSTEM=polyml-5.3.0<br>\n  ML_HOME=/home/gbuday/usr/polyml/bin/bin<br>\n  ML_OPTIONS=-H 200<br>\n  ML_PLATFORM=x86-linux</p>\n<p>ISABELLE_USEDIR_OPTIONS=-M 1 -p 1 -v true -V outline=/proof,/ML<br>\n  HOL_USEDIR_OPTIONS=</p>\n<p>And this was a</p>\n<p>Red Hat Enterprise Linux AS release 4 (Nahant Update 3)</p>\n<p>With sml/nj I got</p>\n<p>Building HOL ...<br>\nExpected to find ML heap file<br>\n/home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/HOL.x86-linux<br>\nHOL FAILED<br>\n(see also /home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/log/HOL)</p>\n<p>*** &lt;instream&gt;:337.7-337.49 Warning: type vars not generalized because of<br>\n***    value restriction are instantiated to dummy types (X1,X2,...)<br>\n*** &lt;instream&gt;:350.34-350.78 Error: value type in structure doesn't<br>\nmatch signature spec<br>\n***     name: trans_tac<br>\n***   spec:   simpset -&gt; thm option -&gt; tactic<br>\n***   actual: ?.X1 -&gt; thm option -&gt; tactic<br>\n*** At command \"use\" (line 1521 of<br>\n\"/home/gbuday/src/Isabelle/Isabelle2009/src/HOL/Int.thy\").<br>\nError in ROOT.ML</p>\n<p>*** exception Fail raised: ML error</p>\n<p>make: *** [/home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/HOL]<br>\nError 1<br>\nFinished at Tue Nov 10 17:01:43 EET 2009<br>\n0:03:46 elapsed time, 0:03:39 cpu time, factor 0.96</p>\n<p>Do you see from this what the problem is?</p>\n<p>Best Wishes</p>\n<ul>\n<li>Gergely</li>\n</ul>",
        "id": 294091966,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660832162
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Tue, 10 Nov 2009, Gergely Buday wrote:</p>\n<blockquote>\n<p>I've tried to build Pure and HOL with</p>\n<p>./build HOL</p>\n<p>but got the following with the new Poly/ML 5.3:</p>\n<p>val share_common_data = fn : unit -&gt; unit<br>\nError- in 'ML-Systems/polyml.ML', line 56.<br>\nType error in function application.<br>\n  Function: PolyML.Compiler.CPErrorMessageProc :<br>\n     (<br>\n     {hard: bool, context: pretty option, message: pretty, location: location}<br>\n     -&gt; unit) -&gt; Compiler.compilerParameters<br>\n  Argument: (put o message) : string * bool * int -&gt; unit<br>\n  Reason:<br>\n     Can't unify<br>\n     {hard: bool, context: pretty option, message: pretty, location: location}<br>\n     to string * bool * int (Different number of fields)<br>\nFound near<br>\n [<br>\n    PolyML.Compiler.CPOutStream put,<br>\n    PolyML.Compiler.CPLineNo (fn () =&gt; ... ...),<br>\n    PolyML.Compiler.CPErrorMessageProc (put o message),<br>\n    PolyML.Compiler.CPNameSpace name_space<br>\n    ]</p>\n<p>What can I do to make it compile? Should I contact the Poly/ML list <br>\nabout this?</p>\n</blockquote>\n<p>Poly/ML 5.3 has just been released, and I am still in the process of <br>\nfine-tuning the setup for the <em>next</em> Isabelle release (which will come in <br>\na few weeks).</p>\n<p>Normally, we never backport the ML system compatibility layer to older <br>\nIsabelle versions, since there is hardly a real reasons other than having <br>\nalways the \"lastest\" things around.  While Poly/ML 5.3 introduces many <br>\nimportant improvements, Isabelle2009 does not make use of any of them, and <br>\nPoly/ML 5.2.1 is rock-solid.</p>\n<p>Isabelle2009 + Poly/ML 5.2.1 should work out of the box, if you download <br>\neverything from our site.  There is also a precompiled Isabelle/HOL image <br>\nfor that Poly/ML compilation.</p>\n<blockquote>\n<p>With sml/nj I got</p>\n<p>Building HOL ...<br>\nExpected to find ML heap file<br>\n/home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/HOL.x86-linux<br>\nHOL FAILED<br>\n(see also /home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/log/HOL)</p>\n<p>*** &lt;instream&gt;:337.7-337.49 Warning: type vars not generalized because of<br>\n***    value restriction are instantiated to dummy types (X1,X2,...)<br>\n*** &lt;instream&gt;:350.34-350.78 Error: value type in structure doesn't<br>\nmatch signature spec<br>\n***     name: trans_tac<br>\n***   spec:   simpset -&gt; thm option -&gt; tactic<br>\n***   actual: ?.X1 -&gt; thm option -&gt; tactic<br>\n*** At command \"use\" (line 1521 of<br>\n\"/home/gbuday/src/Isabelle/Isabelle2009/src/HOL/Int.thy\").<br>\nError in ROOT.ML</p>\n<p>*** exception Fail raised: ML error</p>\n<p>make: *** [/home/gbuday/src/Isabelle/Isabelle2009/heaps/smlnj-110_x86-linux/HOL]<br>\nError 1<br>\nFinished at Tue Nov 10 17:01:43 EET 2009<br>\n0:03:46 elapsed time, 0:03:39 cpu time, factor 0.96</p>\n<p>Do you see from this what the problem is?</p>\n</blockquote>\n<p>Normally, the official Isabelle releases should work with SML/NJ as well. <br>\nEither we failed to get it right for Isabelle2009, or there have been <br>\nrecent changes in SML/NJ that make it fail now.</p>\n<p>Unless you have some special needs to use SML/NJ, it is not really worth <br>\ninvesting more time here: it has become very slow due to the large heap <br>\nsize of main HOL.  Apart from that it can only use 1 CPU core.</p>\n<p>Makarius</p>",
        "id": 294092101,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660832179
    }
]