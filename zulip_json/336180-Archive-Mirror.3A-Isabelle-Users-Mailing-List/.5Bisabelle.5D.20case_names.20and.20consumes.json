[
    {
        "content": "<p>From: Lars Noschinski &lt;<a href=\"mailto:noschinl@in.tum.de\">noschinl@in.tum.de</a>&gt;<br>\nHello everyone,</p>\n<p>i've got a case rule which has the following form:</p>\n<p>lemma case_rule[consumes 2, case_names case1 case2]:<br>\n   assumes \"precond1\"<br>\n   assumes \"precond2\"<br>\n   assumes \"case1 ==&gt; Q\"<br>\n   assumes \"case2 ==&gt; Q\"<br>\n   shows \"Q\"<br>\n   sorry</p>\n<p>The first two assumptions are preconditions, so I'd like to have these <br>\ntwo consumed by cases.</p>\n<p>This works fine, if I'm really supplying two facts to the cases method:</p>\n<p>lemma<br>\n   assumes \"precond1\" and \"precond2\"<br>\n   shows Q<br>\nusing assms proof (cases rule: case_rule)<br>\nprint_cases<br>\n(* cases:</p>\n<p>*   case1:<br>\n  *     let \"?case\" = \"?Q\"<br>\n  *     assume \"case1\"<br>\n  *   case2:<br>\n  *     let \"?case\" = \"?Q\"<br>\n  *     assume \"case2\"<br>\n  *)<br>\noops</p>\n<p>but if I supply only one fact, cases consumes this fact without <br>\ncomplaining, but after that, the case names are wrong (in Isabelle <br>\n2009-2), because three goals instead of two remain:</p>\n<p>lemma<br>\n   assumes \"precond1\"<br>\n   shows Q<br>\nusing assms proof (cases rule: case_rule)<br>\nprint_cases<br>\n(* cases:</p>\n<p>*  case1:<br>\n  *     let \"?case\" = \"precond2\"<br>\n  *   case2:<br>\n  *     let \"?case\" = \"?Q\"<br>\n  *     assume \"case1\"<br>\n  *)<br>\noops</p>\n<p>This seems wrong to me as the isar reference manual specifies that the <br>\ncase names apply to the suffix of the list of premises (which works fine <br>\nif I don't specify consumes).</p>\n<p>Independent from that, I wonder why print_cases pretends that there is <br>\na ?case-binding which does not exist in reality, i.e.</p>\n<p>case case1 then show ?case ...</p>\n<p>fails because ?case is not bound. For a case distinction theorem like <br>\nthe above (but without consumes-declaration) such a binding would seem <br>\nquite useful to me.</p>\n<p>-- Lars<br>\n<a href=\"/user_uploads/14278/ckSZ_4soUvcOnfzCC0AxEnqN/test.thy\">test.thy</a></p>",
        "id": 294118539,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660839055
    }
]