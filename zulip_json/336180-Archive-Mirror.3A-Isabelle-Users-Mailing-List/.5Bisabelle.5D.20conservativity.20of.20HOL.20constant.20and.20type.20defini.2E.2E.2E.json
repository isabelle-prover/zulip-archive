[
    {
        "content": "<p>From: Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt;<br>\nSince the conservativity topic has been touched upon, I would like to summarize the situation in HOL as I understand it now, after our discussion.<br>\n(Myself, I am mainly interested in Isabelle/HOL, but this is an important related problem.)<br>\nPlease, correct me if and where I am wrong.</p>\n<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>\n(1.1) model-theoretic conservative w.r.t. standard (Pitts) models<br>\n(1.2) model-theoretic conservative w.r.t. Henkin models<br>\n(1.3) proof-theoretic conservative</p>\n<p>(2) The type definition mechanism is known to be:<br>\n(2.1) model-theoretic conservative w.r.t. standard models<br>\n(2.2) <em>not</em> model-theoretic conservative w.r.t. Henkin models (by an easy counterexample -- a Henkin model that does not have the right infrastructure to support a given typedef)</p>\n<p>Concerning proof-theoretic conservativity of type definitions: there does not exist any proof of this -- or does it? It certainly doesn't follow from (2.1).</p>\n<p>Best,<br>\n  Andrei</p>",
        "id": 294694899,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178119
    },
    {
        "content": "<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nAndrei,</p>\n<blockquote>\n<p>On 24 Oct 2016, at 19:16, Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt; wrote:</p>\n<p>Since the conservativity topic has been touched upon, I would like to summarize the situation in HOL as I understand it now, after our discussion.   <br>\n(Myself, I am mainly interested in Isabelle/HOL, but this is an important related problem.)   <br>\nPlease, correct me if and where I am wrong.</p>\n<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>\n(1.1) model-theoretic conservative w.r.t. standard (Pitts) models<br>\n(1.2) model-theoretic conservative w.r.t. Henkin models <br>\n(1.3) proof-theoretic conservative       </p>\n<p>(2) The type definition mechanism is known to be:    <br>\n(2.1) model-theoretic conservative w.r.t. standard models</p>\n</blockquote>\n<p>I agree with all of the above.</p>\n<blockquote>\n<p>(2.2) <em>not</em> model-theoretic conservative w.r.t. Henkin models (by an easy counterexample -- a Henkin model that does not have the right infrastructure to support a given typedef)</p>\n<p>I don't see how to construct a counterexample. Could you give some more details, please.</p>\n</blockquote>\n<blockquote>\n<p>Concerning proof-theoretic conservativity of type definitions: there does not exist any proof of this -- or does it? It certainly doesn't follow from (2.1). </p>\n</blockquote>\n<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>\nthen I don't think type definitions can be proof-theoretically conservative.</p>\n<p>I have had thoughts about how one might prove that type definitions<br>\nare conservative by using relativisation tricks like the ones that are<br>\nused to prove that Heyting arithmetic over finite types is conservative<br>\nover first-order Heyting arithmetic. I think this problem may well be<br>\nsensitive to the choice of non-logical axioms: e.g., it is possible that<br>\ntype definitions aren't conservative over an intuitionistic fragment of<br>\nHOL but are conservative over HOL with AC.</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294694952,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178125
    },
    {
        "content": "<p>From: Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt;<br>\nThey could. You can try to argue by \"unfolding\" the type definitions. <br>\nAgain, the model-theoretic conservativity is stronger than the <br>\nproof-theoretic in general. And here you don't have an existential <br>\nquantifier for type constructors so you can use the approach as you did <br>\nfor constants.</p>\n<p>Ondrej</p>",
        "id": 294694962,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178131
    },
    {
        "content": "<p>From: Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt;<br>\nshould have been: ... you cannot use the approach as you did<br>\nfor constants.</p>",
        "id": 294694977,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178137
    },
    {
        "content": "<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nOndrej,</p>\n<blockquote>\n<p>On 24 Oct 2016, at 20:32, Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt; wrote:</p>\n<p>On 10/24/2016 09:16 PM, Rob Arthan wrote:</p>\n<blockquote>\n<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>\nthen I don't think type definitions can be proof-theoretically conservative.<br>\nI made that sound too strong: I was just making a conjecture: for \"think\" read \"feel\".</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>They could. You can try to argue by \"unfolding\" the type definitions.</p>\n</blockquote>\n<p>\"Unfolding\" of types is exactly what I had in mind when I mentioned<br>\nthe methods used in connect with Heyting arithmetic. </p>\n<blockquote>\n<p>Again, the model-theoretic conservativity is stronger than the proof-theoretic in general. And here you don't have an existential quantifier for type constructors so you [can't] use the approach as you did for constants.</p>\n</blockquote>\n<p>Yes, but if the unfolding approach works, you would have reduced the<br>\nessential properties of the type definition to a statement about the existence<br>\nof a certain subset of the representation type bearing a relationship with some<br>\nsiubsets of the parameter types and you would then be able to deduce<br>\nmodel-theoretic conservativeness. That's why I felt, that if Andrei is right that<br>\nthe type definition principle is not model-theoretically conservative w.r.t.<br>\nHenkin models (his point (2.2)), then it won't be proof-theoretically conservative<br>\neither, because the unfolding argument must break down somewhere.<br>\nIt would be very useful to see an example of a type definition that is not<br>\nconservative w.r.t. Henkin models.</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294696171,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178147
    },
    {
        "content": "<p>From: Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt;<br>\nI think Andrei wanted to point out that a Henkin model doesn't have to <br>\ncontain all the subsets and this would prevent us to extend the model to <br>\na model of the theory in which typedef was done for one of the missing <br>\nsubsets. But I guess you are saying that the model should include at <br>\nleast those subsets that are definable by a formula.</p>\n<p>Or have I misunderstood something?</p>\n<p>Ondrej</p>",
        "id": 294696174,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178149
    },
    {
        "content": "<p>From: Andrei Popescu &lt;<a href=\"mailto:A.Popescu@mdx.ac.uk\">A.Popescu@mdx.ac.uk</a>&gt;<br>\nThe counterexample I had in mind is due to Makarius Wenzel (<a href=\"https://www4.in.tum.de/~wenzelm/papers/axclass-TPHOLs97.pdf\">https://www4.in.tum.de/~wenzelm/papers/axclass-TPHOLs97.pdf</a>, page 8): The theory T containing the single HOL formula \"no type has cardinal 3\" has a Henkin model M; yet, M has no expansion to the theory T extended with the definition of the type {1,2,3}. But actually this extension is not proof-theoretically conservative either (as it even breaks consistency) ...</p>\n<p>In fact, now I see that I have not clearly spelled out all the assumptions of the statements in my summary. So let me try again, also factoring in the base (i.e., to-be-extended)  theory:</p>\n<p>(1) The constant definition mechanisms (including the more general ones) are known to be:<br>\n(1.1) model-theoretic conservative w.r.t. standard (Pitts) models and arbitrary base theories<br>\n(1.2) model-theoretic conservative w.r.t. Henkin models and arbitrary base theories<br>\n(1.3) proof-theoretic conservative and arbitrary base theories</p>\n<p>(2) The type definition mechanism is known to be:<br>\n(2.1) model-theoretic conservative w.r.t. standard models and arbitrary(?) base theories</p>\n<p>and known <em>not</em> to be:<br>\n(2.2) model-theoretic conservative w.r.t. Henkin models and arbitrary base theories<br>\n(2.3) proof-theoretic conservative w.r.t. Henkin models and arbitrary base theories</p>\n<p>On the other hand, it is of course legitimate to lower the expectation for typedefs, so we could ask what happens with (2.2) and (2.3) if we restrict to base theories that are themselves definitional. Here, the above counterexample does not work. And yes, Rob, without being able to follow your Heyting arithmetic analogy, I do see the similarity between a possible semantic proof of definitional-base-(2.2) and a possible syntactic proof of definitional-base-(2.3) (both revolving around the notion of relativization to sets).</p>\n<p>But I am surprised that a lot of attention has been given to the conservativity of constant definitions/specifications, but not to that of the old and venerable typedef.</p>\n<p>Best,<br>\n Andrei</p>\n<hr>\n<p>From: Rob Arthan &lt;<a href=\"mailto:rda@lemma-one.com\">rda@lemma-one.com</a>&gt;<br>\nSent: 24 October 2016 21:37<br>\nTo: Ondřej Kunčar<br>\nCc: Andrei Popescu; Prof. Andrew M. Pitts; Prof. Thomas F. Melham; <a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>; Roger Bishop Jones; Prof. Peter B. Andrews; HOL-info list<br>\nSubject: Re: conservativity of HOL constant and type definitions</p>\n<p>Ondrej,</p>\n<blockquote>\n<p>On 24 Oct 2016, at 20:32, Ondřej Kunčar &lt;<a href=\"mailto:kuncar@in.tum.de\">kuncar@in.tum.de</a>&gt; wrote:</p>\n<p>On 10/24/2016 09:16 PM, Rob Arthan wrote:</p>\n<blockquote>\n<p>I am pretty sure nothing has been published and, if you are right about (2.2),<br>\nthen I don't think type definitions can be proof-theoretically conservative.<br>\nI made that sound too strong: I was just making a conjecture: for \"think\" read \"feel\".</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>They could. You can try to argue by \"unfolding\" the type definitions.</p>\n</blockquote>\n<p>\"Unfolding\" of types is exactly what I had in mind when I mentioned<br>\nthe methods used in connect with Heyting arithmetic.</p>\n<blockquote>\n<p>Again, the model-theoretic conservativity is stronger than the proof-theoretic in general. And here you don't have an existential quantifier for type constructors so you [can't] use the approach as you did for constants.</p>\n</blockquote>\n<p>Yes, but if the unfolding approach works, you would have reduced the<br>\nessential properties of the type definition to a statement about the existence<br>\nof a certain subset of the representation type bearing a relationship with some<br>\nsiubsets of the parameter types and you would then be able to deduce<br>\nmodel-theoretic conservativeness. That's why I felt, that if Andrei is right that<br>\nthe type definition principle is not model-theoretically conservative w.r.t.<br>\nHenkin models (his point (2.2)), then it won't be proof-theoretically conservative<br>\neither, because the unfolding argument must break down somewhere.<br>\nIt would be very useful to see an example of a type definition that is not<br>\nconservative w.r.t. Henkin models.</p>\n<p>Regards,</p>\n<p>Rob.</p>",
        "id": 294696186,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661178156
    }
]