[
    {
        "content": "<p>From: Christian Sternagel &lt;<a href=\"mailto:c-sterna@jaist.ac.jp\">c-sterna@jaist.ac.jp</a>&gt;<br>\nDear All,</p>\n<p>recently (after setting up a new machine) I get the error message <br>\n\"Unable to load header\" when trying to use the code generator on a <br>\npreviously built heap image.</p>\n<p>In the archives of the mailing list I found out that this problem <br>\nalready occurred earlier... but I did not find an answer.</p>\n<p>I create the heap image by:</p>\n<p>$ /usr/local/Isabelle2011-1/bin/isabelle usedir -C false -D generated <br>\n-s Name Underlying-Heap-Image .</p>\n<p>and then try to generate code via:</p>\n<p>/usr/local/Isabelle2011-1/bin/isabelle codegen Name Theory \\<br>\n   'some-function in Haskell module_name Some-Module file <br>\n\"generated/Haskell/\"'</p>\n<p>But this command results in</p>\n<blockquote>\n<p>Unable to load header: <br>\n$HOME/.isabelle/Isabelle2011-1/heaps/polyml-5.4.0_x86_64-linux/Name</p>\n</blockquote>\n<p>Any help is welcome ;)</p>\n<p>Details:<br>\n$ isabelle version<br>\nIsabelle2011-1: October 2011</p>\n<p>$ isabelle tty</p>\n<blockquote>\n<p>val it = (): unit<br>\nval commit = fn: unit -&gt; bool<br>\nWelcome to Isabelle/HOL (Isabelle2011-1: October 2011)</p>\n</blockquote>\n<p>x86_64-linux (Fedora 16)</p>\n<p>ISABELLE_USEDIR_OPTIONS=-M 2 -q 2</p>\n<p>ML_PLATFORM=x86_64-linux<br>\nML_HOME=/usr/local/Isabelle2011-1/contrib/polyml/x86_64-linux<br>\nML_SYSTEM=polyml-5.4.0<br>\nML_OPTIONS=-H 400</p>\n<p>thanks in advance</p>\n<p>chris</p>",
        "id": 294150210,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660849042
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Thu, 19 Jan 2012, Christian Sternagel wrote:</p>\n<blockquote>\n<blockquote>\n<p>Unable to load header: <br>\n$HOME/.isabelle/Isabelle2011-1/heaps/polyml-5.4.0_x86_64-linux/Name</p>\n</blockquote>\n</blockquote>\n<p>This is the Poly/ML runtime system complaining about the heap image. <br>\nI've seen this occasionally -- it means that the writing of the heap image <br>\nleft it somehow in a bad state.  It is particulary frequent on x86-cygwin <br>\nwith big heaps and little memory.</p>\n<blockquote>\n<p>$ isabelle version<br>\nIsabelle2011-1: October 2011</p>\n<p>$ isabelle tty</p>\n<blockquote>\n<p>val it = (): unit<br>\nval commit = fn: unit -&gt; bool<br>\nWelcome to Isabelle/HOL (Isabelle2011-1: October 2011)</p>\n</blockquote>\n<p>x86_64-linux (Fedora 16)</p>\n<p>ISABELLE_USEDIR_OPTIONS=-M 2 -q 2</p>\n<p>ML_PLATFORM=x86_64-linux<br>\nML_HOME=/usr/local/Isabelle2011-1/contrib/polyml/x86_64-linux<br>\nML_SYSTEM=polyml-5.4.0<br>\nML_OPTIONS=-H 400</p>\n</blockquote>\n<p>It sometimes helps to tweak the initial heap size, say -H 800 or -H 2000.</p>\n<p>You can also try the current polyml-5.4.1, which is packaged in the <br>\nIsabelle way in <a href=\"http://www4.in.tum.de/~wenzelm/test/polyml-5.4.1.tar.gz\">http://www4.in.tum.de/~wenzelm/test/polyml-5.4.1.tar.gz</a> -- <br>\nDavid Matthews made many improvements in the heap management between 5.4.0 <br>\nand 5.4.1.</p>\n<p>If the problem persists and is clearly reproducible we should tell David <br>\nMatthews about it.</p>\n<p>Makarius</p>",
        "id": 294150257,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660849058
    },
    {
        "content": "<p>From: Christian Sternagel &lt;<a href=\"mailto:c-sterna@jaist.ac.jp\">c-sterna@jaist.ac.jp</a>&gt;<br>\nHi all,</p>\n<p>Just for the protocol: it turned out that I walked right into my own <br>\ntrap. The error was just due to my own stupidity, but is funny enough to <br>\nshare ...</p>\n<p>The trouble started by reusing a very old IsaMakefile without really <br>\nreconsidering what it was meant for. Furthermore, the line below was not <br>\nthe whole \"truth\".</p>\n<blockquote>\n<p>/usr/local/Isabelle2011-1/bin/isabelle usedir -C false -D generated -s<br>\nName Underlying-Heap-Image .</p>\n</blockquote>\n<p>The next line of my IsaMakefile was</p>\n<p>touch $(ISABELLE_OUTPUT)/Name</p>\n<p>So the first line (just meant for document generation) does not build a <br>\nheap file at all. And the second line creates an empty \"heap image\" <br>\n(please don't ask me, why on earth this line was contained in my old <br>\nIsaMakefile!). No wonder that the header could not be read :D.</p>\n<p>Somehow I'm often blind to my own errors... those made by others are <br>\nmuch easier to detect ;)</p>\n<p>Sorry for wasting your time.</p>\n<p>christian</p>\n<p>PS: This is an example how trying to present a problem \"nicely\" can <br>\ncompletely obfuscate the real cause.</p>",
        "id": 294150309,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660849076
    }
]