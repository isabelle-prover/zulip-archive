[
    {
        "content": "<p>From: Peter Lammich &lt;<a href=\"mailto:lammich@in.tum.de\">lammich@in.tum.de</a>&gt;<br>\nHi,</p>\n<p>resolution (i.e. apply (rule x)) seems to sometimes introduce seemingly<br>\narbitrary eta-expansions into the result. In my case, these will then<br>\nconfuse subsequent tactics that depend on the term syntax.</p>\n<p>Questions: </p>\n<ol>\n<li>\n<p>Do I always have to assume that resolution introduces eta-<br>\ncontractions? </p>\n</li>\n<li>\n<p>Are there conventions like <br>\n\"all tactics should work independently of eta-expansions in the goal\",<br>\nand in consequence, \"all tactics may arbitrarily eta-expand or contract<br>\nthe goal\"?</p>\n</li>\n<li>\n<p>Is there an easier way to get rid of eta-expansions, other than<br>\nusing \"tactic ‹PRIMITIVE (Conv.fconv_rule Thm.eta_conversion)›\" after<br>\neach resolution/before each tactic that depends on the term syntax?</p>\n</li>\n</ol>",
        "id": 294829757,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246074
    },
    {
        "content": "<p>From: Jasmin Blanchette via Cl-isabelle-users &lt;<a href=\"mailto:cl-isabelle-users@lists.cam.ac.uk\">cl-isabelle-users@lists.cam.ac.uk</a>&gt;<br>\nHi Peter,</p>\n<blockquote>\n<p>Questions: <br>\n1. Do I always have to assume that resolution introduces eta-<br>\ncontractions [read: expansions]?</p>\n</blockquote>\n<p>I believe this originates from the higher-order unification algorithm. See e.g.</p>\n<p><a href=\"https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2011-August/msg00089.html\">https://lists.cam.ac.uk/mailman/htdig/cl-isabelle-users/2011-August/msg00089.html</a></p>\n<blockquote>\n<ol start=\"2\">\n<li>Are there conventions like <br>\n\"all tactics should work independently of eta-expansions in the goal\",</li>\n</ol>\n</blockquote>\n<p>If there is such a convention, it is more honored in the breach than in the observance. The above link (and a moment's thought) reveals that \"simp\" violates it. So does, incidentally, the \"tactic that depends on the term syntax\" you describe below.</p>\n<blockquote>\n<p>and in consequence, \"all tactics may arbitrarily eta-expand or contract<br>\nthe goal\"?</p>\n</blockquote>\n<p>Not \"in consequence\", but \"in practice\" I guess they do, for some definition of \"arbitrarily\".</p>\n<blockquote>\n<ol start=\"3\">\n<li>Is there an easier way to get rid of eta-expansions, other than<br>\nusing \"tactic ‹PRIMITIVE (Conv.fconv_rule Thm.eta_conversion)›\" after<br>\neach resolution/before each tactic that depends on the term syntax?</li>\n</ol>\n</blockquote>\n<p>That's what I would do if the tactic works well on eta-reduced terms. (Or I'd introduce some proof method if \"tactic ‹PRIMITIVE ...›\" is something you have to write often in Isar.)</p>\n<p>Isabelle's limitations in this respect seem hard to avoid. Even provers like Coq and Lean that work up to computation (including beta-eta-conversion) have tactics like \"simp\" that inspect the term structure and that behave differently (up to beta-eta-equivalence classes) on different beta-eta-representatives.</p>\n<p>Nonetheless, better documentation of the status quo could help, and at the cost of some complications (and the risk of introducing bugs and for sure incompatibilities), unification could in principle be changed so that it doesn't eta-expand.</p>\n<p>Cheers,</p>\n<p>Jasmin</p>",
        "id": 294829765,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246080
    },
    {
        "content": "<p>From: Lawrence Paulson &lt;<a href=\"mailto:lp15@cam.ac.uk\">lp15@cam.ac.uk</a>&gt;<br>\nThe basic higher-order unification search process expects fully expanded terms, a form it maintains as it traverses the two structures. Since resolution is still one of the most heavily used proof methods, contracting after each resolution step would degrade performance significantly.</p>\n<p>Larry</p>",
        "id": 294829771,
        "sender_full_name": "Email Gateway",
        "timestamp": 1661246086
    }
]