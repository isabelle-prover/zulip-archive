[
    {
        "content": "<p>From: Gerwin Klein &lt;<a href=\"mailto:gerwin.klein@nicta.com.au\">gerwin.klein@nicta.com.au</a>&gt;<br>\nThe skip_proofs option seems to clash with something in Isabelle2012. I'm getting \"Messed-up outer syntax for presentation\".</p>\n<p>Initially I thought this may be a PG problem, but it's not. I tried the following on the tty level:</p>\n<p>serenity:~ kleing$ /Applications/Isabelle2012.app/Isabelle/bin/isabelle tty</p>\n<blockquote>\n<p>val it = (): unit<br>\nval commit = fn: unit -&gt; bool<br>\nWelcome to Isabelle/HOL (Isabelle2012: May 2012)<br>\ntheory X imports Main begin<br>\ntheory X<br>\nML \"quick_and_dirty := true\";             <br>\nval it = (): unit</p>\n</blockquote>\n<blockquote>\n<p>ML \"Toplevel.skip_proofs := true\";<br>\nval it = (): unit</p>\n</blockquote>\n<blockquote>\n<p>end;<br>\ntheory A imports \"~~/src/HOL/Library/List_Prefix\" begin<br>\nLoading theory \"List_Prefix\"<br>\n*** Messed-up outer syntax for presentation<br>\n*** At command \"theory\"</p>\n</blockquote>\n<p>I'm only seeing the error when I refer to paths explicitly in the import section and Isabelle actually resolves that path. That is, if I manually (in skip_proof mode) step through List_Prefix first and the theory is loaded, the import works fine. (That defeats the purpose of skip_proof mode, of course, because I'm trying to avoid stepping through 30 files and waiting for an hour).</p>\n<p>Any ideas?</p>\n<p>Cheers,<br>\nGerwin</p>",
        "id": 294217467,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660895672
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nThe above should work if you include this as well:</p>\n<p>ML \"Goal.parallel_proofs := 0;\"</p>\n<p>I can't say on the spot what is the reason for this behaviour.  A bit too <br>\nmany features have accumulated in the system, and everytime I pass by that <br>\npart of the Isar toplevel, I wonder which combinations of the various <br>\nflags actually work.</p>\n<p>In the longer run, quick_and_dirty, 'sorry', skip_proofs and forked proofs <br>\nshould be all unified to forked proofs.</p>\n<p>Makarius</p>",
        "id": 294217701,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660895806
    },
    {
        "content": "<p>From: Gerwin Klein &lt;<a href=\"mailto:gerwin.klein@nicta.com.au\">gerwin.klein@nicta.com.au</a>&gt;<br>\nOn 27/07/2012, at 4:34 AM, Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt; wrote:</p>\n<blockquote>\n<p>On Thu, 26 Jul 2012, Gerwin Klein wrote:</p>\n<blockquote>\n<p>The skip_proofs option seems to clash with something in Isabelle2012. I'm getting \"Messed-up outer syntax for presentation\".</p>\n<p>Initially I thought this may be a PG problem, but it's not. I tried the following on the tty level:</p>\n<p>serenity:~ kleing$ /Applications/Isabelle2012.app/Isabelle/bin/isabelle tty</p>\n<blockquote>\n<p>val it = (): unit<br>\nval commit = fn: unit -&gt; bool<br>\nWelcome to Isabelle/HOL (Isabelle2012: May 2012)<br>\ntheory X imports Main begin<br>\ntheory X<br>\nML \"quick_and_dirty := true\";<br>\nval it = (): unit</p>\n</blockquote>\n<blockquote>\n<p>ML \"Toplevel.skip_proofs := true\";<br>\nval it = (): unit</p>\n</blockquote>\n<blockquote>\n<p>end;<br>\ntheory A imports \"~~/src/HOL/Library/List_Prefix\" begin<br>\nLoading theory \"List_Prefix\"<br>\n*** Messed-up outer syntax for presentation<br>\n*** At command \"theory\"</p>\n</blockquote>\n</blockquote>\n<p>The above should work if you include this as well:</p>\n<p>ML \"Goal.parallel_proofs := 0;\"</p>\n</blockquote>\n<p>Thanks, I can confirm that this works on our side.</p>\n<blockquote>\n<p>I can't say on the spot what is the reason for this behaviour.  A bit too many features have accumulated in the system, and everytime I pass by that part of the Isar toplevel, I wonder which combinations of the various flags actually work.</p>\n</blockquote>\n<p>I had a brief look at that code before I wrote the message and gave up, yes :-)</p>\n<blockquote>\n<p>In the longer run, quick_and_dirty, 'sorry', skip_proofs and forked proofs should be all unified to forked proofs.</p>\n</blockquote>\n<p>That sounds reasonable.</p>\n<p>Cheers,<br>\nGerwin</p>",
        "id": 294217788,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660895855
    },
    {
        "content": "<p>From: Makarius &lt;<a href=\"mailto:makarius@sketis.net\">makarius@sketis.net</a>&gt;<br>\nOn Fri, 27 Jul 2012, Gerwin Klein wrote:</p>\n<blockquote>\n<blockquote>\n<p>The above should work if you include this as well:</p>\n<p>ML \"Goal.parallel_proofs := 0;\"</p>\n</blockquote>\n<p>Thanks, I can confirm that this works on our side.</p>\n<blockquote>\n<p>I can't say on the spot what is the reason for this behaviour.  A bit <br>\ntoo many features have accumulated in the system, and everytime I pass <br>\nby that part of the Isar toplevel, I wonder which combinations of the <br>\nvarious flags actually work.</p>\n</blockquote>\n<p>I had a brief look at that code before I wrote the message and gave up, <br>\nyes :-)</p>\n</blockquote>\n<p>Included is a changeset exported from the Isabelle repository that also <br>\nhappens to work with Isabelle2012.  I can't say that it fixes the problem, <br>\nbecause skip_proofs has never worked reliably in its history.  It produces <br>\nan invalid Isar toplevel state that makes many tools crash on it.</p>\n<p>More substantial reforms are required ...</p>\n<blockquote>\n<blockquote>\n<p>In the longer run, quick_and_dirty, 'sorry', skip_proofs and forked <br>\nproofs should be all unified to forked proofs.</p>\n</blockquote>\n</blockquote>\n<p>Makarius<br>\n<a href=\"/user_uploads/14278/GfUA_c0wYtPcU3nJyMoHqt0V/skip_proofs\">skip_proofs</a></p>",
        "id": 294219871,
        "sender_full_name": "Email Gateway",
        "timestamp": 1660896880
    }
]